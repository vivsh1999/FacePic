var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb2, mod) => function __require() {
  return mod || (0, cb2[__getOwnPropNames(cb2)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// .wrangler/tmp/bundle-KuYVt0/checked-fetch.js
function checkURL(request, init) {
  const url = request instanceof URL ? request : new URL(
    (typeof request === "string" ? new Request(request, init) : request).url
  );
  if (url.port && url.port !== "443" && url.protocol === "https:") {
    if (!urls.has(url.toString())) {
      urls.add(url.toString());
      console.warn(
        `WARNING: known issue with \`fetch()\` requests to custom HTTPS ports in published Workers:
 - ${url.toString()} - the custom port will be ignored when the Worker is published using the \`wrangler deploy\` command.
`
      );
    }
  }
}
var urls;
var init_checked_fetch = __esm({
  ".wrangler/tmp/bundle-KuYVt0/checked-fetch.js"() {
    urls = /* @__PURE__ */ new Set();
    __name(checkURL, "checkURL");
    globalThis.fetch = new Proxy(globalThis.fetch, {
      apply(target, thisArg, argArray) {
        const [request, init] = argArray;
        checkURL(request, init);
        return Reflect.apply(target, thisArg, argArray);
      }
    });
  }
});

// .wrangler/tmp/bundle-KuYVt0/strip-cf-connecting-ip-header.js
function stripCfConnectingIPHeader(input, init) {
  const request = new Request(input, init);
  request.headers.delete("CF-Connecting-IP");
  return request;
}
var init_strip_cf_connecting_ip_header = __esm({
  ".wrangler/tmp/bundle-KuYVt0/strip-cf-connecting-ip-header.js"() {
    __name(stripCfConnectingIPHeader, "stripCfConnectingIPHeader");
    globalThis.fetch = new Proxy(globalThis.fetch, {
      apply(target, thisArg, argArray) {
        return Reflect.apply(target, thisArg, [
          stripCfConnectingIPHeader.apply(null, argArray)
        ]);
      }
    });
  }
});

// wrangler-modules-watch:wrangler:modules-watch
var init_wrangler_modules_watch = __esm({
  "wrangler-modules-watch:wrangler:modules-watch"() {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
  }
});

// node_modules/wrangler/templates/modules-watch-stub.js
var init_modules_watch_stub = __esm({
  "node_modules/wrangler/templates/modules-watch-stub.js"() {
    init_wrangler_modules_watch();
  }
});

// node_modules/mongoose/dist/browser.umd.js
var require_browser_umd = __commonJS({
  "node_modules/mongoose/dist/browser.umd.js"(exports, module) {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
    !function(t2, e2) {
      "object" == typeof exports && "object" == typeof module ? module.exports = e2() : "function" == typeof define && define.amd ? define([], e2) : "object" == typeof exports ? exports.mongoose = e2() : t2.mongoose = e2();
    }("undefined" != typeof self ? self : exports, () => (() => {
      var t2 = { 118: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          return t4 != t4;
        };
      }, 170: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(3609), i2 = r3(8995), s2 = r3(7768), a2 = r3(7236), u2 = /* @__PURE__ */ new Set(["$and", "$or"]), c2 = /* @__PURE__ */ new Set(["$cmp", "$eq", "$lt", "$lte", "$gt", "$gte"]), l2 = /* @__PURE__ */ new Set(["$multiply", "$divide", "$log", "$mod", "$trunc", "$avg", "$max", "$min", "$stdDevPop", "$stdDevSamp", "$sum"]), f2 = /* @__PURE__ */ new Set(["$abs", "$exp", "$ceil", "$floor", "$ln", "$log10", "$sqrt", "$sin", "$cos", "$tan", "$asin", "$acos", "$atan", "$atan2", "$asinh", "$acosh", "$atanh", "$sinh", "$cosh", "$tanh", "$degreesToRadians", "$radiansToDegrees"]), p2 = /* @__PURE__ */ new Set(["$arrayElemAt", "$first", "$last"]), h2 = /* @__PURE__ */ new Set(["$year", "$month", "$week", "$dayOfMonth", "$dayOfYear", "$hour", "$minute", "$second", "$isoDayOfWeek", "$isoWeekYear", "$isoWeek", "$millisecond"]), y2 = /* @__PURE__ */ new Set(["$not"]);
        function d2(t4, e4, r4) {
          if (g2(t4) || null === t4)
            return t4;
          null != t4.$cond ? Array.isArray(t4.$cond) ? t4.$cond = t4.$cond.map(function(t5) {
            return d2(t5, e4, r4);
          }) : (t4.$cond.if = d2(t4.$cond.if, e4, r4), t4.$cond.then = d2(t4.$cond.then, e4, r4), t4.$cond.else = d2(t4.$cond.else, e4, r4)) : null != t4.$ifNull ? t4.$ifNull.map(function(t5) {
            return d2(t5, e4, r4);
          }) : null != t4.$switch && (Array.isArray(t4.$switch.branches) && (t4.$switch.branches = t4.$switch.branches.map(function(t5) {
            return d2(t5, e4, r4);
          })), "default" in t4.$switch && (t4.$switch.default = d2(t4.$switch.default, e4, r4)));
          for (var n3 = 0, s3 = Object.keys(t4); n3 < s3.length; n3++) {
            var p3 = s3[n3];
            u2.has(p3) ? t4[p3] = t4[p3].map(function(t5) {
              return d2(t5, e4, r4);
            }) : c2.has(p3) ? t4[p3] = v2(t4[p3], e4, r4) : l2.has(p3) ? t4[p3] = m2(t4[p3]) : f2.has(p3) ? t4[p3] = b2(t4[p3]) : y2.has(p3) && (t4[p3] = d2(t4[p3], e4, r4));
          }
          if (t4.$in && (t4.$in = function(t5, e5, r5) {
            var n4 = t5[1];
            if (!g2(n4))
              return t5;
            var o3 = t5[0], s4 = e5.path(n4.slice(1));
            if (null !== s4) {
              if (!s4.$isMongooseArray)
                throw new Error("Path must be an array for $in");
              return [s4.$isMongooseDocumentArray ? s4.$embeddedSchemaType.cast(o3) : s4.caster.cast(o3), n4];
            }
            if (false === r5)
              return t5;
            if ("throw" === r5)
              throw new i2("$in");
          }(t4.$in, e4, r4)), t4.$size && (t4.$size = b2(t4.$size)), t4.$round) {
            var h3 = t4.$round;
            if (!Array.isArray(h3) || h3.length < 1 || h3.length > 2)
              throw new o2("Array", h3, "$round");
            t4.$round = h3.map(function(t5) {
              return b2(t5);
            });
          }
          return a2(t4), t4;
        }
        __name(d2, "d");
        function b2(t4) {
          if (!_(t4))
            return t4;
          try {
            return s2(t4);
          } catch (e4) {
            throw new o2("Number", t4);
          }
        }
        __name(b2, "b");
        function m2(t4) {
          if (!Array.isArray(t4)) {
            if (!_(t4))
              return t4;
            try {
              return s2(t4);
            } catch (e4) {
              throw new o2("Number", t4);
            }
          }
          return t4.map(function(t5) {
            if (!_(t5))
              return t5;
            try {
              return s2(t5);
            } catch (e4) {
              throw new o2("Number", t5);
            }
          });
        }
        __name(m2, "m");
        function v2(t4, e4, r4) {
          if (!Array.isArray(t4) || 2 !== t4.length)
            throw new Error("Comparison operator must be an array of length 2");
          t4[0] = d2(t4[0], e4, r4);
          var a3 = t4[0];
          if (_(t4[1])) {
            var u3 = null, c3 = null, l3 = null;
            if (g2(a3))
              u3 = a3.slice(1), c3 = e4.path(u3);
            else if ("object" === n2(a3) && null != a3)
              for (var f3 = 0, y3 = Object.keys(a3); f3 < y3.length; f3++) {
                var b3 = y3[f3];
                h2.has(b3) && g2(a3[b3]) ? (u3 = a3[b3].slice(1) + "." + b3, l3 = s2) : p2.has(b3) && g2(a3[b3]) && (u3 = a3[b3].slice(1) + "." + b3, null != (c3 = e4.path(a3[b3].slice(1))) && (c3.$isMongooseDocumentArray ? c3 = c3.$embeddedSchemaType : c3.$isMongooseArray && (c3 = c3.caster)));
              }
            var m3 = "object" === n2(t4[1]) && null != t4[1] && null != t4[1].$literal;
            if (null != c3)
              t4[1] = m3 ? { $literal: c3.cast(t4[1].$literal) } : c3.cast(t4[1]);
            else if (null != l3)
              if (m3)
                try {
                  t4[1] = { $literal: l3(t4[1].$literal) };
                } catch (e5) {
                  throw new o2(l3.name.replace(/^cast/, ""), t4[1], u3 + ".$literal");
                }
              else
                try {
                  t4[1] = l3(t4[1]);
                } catch (e5) {
                  throw new o2(l3.name.replace(/^cast/, ""), t4[1], u3);
                }
            else {
              if (null != u3 && true === r4)
                return;
              if (null != u3 && "throw" === r4)
                throw new i2(u3);
            }
          } else
            t4[1] = d2(t4[1]);
          return t4;
        }
        __name(v2, "v");
        function g2(t4) {
          return "string" == typeof t4 && "$" === t4[0];
        }
        __name(g2, "g");
        function _(t4) {
          return !("string" == typeof t4 && "$" === t4[0] || "object" === n2(t4) && null !== t4 && Object.keys(t4).find(function(t5) {
            return "$" === t5[0];
          }) && null == t4.$literal);
        }
        __name(_, "_");
        t3.exports = function(t4, e4, r4) {
          if ("boolean" == typeof t4)
            return t4;
          if ("object" !== n2(t4) || null === t4)
            throw new Error("`$expr` must be an object or boolean literal");
          return d2(t4, e4, r4);
        };
      }, 209: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(2403), i2 = r3(5825), s2 = r3(6583);
        t3.exports = o2 ? function(t4) {
          return o2(t4);
        } : i2 ? function(t4) {
          if (!t4 || "object" !== n2(t4) && "function" != typeof t4)
            throw new TypeError("getProto: not an object");
          return i2(t4);
        } : s2 ? function(t4) {
          return s2(t4);
        } : null;
      }, 241: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "of", u2), t3.exports = a2;
      }, 354: (t3) => {
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        var r3 = 1e3, n2 = 60 * r3, o2 = 60 * n2, i2 = 24 * o2, s2 = 7 * i2;
        function a2(t4, e4, r4, n3) {
          var o3 = e4 >= 1.5 * r4;
          return Math.round(t4 / r4) + " " + n3 + (o3 ? "s" : "");
        }
        __name(a2, "a");
        t3.exports = function(t4, u2) {
          u2 = u2 || {};
          var c2, l2, f2 = e3(t4);
          if ("string" === f2 && t4.length > 0)
            return function(t5) {
              if (!((t5 = String(t5)).length > 100)) {
                var e4 = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t5);
                if (e4) {
                  var a3 = parseFloat(e4[1]);
                  switch ((e4[2] || "ms").toLowerCase()) {
                    case "years":
                    case "year":
                    case "yrs":
                    case "yr":
                    case "y":
                      return 315576e5 * a3;
                    case "weeks":
                    case "week":
                    case "w":
                      return a3 * s2;
                    case "days":
                    case "day":
                    case "d":
                      return a3 * i2;
                    case "hours":
                    case "hour":
                    case "hrs":
                    case "hr":
                    case "h":
                      return a3 * o2;
                    case "minutes":
                    case "minute":
                    case "mins":
                    case "min":
                    case "m":
                      return a3 * n2;
                    case "seconds":
                    case "second":
                    case "secs":
                    case "sec":
                    case "s":
                      return a3 * r3;
                    case "milliseconds":
                    case "millisecond":
                    case "msecs":
                    case "msec":
                    case "ms":
                      return a3;
                    default:
                      return;
                  }
                }
              }
            }(t4);
          if ("number" === f2 && isFinite(t4))
            return u2.long ? (c2 = t4, (l2 = Math.abs(c2)) >= i2 ? a2(c2, l2, i2, "day") : l2 >= o2 ? a2(c2, l2, o2, "hour") : l2 >= n2 ? a2(c2, l2, n2, "minute") : l2 >= r3 ? a2(c2, l2, r3, "second") : c2 + " ms") : function(t5) {
              var e4 = Math.abs(t5);
              return e4 >= i2 ? Math.round(t5 / i2) + "d" : e4 >= o2 ? Math.round(t5 / o2) + "h" : e4 >= n2 ? Math.round(t5 / n2) + "m" : e4 >= r3 ? Math.round(t5 / r3) + "s" : t5 + "ms";
            }(t4);
          throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t4));
        };
      }, 433: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2 = r3(3609), u2 = r3(6426), c2 = r3(5413), l2 = r3(4327), f2 = r3(9460);
        function p2(t4, e4, r4, n3) {
          u2.call(this, t4, e4, "Int32", n3);
        }
        __name(p2, "p");
        p2.schemaName = "Int32", p2.defaultOptions = {}, p2.prototype = Object.create(u2.prototype), p2.prototype.constructor = p2, p2._cast = c2, p2.set = u2.set, p2.setters = [], p2.get = u2.get, p2._defaultCaster = function(t4) {
          if (null != t4 && ("number" != typeof t4 || t4 !== (0 | t4) || t4 < -2147483648 || t4 > 2147483647))
            throw new Error();
          return t4;
        }, p2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, p2._checkRequired = function(t4) {
          return null != t4;
        }, p2.checkRequired = u2.checkRequired, p2.prototype.checkRequired = function(t4) {
          return this.constructor._checkRequired(t4);
        }, p2.prototype.cast = function(t4) {
          var e4;
          e4 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : p2.cast();
          try {
            return e4(t4);
          } catch (e5) {
            throw new a2("Int32", t4, this.path, e5, this);
          }
        };
        var h2 = i2(i2({}, u2.prototype.$conditionalHandlers), {}, { $gt: y2, $gte: y2, $lt: y2, $lte: y2, $bitsAllClear: f2, $bitsAnyClear: f2, $bitsAllSet: f2, $bitsAnySet: f2 });
        function y2(t4, e4) {
          return this.castForQuery(null, t4, e4);
        }
        __name(y2, "y");
        Object.defineProperty(p2.prototype, "$conditionalHandlers", { enumerable: false, value: h2 }), p2.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4)
            return (n3 = this.$conditionalHandlers[t4]) ? n3.call(this, e4) : this.applySetters(e4, r4);
          try {
            return this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof a2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
        }, p2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return l2("number", "int", null == t4 ? void 0 : t4.useBsonType, e4);
        }, p2.prototype.autoEncryptionType = function() {
          return "int";
        }, t3.exports = p2;
      }, 486: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          var e3 = { _id: { auto: true } };
          e3._id[t4.options.typeKey] = "ObjectId", t4.add(e3);
        };
      }, 533: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8213), o2 = r3(7352);
        t3.exports = function(t4, e4) {
          if ("string" != typeof t4 && "function" != typeof t4)
            throw new n2('Invalid ref at path "' + e4 + '". Got ' + o2.inspect(t4, { depth: 0 }));
        };
      }, 542: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          return !!t4 && ("object" === e3(t4) || "function" == typeof t4) && "function" == typeof t4.then;
        };
      }, 608: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        t3.exports = function(t4) {
          return n2.isBuffer(t4) || "[object Object]" === Object.prototype.toString.call(t4);
        };
      }, 622: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return o2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? o2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, i3 = /* @__PURE__ */ __name(function() {
              }, "i");
              return { s: i3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: i3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(n2, "n");
        function o2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(o2, "o");
        var i2 = r3(4009), s2 = r3(8768), a2 = r3(7930).modelSymbol;
        function u2(t4, e4) {
          this.path = e4, this.getters = [], this.setters = [], this.options = Object.assign({}, t4);
        }
        __name(u2, "u");
        u2.prototype._applyDefaultGetters = function() {
          if (!(this.getters.length > 0 || this.setters.length > 0)) {
            var t4 = "$" + this.path;
            this.getters.push(function() {
              return this.$locals[t4];
            }), this.setters.push(function(e4) {
              this.$locals[t4] = e4;
            });
          }
        }, u2.prototype.clone = function() {
          var t4 = new u2(this.options, this.path);
          return t4.getters = [].concat(this.getters), t4.setters = [].concat(this.setters), t4;
        }, u2.prototype.get = function(t4) {
          return this.getters.push(t4), this;
        }, u2.prototype.set = function(t4) {
          return this.setters.push(t4), this;
        }, u2.prototype.applyGetters = function(t4, e4) {
          s2.hasUserDefinedProperty(this.options, ["ref", "refPath"]) && e4.$$populatedVirtuals && Object.hasOwn(e4.$$populatedVirtuals, this.path) && (t4 = e4.$$populatedVirtuals[this.path]);
          var r4, o3 = t4, i3 = n2(this.getters);
          try {
            for (i3.s(); !(r4 = i3.n()).done; )
              o3 = r4.value.call(e4, o3, this, e4);
          } catch (t5) {
            i3.e(t5);
          } finally {
            i3.f();
          }
          return o3;
        }, u2.prototype.applySetters = function(t4, e4) {
          var r4, o3 = t4, i3 = n2(this.setters);
          try {
            for (i3.s(); !(r4 = i3.n()).done; )
              o3 = r4.value.call(e4, o3, this, e4);
          } catch (t5) {
            i3.e(t5);
          } finally {
            i3.f();
          }
          return o3;
        }, u2.prototype._getModelNamesForPopulate = function(t4) {
          if (this.options.refPath)
            return i2(this.options.refPath, t4, this.path);
          var e4;
          return null == (e4 = "function" != typeof this.options.ref || this.options.ref[a2] ? this.options.ref : this.options.ref.call(t4, t4)) || Array.isArray(e4) ? e4 : [e4];
        }, t3.exports = u2;
      }, 668: (t3, e3, r3) => {
        "use strict";
        var n2 = Array.prototype.slice, o2 = r3(6312), i2 = Object.keys, s2 = i2 ? function(t4) {
          return i2(t4);
        } : r3(6544), a2 = Object.keys;
        s2.shim = function() {
          if (Object.keys) {
            var t4 = function() {
              var t5 = Object.keys(arguments);
              return t5 && t5.length === arguments.length;
            }(1, 2);
            t4 || (Object.keys = function(t5) {
              return o2(t5) ? a2(n2.call(t5)) : a2(t5);
            });
          } else
            Object.keys = s2;
          return Object.keys || s2;
        }, t3.exports = s2;
      }, 674: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3414);
        t3.exports = function(t4) {
          return n2(t4) || 0 === t4 ? t4 : t4 < 0 ? -1 : 1;
        };
      }, 766: (t3, e3) => {
        "use strict";
        var r3 = t3.exports = {};
        r3.DocumentNotFoundError = null, r3.general = {}, r3.general.default = "Validator failed for path `{PATH}` with value `{VALUE}`", r3.general.required = "Path `{PATH}` is required.", r3.Number = {}, r3.Number.min = "Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).", r3.Number.max = "Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).", r3.Number.enum = "`{VALUE}` is not a valid enum value for path `{PATH}`.", r3.Date = {}, r3.Date.min = "Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).", r3.Date.max = "Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).", r3.String = {}, r3.String.enum = "`{VALUE}` is not a valid enum value for path `{PATH}`.", r3.String.match = "Path `{PATH}` is invalid ({VALUE}).", r3.String.minlength = "Path `{PATH}` (`{VALUE}`, length {LENGTH}) is shorter than the minimum allowed length ({MINLENGTH}).", r3.String.maxlength = "Path `{PATH}` (`{VALUE}`, length {LENGTH}) is longer than the maximum allowed length ({MAXLENGTH}).";
      }, 783: (t3) => {
        "use strict";
        t3.exports = ReferenceError;
      }, 791: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return o2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? o2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, i3 = /* @__PURE__ */ __name(function() {
              }, "i");
              return { s: i3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: i3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s2, a2 = true, u2 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a2 = t5.done, t5;
          }, e: function(t5) {
            u2 = true, s2 = t5;
          }, f: function() {
            try {
              a2 || null == r4.return || r4.return();
            } finally {
              if (u2)
                throw s2;
            }
          } };
        }
        __name(n2, "n");
        function o2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(o2, "o");
        var i2 = r3(3703);
        t3.exports = function(t4, e4, r4) {
          var o3, s2 = null != r4 ? Object.keys(i2(t4.tree, r4, {})) : Object.keys(t4.tree), a2 = new Set(Object.keys(e4));
          if (a2.size > 1) {
            o3 = /* @__PURE__ */ new Set();
            var u2, c2 = n2(s2);
            try {
              for (c2.s(); !(u2 = c2.n()).done; ) {
                var l2 = u2.value;
                a2.has(l2) && o3.add(l2);
              }
            } catch (t5) {
              c2.e(t5);
            } finally {
              c2.f();
            }
            var f2, p2 = n2(a2);
            try {
              for (p2.s(); !(f2 = p2.n()).done; ) {
                var h2 = f2.value;
                o3.has(h2) || o3.add(h2);
              }
            } catch (t5) {
              p2.e(t5);
            } finally {
              p2.f();
            }
            o3 = Array.from(o3);
          } else
            o3 = Array.from(a2);
          return o3;
        };
      }, 863: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3305), o2 = r3(5549);
        t3.exports = function(t4) {
          if (null == t4)
            return t4;
          if (n2(t4, "ObjectId"))
            return t4;
          if (t4._id) {
            if (n2(t4._id, "ObjectId"))
              return t4._id;
            if (t4._id.toString instanceof Function)
              return new o2(t4._id.toString());
          }
          return t4.toString instanceof Function ? new o2(t4.toString()) : new o2(t4);
        };
      }, 953: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5484);
        t3.exports = function() {
          return n2() && !!Symbol.toStringTag;
        };
      }, 988: (t3) => {
        "use strict";
        var e3 = Object.defineProperty || false;
        if (e3)
          try {
            e3({}, "a", { value: 1 });
          } catch (t4) {
            e3 = false;
          }
        t3.exports = e3;
      }, 1007: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "min", u2), Object.defineProperty(a2.prototype, "max", u2), Object.defineProperty(a2.prototype, "enum", u2), Object.defineProperty(a2.prototype, "populate", u2), t3.exports = a2;
      }, 1058: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2696);
        t3.exports = function(t4, e4) {
          if (null == t4)
            return null;
          for (var r4 = 0, o2 = Object.keys(t4); r4 < o2.length; r4++) {
            var i2 = t4[o2[r4]];
            if (i2.schema && i2.schema.discriminatorMapping && n2(i2.schema.discriminatorMapping.value, e4))
              return i2;
          }
          return null;
        };
      }, 1091: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          return null != t4 && "object" === e3(t4) && null == t4.$slice && null == t4.$elemMatch && null == t4.$meta && null == t4.$;
        };
      }, 1129: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = r3(8213), u2 = r3(7352), c2 = function(t4) {
          function e4(t5, r5, s3, c3) {
            var l2;
            !function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4);
            var f2 = a2.messages;
            return (l2 = function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, [null != f2.DocumentNotFoundError ? "function" == typeof f2.DocumentNotFoundError ? f2.DocumentNotFoundError(t5, r5) : f2.DocumentNotFoundError : 'No document found for query "' + u2.inspect(t5) + '" on model "' + r5 + '"'])).result = c3, l2.numAffected = s3, l2.filter = t5, l2.query = t5, l2;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(a2);
        Object.defineProperty(c2.prototype, "name", { value: "DocumentNotFoundError" }), t3.exports = c2;
      }, 1199: (t3) => {
        "use strict";
        t3.exports = function(t4, e3) {
          var r3 = Object.keys(t4), n2 = Object.keys(e3);
          if (r3.length !== n2.length)
            return false;
          for (var o2 = 0; o2 < r3.length; o2++) {
            var i2 = r3[o2];
            if (i2 !== n2[o2] || t4[i2] !== e3[i2])
              return false;
          }
          return true;
        };
      }, 1226: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          return null == t4 ? null : Object.keys(t4)[0];
        };
      }, 1243: (t3, e3) => {
        "use strict";
        e3.isMongooseArray = function(t4) {
          return Array.isArray(t4) && t4.isMongooseArray;
        };
      }, 1244: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3609);
        t3.exports = function(t4, e4) {
          if (null == t4)
            return t4;
          if (t4._id && "string" == typeof t4._id)
            return t4._id;
          if (t4.toString && t4.toString !== Object.prototype.toString && !Array.isArray(t4))
            return t4.toString();
          throw new n2("string", t4, e4);
        };
      }, 1260: (t3, e3) => {
        "use strict";
        var r3 = Object.freeze(["countDocuments", "distinct", "estimatedDocumentCount", "find", "findOne", "findOneAndReplace", "findOneAndUpdate", "replaceOne", "updateMany", "updateOne", "deleteMany", "deleteOne", "findOneAndDelete"]).concat(["validate"]);
        e3.Ut = r3;
      }, 1313: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(486);
        t3.exports = function(t4, e4) {
          return null == e4 || null == e4._id || (t4 = t4.clone(), e4._id ? t4.paths._id || (n2(t4), t4.options._id = true) : (t4.remove("_id"), t4.options._id = false)), t4;
        };
      }, 1344: (t3, e3, r3) => {
        "use strict";
        t3.exports = r3(6353).UUID;
      }, 1347: (t3, e3) => {
        "use strict";
        e3.isMongooseDocumentArray = function(t4) {
          return Array.isArray(t4) && t4.isMongooseDocumentArray;
        };
      }, 1350: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5, r5, s3) {
            var a3;
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, ['Parameter "' + r5 + '" to ' + s3 + '() must be an object, got "' + (null !== (a3 = null == t5 ? void 0 : t5.toString()) && void 0 !== a3 ? a3 : t5 + "") + '" (type ' + n2(t5) + ")"]);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "ObjectParameterError" }), t3.exports = a2;
      }, 1417: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5) {
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t6, e5, r5) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r5 || [], i2(t6).constructor) : e5.apply(t6, r5));
            }(this, e4, ["For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  " + t5.join("\n  ") + "\nUse Model.updateOne() to update these arrays instead. See https://mongoosejs.com/docs/faq.html#divergent-array-error for more information."]);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "DivergentArrayError" }), t3.exports = a2;
      }, 1464: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5807);
        if (n2)
          try {
            n2([], "length");
          } catch (t4) {
            n2 = null;
          }
        t3.exports = n2;
      }, 1469: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2() {
          var t4, e4, r4 = "function" == typeof Symbol ? Symbol : {}, n3 = r4.iterator || "@@iterator", o3 = r4.toStringTag || "@@toStringTag";
          function i3(r5, n4, o4, i4) {
            var s3 = n4 && n4.prototype instanceof c3 ? n4 : c3, l4 = Object.create(s3.prototype);
            return a2(l4, "_invoke", function(r6, n5, o5) {
              var i5, s4, a3, c4 = 0, l5 = o5 || [], f4 = false, p4 = { p: 0, n: 0, v: t4, a: h4, f: h4.bind(t4, 4), d: function(e5, r7) {
                return i5 = e5, s4 = 0, a3 = t4, p4.n = r7, u3;
              } };
              function h4(r7, n6) {
                for (s4 = r7, a3 = n6, e4 = 0; !f4 && c4 && !o6 && e4 < l5.length; e4++) {
                  var o6, i6 = l5[e4], h5 = p4.p, y4 = i6[2];
                  r7 > 3 ? (o6 = y4 === n6) && (a3 = i6[(s4 = i6[4]) ? 5 : (s4 = 3, 3)], i6[4] = i6[5] = t4) : i6[0] <= h5 && ((o6 = r7 < 2 && h5 < i6[1]) ? (s4 = 0, p4.v = n6, p4.n = i6[1]) : h5 < y4 && (o6 = r7 < 3 || i6[0] > n6 || n6 > y4) && (i6[4] = r7, i6[5] = n6, p4.n = y4, s4 = 0));
                }
                if (o6 || r7 > 1)
                  return u3;
                throw f4 = true, n6;
              }
              __name(h4, "h");
              return function(o6, l6, y4) {
                if (c4 > 1)
                  throw TypeError("Generator is already running");
                for (f4 && 1 === l6 && h4(l6, y4), s4 = l6, a3 = y4; (e4 = s4 < 2 ? t4 : a3) || !f4; ) {
                  i5 || (s4 ? s4 < 3 ? (s4 > 1 && (p4.n = -1), h4(s4, a3)) : p4.n = a3 : p4.v = a3);
                  try {
                    if (c4 = 2, i5) {
                      if (s4 || (o6 = "next"), e4 = i5[o6]) {
                        if (!(e4 = e4.call(i5, a3)))
                          throw TypeError("iterator result is not an object");
                        if (!e4.done)
                          return e4;
                        a3 = e4.value, s4 < 2 && (s4 = 0);
                      } else
                        1 === s4 && (e4 = i5.return) && e4.call(i5), s4 < 2 && (a3 = TypeError("The iterator does not provide a '" + o6 + "' method"), s4 = 1);
                      i5 = t4;
                    } else if ((e4 = (f4 = p4.n < 0) ? a3 : r6.call(n5, p4)) !== u3)
                      break;
                  } catch (e5) {
                    i5 = t4, s4 = 1, a3 = e5;
                  } finally {
                    c4 = 1;
                  }
                }
                return { value: e4, done: f4 };
              };
            }(r5, o4, i4), true), l4;
          }
          __name(i3, "i");
          var u3 = {};
          function c3() {
          }
          __name(c3, "c");
          function l3() {
          }
          __name(l3, "l");
          function f3() {
          }
          __name(f3, "f");
          e4 = Object.getPrototypeOf;
          var p3 = [][n3] ? e4(e4([][n3]())) : (a2(e4 = {}, n3, function() {
            return this;
          }), e4), h3 = f3.prototype = c3.prototype = Object.create(p3);
          function y3(t5) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t5, f3) : (t5.__proto__ = f3, a2(t5, o3, "GeneratorFunction")), t5.prototype = Object.create(h3), t5;
          }
          __name(y3, "y");
          return l3.prototype = f3, a2(h3, "constructor", f3), a2(f3, "constructor", l3), l3.displayName = "GeneratorFunction", a2(f3, o3, "GeneratorFunction"), a2(h3), a2(h3, o3, "Generator"), a2(h3, n3, function() {
            return this;
          }), a2(h3, "toString", function() {
            return "[object Generator]";
          }), (s2 = /* @__PURE__ */ __name(function() {
            return { w: i3, m: y3 };
          }, "s"))();
        }
        __name(s2, "s");
        function a2(t4, e4, r4, n3) {
          var o3 = Object.defineProperty;
          try {
            o3({}, "", {});
          } catch (t5) {
            o3 = 0;
          }
          a2 = /* @__PURE__ */ __name(function(t5, e5, r5, n4) {
            function i3(e6, r6) {
              a2(t5, e6, function(t6) {
                return this._invoke(e6, r6, t6);
              });
            }
            __name(i3, "i");
            e5 ? o3 ? o3(t5, e5, { value: r5, enumerable: !n4, configurable: !n4, writable: !n4 }) : t5[e5] = r5 : (i3("next", 0), i3("throw", 1), i3("return", 2));
          }, "a"), a2(t4, e4, r4, n3);
        }
        __name(a2, "a");
        function u2(t4) {
          return function(t5) {
            if (Array.isArray(t5))
              return f2(t5);
          }(t4) || function(t5) {
            if ("undefined" != typeof Symbol && null != t5[Symbol.iterator] || null != t5["@@iterator"])
              return Array.from(t5);
          }(t4) || l2(t4) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
        __name(u2, "u");
        function c2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = l2(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var i3, s3 = true, a3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return s3 = t5.done, t5;
          }, e: function(t5) {
            a3 = true, i3 = t5;
          }, f: function() {
            try {
              s3 || null == r4.return || r4.return();
            } finally {
              if (a3)
                throw i3;
            }
          } };
        }
        __name(c2, "c");
        function l2(t4, e4) {
          if (t4) {
            if ("string" == typeof t4)
              return f2(t4, e4);
            var r4 = {}.toString.call(t4).slice(8, -1);
            return "Object" === r4 && t4.constructor && (r4 = t4.constructor.name), "Map" === r4 || "Set" === r4 ? Array.from(t4) : "Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? f2(t4, e4) : void 0;
          }
        }
        __name(l2, "l");
        function f2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(f2, "f");
        var p2 = r3(5022), h2 = r3(8442), y2 = r3(4450), d2 = r3(2068).X, b2 = r3(3703), m2 = r3(8768), v2 = r3(4301), g2 = { toJSON: true, toObject: true, _id: true, id: true, virtuals: true, methods: true, statics: true };
        t3.exports = function(t4, e4, r4, n3, a3, l3, f3) {
          if (!r4 || !r4.instanceOfSchema)
            throw new Error("You must pass a valid discriminator Schema");
          if (l3 = null == l3 || l3, t4.schema.discriminatorMapping && !t4.schema.discriminatorMapping.isRoot)
            throw new Error('Discriminator "' + e4 + '" can only be a discriminator of the root model');
          if (a3) {
            var _ = b2(t4.base, "options.applyPluginsToDiscriminators", false) || !l3;
            t4.base._applyPlugins(r4, { skipTopLevel: !_ });
          } else
            l3 || h2(r4);
          var O2 = t4.schema.options.discriminatorKey, w2 = t4.schema.path(O2);
          if (null != w2)
            m2.hasUserDefinedProperty(w2.options, "select") || (w2.options.select = true), w2.options.$skipDiscriminatorCheck = true;
          else {
            var S2 = {};
            S2[O2] = { default: void 0, select: true, $skipDiscriminatorCheck: true }, S2[O2][t4.schema.options.typeKey] = String, t4.schema.add(S2), d2({ prop: O2, prototype: t4.prototype, options: t4.schema.options });
          }
          if (r4.path(O2) && true !== r4.path(O2).options.$skipDiscriminatorCheck)
            throw new Error('Discriminator "' + e4 + '" cannot have field with name "' + O2 + '"');
          var $ = e4;
          if (("string" == typeof n3 && n3.length || null != n3) && ($ = n3), function(t5, e5) {
            var r5 = s2().m(l4);
            if (null != t5.encryptionType() || null != e5.encryptionType()) {
              var n4, o3 = c2(l4(a4(t5), a4(e5)));
              try {
                for (o3.s(); !(n4 = o3.n()).done; ) {
                  var i3 = n4.value;
                  if (t5._hasEncryptedField(i3) && e5._hasEncryptedField(i3))
                    throw new Error("encrypted fields cannot be declared on both the base schema and the child schema in a discriminator. path=".concat(i3));
                  if (t5._hasEncryptedField(i3) || e5._hasEncryptedField(i3))
                    throw new Error("encrypted fields cannot have the same path as a non-encrypted field for discriminators. path=".concat(i3));
                }
              } catch (t6) {
                o3.e(t6);
              } finally {
                o3.f();
              }
            }
            function a4(t6) {
              return [].concat(u2(Object.keys(t6.paths)), u2(Object.keys(t6.singleNestedPaths)));
            }
            __name(a4, "a");
            function l4(t6, e6) {
              var n5, o4, i4, a5, u3;
              return s2().w(function(r6) {
                for (; ; )
                  switch (r6.p = r6.n) {
                    case 0:
                      n5 = new Set(t6), o4 = c2(e6), r6.p = 1, o4.s();
                    case 2:
                      if ((i4 = o4.n()).done) {
                        r6.n = 4;
                        break;
                      }
                      if (a5 = i4.value, !n5.has(a5)) {
                        r6.n = 3;
                        break;
                      }
                      return r6.n = 3, a5;
                    case 3:
                      r6.n = 2;
                      break;
                    case 4:
                      r6.n = 6;
                      break;
                    case 5:
                      r6.p = 5, u3 = r6.v, o4.e(u3);
                    case 6:
                      return r6.p = 6, o4.f(), r6.f(6);
                    case 7:
                      return r6.a(2);
                  }
              }, r5, null, [[1, 5, 6, 7]]);
            }
            __name(l4, "l");
          }(t4.schema, r4), function(e5, r5) {
            e5._baseSchema = r5, r5.paths._id && r5.paths._id.options && !r5.paths._id.options.auto && e5.remove("_id");
            for (var n4 = [], s3 = 0, u3 = Object.keys(r5.paths); s3 < u3.length; s3++) {
              var f4 = u3[s3];
              if (e5.nested[f4])
                n4.push(f4);
              else if (-1 !== f4.indexOf(".")) {
                var h3, d3 = "", b3 = c2(f4.split(".").slice(0, -1));
                try {
                  for (b3.s(); !(h3 = b3.n()).done; ) {
                    var _2 = h3.value;
                    d3 += (d3.length ? "." : "") + _2, (e5.paths[d3] instanceof p2 || e5.singleNestedPaths[d3] instanceof p2) && n4.push(f4);
                  }
                } catch (t5) {
                  b3.e(t5);
                } finally {
                  b3.f();
                }
              }
            }
            e5.obj = function(t5) {
              for (var e6 = 1; e6 < arguments.length; e6++) {
                var r6 = null != arguments[e6] ? arguments[e6] : {};
                e6 % 2 ? o2(Object(r6), true).forEach(function(e7) {
                  i2(t5, e7, r6[e7]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(r6)) : o2(Object(r6)).forEach(function(e7) {
                  Object.defineProperty(t5, e7, Object.getOwnPropertyDescriptor(r6, e7));
                });
              }
              return t5;
            }({}, e5.obj), v2(e5, r5), e5._gatherChildSchemas();
            for (var S3 = 0, j2 = n4; S3 < j2.length; S3++) {
              var P2 = j2[S3];
              delete e5.paths[P2];
            }
            e5.childSchemas.forEach(function(t5) {
              t5.model.prototype.$__setSchema(t5.schema);
            });
            var A2 = {};
            A2[O2] = { default: $, select: true, set: function(t5) {
              if (t5 === $ || Array.isArray($) && m2.deepEqual(t5, $))
                return $;
              throw new Error(`Can't set discriminator key "` + O2 + '"');
            }, $skipDiscriminatorCheck: true }, A2[O2][e5.options.typeKey] = w2 ? w2.options[e5.options.typeKey] : String, e5.add(A2), e5.discriminatorMapping = { key: O2, value: $, isRoot: false }, r5.options.collection && (e5.options.collection = r5.options.collection);
            var E2 = e5.options.toJSON, x2 = e5.options.toObject, T2 = e5.options._id, k2 = e5.options.id, N2 = Object.keys(e5.options);
            e5.options.discriminatorKey = r5.options.discriminatorKey;
            for (var I2 = e5._userProvidedOptions, D2 = 0, B2 = N2; D2 < B2.length; D2++) {
              var M2 = B2[D2];
              if (!g2[M2] && M2 in I2 && !m2.deepEqual(e5.options[M2], r5.options[M2]))
                throw new Error("Can't customize discriminator option " + M2 + " (can only modify " + Object.keys(g2).join(", ") + ")");
            }
            e5.options = y2(r5.options);
            for (var R2 = 0, U2 = Object.keys(I2); R2 < U2.length; R2++) {
              var C2 = U2[R2];
              e5.options[C2] = I2[C2];
            }
            E2 && (e5.options.toJSON = E2), x2 && (e5.options.toObject = x2), void 0 !== T2 && (e5.options._id = T2), e5.options.id = k2, l3 && (e5.s.hooks = t4.schema.s.hooks.merge(e5.s.hooks)), a3 && (e5.plugins = Array.prototype.slice.call(r5.plugins)), e5.callQueue = r5.callQueue.concat(e5.callQueue), delete e5._requiredpaths;
          }(r4, t4.schema), t4.discriminators || (t4.discriminators = {}), t4.schema.discriminatorMapping || (t4.schema.discriminatorMapping = { key: O2, value: null, isRoot: true }), t4.schema.discriminators || (t4.schema.discriminators = {}), t4.schema.discriminators[e4] = r4, t4.discriminators[e4] && !r4.options.overwriteModels && !f3)
            throw new Error('Discriminator with name "' + e4 + '" already exists');
          return r4;
        };
      }, 1505: (t3) => {
        "use strict";
        t3.exports = function(t4, e3, r3, n2, o2) {
          var i2 = null != e3 && false === e3.updatedAt, s2 = null != e3 && false === e3.createdAt, a2 = null != r3 ? r3() : t4.ownerDocument().constructor.base.now();
          if (!s2 && (t4.isNew || t4.$isSubdocument) && n2 && !t4.$__getValue(n2) && t4.$__isSelected(n2) && t4.$set(n2, a2, void 0, { overwriteImmutable: true }), !i2 && o2 && (t4.isNew || t4.$isModified())) {
            var u2 = a2;
            t4.isNew && null != n2 && (u2 = t4.$__getValue(n2)), t4.$set(o2, u2);
          }
        };
      }, 1635: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5) {
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t6, e5, r5) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r5 || [], i2(t6).constructor) : e5.apply(t6, r5));
            }(this, e4, ["Can't validate() the same doc multiple times in parallel. Document: " + t5._doc._id]);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "ParallelValidateError" }), t3.exports = a2;
      }, 1679: (t3) => {
        "function" == typeof Object.create ? t3.exports = function(t4, e3) {
          e3 && (t4.super_ = e3, t4.prototype = Object.create(e3.prototype, { constructor: { value: t4, enumerable: false, writable: true, configurable: true } }));
        } : t3.exports = function(t4, e3) {
          if (e3) {
            t4.super_ = e3;
            var r3 = /* @__PURE__ */ __name(function() {
            }, "r");
            r3.prototype = e3.prototype, t4.prototype = new r3(), t4.prototype.constructor = t4;
          }
        };
      }, 1697: (t3) => {
        "use strict";
        t3.exports = Math.max;
      }, 1732: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2 = r3(3609), u2 = r3(6426), c2 = r3(3704), l2 = r3(4327);
        function f2(t4, e4, r4, n3) {
          u2.call(this, t4, e4, "Double", n3);
        }
        __name(f2, "f");
        function p2(t4) {
          return this.cast(t4);
        }
        __name(p2, "p");
        f2.schemaName = "Double", f2.defaultOptions = {}, f2.prototype = Object.create(u2.prototype), f2.prototype.constructor = f2, f2._cast = c2, f2.set = u2.set, f2.setters = [], f2.get = u2.get, f2._defaultCaster = function(t4) {
          if (null != t4 && "Double" !== t4._bsontype)
            throw new Error();
          return t4;
        }, f2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, f2._checkRequired = function(t4) {
          return null != t4;
        }, f2.checkRequired = u2.checkRequired, f2.prototype.checkRequired = function(t4) {
          return this.constructor._checkRequired(t4);
        }, f2.prototype.cast = function(t4) {
          var e4;
          e4 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : f2.cast();
          try {
            return e4(t4);
          } catch (e5) {
            throw new a2("Double", t4, this.path, e5, this);
          }
        };
        var h2 = i2(i2({}, u2.prototype.$conditionalHandlers), {}, { $gt: p2, $gte: p2, $lt: p2, $lte: p2 });
        Object.defineProperty(f2.prototype, "$conditionalHandlers", { enumerable: false, value: h2 }), f2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return l2("number", "double", null == t4 ? void 0 : t4.useBsonType, e4);
        }, f2.prototype.autoEncryptionType = function() {
          return "double";
        }, t3.exports = f2;
      }, 1793: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(7300), o2 = r3(2789);
        t3.exports = /* @__PURE__ */ __name(function t4(e4) {
          if (null == e4)
            return null;
          var r4 = Object.keys(e4), i2 = null;
          if (1 === r4.length && "_id" === r4[0])
            i2 = !e4._id;
          else
            for (var s2 = 0; s2 < r4.length; ++s2) {
              var a2, u2 = r4[s2];
              if ("_id" !== u2 && n2(e4[u2]) && null != (i2 = o2(e4[u2]) ? null !== (a2 = t4(e4[u2])) && void 0 !== a2 ? a2 : i2 : !e4[u2]))
                break;
            }
          return i2;
        }, "t");
      }, 1824: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(3703);
        t3.exports = function(t4, e4, r4, i2, s2, a2) {
          var u2 = i2, c2 = u2, l2 = o2(s2, "timestamps", true);
          if (!l2 || null == u2)
            return i2;
          var f2, p2, h2, y2 = null != l2 && false === l2.createdAt, d2 = null != l2 && false === l2.updatedAt;
          if (a2)
            return i2 && i2.$set && (i2 = i2.$set, u2.$set = {}, c2 = u2.$set), d2 || !r4 || i2[r4] || (c2[r4] = t4), y2 || !e4 || i2[e4] || (c2[e4] = t4), u2;
          if (i2 = i2 || {}, Array.isArray(u2))
            return null == r4 || u2.push({ $set: (f2 = {}, p2 = r4, h2 = t4, (p2 = function(t5) {
              var e5 = function(t6) {
                if ("object" != n2(t6) || !t6)
                  return t6;
                var e6 = t6[Symbol.toPrimitive];
                if (void 0 !== e6) {
                  var r5 = e6.call(t6, "string");
                  if ("object" != n2(r5))
                    return r5;
                  throw new TypeError("@@toPrimitive must return a primitive value.");
                }
                return String(t6);
              }(t5);
              return "symbol" == n2(e5) ? e5 : e5 + "";
            }(p2)) in f2 ? Object.defineProperty(f2, p2, { value: h2, enumerable: true, configurable: true, writable: true }) : f2[p2] = h2, f2) }), u2;
          if (u2.$set = u2.$set || {}, !d2 && r4 && (!i2.$currentDate || !i2.$currentDate[r4])) {
            var b2 = false;
            if (-1 !== r4.indexOf("."))
              for (var m2 = r4.split("."), v2 = 1; v2 < m2.length; ++v2) {
                var g2 = m2.slice(-v2).join("."), _ = m2.slice(0, -v2).join(".");
                if (null != i2[_]) {
                  i2[_][g2] = t4, b2 = true;
                  break;
                }
                if (i2.$set && i2.$set[_]) {
                  i2.$set[_][g2] = t4, b2 = true;
                  break;
                }
              }
            b2 || (u2.$set[r4] = t4), Object.hasOwn(u2, r4) && delete u2[r4];
          }
          if (!y2 && e4) {
            var O2, w2 = o2(s2, "overwriteImmutable", false), S2 = null != i2[e4] || null != (null === (O2 = i2) || void 0 === O2 ? void 0 : O2.$set[e4]);
            if (w2 && S2)
              null != i2[e4] && (u2.$set[e4] = i2[e4], delete i2[e4]);
            else {
              i2[e4] && delete i2[e4], i2.$set && i2.$set[e4] && delete i2.$set[e4];
              var $ = false;
              if (-1 !== e4.indexOf("."))
                for (var j2 = e4.split("."), P2 = 1; P2 < j2.length; ++P2) {
                  var A2 = j2.slice(-P2).join("."), E2 = j2.slice(0, -P2).join(".");
                  if (null != i2[E2]) {
                    i2[E2][A2] = t4, $ = true;
                    break;
                  }
                  if (i2.$set && i2.$set[E2]) {
                    i2.$set[E2][A2] = t4, $ = true;
                    break;
                  }
                }
              $ || (u2.$setOnInsert = u2.$setOnInsert || {}, u2.$setOnInsert[e4] = t4);
            }
          }
          return 0 === Object.keys(u2.$set).length && delete u2.$set, u2;
        };
      }, 1849: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(n2, "n");
        var o2 = r3(8768);
        t3.exports = function(t4, e4) {
          if (null != t4._doc._id && null != e4 && 0 !== e4.length) {
            var r4, i2 = String(t4._doc._id), s2 = function(t5, e5) {
              var r5 = "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
              if (!r5) {
                if (Array.isArray(t5) || (r5 = function(t6, e6) {
                  if (t6) {
                    if ("string" == typeof t6)
                      return n2(t6, e6);
                    var r6 = {}.toString.call(t6).slice(8, -1);
                    return "Object" === r6 && t6.constructor && (r6 = t6.constructor.name), "Map" === r6 || "Set" === r6 ? Array.from(t6) : "Arguments" === r6 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r6) ? n2(t6, e6) : void 0;
                  }
                }(t5)) || e5 && t5 && "number" == typeof t5.length) {
                  r5 && (t5 = r5);
                  var o3 = 0, i3 = /* @__PURE__ */ __name(function() {
                  }, "i");
                  return { s: i3, n: function() {
                    return o3 >= t5.length ? { done: true } : { done: false, value: t5[o3++] };
                  }, e: function(t6) {
                    throw t6;
                  }, f: i3 };
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }
              var s3, a3 = true, u3 = false;
              return { s: function() {
                r5 = r5.call(t5);
              }, n: function() {
                var t6 = r5.next();
                return a3 = t6.done, t6;
              }, e: function(t6) {
                u3 = true, s3 = t6;
              }, f: function() {
                try {
                  a3 || null == r5.return || r5.return();
                } finally {
                  if (u3)
                    throw s3;
                }
              } };
            }(e4);
            try {
              for (s2.s(); !(r4 = s2.n()).done; ) {
                var a2 = r4.value;
                if (!a2.isVirtual)
                  for (var u2 = a2.path.split("."), c2 = 0; c2 < u2.length - 1; ++c2) {
                    var l2 = u2.slice(0, c2 + 1).join("."), f2 = u2.slice(c2 + 1).join("."), p2 = t4.get(l2);
                    if (null != p2 && o2.isMongooseDocumentArray(p2)) {
                      for (var h2 = 0; h2 < p2.length; ++h2)
                        p2[h2] && p2[h2].populated(f2, null == a2._docs[i2] ? void 0 : a2._docs[i2][h2], a2);
                      break;
                    }
                  }
              }
            } catch (t5) {
              s2.e(t5);
            } finally {
              s2.f();
            }
          }
        };
      }, 1875: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          for (var e3, r3 = Object.keys(t4.errors || {}), n2 = r3.length, o2 = [], i2 = 0; i2 < n2; ++i2)
            e3 = r3[i2], t4 !== t4.errors[e3] && o2.push(e3 + ": " + t4.errors[e3].message);
          return o2.join(", ");
        };
      }, 1898: (t3, e3, r3) => {
        "use strict";
        e3.saveSubdocs = r3(4432), e3.sharding = r3(2824), e3.trackTransaction = r3(5889), e3.validateBeforeSave = r3(9848);
      }, 1905: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3071), o2 = r3(2724)(/^\s*(?:function)?\*/), i2 = r3(953)(), s2 = r3(209), a2 = n2("Object.prototype.toString"), u2 = n2("Function.prototype.toString"), c2 = r3(8690);
        t3.exports = function(t4) {
          if ("function" != typeof t4)
            return false;
          if (o2(u2(t4)))
            return true;
          if (!i2)
            return "[object GeneratorFunction]" === a2(t4);
          if (!s2)
            return false;
          var e4 = c2();
          return e4 && s2(t4) === e4.prototype;
        };
      }, 2003: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2 = r3(3703), u2 = r3(608), c2 = r3(2423);
        t3.exports = function(t4) {
          var e4 = [], r4 = /* @__PURE__ */ new WeakMap(), n3 = t4.constructor.indexTypes, o3 = /* @__PURE__ */ new Map();
          return (/* @__PURE__ */ __name(function t5(s3, l2, f2) {
            if (!r4.has(s3)) {
              r4.set(s3, true), l2 = l2 || "";
              for (var p2 = 0, h2 = Object.keys(s3.paths); p2 < h2.length; p2++) {
                var y2 = h2[p2], d2 = s3.paths[y2];
                if (null == f2 || !f2.paths[y2]) {
                  if (null != d2._duplicateKeyErrorMessage && (s3._duplicateKeyErrorMessagesByPath = s3._duplicateKeyErrorMessagesByPath || {}, s3._duplicateKeyErrorMessagesByPath[y2] = d2._duplicateKeyErrorMessage), d2.$isMongooseDocumentArray || d2.$isSingleNested) {
                    if (true !== a2(d2, "options.excludeIndexes") && true !== a2(d2, "schemaOptions.excludeIndexes") && true !== a2(d2, "schema.options.excludeIndexes") && t5(d2.schema, l2 + y2 + "."), null != d2.schema.discriminators)
                      for (var b2 = d2.schema.discriminators, m2 = 0, v2 = Object.keys(b2); m2 < v2.length; m2++) {
                        t5(b2[v2[m2]], l2 + y2 + ".", d2.schema);
                      }
                    if (d2.$isMongooseDocumentArray)
                      continue;
                  }
                  var g2 = d2._index || d2.caster && d2.caster._index;
                  if (false !== g2 && null != g2) {
                    var _ = {}, O2 = u2(g2), w2 = O2 ? i2({}, g2) : {}, S2 = "string" == typeof g2 ? g2 : !!O2 && g2.type;
                    if (S2 && -1 !== n3.indexOf(S2))
                      _[l2 + y2] = S2;
                    else if (w2.text)
                      _[l2 + y2] = "text", delete w2.text;
                    else {
                      var $;
                      $ = "descending" === g2 || "desc" === g2 || "ascending" !== g2 && "asc" !== g2 && -1 === Number(g2), _[l2 + y2] = $ ? -1 : 1;
                    }
                    delete w2.type, "background" in w2 || (w2.background = true), null != s3.options.autoIndex && (w2._autoIndex = s3.options.autoIndex);
                    var j2 = w2 && w2.name;
                    "string" == typeof j2 && o3.has(j2) ? Object.assign(o3.get(j2), _) : (e4.push([_, w2]), o3.set(j2, _));
                  }
                }
              }
              r4.delete(s3), l2 ? function(t6, r5) {
                for (var n4 = t6._indexes, o4 = n4.length, i3 = 0; i3 < o4; ++i3) {
                  for (var s4 = n4[i3][0], a3 = n4[i3][1], u3 = Object.keys(s4), c3 = u3.length, l3 = {}, f3 = 0; f3 < c3; ++f3) {
                    var p3 = u3[f3];
                    l3[r5 + p3] = s4[p3];
                  }
                  var h3 = Object.assign({}, a3);
                  if (null != a3 && null != a3.partialFilterExpression) {
                    h3.partialFilterExpression = {};
                    for (var y3 = a3.partialFilterExpression, d3 = 0, b3 = Object.keys(y3); d3 < b3.length; d3++) {
                      var m3 = b3[d3];
                      h3.partialFilterExpression[r5 + m3] = y3[m3];
                    }
                  }
                  e4.push([l3, h3]);
                }
              }(s3, l2) : (s3._indexes.forEach(function(t6) {
                var e5 = t6[1];
                "background" in e5 || (e5.background = true), c2(s3, e5);
              }), e4 = e4.concat(s3._indexes));
            }
          }, "t"))(t4), e4;
        };
      }, 2064: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2273), o2 = r3(9122), i2 = r3(4756), s2 = r3(2481), a2 = r3(9247), u2 = o2(s2(), Object);
        n2(u2, { getPolyfill: s2, implementation: i2, shim: a2 }), t3.exports = u2;
      }, 2068: (t3, e3, r3) => {
        "use strict";
        var n2, o2 = r3(4450), i2 = r3(7930).documentSchemaSymbol, s2 = r3(3303)._, a2 = r3(8768), u2 = r3(7930).getSymbol, c2 = r3(7930).scopeSymbol, l2 = a2.isPOJO;
        e3.w = h2, e3.X = y2;
        var f2 = Object.freeze({ minimize: true, virtuals: false, getters: false, transform: false }), p2 = Object.freeze({ noDottedPath: true });
        function h2(t4, e4, o3, i3) {
          n2 = n2 || r3(2400);
          for (var s3 = i3.typeKey, a3 = 0, u3 = Object.keys(t4); a3 < u3.length; a3++) {
            var c3 = u3[a3], f3 = t4[c3];
            y2({ prop: c3, subprops: l2(f3) && Object.keys(f3).length > 0 && (!f3[s3] || "type" === s3 && l2(f3.type) && f3.type.type) ? f3 : null, prototype: e4, prefix: o3, options: i3 });
          }
        }
        __name(h2, "h");
        function y2(t4) {
          var e4 = t4.prop, a3 = t4.subprops, l3 = t4.prototype, y3 = t4.prefix, d2 = t4.options;
          n2 = n2 || r3(2400);
          var b2 = (y3 ? y3 + "." : "") + e4, m2 = (y3 = y3 || "") ? Object.freeze({}) : p2;
          a3 ? Object.defineProperty(l3, e4, { enumerable: true, configurable: true, get: function() {
            var t5, e5, r4 = this;
            if (this.$__.getters || (this.$__.getters = {}), !this.$__.getters[b2]) {
              var s3 = Object.create(n2.prototype, (t5 = this, e5 = {}, Object.getOwnPropertyNames(t5).forEach(function(r5) {
                -1 === ["isNew", "$__", "$errors", "errors", "_doc", "$locals", "$op", "__parentArray", "__index", "$isDocumentArrayElement"].indexOf(r5) || (e5[r5] = Object.getOwnPropertyDescriptor(t5, r5), e5[r5].enumerable = false);
              }), e5));
              y3 || (s3.$__[c2] = this), s3.$__.nestedPath = b2, Object.defineProperty(s3, "schema", { enumerable: false, configurable: true, writable: false, value: l3.schema }), Object.defineProperty(s3, "$__schema", { enumerable: false, configurable: true, writable: false, value: l3.schema }), Object.defineProperty(s3, i2, { enumerable: false, configurable: true, writable: false, value: l3.schema }), Object.defineProperty(s3, "toObject", { enumerable: false, configurable: true, writable: false, value: function() {
                return o2(r4.get(b2, null, { virtuals: this && this.schema && this.schema.options && this.schema.options.toObject && this.schema.options.toObject.virtuals || null }));
              } }), Object.defineProperty(s3, "$__get", { enumerable: false, configurable: true, writable: false, value: function() {
                return r4.get(b2, null, { virtuals: this && this.schema && this.schema.options && this.schema.options.toObject && this.schema.options.toObject.virtuals || null });
              } }), Object.defineProperty(s3, "toJSON", { enumerable: false, configurable: true, writable: false, value: function() {
                return r4.get(b2, null, { virtuals: this && this.schema && this.schema.options && this.schema.options.toJSON && this.schema.options.toJSON.virtuals || null });
              } }), Object.defineProperty(s3, "$__isNested", { enumerable: false, configurable: true, writable: false, value: true }), Object.defineProperty(s3, "$isEmpty", { enumerable: false, configurable: true, writable: false, value: function() {
                return 0 === Object.keys(this.get(b2, null, f2) || {}).length;
              } }), Object.defineProperty(s3, "$__parent", { enumerable: false, configurable: true, writable: false, value: this }), h2(a3, s3, b2, d2), this.$__.getters[b2] = s3;
            }
            return this.$__.getters[b2];
          }, set: function(t5) {
            null != t5 && t5.$__isNested ? t5 = t5.$__get() : t5 instanceof n2 && !t5.$__isNested && (t5 = t5.$toObject(s2)), (this.$__[c2] || this).$set(b2, t5);
          } }) : Object.defineProperty(l3, e4, { enumerable: true, configurable: true, get: function() {
            return this[u2].call(this.$__[c2] || this, b2, null, m2);
          }, set: function(t5) {
            this.$set.call(this.$__[c2] || this, b2, t5);
          } });
        }
        __name(y2, "y");
      }, 2069: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, s2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return e4 && o2(t4.prototype, e4), r4 && o2(t4, r4), Object.defineProperty(t4, "prototype", { writable: false }), t4;
        }
        __name(i2, "i");
        function s2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(s2, "s");
        var a2 = r3(5761), u2 = i2(/* @__PURE__ */ __name(function t4(e4) {
          !function(t5, e5) {
            if (!(t5 instanceof e5))
              throw new TypeError("Cannot call a class as a function");
          }(this, t4), Object.assign(this, e4), null != e4 && null != e4.options && (this.options = Object.assign({}, e4.options));
        }, "t"));
        Object.defineProperty(u2.prototype, "ref", a2), Object.defineProperty(u2.prototype, "refPath", a2), Object.defineProperty(u2.prototype, "localField", a2), Object.defineProperty(u2.prototype, "foreignField", a2), Object.defineProperty(u2.prototype, "justOne", a2), Object.defineProperty(u2.prototype, "count", a2), Object.defineProperty(u2.prototype, "match", a2), Object.defineProperty(u2.prototype, "options", a2), Object.defineProperty(u2.prototype, "skip", a2), Object.defineProperty(u2.prototype, "limit", a2), Object.defineProperty(u2.prototype, "perDocumentLimit", a2), t3.exports = u2;
      }, 2073: (t3) => {
        "use strict";
        t3.exports = /* @__PURE__ */ __name(function t4(e3) {
          if (!Array.isArray(e3))
            return { min: 0, max: 0, containsNonArrayItem: true };
          if (0 === e3.length)
            return { min: 1, max: 1, containsNonArrayItem: false };
          if (1 === e3.length && !Array.isArray(e3[0]))
            return { min: 1, max: 1, containsNonArrayItem: false };
          for (var r3 = t4(e3[0]), n2 = 1; n2 < e3.length; ++n2) {
            var o2 = t4(e3[n2]);
            o2.min < r3.min && (r3.min = o2.min), o2.max > r3.max && (r3.max = o2.max), r3.containsNonArrayItem = r3.containsNonArrayItem || o2.containsNonArrayItem;
          }
          return r3.min = r3.min + 1, r3.max = r3.max + 1, r3;
        }, "t");
      }, 2081: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return i2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? i2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(o2, "o");
        function i2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(i2, "i");
        function s2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, a2(n3.key), n3);
          }
        }
        __name(s2, "s");
        function a2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(a2, "a");
        function u2(t4, e4, r4, n3) {
          var o3 = c2(h2(1 & n3 ? t4.prototype : t4), e4, r4);
          return 2 & n3 && "function" == typeof o3 ? function(t5) {
            return o3.apply(r4, t5);
          } : o3;
        }
        __name(u2, "u");
        function c2() {
          return c2 = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t4, e4, r4) {
            var n3 = function(t5, e5) {
              for (; !{}.hasOwnProperty.call(t5, e5) && null !== (t5 = h2(t5)); )
                ;
              return t5;
            }(t4, e4);
            if (n3) {
              var o3 = Object.getOwnPropertyDescriptor(n3, e4);
              return o3.get ? o3.get.call(arguments.length < 3 ? t4 : r4) : o3.value;
            }
          }, c2.apply(null, arguments);
        }
        __name(c2, "c");
        function l2(t4) {
          var e4 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
          return l2 = /* @__PURE__ */ __name(function(t5) {
            if (null === t5 || !function(t6) {
              try {
                return -1 !== Function.toString.call(t6).indexOf("[native code]");
              } catch (e5) {
                return "function" == typeof t6;
              }
            }(t5))
              return t5;
            if ("function" != typeof t5)
              throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== e4) {
              if (e4.has(t5))
                return e4.get(t5);
              e4.set(t5, r4);
            }
            function r4() {
              return function(t6, e5, r5) {
                if (f2())
                  return Reflect.construct.apply(null, arguments);
                var n3 = [null];
                n3.push.apply(n3, e5);
                var o3 = new (t6.bind.apply(t6, n3))();
                return r5 && p2(o3, r5.prototype), o3;
              }(t5, arguments, h2(this).constructor);
            }
            __name(r4, "r");
            return r4.prototype = Object.create(t5.prototype, { constructor: { value: r4, enumerable: false, writable: true, configurable: true } }), p2(r4, t5);
          }, "l"), l2(t4);
        }
        __name(l2, "l");
        function f2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (f2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "f"))();
        }
        __name(f2, "f");
        function p2(t4, e4) {
          return p2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, p2(t4, e4);
        }
        __name(p2, "p");
        function h2(t4) {
          return h2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, h2(t4);
        }
        __name(h2, "h");
        var y2 = r3(8213), d2 = r3(4450), b2 = r3(8768).deepEqual, m2 = r3(8260), v2 = r3(3216), g2 = r3(7352), _ = r3(2793), O2 = r3(3305), w2 = r3(4473), S2 = r3(7930).populateModelSymbol, $ = function(t4) {
          function e4(t5, r5, o3, i4, s3) {
            var a3, u3;
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), "Object" === m2(t5) && (t5 = Object.keys(t5).reduce(function(e5, r6) {
              return e5.concat([[r6, t5[r6]]]);
            }, [])), (u3 = function(t6, e5, r6) {
              return e5 = h2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, f2() ? Reflect.construct(e5, r6 || [], h2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, [t5])).$__parent = null != o3 && null != o3.$__ ? o3 : null, null !== (a3 = u3.$__parent) && void 0 !== a3 && a3.$isSingleNested && u3.$__parent.$basePath ? (u3.$__path = u3.$__parent.$basePath + "." + r5, u3.$__pathRelativeToParent = r5) : null != s3 && s3.path ? (u3.$__path = s3.path, u3.$__pathRelativeToParent = null) : (u3.$__path = r5, u3.$__pathRelativeToParent = null), u3.$__schemaType = i4, u3.$__runDeferred(), u3;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && p2(t5, e5);
          }(e4, t4), r4 = e4, i3 = [{ key: "$init", value: function(t5, r5) {
            j2(t5), u2(e4, "set", this, 3)([t5, r5]), null != r5 && r5.$isSingleNested && (r5.$basePath = this.$__path + "." + t5, null != this.$__pathRelativeToParent ? r5.$pathRelativeToParent = this.$__pathRelativeToParent + "." + t5 : r5.$pathRelativeToParent = this.$__path + "." + t5);
          } }, { key: "$__set", value: function(t5, r5) {
            u2(e4, "set", this, 3)([t5, r5]);
          } }, { key: "get", value: function(t5, r5) {
            return O2(t5, "ObjectId") && (t5 = t5.toString()), false === (r5 = r5 || {}).getters ? u2(e4, "get", this, 3)([t5]) : this.$__schemaType.applyGetters(u2(e4, "get", this, 3)([t5]), this.$__parent);
          } }, { key: "set", value: function(t5, r5) {
            if (O2(t5, "ObjectId") && (t5 = t5.toString()), j2(t5), r5 = v2(r5), null == this.$__schemaType)
              return this.$__deferred = this.$__deferred || [], void this.$__deferred.push({ key: t5, value: r5 });
            var n3, o3, i4 = this.$__parent, s3 = null != i4 && i4.$__ && i4.$__.populated ? i4.$populated(l3.call(this), true) || i4.$populated(this.$__path, true) : null, a3 = this.get(t5);
            if (null != s3) {
              if (this.$__schemaType.$isSingleNested)
                throw new y2("Cannot manually populate single nested subdoc underneath Map " + 'at path "'.concat(this.$__path, '". Try using an array instead of a Map.'));
              Array.isArray(r5) && this.$__schemaType.$isMongooseArray ? r5 = r5.map(function(t6) {
                return null == t6.$__ && (t6 = new s3.options[S2](t6)), t6.$__.wasPopulated = { value: t6._doc._id }, t6;
              }) : null != r5 && (null == r5.$__ && (r5 = new s3.options[S2](r5)), r5.$__.wasPopulated = { value: r5._doc._id });
            } else
              try {
                var c3 = null;
                (this.$__schemaType.$isMongooseDocumentArray || this.$__schemaType.$isSingleNested || this.$__schemaType.$isMongooseArray || this.$__schemaType.$isSchemaMap) && (c3 = { path: l3.call(this) }, this.$__schemaType.$isSingleNested && (c3.pathRelativeToParent = null != this.$__pathRelativeToParent ? this.$__pathRelativeToParent + "." + t5 : this.$__path + "." + t5)), r5 = this.$__schemaType.applySetters(r5, this.$__parent, false, this.get(t5), c3);
              } catch (t6) {
                if (null != this.$__parent && null != this.$__parent.$__)
                  return void this.$__parent.invalidate(l3.call(this), t6);
                throw t6;
              }
            function l3() {
              return n3 || (n3 = this.$__path + "." + t5);
            }
            __name(l3, "l");
            u2(e4, "set", this, 3)([t5, r5]), null != r5 && r5.$isSingleNested && (null != this.$__pathRelativeToParent ? r5.$pathRelativeToParent = this.$__pathRelativeToParent + "." + t5 : r5.$pathRelativeToParent = this.$__path + "." + t5), null == i4 || null == i4.$__ || b2(r5, a3) || (o3 = null != this.$__pathRelativeToParent ? this.$__pathRelativeToParent + "." + t5 : l3.call(this), i4.markModified(o3), (this.$__schemaType.$isMongooseDocumentArray || this.$__schemaType.$isSingleNested) && w2(i4, o3));
          } }, { key: "clear", value: function() {
            u2(e4, "clear", this, 3)([]);
            var t5 = this.$__parent;
            null != t5 && t5.markModified(this.$__path);
          } }, { key: "delete", value: function(t5) {
            return O2(t5, "ObjectId") && (t5 = t5.toString()), this.set(t5, void 0), u2(e4, "delete", this, 3)([t5]);
          } }, { key: "toBSON", value: function() {
            return new Map(this);
          } }, { key: "toObject", value: function(t5) {
            if (t5 && t5.flattenMaps) {
              var e5, r5 = {}, n3 = o2(this.keys());
              try {
                for (n3.s(); !(e5 = n3.n()).done; ) {
                  var i4 = e5.value;
                  r5[i4] = d2(this.get(i4), t5);
                }
              } catch (t6) {
                n3.e(t6);
              } finally {
                n3.f();
              }
              return r5;
            }
            return new Map(this);
          } }, { key: "$toObject", value: function() {
            return this.constructor.prototype.toObject.apply(this, arguments);
          } }, { key: "toJSON", value: function(t5) {
            if ("boolean" != typeof (t5 && t5.flattenMaps) || t5.flattenMaps) {
              var e5, r5 = {}, n3 = o2(this.keys());
              try {
                for (n3.s(); !(e5 = n3.n()).done; ) {
                  var i4 = e5.value;
                  r5[i4] = d2(this.get(i4), t5);
                }
              } catch (t6) {
                n3.e(t6);
              } finally {
                n3.f();
              }
              return r5;
            }
            return new Map(this);
          } }, { key: "inspect", value: function() {
            return new Map(this);
          } }, { key: "$__runDeferred", value: function() {
            if (this.$__deferred) {
              var t5, e5 = o2(this.$__deferred);
              try {
                for (e5.s(); !(t5 = e5.n()).done; ) {
                  var r5 = t5.value;
                  this.set(r5.key, r5.value);
                }
              } catch (t6) {
                e5.e(t6);
              } finally {
                e5.f();
              }
              this.$__deferred = null;
            }
          } }], i3 && s2(r4.prototype, i3), Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4, i3;
        }(l2(Map));
        function j2(t4) {
          var e4 = n2(t4);
          if ("string" !== e4)
            throw new TypeError("Mongoose maps only support string keys, got ".concat(e4));
          if (t4.startsWith("$"))
            throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(t4, '"'));
          if (t4.includes("."))
            throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(t4, '"'));
          if (_.has(t4))
            throw new Error('Mongoose maps do not support reserved key name "'.concat(t4, '"'));
        }
        __name(j2, "j");
        g2.inspect.custom && Object.defineProperty($.prototype, g2.inspect.custom, { enumerable: false, writable: false, configurable: false, value: $.prototype.inspect }), Object.defineProperty($.prototype, "$__set", { enumerable: false, writable: true, configurable: false }), Object.defineProperty($.prototype, "$__parent", { enumerable: false, writable: true, configurable: false }), Object.defineProperty($.prototype, "$__path", { enumerable: false, writable: true, configurable: false }), Object.defineProperty($.prototype, "$__schemaType", { enumerable: false, writable: true, configurable: false }), Object.defineProperty($.prototype, "$isMongooseMap", { enumerable: false, writable: false, configurable: false, value: true }), Object.defineProperty($.prototype, "$__deferredCalls", { enumerable: false, writable: false, configurable: false, value: true }), t3.exports = $;
      }, 2097: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        var s2 = r3(9166), a2 = r3(1824), u2 = r3(3703), c2 = r3(3696), l2 = r3(1505), f2 = r3(7160), p2 = /* @__PURE__ */ new Set(["replaceOne", "findOneAndReplace"]);
        t3.exports = function(t4, e4) {
          var r4 = t4.childSchemas.find(function(t5) {
            return !!t5.schema.options.timestamps;
          });
          if (e4 || r4) {
            var n3 = c2(e4, "createdAt"), h2 = c2(e4, "updatedAt"), y2 = null != e4 && Object.hasOwn(e4, "currentTime") ? e4.currentTime : null, d2 = {};
            if (t4.$timestamps = { createdAt: n3, updatedAt: h2 }, n3 && !t4.paths[n3]) {
              var b2 = null != t4.base ? t4.base.get("timestamps.createdAt.immutable") : null, m2 = null == b2 || b2;
              d2[n3] = i2(i2({}, t4.options.typeKey || "type", Date), "immutable", m2);
            }
            h2 && !t4.paths[h2] && (d2[h2] = Date), t4.add(d2), t4.pre("save", function(t5) {
              var e5 = u2(this, "$__.saveOptions.timestamps");
              if (false === e5)
                return t5();
              l2(this, e5, y2, n3, h2), t5();
            }), t4.methods.initializeTimestamps = function() {
              var t5 = null != y2 ? y2() : this.constructor.base.now();
              if (n3 && !this.get(n3) && this.$set(n3, t5), h2 && !this.get(h2) && this.$set(h2, t5), this.$isSubdocument)
                return this;
              var e5, r5 = function(t6, e6) {
                var r6 = "undefined" != typeof Symbol && t6[Symbol.iterator] || t6["@@iterator"];
                if (!r6) {
                  if (Array.isArray(t6) || (r6 = function(t7, e7) {
                    if (t7) {
                      if ("string" == typeof t7)
                        return o2(t7, e7);
                      var r7 = {}.toString.call(t7).slice(8, -1);
                      return "Object" === r7 && t7.constructor && (r7 = t7.constructor.name), "Map" === r7 || "Set" === r7 ? Array.from(t7) : "Arguments" === r7 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r7) ? o2(t7, e7) : void 0;
                    }
                  }(t6)) || e6 && t6 && "number" == typeof t6.length) {
                    r6 && (t6 = r6);
                    var n4 = 0, i4 = /* @__PURE__ */ __name(function() {
                    }, "i");
                    return { s: i4, n: function() {
                      return n4 >= t6.length ? { done: true } : { done: false, value: t6[n4++] };
                    }, e: function(t7) {
                      throw t7;
                    }, f: i4 };
                  }
                  throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }
                var s3, a3 = true, u3 = false;
                return { s: function() {
                  r6 = r6.call(t6);
                }, n: function() {
                  var t7 = r6.next();
                  return a3 = t7.done, t7;
                }, e: function(t7) {
                  u3 = true, s3 = t7;
                }, f: function() {
                  try {
                    a3 || null == r6.return || r6.return();
                  } finally {
                    if (u3)
                      throw s3;
                  }
                } };
              }(this.$getAllSubdocs());
              try {
                for (r5.s(); !(e5 = r5.n()).done; ) {
                  var i3 = e5.value;
                  i3.initializeTimestamps && i3.initializeTimestamps();
                }
              } catch (t6) {
                r5.e(t6);
              } finally {
                r5.f();
              }
              return this;
            }, g2[f2.builtInMiddleware] = true;
            var v2 = { query: true, model: false };
            t4.pre("findOneAndReplace", v2, g2), t4.pre("findOneAndUpdate", v2, g2), t4.pre("replaceOne", v2, g2), t4.pre("update", v2, g2), t4.pre("updateOne", v2, g2), t4.pre("updateMany", v2, g2);
          }
          function g2(t5) {
            var e5 = null != y2 ? y2() : this.model.base.now();
            p2.has(this.op) && null == this.getUpdate() && this.setUpdate({}), a2(e5, n3, h2, this.getUpdate(), this._mongooseOptions, p2.has(this.op)), s2(e5, this.getUpdate(), this.model.schema), t5();
          }
          __name(g2, "g");
        };
      }, 2134: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4) {
          return o2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, o2(t4);
        }
        __name(o2, "o");
        function i2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(i2, "i");
        function s2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? i2(Object(r4), true).forEach(function(e5) {
              a2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : i2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(s2, "s");
        function a2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != o2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != o2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == o2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(a2, "a");
        var u2 = r3(6365), c2 = r3(6426), l2 = c2.CastError, f2 = r3(8250), p2 = r3(4327), h2 = r3(8768), y2 = r3(9460), d2 = f2.UUID_FORMAT, b2 = u2.Binary;
        function m2(t4) {
          var e4;
          return "string" != typeof t4 && null != t4 ? (e4 = t4.toString("hex")).substring(0, 8) + "-" + e4.substring(8, 12) + "-" + e4.substring(12, 16) + "-" + e4.substring(16, 20) + "-" + e4.substring(20, 32) : t4;
        }
        __name(m2, "m");
        function v2(t4, e4, r4, o3) {
          c2.call(this, t4, e4, "UUID", o3), this.getters.push(function(t5) {
            return null != t5 && null != t5.$__ ? t5 : n2.isBuffer(t5) ? m2(t5) : t5 instanceof b2 ? m2(t5.buffer) : h2.isPOJO(t5) && "Buffer" === t5.type && Array.isArray(t5.data) ? m2(n2.from(t5.data)) : t5;
          });
        }
        __name(v2, "v");
        function g2(t4) {
          return this.cast(t4);
        }
        __name(g2, "g");
        function _(t4) {
          var e4 = this;
          return t4.map(function(t5) {
            return e4.cast(t5);
          });
        }
        __name(_, "_");
        v2.schemaName = "UUID", v2.defaultOptions = {}, v2.prototype = Object.create(c2.prototype), v2.prototype.constructor = v2, v2._cast = f2, v2.get = c2.get, v2.set = c2.set, v2.setters = [], v2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, v2._checkRequired = function(t4) {
          return null != t4;
        }, v2.checkRequired = c2.checkRequired, v2.prototype.checkRequired = function(t4) {
          return n2.isBuffer(t4) && (t4 = m2(t4)), null != t4 && d2.test(t4);
        }, v2.prototype.cast = function(t4, e4, r4, n3, o3) {
          if (h2.isNonBuiltinObject(t4) && c2._isRef(this, t4, e4, r4))
            return this._castRef(t4, e4, r4, o3);
          var i3;
          i3 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : v2.cast();
          try {
            return i3(t4);
          } catch (e5) {
            throw new l2(v2.schemaName, t4, this.path, e5, this);
          }
        };
        var O2 = s2(s2({}, c2.prototype.$conditionalHandlers), {}, { $bitsAllClear: y2, $bitsAnyClear: y2, $bitsAllSet: y2, $bitsAnySet: y2, $all: _, $gt: g2, $gte: g2, $in: _, $lt: g2, $lte: g2, $ne: g2, $nin: _ });
        Object.defineProperty(v2.prototype, "$conditionalHandlers", { enumerable: false, value: O2 }), v2.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4) {
            if (!(n3 = this.$conditionalHandlers[t4]))
              throw new Error("Can't use " + t4 + " with UUID.");
            return n3.call(this, e4, r4);
          }
          try {
            return this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof l2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
        }, v2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return p2("string", "binData", null == t4 ? void 0 : t4.useBsonType, e4);
        }, v2.prototype.autoEncryptionType = function() {
          return "binData";
        }, t3.exports = v2;
      }, 2151: (t3) => {
        "use strict";
        t3.exports = Math.round;
      }, 2268: (t3) => {
        "use strict";
        t3.exports = TypeError;
      }, 2273: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(668), i2 = "function" == typeof Symbol && "symbol" === n2(Symbol("foo")), s2 = Object.prototype.toString, a2 = Array.prototype.concat, u2 = r3(6750), c2 = r3(3191)(), l2 = /* @__PURE__ */ __name(function(t4, e4, r4, n3) {
          if (e4 in t4) {
            if (true === n3) {
              if (t4[e4] === r4)
                return;
            } else if ("function" != typeof (o3 = n3) || "[object Function]" !== s2.call(o3) || !n3())
              return;
          }
          var o3;
          c2 ? u2(t4, e4, r4, true) : u2(t4, e4, r4);
        }, "l"), f2 = /* @__PURE__ */ __name(function(t4, e4) {
          var r4 = arguments.length > 2 ? arguments[2] : {}, n3 = o2(e4);
          i2 && (n3 = a2.call(n3, Object.getOwnPropertySymbols(e4)));
          for (var s3 = 0; s3 < n3.length; s3 += 1)
            l2(t4, n3[s3], e4[n3[s3]], r4[n3[s3]]);
        }, "f");
        f2.supportsDescriptors = !!c2, t3.exports = f2;
      }, 2307: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != a2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != a2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == a2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        function a2(t4) {
          return a2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, a2(t4);
        }
        __name(a2, "a");
        var u2 = r3(6365), c2 = r3(2945), l2 = r3(6426), f2 = r3(4327), p2 = r3(9460), h2 = r3(8768), y2 = u2.Binary, d2 = l2.CastError;
        function b2(t4, e4, r4, n3) {
          l2.call(this, t4, e4, "Buffer", n3);
        }
        __name(b2, "b");
        function m2(t4, e4) {
          return this.castForQuery(null, t4, e4);
        }
        __name(m2, "m");
        b2.schemaName = "Buffer", b2.defaultOptions = {}, b2.prototype = Object.create(l2.prototype), b2.prototype.constructor = b2, b2.prototype.OptionsConstructor = c2, b2._checkRequired = function(t4) {
          return !(!t4 || !t4.length);
        }, b2.set = l2.set, b2.setters = [], b2.get = l2.get, b2.checkRequired = l2.checkRequired, b2.prototype.checkRequired = function(t4, e4) {
          return l2._isRef(this, t4, e4, true) ? !!t4 : this.constructor._checkRequired(t4);
        }, b2.prototype.cast = function(t4, e4, r4, o3, i3) {
          var s3;
          if (l2._isRef(this, t4, e4, r4)) {
            if (t4 && t4.isMongooseBuffer)
              return t4;
            if (n2.isBuffer(t4))
              return t4 && t4.isMongooseBuffer || (t4 = new u2(t4, [this.path, e4]), null != this.options.subtype && (t4._subtype = this.options.subtype)), t4;
            if (t4 instanceof y2) {
              if (s3 = new u2(t4.value(true), [this.path, e4]), "number" != typeof t4.sub_type)
                throw new d2("Buffer", t4, this.path, null, this);
              return s3._subtype = t4.sub_type, s3;
            }
            if (null == t4 || h2.isNonBuiltinObject(t4))
              return this._castRef(t4, e4, r4, i3);
          }
          if (t4 && t4._id && (t4 = t4._id), t4 && t4.isMongooseBuffer)
            return t4;
          if (n2.isBuffer(t4))
            return t4 && t4.isMongooseBuffer || (t4 = new u2(t4, [this.path, e4]), null != this.options.subtype && (t4._subtype = this.options.subtype)), t4;
          if (t4 instanceof y2) {
            if (s3 = new u2(t4.value(true), [this.path, e4]), "number" != typeof t4.sub_type)
              throw new d2("Buffer", t4, this.path, null, this);
            return s3._subtype = t4.sub_type, s3;
          }
          if (null === t4)
            return t4;
          var c3 = a2(t4);
          if ("string" === c3 || "number" === c3 || Array.isArray(t4) || "object" === c3 && "Buffer" === t4.type && Array.isArray(t4.data))
            return "number" === c3 && (t4 = [t4]), s3 = new u2(t4, [this.path, e4]), null != this.options.subtype && (s3._subtype = this.options.subtype), s3;
          if (h2.isPOJO(t4) && (t4.$binary instanceof y2 || "string" == typeof t4.$binary)) {
            var f3 = this.cast(n2.from(t4.$binary, "base64"));
            if (null != t4.$type)
              return f3._subtype = t4.$type, f3;
          }
          throw new d2("Buffer", t4, this.path, null, this);
        }, b2.prototype.subtype = function(t4) {
          return this.options.subtype = t4, this;
        };
        var v2 = i2(i2({}, l2.prototype.$conditionalHandlers), {}, { $bitsAllClear: p2, $bitsAnyClear: p2, $bitsAllSet: p2, $bitsAnySet: p2, $gt: m2, $gte: m2, $lt: m2, $lte: m2 });
        Object.defineProperty(b2.prototype, "$conditionalHandlers", { enumerable: false, value: v2 }), b2.prototype.castForQuery = function(t4, e4, r4) {
          var n3, o3;
          if (null != t4) {
            if (!(n3 = this.$conditionalHandlers[t4]))
              throw new Error("Can't use " + t4 + " with Buffer.");
            return n3.call(this, e4);
          }
          try {
            o3 = this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof d2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
          return o3 ? o3.toObject({ transform: false, virtuals: false }) : o3;
        }, b2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return f2("string", "binData", null == t4 ? void 0 : t4.useBsonType, e4);
        }, b2.prototype.autoEncryptionType = function() {
          return "binData";
        }, t3.exports = b2;
      }, 2345: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(n2, "n");
        function o2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? n2(Object(r4), true).forEach(function(e5) {
              i2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : n2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != s2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != s2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == s2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2(t4) {
          return s2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, s2(t4);
        }
        __name(s2, "s");
        var a2 = r3(3672), u2 = r3(3731), c2 = r3(6426), l2 = r3(2477), f2 = r3(4327), p2 = r3(8260), h2 = r3(8768), y2 = c2.CastError;
        function d2(t4, e4, r4, n3) {
          c2.call(this, t4, e4, "Date", n3);
        }
        __name(d2, "d");
        function b2(t4) {
          return this.cast(t4);
        }
        __name(b2, "b");
        d2.schemaName = "Date", d2.defaultOptions = {}, d2.prototype = Object.create(c2.prototype), d2.prototype.constructor = d2, d2.prototype.OptionsConstructor = u2, d2._cast = l2, d2.set = c2.set, d2.setters = [], d2.get = c2.get, d2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, d2._defaultCaster = function(t4) {
          if (null != t4 && !(t4 instanceof Date))
            throw new Error();
          return t4;
        }, d2.prototype.expires = function(t4) {
          return "Object" !== p2(this._index) && (this._index = {}), this._index.expires = t4, h2.expires(this._index), this;
        }, d2._checkRequired = function(t4) {
          return t4 instanceof Date;
        }, d2.checkRequired = c2.checkRequired, d2.prototype.checkRequired = function(t4, e4) {
          return "object" === s2(t4) && c2._isRef(this, t4, e4, true) ? null != t4 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : d2.checkRequired())(t4);
        }, d2.prototype.min = function(t4, e4) {
          if (this.minValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.minValidator;
          }, this)), t4) {
            var r4 = e4 || a2.messages.Date.min;
            "string" == typeof r4 && (r4 = r4.replace(/{MIN}/, t4 === Date.now ? "Date.now()" : t4.toString()));
            var n3 = this;
            this.validators.push({ validator: this.minValidator = function(e5) {
              var r5 = t4;
              "function" == typeof t4 && t4 !== Date.now && (r5 = r5.call(this));
              var o3 = r5 === Date.now ? r5() : n3.cast(r5);
              return null === e5 || e5.valueOf() >= o3.valueOf();
            }, message: r4, type: "min", min: t4 });
          }
          return this;
        }, d2.prototype.max = function(t4, e4) {
          if (this.maxValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.maxValidator;
          }, this)), t4) {
            var r4 = e4 || a2.messages.Date.max;
            "string" == typeof r4 && (r4 = r4.replace(/{MAX}/, t4 === Date.now ? "Date.now()" : t4.toString()));
            var n3 = this;
            this.validators.push({ validator: this.maxValidator = function(e5) {
              var r5 = t4;
              "function" == typeof r5 && r5 !== Date.now && (r5 = r5.call(this));
              var o3 = r5 === Date.now ? r5() : n3.cast(r5);
              return null === e5 || e5.valueOf() <= o3.valueOf();
            }, message: r4, type: "max", max: t4 });
          }
          return this;
        }, d2.prototype.cast = function(t4) {
          var e4;
          e4 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : d2.cast();
          try {
            return e4(t4);
          } catch (e5) {
            throw new y2("date", t4, this.path, e5, this);
          }
        };
        var m2 = o2(o2({}, c2.prototype.$conditionalHandlers), {}, { $gt: b2, $gte: b2, $lt: b2, $lte: b2 });
        Object.defineProperty(d2.prototype, "$conditionalHandlers", { enumerable: false, value: m2 }), d2.prototype.castForQuery = function(t4, e4, r4) {
          if (null == t4)
            try {
              return this.applySetters(e4, r4);
            } catch (t5) {
              throw t5 instanceof y2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
            }
          var n3 = this.$conditionalHandlers[t4];
          if (!n3)
            throw new Error("Can't use " + t4 + " with Date.");
          return n3.call(this, e4);
        }, d2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return f2("string", "date", null == t4 ? void 0 : t4.useBsonType, e4);
        }, d2.prototype.autoEncryptionType = function() {
          return "date";
        }, t3.exports = d2;
      }, 2354: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(6730);
        t3.exports = Function.prototype.bind || n2;
      }, 2400: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4) {
          return function(t5) {
            if (Array.isArray(t5))
              return y2(t5);
          }(t4) || function(t5) {
            if ("undefined" != typeof Symbol && null != t5[Symbol.iterator] || null != t5["@@iterator"])
              return Array.from(t5);
          }(t4) || h2(t4) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
        __name(o2, "o");
        function i2() {
          var t4, e4, r4 = "function" == typeof Symbol ? Symbol : {}, n3 = r4.iterator || "@@iterator", o3 = r4.toStringTag || "@@toStringTag";
          function a3(r5, n4, o4, i3) {
            var a4 = n4 && n4.prototype instanceof c3 ? n4 : c3, l4 = Object.create(a4.prototype);
            return s2(l4, "_invoke", function(r6, n5, o5) {
              var i4, s3, a5, c4 = 0, l5 = o5 || [], f4 = false, p4 = { p: 0, n: 0, v: t4, a: h4, f: h4.bind(t4, 4), d: function(e5, r7) {
                return i4 = e5, s3 = 0, a5 = t4, p4.n = r7, u3;
              } };
              function h4(r7, n6) {
                for (s3 = r7, a5 = n6, e4 = 0; !f4 && c4 && !o6 && e4 < l5.length; e4++) {
                  var o6, i5 = l5[e4], h5 = p4.p, y4 = i5[2];
                  r7 > 3 ? (o6 = y4 === n6) && (a5 = i5[(s3 = i5[4]) ? 5 : (s3 = 3, 3)], i5[4] = i5[5] = t4) : i5[0] <= h5 && ((o6 = r7 < 2 && h5 < i5[1]) ? (s3 = 0, p4.v = n6, p4.n = i5[1]) : h5 < y4 && (o6 = r7 < 3 || i5[0] > n6 || n6 > y4) && (i5[4] = r7, i5[5] = n6, p4.n = y4, s3 = 0));
                }
                if (o6 || r7 > 1)
                  return u3;
                throw f4 = true, n6;
              }
              __name(h4, "h");
              return function(o6, l6, y4) {
                if (c4 > 1)
                  throw TypeError("Generator is already running");
                for (f4 && 1 === l6 && h4(l6, y4), s3 = l6, a5 = y4; (e4 = s3 < 2 ? t4 : a5) || !f4; ) {
                  i4 || (s3 ? s3 < 3 ? (s3 > 1 && (p4.n = -1), h4(s3, a5)) : p4.n = a5 : p4.v = a5);
                  try {
                    if (c4 = 2, i4) {
                      if (s3 || (o6 = "next"), e4 = i4[o6]) {
                        if (!(e4 = e4.call(i4, a5)))
                          throw TypeError("iterator result is not an object");
                        if (!e4.done)
                          return e4;
                        a5 = e4.value, s3 < 2 && (s3 = 0);
                      } else
                        1 === s3 && (e4 = i4.return) && e4.call(i4), s3 < 2 && (a5 = TypeError("The iterator does not provide a '" + o6 + "' method"), s3 = 1);
                      i4 = t4;
                    } else if ((e4 = (f4 = p4.n < 0) ? a5 : r6.call(n5, p4)) !== u3)
                      break;
                  } catch (e5) {
                    i4 = t4, s3 = 1, a5 = e5;
                  } finally {
                    c4 = 1;
                  }
                }
                return { value: e4, done: f4 };
              };
            }(r5, o4, i3), true), l4;
          }
          __name(a3, "a");
          var u3 = {};
          function c3() {
          }
          __name(c3, "c");
          function l3() {
          }
          __name(l3, "l");
          function f3() {
          }
          __name(f3, "f");
          e4 = Object.getPrototypeOf;
          var p3 = [][n3] ? e4(e4([][n3]())) : (s2(e4 = {}, n3, function() {
            return this;
          }), e4), h3 = f3.prototype = c3.prototype = Object.create(p3);
          function y3(t5) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t5, f3) : (t5.__proto__ = f3, s2(t5, o3, "GeneratorFunction")), t5.prototype = Object.create(h3), t5;
          }
          __name(y3, "y");
          return l3.prototype = f3, s2(h3, "constructor", f3), s2(f3, "constructor", l3), l3.displayName = "GeneratorFunction", s2(f3, o3, "GeneratorFunction"), s2(h3), s2(h3, o3, "Generator"), s2(h3, n3, function() {
            return this;
          }), s2(h3, "toString", function() {
            return "[object Generator]";
          }), (i2 = /* @__PURE__ */ __name(function() {
            return { w: a3, m: y3 };
          }, "i"))();
        }
        __name(i2, "i");
        function s2(t4, e4, r4, n3) {
          var o3 = Object.defineProperty;
          try {
            o3({}, "", {});
          } catch (t5) {
            o3 = 0;
          }
          s2 = /* @__PURE__ */ __name(function(t5, e5, r5, n4) {
            function i3(e6, r6) {
              s2(t5, e6, function(t6) {
                return this._invoke(e6, r6, t6);
              });
            }
            __name(i3, "i");
            e5 ? o3 ? o3(t5, e5, { value: r5, enumerable: !n4, configurable: !n4, writable: !n4 }) : t5[e5] = r5 : (i3("next", 0), i3("throw", 1), i3("return", 2));
          }, "s"), s2(t4, e4, r4, n3);
        }
        __name(s2, "s");
        function a2(t4, e4, r4, n3, o3, i3, s3) {
          try {
            var a3 = t4[i3](s3), u3 = a3.value;
          } catch (t5) {
            return void r4(t5);
          }
          a3.done ? e4(u3) : Promise.resolve(u3).then(n3, o3);
        }
        __name(a2, "a");
        function u2(t4) {
          return function() {
            var e4 = this, r4 = arguments;
            return new Promise(function(n3, o3) {
              var i3 = t4.apply(e4, r4);
              function s3(t5) {
                a2(i3, n3, o3, s3, u3, "next", t5);
              }
              __name(s3, "s");
              function u3(t5) {
                a2(i3, n3, o3, s3, u3, "throw", t5);
              }
              __name(u3, "u");
              s3(void 0);
            });
          };
        }
        __name(u2, "u");
        function c2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(c2, "c");
        function l2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? c2(Object(r4), true).forEach(function(e5) {
              f2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : c2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(l2, "l");
        function f2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != d2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != d2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == d2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(f2, "f");
        function p2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = h2(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var i3, s3 = true, a3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return s3 = t5.done, t5;
          }, e: function(t5) {
            a3 = true, i3 = t5;
          }, f: function() {
            try {
              s3 || null == r4.return || r4.return();
            } finally {
              if (a3)
                throw i3;
            }
          } };
        }
        __name(p2, "p");
        function h2(t4, e4) {
          if (t4) {
            if ("string" == typeof t4)
              return y2(t4, e4);
            var r4 = {}.toString.call(t4).slice(8, -1);
            return "Object" === r4 && t4.constructor && (r4 = t4.constructor.name), "Map" === r4 || "Set" === r4 ? Array.from(t4) : "Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? y2(t4, e4) : void 0;
          }
        }
        __name(h2, "h");
        function y2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(y2, "y");
        function d2(t4) {
          return d2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, d2(t4);
        }
        __name(d2, "d");
        var b2, m2, v2, g2 = r3(1417), _ = r3(3550).EventEmitter, O2 = r3(4224), w2 = r3(6365), S2 = r3(3672), $ = r3(5022), j2 = r3(6140), P2 = r3(3441), A2 = r3(1350), E2 = r3(1635), x2 = r3(7058), T2 = r3(8995), k2 = r3(6949), N2 = r3(9538), I2 = r3(6814), D2 = r3(5335), B2 = r3(4473), M2 = r3(4450), R2 = r3(2068).w, U2 = r3(2068).X, C2 = r3(1226), F2 = r3(7430).B, L2 = r3(5152), V2 = r3(791), q2 = r3(2692), J2 = r3(3216), z2 = r3(2746), K2 = r3(3305), H2 = r3(7300), W2 = r3(1793), G2 = r3(5188), Q2 = r3(7352).inspect, Y2 = r3(3303)._, Z2 = r3(1849), X2 = r3(6451), tt = r3(5678), et = r3(6223), rt = r3(3892), nt = r3(8768), ot = r3(542), it = nt.deepEqual, st = nt.isMongooseObject, at2 = r3(7930).arrayAtomicsBackupSymbol, ut = r3(7930).arrayAtomicsSymbol, ct2 = r3(7930).documentArrayParent, lt = r3(7930).documentIsModified, ft = r3(7930).documentModifiedPaths, pt = r3(7930).documentSchemaSymbol, ht = r3(7930).getSymbol, yt = r3(7930).modelSymbol, dt = r3(7930).populateModelSymbol, bt2 = r3(7930).scopeSymbol, mt = r3(7160).schemaMixedSymbol, vt = r3(5346), gt = r3(7930).sessionNewDocuments, _t = nt.specialProperties;
        function Ot(t4, e4, r4, n3) {
          if ("object" === d2(r4) && null != r4 && (r4 = (n3 = r4).skipId), n3 = Object.assign({}, n3), null == this.$__schema) {
            var o3 = nt.isObject(e4) && !e4.instanceOfSchema ? new x2(e4) : e4;
            this.$__setSchema(o3), e4 = r4, r4 = n3, n3 = arguments[4] || {};
          }
          if (this.$__ = new O2(), null != n3.isNew && true !== n3.isNew && (this.$isNew = n3.isNew), null != n3.priorDoc && (this.$__.priorDoc = n3.priorDoc), r4 && (this.$__.skipId = r4), null != t4 && "object" !== d2(t4))
            throw new A2(t4, "obj", "Document");
          var i3 = true;
          void 0 !== n3.defaults && (this.$__.defaults = n3.defaults, i3 = n3.defaults);
          var s3 = this.$__schema;
          "boolean" == typeof e4 || "throw" === e4 ? (true !== e4 && (this.$__.strictMode = e4), e4 = void 0) : true !== s3.options.strict && (this.$__.strictMode = s3.options.strict);
          var a3, u3 = p2(s3.requiredPaths(true));
          try {
            for (u3.s(); !(a3 = u3.n()).done; ) {
              var c3 = a3.value;
              this.$__.activePaths.require(c3);
            }
          } catch (t5) {
            u3.e(t5);
          } finally {
            u3.f();
          }
          var l3 = null;
          nt.isPOJO(e4) && Object.keys(e4).length > 0 && (l3 = W2(e4), this.$__.selected = e4, this.$__.exclude = l3);
          var f3 = false === l3 && e4 ? I2(e4) : null;
          if (null == this._doc && (this.$__buildDoc(t4, e4, r4, l3, f3, false), i3 && D2(this, e4, l3, f3, true, null, { skipParentChangeTracking: true })), t4 && (this.$__original_set ? this.$__original_set(t4, void 0, true, n3) : this.$set(t4, void 0, true, n3), t4 instanceof Ot && (this.$isNew = t4.$isNew)), n3.willInit && i3 ? n3.skipDefaults && (this.$__.skipDefaults = n3.skipDefaults) : i3 && D2(this, e4, l3, f3, false, n3.skipDefaults), !this.$__.strictMode && t4) {
            var h3 = this;
            Object.keys(this._doc).forEach(function(t5) {
              t5 in s3.tree || t5 in s3.methods || t5 in s3.virtuals || t5.startsWith("$") || U2({ prop: t5, subprops: null, prototype: h3 });
            });
          }
          !function(t5) {
            var e5 = t5.$__schema && t5.$__schema.callQueue;
            if (e5.length) {
              var r5, n4 = p2(e5);
              try {
                for (n4.s(); !(r5 = n4.n()).done; ) {
                  var o4 = r5.value;
                  "pre" !== o4[0] && "post" !== o4[0] && "on" !== o4[0] && t5[o4[0]].apply(t5, o4[1]);
                }
              } catch (t6) {
                n4.e(t6);
              } finally {
                n4.f();
              }
            }
          }(this);
        }
        __name(Ot, "Ot");
        for (var wt in Ot.prototype.$isMongooseDocumentPrototype = true, Object.defineProperty(Ot.prototype, "isNew", { get: function() {
          return this.$isNew;
        }, set: function(t4) {
          this.$isNew = t4;
        } }), Object.defineProperty(Ot.prototype, "errors", { get: function() {
          return this.$errors;
        }, set: function(t4) {
          this.$errors = t4;
        } }), Ot.prototype.$isNew = true, nt.each(["on", "once", "emit", "listeners", "removeListener", "setMaxListeners", "removeAllListeners", "addListener"], function(t4) {
          Ot.prototype[t4] = function() {
            if (!this.$__.emitter) {
              if ("emit" === t4)
                return;
              this.$__.emitter = new _(), this.$__.emitter.setMaxListeners(0);
            }
            return this.$__.emitter[t4].apply(this.$__.emitter, arguments);
          }, Ot.prototype["$".concat(t4)] = Ot.prototype[t4];
        }), Ot.prototype.constructor = Ot, _.prototype)
          Ot[wt] = _.prototype[wt];
        function St(t4, e4, r4) {
          if (null != t4)
            for (var n3 = Object.keys(r4.$__schema.paths), o3 = n3.length, i3 = -1 === e4.indexOf(".") ? [e4] : e4.split("."), s3 = 0; s3 < o3; ++s3) {
              var a3 = "", u3 = n3[s3];
              if (u3.startsWith(e4 + ".")) {
                var c3 = r4.$__schema.paths[u3], l3 = c3.splitPath().slice(i3.length), f3 = l3.length;
                if (void 0 !== c3.defaultValue)
                  for (var p3 = t4, h3 = 0; h3 < f3 && null != p3; ++h3) {
                    var y3 = l3[h3];
                    if (h3 === f3 - 1) {
                      if (void 0 !== p3[y3])
                        break;
                      try {
                        var d3 = c3.getDefault(r4, false);
                        void 0 !== d3 && (p3[y3] = d3);
                      } catch (t5) {
                        r4.invalidate(e4 + "." + a3, t5);
                        break;
                      }
                      break;
                    }
                    a3 += (a3.length ? "." : "") + y3, p3[y3] = p3[y3] || {}, p3 = p3[y3];
                  }
              }
            }
        }
        __name(St, "St");
        function $t(t4, e4, r4, n3, o3) {
          o3 = o3 || "", null != e4.$__ && (e4 = e4._doc);
          for (var i3, s3, a3, u3 = Object.keys(e4), c3 = u3.length, l3 = t4.$__.strictMode, f3 = t4.$__schema, p3 = 0; p3 < c3; ++p3)
            if (a3 = u3[p3], !_t.has(a3) && (s3 = o3 ? o3 + a3 : a3, i3 = f3.path(s3), !f3.$isRootDiscriminator || t4.$__isSelected(s3))) {
              var h3 = e4[a3];
              if (!i3 && nt.isPOJO(h3))
                r4[a3] || (r4[a3] = {}, l3 || a3 in f3.tree || a3 in f3.methods || a3 in f3.virtuals ? null != n3 && n3.virtuals && a3 in f3.virtuals && (t4[a3] = r4[a3]) : t4[a3] = r4[a3]), $t(t4, h3, r4[a3], n3, s3 + ".");
              else if (i3) {
                if (Object.hasOwn(r4, a3) && void 0 !== h3 && !n3.hydratedPopulatedDocs && delete r4[a3], null === h3)
                  r4[a3] = i3._castNullish(null);
                else if (void 0 !== h3) {
                  var y3 = null == h3.$__ ? null : h3.$__.wasPopulated;
                  if (!i3 || y3 || n3.hydratedPopulatedDocs)
                    if (i3 && n3.hydratedPopulatedDocs) {
                      var d3;
                      r4[a3] = i3.cast(h3, t4, true, void 0, { hydratedPopulatedDocs: true }), r4[a3] && r4[a3].$__ && r4[a3].$__.wasPopulated ? t4.$populated(s3, r4[a3].$__.wasPopulated.value, r4[a3].$__.wasPopulated.options) : Array.isArray(r4[a3]) && r4[a3].length && null !== (d3 = r4[a3][0]) && void 0 !== d3 && null !== (d3 = d3.$__) && void 0 !== d3 && d3.wasPopulated && t4.$populated(s3, r4[a3].map(function(t5) {
                        var e5;
                        return null == t5 || null === (e5 = t5.$__) || void 0 === e5 || null === (e5 = e5.wasPopulated) || void 0 === e5 ? void 0 : e5.value;
                      }).filter(function(t5) {
                        return null != t5;
                      }), r4[a3][0].$__.wasPopulated.options);
                    } else
                      r4[a3] = h3;
                  else
                    try {
                      n3 && n3.setters ? r4[a3] = i3.applySetters(h3, t4, false, null, n3) : r4[a3] = i3.cast(h3, t4, true, void 0, n3);
                    } catch (e5) {
                      t4.invalidate(e5.path, new N2({ path: e5.path, message: e5.message, type: "cast", value: e5.value, reason: e5 }));
                    }
                }
                t4.$isModified(s3) || t4.$__.activePaths.init(s3);
              } else
                r4[a3] = h3, l3 || o3 ? null != n3 && n3.virtuals && a3 in f3.virtuals && (t4[a3] = h3) : t4[a3] = h3;
            }
        }
        __name($t, "$t");
        function jt(t4) {
          if (null == t4)
            return true;
          if ("object" !== d2(t4) || Array.isArray(t4))
            return false;
          for (var e4 = 0, r4 = Object.keys(t4); e4 < r4.length; e4++)
            if (!jt(t4[r4[e4]]))
              return false;
          return true;
        }
        __name(jt, "jt");
        function Pt(t4, e4, r4, n3) {
          var o3 = {};
          !function(t5) {
            var e5 = Object.keys(t5.$__.activePaths.getStatePaths("require")), r5 = 0, n4 = e5.length;
            for (r5 = 0; r5 < n4; ++r5) {
              var o4 = e5[r5], i4 = t5.$__schema.path(o4);
              if (null != i4 && "function" == typeof i4.originalRequiredValue) {
                t5.$__.cachedRequired = t5.$__.cachedRequired || {};
                try {
                  t5.$__.cachedRequired[o4] = i4.originalRequiredValue.call(t5, t5);
                } catch (e6) {
                  t5.invalidate(o4, e6);
                }
              }
            }
          }(t4);
          var i3 = new Set(Object.keys(t4.$__.activePaths.getStatePaths("require")).filter(function(e5) {
            return !(!t4.$__isSelected(e5) && !t4.$isModified(e5)) && !e5.endsWith(".$*") && (null == t4.$__.cachedRequired || !(e5 in t4.$__.cachedRequired) || t4.$__.cachedRequired[e5]);
          }));
          function s3(t5) {
            t5.endsWith(".$*") || i3.add(t5);
          }
          __name(s3, "s");
          if (Object.keys(t4.$__.activePaths.getStatePaths("init")).forEach(s3), Object.keys(t4.$__.activePaths.getStatePaths("modify")).forEach(s3), Object.keys(t4.$__.activePaths.getStatePaths("default")).forEach(s3), !n3) {
            for (var a3 = [], u3 = 0, c3 = Object.keys(t4.$__schema.paths); u3 < c3.length; u3++) {
              var l3 = c3[u3], f3 = t4.$__schema.path(l3);
              if (f3.$isSingleNested) {
                var h3 = t4.$get(l3);
                h3 && a3.push(h3);
              } else if (f3.$isMongooseDocumentArray) {
                var y3 = t4.$get(l3);
                if (y3 && y3.length) {
                  var d3, b3 = p2(y3);
                  try {
                    for (b3.s(); !(d3 = b3.n()).done; ) {
                      var m3 = d3.value;
                      m3 && a3.push(m3);
                    }
                  } catch (t5) {
                    b3.e(t5);
                  } finally {
                    b3.f();
                  }
                }
              }
            }
            for (var v3 = t4.modifiedPaths(), g3 = 0, _2 = a3; g3 < _2.length; g3++) {
              var O3 = _2[g3];
              if (O3.$basePath) {
                var w3, S3 = O3.$__pathRelativeToParent(), $2 = p2(O3.modifiedPaths());
                try {
                  for ($2.s(); !(w3 = $2.n()).done; ) {
                    var j3 = w3.value;
                    i3.delete(S3 + "." + j3);
                  }
                } catch (t5) {
                  $2.e(t5);
                } finally {
                  $2.f();
                }
                var P3 = O3.$parent();
                if (null == P3)
                  throw new Error("Cannot validate subdocument that does not have a parent");
                !t4.$isModified(S3, null, v3) || Object.hasOwn(P3.$__.activePaths.getStatePaths("modify"), S3) || P3.$isDefault(S3) || (i3.add(S3), null == t4.$__.pathsToScopes && (t4.$__.pathsToScopes = {}), t4.$__.pathsToScopes[S3] = O3.$isDocumentArrayElement ? O3.__parentArray : O3.$parent(), o3[S3] = { skipSchemaValidators: true }, O3.$isDocumentArrayElement && null != O3.__index && (o3[S3].index = O3.__index));
              }
            }
          }
          var A3, E3 = p2(i3);
          try {
            for (E3.s(); !(A3 = E3.n()).done; ) {
              var x3 = A3.value, T3 = t4.$__schema.path(x3);
              if (T3) {
                if (T3.$isMongooseDocumentArray) {
                  var k3, N3 = p2(i3);
                  try {
                    for (N3.s(); !(k3 = N3.n()).done; ) {
                      var I3 = k3.value;
                      (null == I3 || I3.startsWith(T3.path + ".")) && i3.delete(I3);
                    }
                  } catch (t5) {
                    N3.e(t5);
                  } finally {
                    N3.f();
                  }
                }
                (T3.caster || 0 !== T3.validators.length || T3.$parentSchemaDocArray) && (!T3.$isMongooseArray || T3.$isMongooseDocumentArray || T3.$embeddedSchemaType.$isMongooseArray || 0 !== T3.validators.length || 0 !== T3.$embeddedSchemaType.validators.length) || i3.delete(x3);
              }
            }
          } catch (t5) {
            E3.e(t5);
          } finally {
            E3.f();
          }
          Array.isArray(e4) ? i3 = function(t5, e5) {
            var r5, n4 = new Set(e5), o4 = /* @__PURE__ */ new Map([]), i4 = p2(e5);
            try {
              for (i4.s(); !(r5 = i4.n()).done; ) {
                var s4 = r5.value;
                if (-1 !== s4.indexOf("."))
                  for (var a4 = s4.split("."), u4 = a4[0], c4 = 1; c4 < a4.length; ++c4)
                    o4.set(u4, s4), u4 = u4 + "." + a4[c4];
              }
            } catch (t6) {
              i4.e(t6);
            } finally {
              i4.f();
            }
            var l4, f4 = /* @__PURE__ */ new Set(), h4 = p2(t5);
            try {
              for (h4.s(); !(l4 = h4.n()).done; ) {
                var y4 = l4.value;
                n4.has(y4) ? f4.add(y4) : o4.has(y4) && f4.add(o4.get(y4));
              }
            } catch (t6) {
              h4.e(t6);
            } finally {
              h4.f();
            }
            return f4;
          }(i3, e4) : Array.isArray(r4) && (i3 = function(t5, e5) {
            return e5 = new Set(e5), t5 = Array.from(t5).filter(function(t6) {
              return !e5.has(t6);
            }), new Set(t5);
          }(i3, r4)), function(t5, e5) {
            var r5, n4 = p2(e5);
            try {
              for (n4.s(); !(r5 = n4.n()).done; ) {
                var o4 = r5.value, i4 = t5.$__schema.path(o4);
                i4 && i4.$isMongooseArray && (Array.isArray(i4) || !i4.$isMongooseDocumentArray || i4 && i4.schemaOptions && i4.schemaOptions.required) && (!i4.$isMongooseArray || i4.$isMongooseDocumentArray || i4.$embeddedSchemaType.$isMongooseArray || 0 !== i4.$embeddedSchemaType.validators.length) && At(t5.$__getValue(o4), e5, o4);
              }
            } catch (t6) {
              n4.e(t6);
            } finally {
              n4.f();
            }
          }(t4, i3);
          var D3, B3 = { skipArrays: true }, M3 = p2(i3);
          try {
            for (M3.s(); !(D3 = M3.n()).done; ) {
              var R3 = D3.value;
              if (t4.$__schema.nested[R3]) {
                var U3 = t4.$__getValue(R3);
                st(U3) && (U3 = U3.toObject({ transform: false }));
                for (var C3 = F2(U3, R3, B3, t4.$__schema), L3 = t4.$__schema.singleNestedPaths, V3 = 0, q3 = Object.keys(C3); V3 < q3.length; V3++) {
                  var J3 = q3[V3];
                  Object.hasOwn(L3, J3) || s3(J3);
                }
              }
            }
          } catch (t5) {
            M3.e(t5);
          } finally {
            M3.f();
          }
          var z3, K3 = p2(i3);
          try {
            for (K3.s(); !(z3 = K3.n()).done; ) {
              var H3 = z3.value, W3 = t4.$__schema.path(H3);
              if (W3 && (W3.$parentSchemaDocArray && "string" == typeof W3.$parentSchemaDocArray.path && i3.add(W3.$parentSchemaDocArray.path), W3.$isSchemaMap)) {
                var G3 = t4.$__getValue(H3);
                if (null != G3) {
                  var Q3, Y3 = p2(G3.keys());
                  try {
                    for (Y3.s(); !(Q3 = Y3.n()).done; ) {
                      var Z3 = Q3.value;
                      i3.add(H3 + "." + Z3);
                    }
                  } catch (t5) {
                    Y3.e(t5);
                  } finally {
                    Y3.f();
                  }
                }
              }
            }
          } catch (t5) {
            K3.e(t5);
          } finally {
            K3.f();
          }
          return [i3 = Array.from(i3), o3];
        }
        __name(Pt, "Pt");
        function At(t4, e4, r4) {
          if (null != t4)
            for (var n3 = t4.length, o3 = 0; o3 < n3; ++o3)
              Array.isArray(t4[o3]) ? At(t4[o3], e4, r4 + "." + o3) : e4.add(r4 + "." + o3);
        }
        __name(At, "At");
        function Et(t4, e4, r4, n3) {
          var o3, i3, s3, a3 = t4.$__schema, u3 = a3.virtuals, c3 = Object.keys(u3), l3 = c3.length, f3 = l3, p3 = t4._doc, h3 = "boolean" != typeof (n3 && n3.aliases) || n3.aliases;
          r4 = r4 || {};
          var y3 = null;
          if (Array.isArray(r4.virtuals))
            y3 = new Set(r4.virtuals);
          else if (r4.virtuals && r4.virtuals.pathsToSkip) {
            y3 = new Set(c3);
            for (var d3 = 0; d3 < r4.virtuals.pathsToSkip.length; d3++)
              y3.has(r4.virtuals.pathsToSkip[d3]) && y3.delete(r4.virtuals.pathsToSkip[d3]);
          }
          if (!p3)
            return e4;
          for (l3 = 0; l3 < f3; ++l3)
            if (o3 = c3[l3], (null == y3 || y3.has(o3)) && (h3 || !Object.hasOwn(a3.aliases, o3))) {
              if (i3 = o3, null != r4.path) {
                if (!o3.startsWith(r4.path + "."))
                  continue;
                i3 = o3.substring(r4.path.length + 1);
              }
              if (-1 !== i3.indexOf(".") || i3 !== o3) {
                var b3 = i3.split(".");
                if (void 0 !== (s3 = M2(t4.get(o3), r4))) {
                  var m3 = b3.length;
                  p3 = e4;
                  for (var v3 = 0; v3 < m3 - 1; ++v3)
                    p3[b3[v3]] = p3[b3[v3]] || {}, p3 = p3[b3[v3]];
                  p3[b3[m3 - 1]] = s3;
                }
              } else {
                if (void 0 === (s3 = u3[o3].applyGetters(void 0, t4)))
                  continue;
                s3 = M2(s3, r4), e4[i3] = s3;
              }
            }
          return e4;
        }
        __name(Et, "Et");
        function xt(t4, e4) {
          if (ot(e4))
            throw new Error("`transform` function must be synchronous, but the transform on path `" + t4 + "` returned a promise.");
        }
        __name(xt, "xt");
        function Tt(t4, e4, r4) {
          var n3 = t4.$populated(e4, true);
          if (!n3 && t4.$__.selected) {
            var o3 = e4.split(".")[0];
            if (t4.$__.selected[o3 + ".$"])
              return o3;
          }
          if (n3 && nt.isMongooseArray(r4) && (n3.options.match || n3.options.options && Object.hasOwn(n3.options.options, "limit") || n3.options.options && n3.options.options.skip || n3.options.select && (0 === n3.options.select._id || /\s?-_id\s?/.test(n3.options.select)))) {
            var i3 = r4[ut];
            if (0 === Object.keys(i3).length || i3.$set || i3.$pop)
              return e4;
          }
        }
        __name(Tt, "Tt");
        function kt(t4, e4, r4, n3, o3, i3) {
          if (i3 || (i3 = "$set"), r4[i3] || (r4[i3] = {}), r4[i3][n3.path] = o3, false !== t4.$__schema.options.versionKey && !function(t5, e5) {
            var r5 = t5.$__schema.options.skipVersioning;
            return !!r5 && r5[e5 = e5.replace(/\.\d+\./, ".")];
          }(t4, n3.path) && 3 & ~t4.$__.version && !t4.$__schema.options.optimisticConcurrency) {
            switch (i3) {
              case "$set":
              case "$unset":
              case "$pop":
              case "$pull":
              case "$pullAll":
              case "$push":
              case "$addToSet":
              case "$inc":
                break;
              default:
                return;
            }
            "$push" === i3 || "$addToSet" === i3 || "$pullAll" === i3 || "$pull" === i3 ? /\.\d+\.|\.\d+$/.test(n3.path) ? t4.$__.version = 3 : t4.$__.version |= 2 : /^\$p/.test(i3) || Array.isArray(o3) ? t4.$__.version = 3 : /\.\d+\.|\.\d+$/.test(n3.path) && (t4.$__.version |= 1);
          }
        }
        __name(kt, "kt");
        function Nt(t4, e4, r4, n3, o3) {
          if (!r4.$set || !r4.$set[n3.path])
            if ("function" != typeof o3.$__getAtomics) {
              var i3, s3, a3 = o3[ut], u3 = Object.keys(a3), c3 = u3.length;
              if (0 === c3)
                return nt.isMongooseObject(o3) ? o3 = o3.toObject({ depopulate: 1, _isNested: true }) : o3.valueOf && (o3 = o3.valueOf()), kt(t4, 0, r4, n3, o3);
              for (; c3--; )
                i3 = a3[s3 = u3[c3]], nt.isMongooseObject(i3) ? i3 = i3.toObject({ depopulate: true, transform: false, _isNested: true }) : Array.isArray(i3) ? i3 = i3.map(l3) : i3.valueOf && (i3 = i3.valueOf()), "$addToSet" === s3 && (i3 = { $each: i3 }), kt(t4, 0, r4, n3, i3, s3);
            } else
              o3.$__getAtomics().forEach(function(e5) {
                var o4 = e5[0], i4 = e5[1];
                kt(t4, 0, r4, n3, i4, o4);
              });
          function l3(t5) {
            return nt.isMongooseObject(t5) ? t5.toObject({ depopulate: 1, _isNested: true }) : t5;
          }
          __name(l3, "l");
        }
        __name(Nt, "Nt");
        Ot.prototype.$__schema, Ot.prototype.schema, Object.defineProperty(Ot.prototype, "$locals", { configurable: false, enumerable: false, get: function() {
          return null == this.$__.locals && (this.$__.locals = {}), this.$__.locals;
        }, set: function(t4) {
          this.$__.locals = t4;
        } }), Ot.prototype.isNew, Object.defineProperty(Ot.prototype, "$where", { configurable: false, enumerable: false, writable: true }), Ot.prototype.id, Ot.prototype.$errors, Object.defineProperty(Ot.prototype, "$op", { get: function() {
          return this.$__.op || null;
        }, set: function(t4) {
          this.$__.op = t4;
        } }), Ot.prototype.$__buildDoc = function(t4, e4, r4, n3, o3) {
          for (var i3 = {}, s3 = Object.keys(this.$__schema.paths).filter(function(t5) {
            return !t5.includes("$*");
          }), a3 = s3.length, u3 = 0; u3 < a3; ++u3) {
            var c3 = s3[u3];
            if ("_id" === c3) {
              if (r4)
                continue;
              if (t4 && "_id" in t4)
                continue;
            }
            for (var l3 = this.$__schema.paths[c3].splitPath(), f3 = l3.length, p3 = f3 - 1, h3 = "", y3 = i3, d3 = false, b3 = 0; b3 < f3; ++b3) {
              var m3 = l3[b3];
              if (h3.length ? h3 += "." + m3 : h3 = m3, true === n3) {
                if (h3 in e4)
                  break;
              } else if (false === n3 && e4 && !d3) {
                if (h3 in e4)
                  d3 = true;
                else if (!o3[h3])
                  break;
              }
              b3 < p3 && (y3 = y3[m3] || (y3[m3] = {}));
            }
          }
          this._doc = i3;
        }, Ot.prototype.toBSON = function() {
          return this.toObject(Y2);
        }, Ot.prototype.init = function(t4, e4, r4) {
          if ("function" == typeof e4 && (r4 = e4, e4 = null), null == t4)
            throw new A2(t4, "doc", "init");
          return this.$__init(t4, e4), r4 && r4(null, this), this;
        }, Ot.prototype.$init = function() {
          return this.constructor.prototype.init.apply(this, arguments);
        }, Ot.prototype.$__init = function(t4, e4) {
          if (this.$isNew = false, e4 = e4 || {}, null != t4._id && e4.populated && e4.populated.length) {
            var r4, n3 = String(t4._id), o3 = p2(e4.populated);
            try {
              for (o3.s(); !(r4 = o3.n()).done; ) {
                var i3 = r4.value;
                if (i3.isVirtual ? this.$populated(i3.path, nt.getValue(i3.path, t4), i3) : this.$populated(i3.path, i3._docs[n3], i3), null != i3._childDocs) {
                  var s3, a3 = p2(i3._childDocs);
                  try {
                    for (a3.s(); !(s3 = a3.n()).done; ) {
                      var u3 = s3.value;
                      null != u3 && null != u3.$__ && (u3.$__.parent = this);
                    }
                  } catch (t5) {
                    a3.e(t5);
                  } finally {
                    a3.f();
                  }
                  i3._childDocs = [];
                }
              }
            } catch (t5) {
              o3.e(t5);
            } finally {
              o3.f();
            }
          }
          $t(this, t4, this._doc, e4), Z2(this, e4.populated), this.$emit("init", this), this.constructor.emit("init", this);
          var c3 = false === this.$__.exclude && this.$__.selected ? I2(this.$__.selected) : null;
          return D2(this, this.$__.selected, this.$__.exclude, c3, false, this.$__.skipDefaults), this;
        }, Ot.prototype.updateOne = function(t4, e4, r4) {
          var n3 = this.constructor.updateOne({ _id: this._doc._id }, t4, e4), o3 = this;
          return n3.pre(function(t5) {
            o3.constructor._middleware.execPre("updateOne", o3, [o3], t5);
          }), n3.post(function(t5) {
            o3.constructor._middleware.execPost("updateOne", o3, [o3], {}, t5);
          }), null != this.$session() && ("session" in n3.options || (n3.options.session = this.$session())), null != r4 ? n3.exec(r4) : n3;
        }, Ot.prototype.replaceOne = function() {
          var t4 = Array.prototype.slice.call(arguments);
          return t4.unshift({ _id: this._doc._id }), this.constructor.replaceOne.apply(this.constructor, t4);
        }, Ot.prototype.$session = function(t4) {
          if (0 === arguments.length)
            return null != this.$__.session && this.$__.session.hasEnded ? (this.$__.session = null, null) : this.$__.session;
          if (null != t4 && t4.hasEnded)
            throw new S2("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");
          if (null != t4 || null != this.$__.session) {
            if (this.$__.session = t4, !this.$isSubdocument) {
              var e4, r4 = p2(this.$getAllSubdocs());
              try {
                for (r4.s(); !(e4 = r4.n()).done; )
                  e4.value.$session(t4);
              } catch (t5) {
                r4.e(t5);
              } finally {
                r4.f();
              }
            }
            return t4;
          }
        }, Ot.prototype.$timestamps = function(t4) {
          return 0 === arguments.length ? null != this.$__.timestamps ? this.$__.timestamps : this.$__schema ? this.$__schema.options.timestamps : void 0 : (t4 !== this.$timestamps() && (this.$__.timestamps = t4), this);
        }, Ot.prototype.overwrite = function(t4) {
          for (var e4 = 0, r4 = Array.from(new Set(Object.keys(this._doc).concat(Object.keys(t4)))); e4 < r4.length; e4++) {
            var n3 = r4[e4];
            "_id" !== n3 && (this.$__schema.options.versionKey && n3 === this.$__schema.options.versionKey || this.$__schema.options.discriminatorKey && n3 === this.$__schema.options.discriminatorKey || this.$set(n3, t4[n3]));
          }
          return this;
        }, Ot.prototype.$set = function(t4, e4, r4, n3) {
          var o3 = this;
          nt.isPOJO(r4) && (n3 = r4, r4 = void 0);
          var i3, s3, a3, u3, c3 = n3 && n3.merge, h3 = r4 && true !== r4, y3 = true === r4, b3 = 0, m3 = n3 && "strict" in n3, v3 = m3 ? n3.strict : this.$__.strictMode;
          if (h3 && ((this.$__.adhocPaths || (this.$__.adhocPaths = {}))[t4] = this.$__schema.interpretAsType(t4, r4, this.$__schema.options)), null == t4) {
            var g3 = [e4, t4];
            t4 = g3[0], e4 = g3[1];
          } else if ("string" != typeof t4) {
            if (t4 instanceof Ot && (t4 = t4.$__isNested ? t4.toObject() : t4.$__schema === this.$__schema ? Et(t4, l2({}, t4._doc)) : t4._doc), null == t4) {
              var _2 = [e4, t4];
              t4 = _2[0], e4 = _2[1];
            }
            u3 = e4 ? e4 + "." : "";
            var O3 = (i3 = V2(this.$__schema, t4)).length, w3 = n3 && n3._skipMinimizeTopLevel || false;
            if (0 === O3 && w3)
              return delete n3._skipMinimizeTopLevel, e4 && this.$set(e4, {}), this;
            n3 = Object.assign({}, n3, { _skipMinimizeTopLevel: false });
            for (var j3 = 0; j3 < O3; ++j3) {
              a3 = i3[j3];
              var A3 = u3 ? u3 + a3 : a3;
              s3 = this.$__schema.pathType(A3);
              var E3 = t4[a3];
              if (true !== r4 || u3 || null == E3 || "nested" !== s3 || null == this._doc[a3] || delete this._doc[a3], nt.isNonBuiltinObject(E3) && "nested" === s3)
                this.$set(A3, E3, y3, n3), St(this.$get(A3), A3, this);
              else if (v3) {
                if (y3 && void 0 === E3 && void 0 !== this.$get(A3))
                  continue;
                if ("adhocOrUndefined" === s3 && (s3 = L2(this, A3, { typeOnly: true })), "real" === s3 || "virtual" === s3)
                  this.$set(A3, E3, y3, n3);
                else if ("nested" === s3 && E3 instanceof Ot)
                  this.$set(A3, E3.toObject({ transform: false }), y3, n3);
                else {
                  if ("throw" === v3)
                    throw "nested" === s3 ? new P2(a3, E3) : new T2(a3);
                  "nested" === s3 && null == E3 && this.$set(A3, E3, y3, n3);
                }
              } else
                this.$set(A3, E3, y3, n3);
            }
            for (var x3 = {}, k3 = Object.keys(this.$__schema.tree), N3 = 0, I3 = k3.length; N3 < I3; ++N3)
              (a3 = k3[N3]) && Object.hasOwn(this._doc, a3) && (x3[a3] = void 0);
            return this._doc = Object.assign(x3, this._doc), this;
          }
          var D3 = this.$__schema.pathType(t4), M3 = null;
          if ("adhocOrUndefined" === D3 && (M3 = -1 === t4.indexOf(".") ? [t4] : t4.split("."), D3 = L2(this, M3, { typeOnly: true })), "adhocOrUndefined" === D3 && !m3) {
            null == M3 && (M3 = -1 === t4.indexOf(".") ? [t4] : t4.split("."));
            var R3 = q2(this.$__schema, M3);
            void 0 !== R3 && (v3 = R3);
          }
          e4 = J2(e4, true);
          var U3, C3 = null != o3.$__.priorDoc ? o3.$__.priorDoc.$__getValue(t4) : y3 ? void 0 : o3.$__getValue(t4);
          if ("nested" === D3 && e4) {
            if ("object" === d2(e4) && null != e4) {
              if (null != e4.$__ && (e4 = e4.toObject(Y2)), null == e4)
                return this.invalidate(t4, new S2.CastError("Object", e4, t4)), this;
              var F3 = this.$isModified(t4), z3 = null != this.$__.savedState && Object.hasOwn(this.$__.savedState, t4);
              if (null != this.$__.savedState && !this.$isNew && !Object.hasOwn(this.$__.savedState, t4)) {
                var K3 = this.$__getValue(t4);
                this.$__.savedState[t4] = K3;
                for (var H3 = 0, W3 = Object.keys(K3 || {}); H3 < W3.length; H3++) {
                  var G3 = W3[H3];
                  this.$__.savedState[t4 + "." + G3] = K3[G3];
                }
              }
              if (c3)
                return this.$set(e4, t4, y3, n3);
              this.$__setValue(t4, null), B2(this, t4);
              var Q3 = V2(this.$__schema, e4, t4);
              this.$__setValue(t4, {});
              var Z3, X3 = p2(Q3);
              try {
                for (X3.s(); !(Z3 = X3.n()).done; ) {
                  var et2 = Z3.value;
                  this.$set(t4 + "." + et2, e4[et2], y3, l2(l2({}, n3), {}, { _skipMarkModified: true }));
                }
              } catch (t5) {
                X3.e(t5);
              } finally {
                X3.f();
              }
              return null == C3 || F3 && !z3 || !nt.deepEqual(z3 ? this.$__.savedState[t4] : C3, e4) ? this.markModified(t4) : this.unmarkModified(t4), this;
            }
            return this.invalidate(t4, new S2.CastError("Object", e4, t4)), this;
          }
          if (null == M3 && (M3 = -1 === t4.indexOf(".") ? [t4] : t4.split(".")), "string" == typeof this.$__schema.aliases[M3[0]] && (M3[0] = this.$__schema.aliases[M3[0]]), "adhocOrUndefined" === D3 && v3) {
            var rt2;
            for (b3 = 0; b3 < M3.length; ++b3) {
              var ot2 = M3.slice(0, b3 + 1).join(".");
              if (b3 + 1 < M3.length && "virtual" === this.$__schema.pathType(ot2))
                return tt.set(t4, e4, this), this;
              if (null != (U3 = this.$__schema.path(ot2))) {
                if (U3 instanceof $) {
                  rt2 = true;
                  break;
                }
                if (U3.$isSchemaMap && U3.$__schemaType instanceof $ && b3 < M3.length - 1) {
                  rt2 = true, U3 = U3.$__schemaType;
                  break;
                }
              }
            }
            if (null == U3 && (U3 = L2(this, t4)), !rt2 && !U3) {
              if ("throw" === v3)
                throw new T2(t4);
              return this;
            }
          } else {
            if ("virtual" === D3)
              return (U3 = this.$__schema.virtualpath(t4)).applySetters(e4, this), this;
            U3 = this.$__path(t4);
          }
          var it2, st2 = this._doc, at3 = "";
          for (b3 = 0; b3 < M3.length - 1; ++b3)
            st2 = st2 instanceof Map ? st2.get(M3[b3]) : st2[M3[b3]], at3 += (0 !== at3.length ? "." : "") + M3[b3], st2 || (this.$set(at3, {}), this.$__isSelected(at3) || this.unmarkModified(at3), st2 = this.$__getValue(at3));
          if (M3.length <= 1)
            it2 = t4;
          else {
            var ut2 = M3.length;
            for (b3 = 0; b3 < ut2; ++b3) {
              var ct3 = M3.slice(0, b3 + 1).join(".");
              if (null === this.$get(ct3, null, { getters: false })) {
                it2 = ct3;
                break;
              }
            }
            it2 || (it2 = t4);
          }
          if (!U3)
            return this.$__set(it2, t4, n3, y3, M3, U3, e4, C3), "nested" === D3 && null == e4 && B2(this, t4), this;
          if ((U3.$isSingleNested || U3.$isMongooseArray) && function(t5, e5) {
            if (t5.$__.validationError) {
              for (var r5 = 0, n4 = Object.keys(t5.$__.validationError.errors); r5 < n4.length; r5++) {
                var o4 = n4[r5];
                o4.startsWith(e5 + ".") && delete t5.$__.validationError.errors[o4];
              }
              0 === Object.keys(t5.$__.validationError.errors).length && (t5.$__.validationError = null);
            }
          }(this, t4), null != e4 && c3 && U3.$isSingleNested) {
            e4 instanceof Ot && (e4 = e4.toObject({ virtuals: false, transform: false }));
            for (var lt2 = 0, ft2 = Object.keys(e4); lt2 < ft2.length; lt2++) {
              var pt2 = ft2[lt2];
              this.$set(t4 + "." + pt2, e4[pt2], y3, n3);
            }
            return this;
          }
          var ht2 = true;
          try {
            var bt3, mt2 = function() {
              if (null == U3.options)
                return false;
              if (!(e4 instanceof Ot))
                return false;
              var t5 = e4.constructor, r5 = "function" != typeof U3.options.ref || U3.options.ref[yt] ? U3.options.ref : U3.options.ref.call(o3, o3), n4 = (null == r5 ? void 0 : r5.modelName) || r5;
              if (null != n4 && (n4 === t5.modelName || n4 === t5.baseModelName))
                return true;
              var i4 = U3.options.refPath;
              if (null == i4)
                return false;
              var s4 = e4.get(i4);
              return s4 === t5.modelName || s4 === t5.baseModelName;
            }(), _t2 = false;
            if (mt2 && e4 instanceof Ot && (!e4.$__.wasPopulated || nt.deepEqual(e4.$__.wasPopulated.value, e4._doc._id))) {
              var wt2 = U3 && U3.$isSingleNested ? U3.cast(e4, this) : e4._doc._id;
              this.$populated(t4, wt2, f2({}, dt, e4.constructor)), e4.$__.wasPopulated = { value: wt2 }, _t2 = true;
            }
            var $t2 = this.$__schema.options.typeKey;
            if (U3.options && Array.isArray(U3.options[$t2]) && U3.options[$t2].length && U3.options[$t2][0] && U3.options[$t2][0].ref && function(t5, e5) {
              if (!Array.isArray(t5))
                return false;
              if (0 === t5.length)
                return false;
              var r5, n4 = p2(t5);
              try {
                for (n4.s(); !(r5 = n4.n()).done; ) {
                  var o4 = r5.value;
                  if (!(o4 instanceof Ot))
                    return false;
                  if (null == o4.constructor.modelName)
                    return false;
                  if (o4.constructor.modelName != e5 && o4.constructor.baseModelName != e5)
                    return false;
                }
              } catch (t6) {
                n4.e(t6);
              } finally {
                n4.f();
              }
              return true;
            }(e4, U3.options[$t2][0].ref)) {
              bt3 = f2({}, dt, e4[0].constructor), this.$populated(t4, e4.map(function(t5) {
                return t5._doc._id;
              }), bt3);
              var jt2, Pt2 = p2(e4);
              try {
                for (Pt2.s(); !(jt2 = Pt2.n()).done; ) {
                  var At2 = jt2.value;
                  At2.$__.wasPopulated = { value: At2._doc._id };
                }
              } catch (t5) {
                Pt2.e(t5);
              } finally {
                Pt2.f();
              }
              _t2 = true;
            }
            if (!mt2 || !U3.$isSingleNested || !e4.$__) {
              var xt2 = this;
              null != this.$__schema.singleNestedPaths[t4] && M3.length > 1 && (xt2 = vt(this, M3, this.schema)), e4 = null != n3 && n3.overwriteImmutable ? U3.applySetters(e4, xt2, false, C3, { path: t4, overwriteImmutable: true }) : U3.applySetters(e4, xt2, false, C3, { path: t4 });
            }
            if (Array.isArray(e4) && !Array.isArray(U3) && U3.$isMongooseDocumentArray && 0 !== e4.length && null != e4[0] && null != e4[0].$__ && null != e4[0].$__.populated) {
              for (var Tt2 = Object.keys(e4[0].$__.populated), kt2 = function() {
                var r5 = It[Nt2];
                o3.$populated(t4 + "." + r5, e4.map(function(t5) {
                  return t5.$populated(r5);
                }), e4[0].$__.populated[r5].options);
              }, Nt2 = 0, It = Tt2; Nt2 < It.length; Nt2++)
                kt2();
              _t2 = true;
            }
            if (!_t2 && this.$__.populated) {
              if (Array.isArray(e4) && this.$__.populated[t4])
                for (var Dt = 0; Dt < e4.length; ++Dt)
                  e4[Dt] instanceof Ot && e4.set(Dt, e4[Dt]._doc._id, true);
              delete this.$__.populated[t4];
            }
            null != e4 && U3.$isSingleNested && function(t5, e5, r5) {
              var n4 = e5.schema;
              if (null != n4)
                for (var o4 = 0, i4 = Object.keys(n4.paths); o4 < i4.length; o4++) {
                  var s4 = i4[o4], a4 = n4.paths[s4];
                  if (null != a4.$immutableSetter) {
                    var u4 = null == r5 ? void 0 : r5.$__getValue(s4);
                    a4.$immutableSetter.call(t5, u4);
                  }
                }
            }(e4, U3, C3), this.$markValid(t4);
          } catch (r5) {
            r5 instanceof S2.StrictModeError && r5.isImmutableError ? this.invalidate(t4, r5) : r5 instanceof S2.CastError ? (this.invalidate(r5.path, r5), r5.$originalErrorPath && this.invalidate(t4, new S2.CastError(U3.instance, e4, t4, r5.$originalErrorPath))) : this.invalidate(t4, new S2.CastError(U3.instance, e4, t4, r5)), ht2 = false;
          }
          if (ht2) {
            var Bt, Mt = null, Rt = null;
            if (!y3) {
              var Ut = this.$isSubdocument ? this.ownerDocument() : this;
              Mt = Ut.$__.savedState, Rt = this.$isSubdocument ? this.$__.fullPath + "." + t4 : t4, Ut.$__saveInitialState(Rt);
            }
            this.$__set(it2, t4, n3, y3, M3, U3, e4, C3);
            var Ct = !(null === (Bt = this.$__.session) || void 0 === Bt || !Bt.transaction), Ft = this.$__.session && this.$__.session[gt] && this.$__.session[gt].has(this) && this.$__.session[gt].get(this).modifiedPaths && !this.$__.session[gt].get(this).modifiedPaths.has(Rt);
            null != Mt && Object.hasOwn(Mt, Rt) && (!Ct || Ft) && nt.deepEqual(e4, Mt[Rt]) && this.unmarkModified(t4);
          }
          return (U3.$isSingleNested && (this.isDirectModified(t4) || null == e4) || U3.$isSchemaMap && null == e4) && B2(this, t4), this;
        }, Ot.prototype.set = Ot.prototype.$set, Ot.prototype.$__shouldModify = function(t4, e4, r4, n3, o3, i3, s3, a3) {
          return !(r4 && r4._skipMarkModified || !this.$isNew && !(e4 in this.$__.activePaths.getStatePaths("modify")) && (void 0 !== s3 || this.$__isSelected(e4)) && (void 0 === s3 && e4 in this.$__.activePaths.getStatePaths("default") || this.$populated(e4) && s3 instanceof Ot && it(s3._doc._id, a3) || it(s3, void 0 !== a3 ? a3 : nt.getValue(e4, this)) && (n3 || null == s3 || !(e4 in this.$__.activePaths.getStatePaths("default")) || !it(s3, i3.getDefault(this, n3)))));
        }, Ot.prototype.$__set = function(t4, e4, n3, o3, i3, s3, a3, u3) {
          v2 = v2 || r3(6547);
          var c3 = this.$__shouldModify(t4, e4, n3, o3, i3, s3, a3, u3);
          c3 ? (this.$__.primitiveAtomics && this.$__.primitiveAtomics[e4] && (delete this.$__.primitiveAtomics[e4], 0 === Object.keys(this.$__.primitiveAtomics).length && delete this.$__.primitiveAtomics), this.markModified(t4), m2 || (m2 = r3(7557)), a3 && nt.isMongooseArray(a3) && (a3._registerAtomic("$set", a3), nt.isMongooseDocumentArray(a3) && a3.forEach(function(t5) {
            t5 && t5.__parentArray && (t5.__parentArray = a3);
          }))) : Array.isArray(a3) && Array.isArray(u3) && nt.isMongooseArray(a3) && nt.isMongooseArray(u3) && (a3[ut] = u3[ut], a3[at2] = u3[at2], nt.isMongooseDocumentArray(a3) && a3.forEach(function(t5) {
            null != t5 && (t5.$isNew = false);
          }));
          for (var l3 = this._doc, f3 = 0, p3 = i3.length, h3 = ""; f3 < p3; f3++) {
            var y3 = f3 + 1 === p3;
            if (h3 += h3 ? "." + i3[f3] : i3[f3], !_t.has(i3[f3]))
              if (y3)
                l3 instanceof Map ? l3.set(i3[f3], a3) : l3.$isSingleNested ? (i3[f3] in l3 || (l3[i3[f3]] = a3), l3._doc[i3[f3]] = a3, c3 && l3.markModified(i3[f3])) : l3[i3[f3]] = a3;
              else {
                var d3 = l3 instanceof Map, b3 = d3 ? l3.get(i3[f3]) : l3[i3[f3]];
                nt.isPOJO(b3) || b3 && b3 instanceof v2 || b3 && !Array.isArray(b3) && b3.$isSingleNested || b3 && Array.isArray(b3) ? l3 = b3 : null == b3 ? (b3 = {}, d3 ? l3.set(i3[f3], b3) : l3[i3[f3]] = b3, l3 = b3) : l3 = b3;
              }
          }
        }, Ot.prototype.$__getValue = function(t4) {
          if ("string" != typeof t4 && !Array.isArray(t4))
            throw new TypeError('Invalid `path`. Must be either string or array. Got "'.concat(t4, '" (type ').concat(d2(t4), ")"));
          return nt.getValue(t4, this._doc);
        }, Ot.prototype.$inc = function(t4, e4) {
          var r4 = this;
          if (null == e4 && (e4 = 1), Array.isArray(t4))
            return t4.forEach(function(t5) {
              return r4.$inc(t5, e4);
            }), this;
          var n3 = this.$__path(t4);
          if (null == n3) {
            if ("throw" === this.$__.strictMode)
              throw new T2(t4);
            if (true === this.$__.strictMode)
              return this;
          } else if ("Number" !== n3.instance)
            return this.invalidate(t4, new S2.CastError(n3.instance, e4, t4)), this;
          var o3 = this.$__getValue(t4) || 0, i3 = false, s3 = null, a3 = e4;
          try {
            e4 = n3.cast(e4), a3 = (s3 = n3.applySetters(o3 + e4, this)) - o3, i3 = true;
          } catch (r5) {
            this.invalidate(t4, new S2.CastError("number", e4, t4, r5));
          }
          return i3 && (this.$__.primitiveAtomics = this.$__.primitiveAtomics || {}, null == this.$__.primitiveAtomics[t4] ? this.$__.primitiveAtomics[t4] = { $inc: a3 } : this.$__.primitiveAtomics[t4].$inc += a3, this.markModified(t4), this.$__setValue(t4, s3)), this;
        }, Ot.prototype.$__setValue = function(t4, e4) {
          return nt.setValue(t4, e4, this._doc), this;
        }, Ot.prototype.get = function(t4, e4, r4) {
          var n3;
          null == r4 && (r4 = {}), e4 && (n3 = this.$__schema.interpretAsType(t4, e4, this.$__schema.options));
          var o3 = r4.noDottedPath, i3 = o3 ? this.$__schema.paths[t4] : this.$__path(t4);
          if (null == i3 && null != (i3 = this.$__schema.virtualpath(t4)))
            return i3.applyGetters(void 0, this);
          if (o3) {
            var s3 = this._doc[t4];
            return n3 && (s3 = n3.cast(s3)), null != i3 && false !== r4.getters ? i3.applyGetters(s3, this) : s3;
          }
          if (null != i3 && "Mixed" === i3.instance) {
            var a3 = this.$__schema.virtualpath(t4);
            null != a3 && (i3 = a3);
          }
          var u3 = -1 !== t4.indexOf("."), c3 = this._doc, l3 = u3 ? t4.split(".") : [t4];
          "string" == typeof this.$__schema.aliases[l3[0]] && (l3[0] = this.$__schema.aliases[l3[0]]);
          for (var f3 = 0, p3 = l3.length; f3 < p3; f3++)
            c3 && c3._doc && (c3 = c3._doc), c3 = null == c3 ? void 0 : c3 instanceof Map ? c3.get(l3[f3], { getters: false }) : f3 === p3 - 1 ? nt.getValue(l3[f3], c3) : c3[l3[f3]];
          if (n3 && (c3 = n3.cast(c3)), null != i3 && false !== r4.getters)
            c3 = i3.applyGetters(c3, this);
          else if (this.$__schema.nested[t4] && r4.virtuals)
            return Et(this, M2(c3) || {}, { path: t4 });
          return c3;
        }, Ot.prototype[ht] = Ot.prototype.get, Ot.prototype.$get = Ot.prototype.get, Ot.prototype.$__path = function(t4) {
          var e4 = this.$__.adhocPaths;
          return (e4 && Object.hasOwn(e4, t4) ? e4[t4] : null) || this.$__schema.path(t4);
        }, Ot.prototype.markModified = function(t4, e4) {
          this.$__saveInitialState(t4), this.$__.activePaths.modify(t4), null == e4 || this.$isSubdocument || (this.$__.pathsToScopes = this.$__pathsToScopes || {}, this.$__.pathsToScopes[t4] = e4);
        }, Ot.prototype.$__saveInitialState = function(t4) {
          var e4 = this.$__.savedState, r4 = t4;
          if (null != e4) {
            var n3 = r4.indexOf("."), o3 = -1 === n3 ? r4 : r4.slice(0, n3);
            Object.hasOwn(e4, o3) || (e4[o3] = M2(this.$__getValue(o3)));
          }
        }, Ot.prototype.unmarkModified = function(t4) {
          this.$__.activePaths.init(t4), null != this.$__.pathsToScopes && delete this.$__.pathsToScopes[t4];
        }, Ot.prototype.$ignore = function(t4) {
          this.$__.activePaths.ignore(t4);
        }, Ot.prototype.directModifiedPaths = function() {
          return Object.keys(this.$__.activePaths.getStatePaths("modify"));
        }, Ot.prototype.$isEmpty = function(t4) {
          var e4 = { minimize: true, virtuals: false, getters: false, transform: false };
          if (0 !== arguments.length) {
            var r4 = this.$get(t4);
            return null == r4 || "object" === d2(r4) && (nt.isPOJO(r4) ? jt(r4) : 0 === Object.keys(r4.toObject(e4)).length);
          }
          return 0 === Object.keys(this.toObject(e4)).length;
        }, Ot.prototype.modifiedPaths = function(t4) {
          t4 = t4 || {};
          var e4 = Object.keys(this.$__.activePaths.getStatePaths("modify")), r4 = /* @__PURE__ */ new Set(), n3 = 0, o3 = 0, i3 = e4.length;
          for (n3 = 0; n3 < i3; ++n3) {
            var s3 = e4[n3], a3 = et(s3), u3 = a3.length;
            for (o3 = 0; o3 < u3; ++o3)
              r4.add(a3[o3]);
            if (t4.includeChildren) {
              var c3 = 0, l3 = this.$get(s3);
              if ("object" === d2(l3) && null !== l3) {
                l3._doc && (l3 = l3._doc);
                var f3 = l3.length;
                if (Array.isArray(l3))
                  for (c3 = 0; c3 < f3; ++c3) {
                    var p3 = s3 + "." + c3;
                    if (!r4.has(p3) && (r4.add(p3), null != l3[c3] && l3[c3].$__)) {
                      var h3 = l3[c3].modifiedPaths(), y3 = 0, b3 = h3.length;
                      for (y3 = 0; y3 < b3; ++y3)
                        r4.add(p3 + "." + h3[y3]);
                    }
                  }
                else {
                  var m3 = Object.keys(l3), v3 = 0, g3 = m3.length;
                  for (v3 = 0; v3 < g3; ++v3)
                    r4.add(s3 + "." + m3[v3]);
                }
              }
            }
          }
          return Array.from(r4);
        }, Ot.prototype[ft] = Ot.prototype.modifiedPaths, Ot.prototype.isModified = function(t4, e4, r4) {
          var n3 = this;
          if (t4) {
            var o3 = e4 && e4.ignoreAtomics, i3 = this.$__.activePaths.states.modify;
            if (null == i3)
              return false;
            "string" == typeof t4 && (t4 = -1 === t4.indexOf(" ") ? [t4] : t4.split(" "));
            var s3, a3 = p2(t4);
            try {
              for (a3.s(); !(s3 = a3.n()).done; )
                if (null != i3[s3.value])
                  return true;
            } catch (t5) {
              a3.e(t5);
            } finally {
              a3.f();
            }
            var u3 = r4 || this[ft](), c3 = t4.some(function(t5) {
              return !!~u3.indexOf(t5);
            }), l3 = Object.keys(i3);
            return o3 && (l3 = l3.filter(function(t5) {
              var e5 = n3.$__getValue(t5);
              return null == e5 || null == e5[ut] || void 0 !== e5[ut].$set;
            })), c3 || t4.some(function(t5) {
              return l3.some(function(e5) {
                return e5 === t5 || t5.startsWith(e5 + ".");
              });
            });
          }
          return this.$__.activePaths.some("modify");
        }, Ot.prototype.$isModified = Ot.prototype.isModified, Ot.prototype[lt] = Ot.prototype.isModified, Ot.prototype.$isDefault = function(t4) {
          var e4 = this;
          if (null == t4)
            return this.$__.activePaths.some("default");
          if ("string" == typeof t4 && -1 === t4.indexOf(" "))
            return Object.hasOwn(this.$__.activePaths.getStatePaths("default"), t4);
          var r4 = t4;
          return Array.isArray(r4) || (r4 = r4.split(" ")), r4.some(function(t5) {
            return Object.hasOwn(e4.$__.activePaths.getStatePaths("default"), t5);
          });
        }, Ot.prototype.$isDeleted = function(t4) {
          return 0 === arguments.length ? !!this.$__.isDeleted : (this.$__.isDeleted = !!t4, this);
        }, Ot.prototype.isDirectModified = function(t4) {
          var e4 = this;
          if (null == t4)
            return this.$__.activePaths.some("modify");
          if ("string" == typeof t4 && -1 === t4.indexOf(" ")) {
            var r4 = Object.hasOwn(this.$__.activePaths.getStatePaths("modify"), t4);
            if (r4 || -1 === t4.indexOf("."))
              return r4;
            for (var n3 = t4.split("."), o3 = 0; o3 < n3.length - 1; ++o3) {
              var i3 = n3.slice(0, o3 + 1).join("."), s3 = this.$get(i3);
              if (null != s3 && null != s3.$__ && s3.isDirectModified(n3.slice(o3 + 1).join(".")))
                return true;
            }
            return false;
          }
          var a3 = t4;
          return "string" == typeof a3 && (a3 = a3.split(" ")), a3.some(function(t5) {
            return e4.isDirectModified(t5);
          });
        }, Ot.prototype.isInit = function(t4) {
          var e4 = this;
          if (null == t4)
            return this.$__.activePaths.some("init");
          if ("string" == typeof t4 && -1 === t4.indexOf(" "))
            return Object.hasOwn(this.$__.activePaths.getStatePaths("init"), t4);
          var r4 = t4;
          return Array.isArray(r4) || (r4 = r4.split(" ")), r4.some(function(t5) {
            return Object.hasOwn(e4.$__.activePaths.getStatePaths("init"), t5);
          });
        }, Ot.prototype.isSelected = function(t4) {
          var e4 = this;
          if (null == this.$__.selected)
            return true;
          if (!t4)
            return false;
          if ("_id" === t4)
            return 0 !== this.$__.selected._id;
          if (-1 !== t4.indexOf(" ") && (t4 = t4.split(" ")), Array.isArray(t4))
            return t4.some(function(t5) {
              return e4.$__isSelected(t5);
            });
          var r4 = Object.keys(this.$__.selected), n3 = null;
          if (1 === r4.length && "_id" === r4[0])
            return 0 === this.$__.selected._id;
          for (var o3 = 0, i3 = r4; o3 < i3.length; o3++) {
            var s3 = i3[o3];
            if ("_id" !== s3 && H2(this.$__.selected[s3])) {
              n3 = !!this.$__.selected[s3];
              break;
            }
          }
          if (null === n3)
            return true;
          if (t4 in this.$__.selected)
            return n3;
          for (var a3 = t4 + ".", u3 = 0, c3 = r4; u3 < c3.length; u3++) {
            var l3 = c3[u3];
            if ("_id" !== l3) {
              if (l3.startsWith(a3))
                return n3 || l3 !== a3;
              if (a3.startsWith(l3 + "."))
                return n3;
            }
          }
          return !n3;
        }, Ot.prototype.$__isSelected = Ot.prototype.isSelected, Ot.prototype.isDirectSelected = function(t4) {
          var e4 = this;
          if (null == this.$__.selected)
            return true;
          if ("_id" === t4)
            return 0 !== this.$__.selected._id;
          if (-1 !== t4.indexOf(" ") && (t4 = t4.split(" ")), Array.isArray(t4))
            return t4.some(function(t5) {
              return e4.isDirectSelected(t5);
            });
          var r4 = Object.keys(this.$__.selected), n3 = null;
          if (1 === r4.length && "_id" === r4[0])
            return 0 === this.$__.selected._id;
          for (var o3 = 0, i3 = r4; o3 < i3.length; o3++) {
            var s3 = i3[o3];
            if ("_id" !== s3 && H2(this.$__.selected[s3])) {
              n3 = !!this.$__.selected[s3];
              break;
            }
          }
          return null === n3 || (Object.hasOwn(this.$__.selected, t4) ? n3 : !n3);
        }, Ot.prototype.validate = function() {
          var t4 = u2(i2().m(/* @__PURE__ */ __name(function t5(e4, r4) {
            var n3, o3, s3 = this, a3 = arguments;
            return i2().w(function(t6) {
              for (; ; )
                switch (t6.n) {
                  case 0:
                    if ("function" != typeof e4 && "function" != typeof r4 && "function" != typeof a3[2]) {
                      t6.n = 1;
                      break;
                    }
                    throw new S2("Document.prototype.validate() no longer accepts a callback");
                  case 1:
                    if (this.$op = "validate", 1 === a3.length && ("object" !== d2(a3[0]) || Array.isArray(a3[0]) || (r4 = a3[0], e4 = null)), r4 && "string" == typeof r4.pathsToSkip && (n3 = -1 === r4.pathsToSkip.indexOf(" "), r4.pathsToSkip = n3 ? [r4.pathsToSkip] : r4.pathsToSkip.split(" ")), o3 = r4 && r4._skipParallelValidateCheck, null == this.$isSubdocument) {
                      t6.n = 2;
                      break;
                    }
                    t6.n = 4;
                    break;
                  case 2:
                    if (!this.$__.validating || o3) {
                      t6.n = 3;
                      break;
                    }
                    throw new E2(this);
                  case 3:
                    o3 || (this.$__.validating = true);
                  case 4:
                    return t6.a(2, new Promise(function(t7, n4) {
                      s3.$__validate(e4, r4, function(e5) {
                        if (s3.$op = null, s3.$__.validating = null, null != e5)
                          return n4(e5);
                        t7();
                      });
                    }));
                }
            }, t5, this);
          }, "t")));
          return function(e4, r4) {
            return t4.apply(this, arguments);
          };
        }(), Ot.prototype.$validate = Ot.prototype.validate, Ot.prototype.$__validate = function(t4, e4, r4) {
          var n3, i3 = this;
          this.$__.saveOptions && this.$__.saveOptions.pathsToSave && !t4 ? t4 = o2(this.$__.saveOptions.pathsToSave) : "function" == typeof t4 ? (r4 = t4, e4 = null, t4 = null) : "function" == typeof e4 && (r4 = e4, e4 = null);
          var s3, a3 = e4 && "object" === d2(e4) && "validateModifiedOnly" in e4, u3 = e4 && e4.pathsToSkip || null;
          s3 = a3 ? !!e4.validateModifiedOnly : this.$__schema.options.validateModifiedOnly;
          var c3 = e4 && e4.validateAllPaths;
          if (c3) {
            if (u3)
              throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");
            if (t4)
              throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`");
            if (a3 && s3)
              throw new TypeError("Cannot set both `validateAllPaths` and `validateModifiedOnly`");
          }
          var f3, h3, y3 = this, b3 = /* @__PURE__ */ __name(function() {
            var t5 = i3.$__.validationError;
            if (i3.$__.validationError = null, i3.$__.validating = null, s3 && null != t5) {
              for (var e5 = 0, r5 = Object.keys(t5.errors); e5 < r5.length; e5++) {
                var n4 = r5[e5];
                i3.$isModified(n4) || delete t5.errors[n4];
              }
              0 === Object.keys(t5.errors).length && (t5 = void 0);
            }
            if (i3.$__.cachedRequired = {}, i3.$emit("validate", y3), i3.constructor.emit("validate", y3), t5) {
              for (var o3 in t5.errors)
                !i3[ct2] && t5.errors[o3] instanceof S2.CastError && i3.invalidate(o3, t5.errors[o3]);
              return t5;
            }
          }, "b");
          if (c3) {
            var m3, v3 = p2(f3 = new Set(Object.keys(this.$__schema.paths)));
            try {
              for (v3.s(); !(m3 = v3.n()).done; ) {
                var g3 = m3.value, _2 = this.$__schema.path(g3);
                if (_2 && _2.$isMongooseArray) {
                  var O3 = this.$__getValue(g3);
                  O3 && At(O3, f3, g3);
                }
              }
            } catch (t5) {
              v3.e(t5);
            } finally {
              v3.f();
            }
            f3 = o2(f3), h3 = {};
          } else {
            var w3 = Pt(this, t4, u3, e4 && e4._nestedValidate);
            f3 = s3 ? w3[0].filter(function(t5) {
              return i3.$isModified(t5);
            }) : w3[0], h3 = w3[1];
          }
          if ("string" == typeof t4 && (t4 = t4.split(" ")), 0 === f3.length)
            return z2(function() {
              var t5 = b3();
              if (t5)
                return y3.$__schema.s.hooks.execPost("validate:error", y3, [y3], { error: t5 }, function(t6) {
                  r4(t6);
                });
              r4(null, y3);
            });
          var $2 = {}, j3 = 0, P3 = null === (n3 = this.$__.saveOptions) || void 0 === n3 ? void 0 : n3.pathsToSave;
          if (Array.isArray(P3)) {
            P3 = new Set(P3);
            var A3, E3 = p2(f3);
            try {
              for (E3.s(); !(A3 = E3.n()).done; ) {
                var x3 = A3.value;
                P3.has(x3) && I3(x3);
              }
            } catch (t5) {
              E3.e(t5);
            } finally {
              E3.f();
            }
          } else {
            var T3, N3 = p2(f3);
            try {
              for (N3.s(); !(T3 = N3.n()).done; )
                I3(T3.value);
            } catch (t5) {
              N3.e(t5);
            } finally {
              N3.f();
            }
          }
          function I3(t5) {
            null == t5 || $2[t5] || ($2[t5] = true, j3++, z2(function() {
              var e5 = y3.$__schema.path(t5);
              if (!e5)
                return --j3 || D3();
              if (y3.$isValid(t5)) {
                if (null != e5[mt] && t5 !== e5.path)
                  return --j3 || D3();
                var r5, n4 = y3.$__getValue(t5);
                (r5 = y3.$populated(t5)) ? n4 = r5 : null != n4 && null != n4.$__ && n4.$__.wasPopulated && (n4 = n4._doc._id);
                var o3 = null != y3.$__.pathsToScopes && t5 in y3.$__.pathsToScopes ? y3.$__.pathsToScopes[t5] : y3, i4 = l2(l2({}, h3[t5]), {}, { path: t5, validateAllPaths: c3, _nestedValidate: true });
                e5.doValidate(n4, function(r6) {
                  if (r6) {
                    if ((e5.$isSingleNested || e5.$isArraySubdocument || e5.$isMongooseDocumentArray) && r6 instanceof k2)
                      return --j3 || D3();
                    y3.invalidate(t5, r6, void 0, true);
                  }
                  --j3 || D3();
                }, o3, i4);
              } else
                --j3 || D3();
            }));
          }
          __name(I3, "I");
          function D3() {
            var t5 = b3();
            if (t5)
              return y3.$__schema.s.hooks.execPost("validate:error", y3, [y3], { error: t5 }, function(t6) {
                r4(t6);
              });
            r4(null, y3);
          }
          __name(D3, "D");
        }, Ot.prototype.validateSync = function(t4, e4) {
          var r4, n3 = this, i3 = this;
          1 !== arguments.length || "object" !== d2(arguments[0]) || Array.isArray(arguments[0]) || (e4 = arguments[0], t4 = null), r4 = e4 && "object" === d2(e4) && "validateModifiedOnly" in e4 ? !!e4.validateModifiedOnly : this.$__schema.options.validateModifiedOnly;
          var s3, a3, u3 = e4 && e4.pathsToSkip, c3 = e4 && e4.validateAllPaths;
          if (c3) {
            if (u3)
              throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");
            if (t4)
              throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`");
          }
          if ("string" == typeof t4) {
            var l3 = -1 === t4.indexOf(" ");
            t4 = l3 ? [t4] : t4.split(" ");
          } else
            "string" == typeof u3 && -1 !== u3.indexOf(" ") && (u3 = u3.split(" "));
          if (c3) {
            var f3, h3 = p2(s3 = new Set(Object.keys(this.$__schema.paths)));
            try {
              for (h3.s(); !(f3 = h3.n()).done; ) {
                var y3 = f3.value, b3 = this.$__schema.path(y3);
                if (b3 && b3.$isMongooseArray) {
                  var m3 = this.$__getValue(y3);
                  m3 && At(m3, s3, y3);
                }
              }
            } catch (A4) {
              h3.e(A4);
            } finally {
              h3.f();
            }
            s3 = o2(s3), a3 = {};
          } else {
            var v3 = Pt(this, t4, u3);
            s3 = r4 ? v3[0].filter(function(t5) {
              return n3.$isModified(t5);
            }) : v3[0], a3 = v3[1];
          }
          for (var g3 = {}, _2 = 0, O3 = s3.length; _2 < O3; ++_2) {
            var w3 = s3[_2];
            if (!g3[w3]) {
              g3[w3] = true;
              var $2 = i3.$__schema.path(w3);
              if ($2 && i3.$isValid(w3)) {
                var j3 = i3.$__getValue(w3), P3 = $2.doValidateSync(j3, i3, { skipSchemaValidators: a3[w3], path: w3, validateModifiedOnly: r4, validateAllPaths: c3 });
                if (P3) {
                  if (($2.$isSingleNested || $2.$isArraySubdocument || $2.$isMongooseDocumentArray) && P3 instanceof k2)
                    continue;
                  i3.invalidate(w3, P3, void 0, true);
                }
              }
            }
          }
          var A3 = i3.$__.validationError;
          if (i3.$__.validationError = void 0, i3.$emit("validate", i3), i3.constructor.emit("validate", i3), A3)
            for (var E3 in A3.errors)
              A3.errors[E3] instanceof S2.CastError && i3.invalidate(E3, A3.errors[E3]);
          return A3;
        }, Ot.prototype.invalidate = function(t4, e4, r4, n3) {
          if (this.$__.validationError || (this.$__.validationError = new k2(this)), !this.$__.validationError.errors[t4])
            return e4 && "string" != typeof e4 || (e4 = new N2({ path: t4, message: e4, type: n3 || "user defined", value: r4 })), this.$__.validationError === e4 || this.$__.validationError.addError(t4, e4), this.$__.validationError;
        }, Ot.prototype.$markValid = function(t4) {
          this.$__.validationError && this.$__.validationError.errors[t4] && (delete this.$__.validationError.errors[t4], 0 === Object.keys(this.$__.validationError.errors).length && (this.$__.validationError = null));
        }, Ot.prototype.$isValid = function(t4) {
          var e4 = this;
          return null == this.$__.validationError || 0 === Object.keys(this.$__.validationError.errors).length || null != t4 && (-1 !== t4.indexOf(" ") && (t4 = t4.split(" ")), Array.isArray(t4) ? t4.some(function(t5) {
            return null == e4.$__.validationError.errors[t5];
          }) : null == this.$__.validationError.errors[t4]);
        }, Ot.prototype.$__reset = function() {
          var t4, e4 = this.$isSubdocument ? null : this.$getAllSubdocs({ useCache: true });
          if (e4 && e4.length > 0) {
            var r4, n3 = p2(e4);
            try {
              for (n3.s(); !(r4 = n3.n()).done; )
                r4.value.$__reset();
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
          }
          return this.$__dirty().forEach(function(t5) {
            var e5 = t5.value;
            e5 && e5[ut] && (e5[at2] = e5[ut], e5[ut] = {});
          }), this.$__.backup = {}, this.$__.backup.activePaths = { modify: Object.assign({}, this.$__.activePaths.getStatePaths("modify")), default: Object.assign({}, this.$__.activePaths.getStatePaths("default")) }, this.$__.backup.validationError = this.$__.validationError, this.$__.backup.errors = this.$errors, this.$__.activePaths.clear("modify"), this.$__.activePaths.clear("default"), this.$__.validationError = void 0, this.$errors = void 0, t4 = this, this.$__schema.requiredPaths().forEach(function(e5) {
            t4.$__.activePaths.require(e5);
          }), this;
        }, Ot.prototype.$__undoReset = function() {
          if (null != this.$__.backup && null != this.$__.backup.activePaths) {
            this.$__.activePaths.states.modify = this.$__.backup.activePaths.modify, this.$__.activePaths.states.default = this.$__.backup.activePaths.default, this.$__.validationError = this.$__.backup.validationError, this.$errors = this.$__.backup.errors;
            var t4, e4 = p2(this.$__dirty());
            try {
              for (e4.s(); !(t4 = e4.n()).done; ) {
                var r4 = t4.value.value;
                r4 && r4[ut] && r4[at2] && (r4[ut] = r4[at2]);
              }
            } catch (t5) {
              e4.e(t5);
            } finally {
              e4.f();
            }
            if (!this.$isSubdocument) {
              var n3, o3 = p2(this.$getAllSubdocs());
              try {
                for (o3.s(); !(n3 = o3.n()).done; )
                  n3.value.$__undoReset();
              } catch (t5) {
                o3.e(t5);
              } finally {
                o3.f();
              }
            }
          }
        }, Ot.prototype.$__dirty = function() {
          var t4 = this, e4 = this.$__.activePaths.map("modify", function(e5) {
            return { path: e5, value: t4.$__getValue(e5), schema: t4.$__path(e5) };
          });
          e4 = e4.concat(this.$__.activePaths.map("default", function(e5) {
            if ("_id" !== e5 && null != t4.$__getValue(e5))
              return { path: e5, value: t4.$__getValue(e5), schema: t4.$__path(e5) };
          }));
          var r4 = new Map(e4.filter(function(t5) {
            return null != t5;
          }).map(function(t5) {
            return [t5.path, t5.value];
          })), n3 = [];
          return e4.forEach(function(t5) {
            if (t5) {
              for (var e5 = null, o3 = et(t5.path), i3 = 0; i3 < o3.length - 1; i3++)
                if (r4.has(o3[i3])) {
                  e5 = r4.get(o3[i3]);
                  break;
                }
              null == e5 ? n3.push(t5) : null != e5 && null != e5[ut] && e5.hasAtomics() && (e5[ut] = {}, e5[ut].$set = e5);
            }
          }), n3;
        }, Ot.prototype.$__setSchema = function(t4) {
          R2(t4.tree, this, void 0, t4.options);
          for (var e4 = 0, r4 = Object.keys(t4.virtuals); e4 < r4.length; e4++) {
            var n3 = r4[e4];
            t4.virtuals[n3]._applyDefaultGetters();
          }
          null == t4.path("schema") && (this.schema = t4), this.$__schema = t4, this[pt] = t4;
        }, Ot.prototype.$__getArrayPathsToValidate = function() {
          return b2 || (b2 = r3(4878)), this.$__.activePaths.map("init", "modify", function(t4) {
            return this.$__getValue(t4);
          }.bind(this)).filter(function(t4) {
            return t4 && Array.isArray(t4) && nt.isMongooseDocumentArray(t4) && t4.length;
          }).reduce(function(t4, e4) {
            return t4.concat(e4);
          }, []).filter(function(t4) {
            return t4;
          });
        }, Ot.prototype.$getAllSubdocs = function(t4) {
          var e4;
          if (null != t4 && t4.useCache && null !== (e4 = this.$__.saveOptions) && void 0 !== e4 && e4.__subdocs)
            return this.$__.saveOptions.__subdocs;
          b2 || (b2 = r3(4878)), v2 = v2 || r3(6547);
          var n3 = [];
          return (/* @__PURE__ */ __name(function t5(e5) {
            var r4, o3 = [], i3 = p2(e5.$__schema.childSchemas);
            try {
              for (i3.s(); !(r4 = i3.n()).done; ) {
                var s3 = r4.value.model, a3 = e5.$__getValue(s3.path);
                if (null != a3) {
                  if (a3.$__ && o3.push(a3), Array.isArray(a3)) {
                    var u3, c3 = p2(a3);
                    try {
                      for (c3.s(); !(u3 = c3.n()).done; ) {
                        var l3 = u3.value;
                        null != l3 && l3.$__ && o3.push(l3);
                      }
                    } catch (t6) {
                      c3.e(t6);
                    } finally {
                      c3.f();
                    }
                  }
                  if (a3 instanceof Map) {
                    var f3, h3 = p2(a3.values());
                    try {
                      for (h3.s(); !(f3 = h3.n()).done; ) {
                        var y3 = f3.value;
                        null != y3 && y3.$__ && o3.push(y3);
                      }
                    } catch (t6) {
                      h3.e(t6);
                    } finally {
                      h3.f();
                    }
                  }
                }
              }
            } catch (t6) {
              i3.e(t6);
            } finally {
              i3.f();
            }
            for (var d3 = 0, b3 = o3; d3 < b3.length; d3++)
              t5(b3[d3]);
            n3.push.apply(n3, o3);
          }, "t"))(this), this.$__.saveOptions && (this.$__.saveOptions.__subdocs = n3), n3;
        }, Ot.prototype.$__handleReject = function(t4) {
          this.$listeners("error").length ? this.$emit("error", t4) : this.constructor.listeners && this.constructor.listeners("error").length && this.constructor.emit("error", t4);
        }, Ot.prototype.$toObject = function(t4, e4) {
          var r4, n3, o3, i3, s3, a3, u3, c3, f3, p3, h3, y3, b3, m3, v3, g3 = this.$__schema._defaultToObjectOptions(e4), _2 = this.$__hasOnlyPrimitiveValues();
          (t4 = nt.isPOJO(t4) ? l2({}, t4) : {})._calledWithOptions = t4._calledWithOptions || l2({}, t4), v3 = null != t4._calledWithOptions.minimize ? t4.minimize : null != (null === (r4 = this.$__schemaTypeOptions) || void 0 === r4 ? void 0 : r4.minimize) ? this.$__schemaTypeOptions.minimize : null != g3 && null != g3.minimize ? g3.minimize : this.$__schema.options.minimize, t4.minimize = v3, _2 || (t4._seen = t4._seen || /* @__PURE__ */ new Map());
          var O3 = null !== (n3 = null !== (o3 = null !== (i3 = t4._calledWithOptions.depopulate) && void 0 !== i3 ? i3 : null == g3 ? void 0 : g3.depopulate) && void 0 !== o3 ? o3 : t4.depopulate) && void 0 !== n3 && n3;
          if (O3 && t4._isNested && this.$__.wasPopulated)
            return M2(this.$__.wasPopulated.value || this._doc._id, t4);
          if (O3 && (t4.depopulate = true), null != g3)
            for (var w3 = 0, S3 = Object.keys(g3); w3 < S3.length; w3++) {
              var $2 = S3[w3];
              null == t4[$2] && (t4[$2] = g3[$2]);
            }
          t4._isNested = true, t4.json = e4, t4.minimize = v3;
          var j3 = t4._parentOptions;
          t4._parentOptions = this.$isSubdocument ? t4 : null;
          var P3, A3 = null !== (s3 = null !== (a3 = null !== (u3 = t4._calledWithOptions.schemaFieldsOnly) && void 0 !== u3 ? u3 : t4.schemaFieldsOnly) && void 0 !== a3 ? a3 : g3.schemaFieldsOnly) && void 0 !== s3 && s3;
          if (_2 && !t4.flattenObjectIds)
            P3 = this.$__toObjectShallow(A3);
          else if (A3) {
            P3 = {};
            for (var E3 = 0, x3 = Object.keys(this.$__schema.paths); E3 < x3.length; E3++) {
              var T3 = x3[E3], k3 = this.$__getValue(T3);
              if (void 0 !== k3) {
                var N3 = T3, I3 = P3;
                if (-1 !== T3.indexOf(".")) {
                  var D3 = T3.split(".");
                  N3 = D3[D3.length - 1];
                  for (var B3 = 0; B3 < D3.length - 1; ++B3) {
                    var R3;
                    I3[D3[B3]] = null !== (R3 = I3[D3[B3]]) && void 0 !== R3 ? R3 : {}, I3 = I3[D3[B3]];
                  }
                }
                I3[N3] = null !== k3 ? M2(k3, t4) : null;
              }
            }
          } else
            P3 = M2(this._doc, t4) || {};
          var U3 = null !== (c3 = null !== (f3 = null !== (p3 = t4._calledWithOptions.getters) && void 0 !== p3 ? p3 : t4.getters) && void 0 !== f3 ? f3 : g3.getters) && void 0 !== c3 && c3;
          U3 && (function(t5, e5) {
            var r5, n4, o4 = t5.$__schema, i4 = Object.keys(o4.paths), s4 = i4.length, a4 = t5._doc;
            if (!a4)
              return e5;
            for (; s4--; ) {
              var u4 = (r5 = i4[s4]).split("."), c4 = u4.length, l3 = c4 - 1, f4 = e5, p4 = void 0;
              if (a4 = t5._doc, t5.$__isSelected(r5))
                for (var h4 = 0; h4 < c4 && (n4 = a4[p4 = u4[h4]], null == f4 || "object" === d2(f4)); ++h4) {
                  if (h4 === l3) {
                    if (f4[p4] = o4.paths[r5].applyGetters(f4[p4], t5), Array.isArray(f4[p4]) && o4.paths[r5].$embeddedSchemaType)
                      for (var y4 = 0; y4 < f4[p4].length; ++y4)
                        f4[p4][y4] = o4.paths[r5].$embeddedSchemaType.applyGetters(f4[p4][y4], t5);
                  } else {
                    if (null == n4) {
                      p4 in a4 && (f4[p4] = n4);
                      break;
                    }
                    f4 = f4[p4] || (f4[p4] = {});
                  }
                  a4 = n4;
                }
            }
          }(this, P3), t4.minimize && (P3 = X2(P3) || {}));
          var C3 = null !== (h3 = null !== (y3 = null !== (b3 = t4._calledWithOptions.virtuals) && void 0 !== b3 ? b3 : g3.virtuals) && void 0 !== y3 ? y3 : null == j3 ? void 0 : j3.virtuals) && void 0 !== h3 ? h3 : void 0;
          (C3 || U3 && false !== C3) && Et(this, P3, t4, t4), false === t4.versionKey && this.$__schema.options.versionKey && delete P3[this.$__schema.options.versionKey];
          var F3 = null === (m3 = t4._calledWithOptions.transform) || void 0 === m3 || m3, L3 = void 0;
          if (true === F3 ? L3 = g3.transform : "function" == typeof F3 && (L3 = F3), F3 && function(t5, e5) {
            var r5 = t5.$__schema, n4 = Object.keys(r5.paths || {});
            if (!t5._doc)
              return e5;
            for (var o4 = 0, i4 = n4; o4 < i4.length; o4++) {
              var s4, a4, u4, c4, l3, f4 = i4[o4], p4 = r5.paths[f4], h4 = null !== (s4 = p4.options.transform) && void 0 !== s4 ? s4 : null === (a4 = p4.constructor) || void 0 === a4 || null === (a4 = a4.defaultOptions) || void 0 === a4 ? void 0 : a4.transform, y4 = null !== (u4 = null === (c4 = p4.$embeddedSchemaType) || void 0 === c4 || null === (c4 = c4.options) || void 0 === c4 ? void 0 : c4.transform) && void 0 !== u4 ? u4 : null === (l3 = p4.$embeddedSchemaType) || void 0 === l3 || null === (l3 = l3.constructor) || void 0 === l3 || null === (l3 = l3.defaultOptions) || void 0 === l3 ? void 0 : l3.transform;
              if ("function" == typeof h4) {
                var d3 = t5.$get(f4);
                if (void 0 === d3)
                  continue;
                var b4 = h4.call(t5, d3);
                xt(f4, b4), nt.setValue(f4, b4, e5);
              } else if ("function" == typeof y4) {
                var m4 = t5.$get(f4);
                if (void 0 === m4)
                  continue;
                for (var v5 = [].concat(m4), g4 = 0; g4 < v5.length; ++g4) {
                  var _3 = y4.call(t5, v5[g4]);
                  v5[g4] = _3, xt(f4, _3);
                }
                e5[f4] = v5;
              }
            }
          }(this, P3), t4.useProjection && function(t5, e5) {
            var r5 = t5.$__schema, n4 = Object.keys(r5.paths || {});
            if (!t5._doc)
              return e5;
            var o4 = t5.$__.selected;
            if (void 0 === o4 && (o4 = {}, rt.applyPaths(o4, r5)), null == o4 || 0 === Object.keys(o4).length)
              return e5;
            for (var i4 = 0, s4 = n4; i4 < s4.length; i4++) {
              var a4 = s4[i4];
              null == o4[a4] || o4[a4] || delete e5[a4];
            }
          }(this, P3), "function" == typeof L3) {
            var V3 = L3(this, P3, t4);
            void 0 !== V3 && (P3 = V3);
          }
          return P3;
        }, Ot.prototype.$__toObjectShallow = function(t4) {
          var e4 = {};
          if (null != this._doc) {
            var r4, n3 = p2(t4 ? Object.keys(this.$__schema.paths) : Object.keys(this._doc));
            try {
              for (n3.s(); !(r4 = n3.n()).done; ) {
                var o3 = r4.value, i3 = this._doc[o3];
                i3 instanceof Date ? e4[o3] = new Date(i3) : void 0 !== i3 && (e4[o3] = i3);
              }
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
          }
          return e4;
        }, Ot.prototype.toObject = function(t4) {
          return this.$toObject(t4);
        }, Ot.prototype.toJSON = function(t4) {
          return this.$toObject(t4, true);
        }, Ot.prototype.ownerDocument = function() {
          return this;
        }, Ot.prototype.parent = function() {
          return this.$isSubdocument || this.$__.wasPopulated ? this.$__.parent : this;
        }, Ot.prototype.$parent = Ot.prototype.parent, Ot.prototype.inspect = function(t4) {
          var e4;
          nt.isPOJO(t4) && ((e4 = t4).minimize = false);
          var r4 = arguments.length > 0 ? this.toObject(e4) : this.toObject();
          return null == r4 ? "MongooseDocument { " + r4 + " }" : r4;
        }, Q2.custom && (Ot.prototype[Q2.custom] = Ot.prototype.inspect), Ot.prototype.toString = function() {
          var t4 = this.inspect();
          return "string" == typeof t4 ? t4 : Q2(t4);
        }, Ot.prototype.equals = function(t4) {
          if (!t4)
            return false;
          var e4 = this.$__getValue("_id"), r4 = null != t4.$__ ? t4.$__getValue("_id") : t4;
          return e4 || r4 ? e4 && e4.equals ? e4.equals(r4) : e4 === r4 : it(this, t4);
        }, Ot.prototype.populate = function() {
          var t4 = u2(i2().m(/* @__PURE__ */ __name(function t5() {
            var e4, r4, n3, o3, s3, a3, u3, c3, l3, f3, h3 = arguments;
            return i2().w(function(t6) {
              for (; ; )
                switch (t6.n) {
                  case 0:
                    if (e4 = {}, "function" != typeof (r4 = Array.prototype.slice.call(h3))[r4.length - 1]) {
                      t6.n = 1;
                      break;
                    }
                    throw new S2("Document.prototype.populate() no longer accepts a callback");
                  case 1:
                    if (0 !== r4.length) {
                      n3 = nt.populate.apply(null, r4), o3 = p2(n3);
                      try {
                        for (o3.s(); !(s3 = o3.n()).done; )
                          a3 = s3.value, e4[a3.path] = a3;
                      } catch (t7) {
                        o3.e(t7);
                      } finally {
                        o3.f();
                      }
                    }
                    return u3 = nt.object.vals(e4), c3 = this.constructor, this.$__isNested && (c3 = this.$__[bt2].constructor, l3 = this.$__.nestedPath, u3.forEach(function(t7) {
                      t7.path = l3 + "." + t7.path;
                    })), null != this.$session() && (f3 = this.$session(), u3.forEach(function(t7) {
                      null != t7.options ? "session" in t7.options || (t7.options.session = f3) : t7.options = { session: f3 };
                    })), u3.forEach(function(t7) {
                      t7._localModel = c3;
                    }), t6.a(2, c3.populate(this, u3));
                }
            }, t5, this);
          }, "t")));
          return function() {
            return t4.apply(this, arguments);
          };
        }(), Ot.prototype.$getPopulatedDocs = function() {
          var t4 = [];
          null != this.$__.populated && (t4 = t4.concat(Object.keys(this.$__.populated)));
          var e4, r4 = [], n3 = p2(t4);
          try {
            for (n3.s(); !(e4 = n3.n()).done; ) {
              var o3 = e4.value, i3 = this.$get(o3);
              Array.isArray(i3) ? r4 = r4.concat(i3) : i3 instanceof Ot && r4.push(i3);
            }
          } catch (t5) {
            n3.e(t5);
          } finally {
            n3.f();
          }
          return r4;
        }, Ot.prototype.populated = function(t4, e4, r4) {
          if (null == e4 || true === e4) {
            if (!this.$__.populated)
              return;
            if ("string" != typeof t4)
              return;
            var n3 = t4.endsWith(".$*") ? t4.replace(/\.\$\*$/, "") : t4, o3 = this.$__.populated[n3];
            return o3 ? true === e4 ? o3 : o3.value : void 0;
          }
          this.$__.populated || (this.$__.populated = {}), this.$__.populated[t4] = { value: e4, options: r4 };
          for (var i3 = t4.split("."), s3 = 0; s3 < i3.length - 1; ++s3) {
            var a3 = i3.slice(0, s3 + 1).join("."), u3 = this.$get(a3);
            if (null != u3 && null != u3.$__ && this.$populated(a3)) {
              var c3 = i3.slice(s3 + 1).join(".");
              u3.$populated(c3, e4, r4);
              break;
            }
          }
          return e4;
        }, Ot.prototype.$populated = Ot.prototype.populated, Ot.prototype.$assertPopulated = function(t4, e4) {
          var r4 = this;
          if (Array.isArray(t4))
            return t4.forEach(function(t5) {
              return r4.$assertPopulated(t5, e4);
            }), this;
          if (arguments.length > 1 && this.$set(e4), !this.$populated(t4))
            throw new S2('Expected path "'.concat(t4, '" to be populated'));
          return this;
        }, Ot.prototype.depopulate = function(t4) {
          var e4;
          "string" == typeof t4 && (t4 = -1 === t4.indexOf(" ") ? [t4] : t4.split(" "));
          var r4 = this.$$populatedVirtuals ? Object.keys(this.$$populatedVirtuals) : [], n3 = this.$__ && this.$__.populated || {};
          if (0 === arguments.length) {
            var o3, i3 = p2(r4);
            try {
              for (i3.s(); !(o3 = i3.n()).done; ) {
                var s3 = o3.value;
                delete this.$$populatedVirtuals[s3], delete this._doc[s3], delete n3[s3];
              }
            } catch (t5) {
              i3.e(t5);
            } finally {
              i3.f();
            }
            for (var a3 = 0, u3 = Object.keys(n3); a3 < u3.length; a3++) {
              var c3 = u3[a3];
              if (e4 = this.$populated(c3))
                if (delete n3[c3], Array.isArray(e4)) {
                  var l3 = nt.getValue(c3, this._doc);
                  if (l3.isMongooseArray)
                    for (var f3 = l3.__array, h3 = 0; h3 < f3.length; ++h3) {
                      var y3 = f3[h3];
                      null != y3 && (f3[h3] = y3 instanceof Ot ? y3._doc._id : y3._id);
                    }
                  else
                    nt.setValue(c3, e4, this._doc);
                } else
                  nt.setValue(c3, e4, this._doc);
            }
            return this;
          }
          var d3, b3 = p2(t4);
          try {
            for (b3.s(); !(d3 = b3.n()).done; ) {
              var m3 = d3.value;
              if (e4 = this.$populated(m3), delete n3[m3], -1 !== r4.indexOf(m3))
                delete this.$$populatedVirtuals[m3], delete this._doc[m3];
              else if (e4)
                if (Array.isArray(e4)) {
                  var v3 = nt.getValue(m3, this._doc);
                  if (v3.isMongooseArray)
                    for (var g3 = v3.__array, _2 = 0; _2 < g3.length; ++_2) {
                      var O3 = g3[_2];
                      null != O3 && (g3[_2] = O3 instanceof Ot ? O3._doc._id : O3._id);
                    }
                  else
                    nt.setValue(m3, e4, this._doc);
                } else
                  nt.setValue(m3, e4, this._doc);
            }
          } catch (t5) {
            b3.e(t5);
          } finally {
            b3.f();
          }
          return this;
        }, Ot.prototype.$__fullPath = function(t4) {
          return t4 || "";
        }, Ot.prototype.getChanges = function() {
          var t4 = this.$__delta();
          return t4 ? t4[1] : {};
        }, Ot.prototype.$__delta = function() {
          var t4 = this, e4 = this.$__dirty(), r4 = this.$__schema.options.optimisticConcurrency;
          if (r4)
            if (Array.isArray(r4)) {
              var o3 = new Set(r4);
              this.modifiedPaths().find(function(t5) {
                return o3.has(t5);
              }) && (this.$__.version = e4.length ? 3 : 1);
            } else
              this.$__.version = e4.length ? 3 : 1;
          if (e4.length || 3 === this.$__.version) {
            var i3 = {}, s3 = {}, a3 = e4.length, u3 = [], c3 = 0;
            for (i3._id = this._doc._id, null != (i3 && i3._id && i3._id.$__ || null) && (i3._id = i3._id.toObject({ transform: false, depopulate: true })); c3 < a3; ++c3) {
              var l3 = e4[c3], f3 = l3.value, p3 = Tt(this, l3.path, f3);
              if (p3)
                u3.push(p3);
              else {
                if (!this.$populated(l3.path, true) && this.$__.selected) {
                  var h3 = l3.path.split("."), y3 = h3[0];
                  if (this.$__.selected[y3] && this.$__.selected[y3].$elemMatch) {
                    if (!(h3.length > 1 && 0 == h3[1] && void 0 === i3[y3])) {
                      u3.push(l3.path);
                      continue;
                    }
                    i3[y3] = this.$__.selected[y3], h3[1] = "$", l3.path = h3.join(".");
                  }
                }
                if (this.$isDefault(l3.path) && this.$__.selected) {
                  if (-1 === l3.path.indexOf(".") && G2(this.$__.selected, l3.path))
                    continue;
                  if (et(l3.path).find(function(e5) {
                    return G2(t4.$__.isSelected, e5);
                  }))
                    continue;
                }
                if (!u3.length)
                  if (void 0 === f3)
                    kt(this, 0, s3, l3, 1, "$unset");
                  else if (null === f3)
                    kt(this, 0, s3, l3, null);
                  else if (nt.isMongooseArray(f3) && f3.$path() && f3[ut])
                    Nt(this, 0, s3, l3, f3);
                  else if (f3[w2.pathSymbol] && n2.isBuffer(f3))
                    kt(this, 0, s3, l3, f3 = f3.toObject());
                  else if (this.$__.primitiveAtomics && null != this.$__.primitiveAtomics[l3.path]) {
                    var d3 = this.$__.primitiveAtomics[l3.path], b3 = C2(d3);
                    kt(this, 0, s3, l3, d3[b3], b3);
                  } else
                    kt(this, 0, s3, l3, f3 = M2(f3, { depopulate: true, transform: false, virtuals: false, getters: false, omitUndefined: true, _isNested: true }));
              }
            }
            return u3.length ? new g2(u3) : (this.$__.version && this.$__version(i3, s3), 0 === Object.keys(s3).length ? [i3, null] : [i3, s3]);
          }
        }, Ot.prototype.$clone = function() {
          var t4 = new (0, this.constructor)();
          if (t4.$isNew = this.$isNew, this._doc && (t4._doc = M2(this._doc, { retainDocuments: true })), this.$__) {
            var e4, r4 = new (0, this.$__.constructor)(), n3 = p2(Object.getOwnPropertyNames(this.$__));
            try {
              for (n3.s(); !(e4 = n3.n()).done; ) {
                var o3 = e4.value;
                "activePaths" !== o3 && (r4[o3] = M2(this.$__[o3]));
              }
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
            Object.assign(r4.activePaths, M2(l2({}, this.$__.activePaths))), t4.$__ = r4;
          }
          return t4;
        }, Ot.prototype.$createModifiedPathsSnapshot = function() {
          var t4 = /* @__PURE__ */ new WeakMap();
          if (!this.$isSubdocument) {
            var e4, r4 = p2(this.$getAllSubdocs());
            try {
              for (r4.s(); !(e4 = r4.n()).done; ) {
                var n3 = e4.value;
                t4.set(n3, n3.$__.activePaths.clone());
              }
            } catch (t5) {
              r4.e(t5);
            } finally {
              r4.f();
            }
          }
          return new j2(t4, this.$__.activePaths.clone(), this.$__.version);
        }, Ot.prototype.$restoreModifiedPathsSnapshot = function(t4) {
          if (this.$__.activePaths = t4.activePaths.clone(), this.$__.version = t4.version, !this.$isSubdocument) {
            var e4, r4 = p2(this.$getAllSubdocs());
            try {
              for (r4.s(); !(e4 = r4.n()).done; ) {
                var n3 = e4.value;
                t4.subdocSnapshot.has(n3) && (n3.$__.activePaths = t4.subdocSnapshot.get(n3));
              }
            } catch (t5) {
              r4.e(t5);
            } finally {
              r4.f();
            }
          }
          return this;
        }, Ot.prototype.$clearModifiedPaths = function() {
          if (this.$__.activePaths.clear("modify"), this.$__.activePaths.clear("init"), this.$__.version = 0, !this.$isSubdocument) {
            var t4, e4 = p2(this.$getAllSubdocs());
            try {
              for (e4.s(); !(t4 = e4.n()).done; )
                t4.value.$clearModifiedPaths();
            } catch (t5) {
              e4.e(t5);
            } finally {
              e4.f();
            }
          }
          return this;
        }, Ot.prototype.$__hasOnlyPrimitiveValues = function() {
          return !this.$__.populated && !this.$__.wasPopulated && (null == this._doc || Object.values(this._doc).every(function(t4) {
            return null == t4 || "object" !== d2(t4) || nt.isNativeObject(t4) && !Array.isArray(t4) || K2(t4, "ObjectId") || K2(t4, "Decimal128");
          }));
        }, Ot.prototype._applyVersionIncrement = function() {
          if (this.$__.version) {
            var t4 = !(2 & ~this.$__.version);
            if (this.$__.version = void 0, t4) {
              var e4 = this.$__schema.options.versionKey, r4 = this.$__getValue(e4) || 0;
              this.$__setValue(e4, r4 + 1);
            }
          }
        }, Ot.prototype._applyVersionIncrement = function() {
          if (this.$__.version) {
            var t4 = !(2 & ~this.$__.version);
            if (this.$__.version = void 0, t4) {
              var e4 = this.$__schema.options.versionKey, r4 = this.$__getValue(e4) || 0;
              this.$__setValue(e4, r4 + 1);
            }
          }
        }, Ot.VERSION_WHERE = 1, Ot.VERSION_INC = 2, Ot.VERSION_ALL = 3, Ot.ValidationError = k2, t3.exports = Ot;
      }, 2401: (t3) => {
        "use strict";
        t3.exports = Math.floor;
      }, 2402: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4) {
          return o2 = "function" == typeof Symbol && "symbol" === n2(Symbol.iterator) ? function(t5) {
            return n2(t5);
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : n2(t5);
          }, o2(t4);
        }
        __name(o2, "o");
        var i2, s2, a2 = r3(3743).codes, u2 = a2.ERR_AMBIGUOUS_ARGUMENT, c2 = a2.ERR_INVALID_ARG_TYPE, l2 = a2.ERR_INVALID_ARG_VALUE, f2 = a2.ERR_INVALID_RETURN_VALUE, p2 = a2.ERR_MISSING_ARGS, h2 = r3(9068), y2 = r3(7352).inspect, d2 = r3(7352).types, b2 = d2.isPromise, m2 = d2.isRegExp, v2 = Object.assign ? Object.assign : r3(6182).assign, g2 = Object.is ? Object.is : r3(2064);
        function _() {
          var t4 = r3(6193);
          i2 = t4.isDeepEqual, s2 = t4.isDeepStrictEqual;
        }
        __name(_, "_");
        /* @__PURE__ */ new Map();
        var O2 = false, w2 = t3.exports = P2, S2 = {};
        function $(t4) {
          if (t4.message instanceof Error)
            throw t4.message;
          throw new h2(t4);
        }
        __name($, "$");
        function j2(t4, e4, r4, n3) {
          if (!r4) {
            var o3 = false;
            if (0 === e4)
              o3 = true, n3 = "No value argument passed to `assert.ok()`";
            else if (n3 instanceof Error)
              throw n3;
            var i3 = new h2({ actual: r4, expected: true, message: n3, operator: "==", stackStartFn: t4 });
            throw i3.generatedMessage = o3, i3;
          }
        }
        __name(j2, "j");
        function P2() {
          for (var t4 = arguments.length, e4 = new Array(t4), r4 = 0; r4 < t4; r4++)
            e4[r4] = arguments[r4];
          j2.apply(void 0, [P2, e4.length].concat(e4));
        }
        __name(P2, "P");
        w2.fail = /* @__PURE__ */ __name(function t4(e4, r4, n3, o3, i3) {
          var s3, a3 = arguments.length;
          if (0 === a3 ? s3 = "Failed" : 1 === a3 ? (n3 = e4, e4 = void 0) : (false === O2 && (O2 = true, ({ env: {} }.emitWarning ? { env: {} }.emitWarning : console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.", "DeprecationWarning", "DEP0094")), 2 === a3 && (o3 = "!=")), n3 instanceof Error)
            throw n3;
          var u3 = { actual: e4, expected: r4, operator: void 0 === o3 ? "fail" : o3, stackStartFn: i3 || t4 };
          void 0 !== n3 && (u3.message = n3);
          var c3 = new h2(u3);
          throw s3 && (c3.message = s3, c3.generatedMessage = true), c3;
        }, "t"), w2.AssertionError = h2, w2.ok = P2, w2.equal = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          e4 != r4 && $({ actual: e4, expected: r4, message: n3, operator: "==", stackStartFn: t4 });
        }, "t"), w2.notEqual = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          e4 == r4 && $({ actual: e4, expected: r4, message: n3, operator: "!=", stackStartFn: t4 });
        }, "t"), w2.deepEqual = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          void 0 === i2 && _(), i2(e4, r4) || $({ actual: e4, expected: r4, message: n3, operator: "deepEqual", stackStartFn: t4 });
        }, "t"), w2.notDeepEqual = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          void 0 === i2 && _(), i2(e4, r4) && $({ actual: e4, expected: r4, message: n3, operator: "notDeepEqual", stackStartFn: t4 });
        }, "t"), w2.deepStrictEqual = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          void 0 === i2 && _(), s2(e4, r4) || $({ actual: e4, expected: r4, message: n3, operator: "deepStrictEqual", stackStartFn: t4 });
        }, "t"), w2.notDeepStrictEqual = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          void 0 === i2 && _(), s2(e4, r4) && $({ actual: e4, expected: r4, message: n3, operator: "notDeepStrictEqual", stackStartFn: t4 });
        }, "t"), w2.strictEqual = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          g2(e4, r4) || $({ actual: e4, expected: r4, message: n3, operator: "strictEqual", stackStartFn: t4 });
        }, "t"), w2.notStrictEqual = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          if (arguments.length < 2)
            throw new p2("actual", "expected");
          g2(e4, r4) && $({ actual: e4, expected: r4, message: n3, operator: "notStrictEqual", stackStartFn: t4 });
        }, "t");
        var A2 = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          var o3 = this;
          !function(t5, e5) {
            if (!(t5 instanceof e5))
              throw new TypeError("Cannot call a class as a function");
          }(this, t4), r4.forEach(function(t5) {
            t5 in e4 && (void 0 !== n3 && "string" == typeof n3[t5] && m2(e4[t5]) && e4[t5].test(n3[t5]) ? o3[t5] = n3[t5] : o3[t5] = e4[t5]);
          });
        }, "t");
        function E2(t4, e4, r4, n3) {
          if ("function" != typeof e4) {
            if (m2(e4))
              return e4.test(t4);
            if (2 === arguments.length)
              throw new c2("expected", ["Function", "RegExp"], e4);
            if ("object" !== o2(t4) || null === t4) {
              var a3 = new h2({ actual: t4, expected: e4, message: r4, operator: "deepStrictEqual", stackStartFn: n3 });
              throw a3.operator = n3.name, a3;
            }
            var u3 = Object.keys(e4);
            if (e4 instanceof Error)
              u3.push("name", "message");
            else if (0 === u3.length)
              throw new l2("error", e4, "may not be an empty object");
            return void 0 === i2 && _(), u3.forEach(function(o3) {
              "string" == typeof t4[o3] && m2(e4[o3]) && e4[o3].test(t4[o3]) || function(t5, e5, r5, n4, o4, i3) {
                if (!(r5 in t5) || !s2(t5[r5], e5[r5])) {
                  if (!n4) {
                    var a4 = new A2(t5, o4), u4 = new A2(e5, o4, t5), c3 = new h2({ actual: a4, expected: u4, operator: "deepStrictEqual", stackStartFn: i3 });
                    throw c3.actual = t5, c3.expected = e5, c3.operator = i3.name, c3;
                  }
                  $({ actual: t5, expected: e5, message: n4, operator: i3.name, stackStartFn: i3 });
                }
              }(t4, e4, o3, r4, u3, n3);
            }), true;
          }
          return void 0 !== e4.prototype && t4 instanceof e4 || !Error.isPrototypeOf(e4) && true === e4.call({}, t4);
        }
        __name(E2, "E");
        function x2(t4) {
          if ("function" != typeof t4)
            throw new c2("fn", "Function", t4);
          try {
            t4();
          } catch (t5) {
            return t5;
          }
          return S2;
        }
        __name(x2, "x");
        function T2(t4) {
          return b2(t4) || null !== t4 && "object" === o2(t4) && "function" == typeof t4.then && "function" == typeof t4.catch;
        }
        __name(T2, "T");
        function k2(t4) {
          return Promise.resolve().then(function() {
            var e4;
            if ("function" == typeof t4) {
              if (!T2(e4 = t4()))
                throw new f2("instance of Promise", "promiseFn", e4);
            } else {
              if (!T2(t4))
                throw new c2("promiseFn", ["Function", "Promise"], t4);
              e4 = t4;
            }
            return Promise.resolve().then(function() {
              return e4;
            }).then(function() {
              return S2;
            }).catch(function(t5) {
              return t5;
            });
          });
        }
        __name(k2, "k");
        function N2(t4, e4, r4, n3) {
          if ("string" == typeof r4) {
            if (4 === arguments.length)
              throw new c2("error", ["Object", "Error", "Function", "RegExp"], r4);
            if ("object" === o2(e4) && null !== e4) {
              if (e4.message === r4)
                throw new u2("error/message", 'The error message "'.concat(e4.message, '" is identical to the message.'));
            } else if (e4 === r4)
              throw new u2("error/message", 'The error "'.concat(e4, '" is identical to the message.'));
            n3 = r4, r4 = void 0;
          } else if (null != r4 && "object" !== o2(r4) && "function" != typeof r4)
            throw new c2("error", ["Object", "Error", "Function", "RegExp"], r4);
          if (e4 === S2) {
            var i3 = "";
            r4 && r4.name && (i3 += " (".concat(r4.name, ")")), i3 += n3 ? ": ".concat(n3) : ".";
            var s3 = "rejects" === t4.name ? "rejection" : "exception";
            $({ actual: void 0, expected: r4, operator: t4.name, message: "Missing expected ".concat(s3).concat(i3), stackStartFn: t4 });
          }
          if (r4 && !E2(e4, r4, n3, t4))
            throw e4;
        }
        __name(N2, "N");
        function I2(t4, e4, r4, n3) {
          if (e4 !== S2) {
            if ("string" == typeof r4 && (n3 = r4, r4 = void 0), !r4 || E2(e4, r4)) {
              var o3 = n3 ? ": ".concat(n3) : ".", i3 = "doesNotReject" === t4.name ? "rejection" : "exception";
              $({ actual: e4, expected: r4, operator: t4.name, message: "Got unwanted ".concat(i3).concat(o3, "\n") + 'Actual message: "'.concat(e4 && e4.message, '"'), stackStartFn: t4 });
            }
            throw e4;
          }
        }
        __name(I2, "I");
        function D2() {
          for (var t4 = arguments.length, e4 = new Array(t4), r4 = 0; r4 < t4; r4++)
            e4[r4] = arguments[r4];
          j2.apply(void 0, [D2, e4.length].concat(e4));
        }
        __name(D2, "D");
        w2.throws = /* @__PURE__ */ __name(function t4(e4) {
          for (var r4 = arguments.length, n3 = new Array(r4 > 1 ? r4 - 1 : 0), o3 = 1; o3 < r4; o3++)
            n3[o3 - 1] = arguments[o3];
          N2.apply(void 0, [t4, x2(e4)].concat(n3));
        }, "t"), w2.rejects = /* @__PURE__ */ __name(function t4(e4) {
          for (var r4 = arguments.length, n3 = new Array(r4 > 1 ? r4 - 1 : 0), o3 = 1; o3 < r4; o3++)
            n3[o3 - 1] = arguments[o3];
          return k2(e4).then(function(e5) {
            return N2.apply(void 0, [t4, e5].concat(n3));
          });
        }, "t"), w2.doesNotThrow = /* @__PURE__ */ __name(function t4(e4) {
          for (var r4 = arguments.length, n3 = new Array(r4 > 1 ? r4 - 1 : 0), o3 = 1; o3 < r4; o3++)
            n3[o3 - 1] = arguments[o3];
          I2.apply(void 0, [t4, x2(e4)].concat(n3));
        }, "t"), w2.doesNotReject = /* @__PURE__ */ __name(function t4(e4) {
          for (var r4 = arguments.length, n3 = new Array(r4 > 1 ? r4 - 1 : 0), o3 = 1; o3 < r4; o3++)
            n3[o3 - 1] = arguments[o3];
          return k2(e4).then(function(e5) {
            return I2.apply(void 0, [t4, e5].concat(n3));
          });
        }, "t"), w2.ifError = /* @__PURE__ */ __name(function t4(e4) {
          if (null != e4) {
            var r4 = "ifError got unwanted exception: ";
            "object" === o2(e4) && "string" == typeof e4.message ? 0 === e4.message.length && e4.constructor ? r4 += e4.constructor.name : r4 += e4.message : r4 += y2(e4);
            var n3 = new h2({ actual: e4, expected: null, operator: "ifError", message: r4, stackStartFn: t4 }), i3 = e4.stack;
            if ("string" == typeof i3) {
              var s3 = i3.split("\n");
              s3.shift();
              for (var a3 = n3.stack.split("\n"), u3 = 0; u3 < s3.length; u3++) {
                var c3 = a3.indexOf(s3[u3]);
                if (-1 !== c3) {
                  a3 = a3.slice(0, c3);
                  break;
                }
              }
              n3.stack = "".concat(a3.join("\n"), "\n").concat(s3.join("\n"));
            }
            throw n3;
          }
        }, "t"), w2.strict = v2(D2, w2, { equal: w2.strictEqual, deepEqual: w2.deepStrictEqual, notEqual: w2.notStrictEqual, notDeepEqual: w2.notDeepStrictEqual }), w2.strict.strict = w2.strict;
      }, 2403: (t3) => {
        "use strict";
        t3.exports = "undefined" != typeof Reflect && Reflect.getPrototypeOf || null;
      }, 2423: (t3) => {
        "use strict";
        t3.exports = function(t4, e3) {
          var r3 = t4.discriminatorMapping && t4.discriminatorMapping.value;
          if (r3 && !("sparse" in e3)) {
            var n2 = t4.options.discriminatorKey;
            e3.partialFilterExpression = e3.partialFilterExpression || {}, e3.partialFilterExpression[n2] = r3;
          }
          return e3;
        };
      }, 2477: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2402);
        t3.exports = function(t4) {
          return null == t4 || "" === t4 ? null : t4 instanceof Date ? (n2.ok(!isNaN(t4.valueOf())), t4) : (n2.ok("boolean" != typeof t4), e4 = t4 instanceof Number || "number" == typeof t4 ? new Date(t4) : "string" == typeof t4 && !isNaN(Number(t4)) && (Number(t4) >= 275761 || Number(t4) < -271820) ? new Date(Number(t4)) : "function" == typeof t4.valueOf ? new Date(t4.valueOf()) : new Date(t4), isNaN(e4.valueOf()) ? void n2.ok(false) : e4);
          var e4;
        };
      }, 2481: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(4756);
        t3.exports = function() {
          return "function" == typeof Object.is ? Object.is : n2;
        };
      }, 2486: (t3, e3) => {
        e3.read = function(t4, e4, r3, n2, o2) {
          var i2, s2, a2 = 8 * o2 - n2 - 1, u2 = (1 << a2) - 1, c2 = u2 >> 1, l2 = -7, f2 = r3 ? o2 - 1 : 0, p2 = r3 ? -1 : 1, h2 = t4[e4 + f2];
          for (f2 += p2, i2 = h2 & (1 << -l2) - 1, h2 >>= -l2, l2 += a2; l2 > 0; i2 = 256 * i2 + t4[e4 + f2], f2 += p2, l2 -= 8)
            ;
          for (s2 = i2 & (1 << -l2) - 1, i2 >>= -l2, l2 += n2; l2 > 0; s2 = 256 * s2 + t4[e4 + f2], f2 += p2, l2 -= 8)
            ;
          if (0 === i2)
            i2 = 1 - c2;
          else {
            if (i2 === u2)
              return s2 ? NaN : 1 / 0 * (h2 ? -1 : 1);
            s2 += Math.pow(2, n2), i2 -= c2;
          }
          return (h2 ? -1 : 1) * s2 * Math.pow(2, i2 - n2);
        }, e3.write = function(t4, e4, r3, n2, o2, i2) {
          var s2, a2, u2, c2 = 8 * i2 - o2 - 1, l2 = (1 << c2) - 1, f2 = l2 >> 1, p2 = 23 === o2 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, h2 = n2 ? 0 : i2 - 1, y2 = n2 ? 1 : -1, d2 = e4 < 0 || 0 === e4 && 1 / e4 < 0 ? 1 : 0;
          for (e4 = Math.abs(e4), isNaN(e4) || e4 === 1 / 0 ? (a2 = isNaN(e4) ? 1 : 0, s2 = l2) : (s2 = Math.floor(Math.log(e4) / Math.LN2), e4 * (u2 = Math.pow(2, -s2)) < 1 && (s2--, u2 *= 2), (e4 += s2 + f2 >= 1 ? p2 / u2 : p2 * Math.pow(2, 1 - f2)) * u2 >= 2 && (s2++, u2 /= 2), s2 + f2 >= l2 ? (a2 = 0, s2 = l2) : s2 + f2 >= 1 ? (a2 = (e4 * u2 - 1) * Math.pow(2, o2), s2 += f2) : (a2 = e4 * Math.pow(2, f2 - 1) * Math.pow(2, o2), s2 = 0)); o2 >= 8; t4[r3 + h2] = 255 & a2, h2 += y2, a2 /= 256, o2 -= 8)
            ;
          for (s2 = s2 << o2 | a2, c2 += o2; c2 > 0; t4[r3 + h2] = 255 & s2, h2 += y2, s2 /= 256, c2 -= 8)
            ;
          t4[r3 + h2 - y2] |= 128 * d2;
        };
      }, 2497: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(1243).isMongooseArray;
        t3.exports = function(t4) {
          return null != t4 && (n2(t4) || null != t4.$__ || t4.isMongooseBuffer || t4.$isMongooseMap);
        };
      }, 2555: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          if (Array.isArray(t4)) {
            if (!t4.every(function(t5) {
              return "number" == typeof t5 || "string" == typeof t5;
            }))
              throw new Error("$type array values must be strings or numbers");
            return t4;
          }
          if ("number" != typeof t4 && "string" != typeof t4)
            throw new Error("$type parameter must be number, string, or array of numbers and strings");
          return t4;
        };
      }, 2580: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2400), o2 = r3(3550).EventEmitter, i2 = r3(3672), s2 = r3(7058), a2 = r3(5549), u2 = i2.ValidationError, c2 = r3(4957), l2 = r3(608);
        function f2(t4, e4, r4, o3, u3) {
          if (!(this instanceof f2))
            return new f2(t4, e4, r4, o3, u3);
          if (l2(e4) && !e4.instanceOfSchema && (e4 = new s2(e4)), e4 = this.schema || e4, !this.schema && e4.options._id && void 0 === (t4 = t4 || {})._id && (t4._id = new a2()), !e4)
            throw new i2.MissingSchemaError();
          for (var p2 in this.$__setSchema(e4), n2.call(this, t4, r4, o3, u3), c2(this, e4, { decorateDoc: true }), e4.methods)
            this[p2] = e4.methods[p2];
          for (var h2 in e4.statics)
            this[h2] = e4.statics[h2];
        }
        __name(f2, "f");
        f2.prototype = Object.create(n2.prototype), f2.prototype.constructor = f2, f2.events = new o2(), f2.$emitter = new o2(), ["on", "once", "emit", "listeners", "removeListener", "setMaxListeners", "removeAllListeners", "addListener"].forEach(function(t4) {
          f2[t4] = function() {
            return f2.$emitter[t4].apply(f2.$emitter, arguments);
          };
        }), f2.ValidationError = u2, t3.exports = f2;
      }, 2653: (t3) => {
        "use strict";
        t3.exports = ["Float16Array", "Float32Array", "Float64Array", "Int8Array", "Int16Array", "Int32Array", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "BigInt64Array", "BigUint64Array"];
      }, 2692: (t3) => {
        "use strict";
        t3.exports = function(t4, e3) {
          if (1 !== e3.length) {
            for (var r3 = e3[0], n2 = void 0, o2 = 0; o2 < e3.length - 1; ++o2) {
              var i2 = t4.path(r3);
              i2 && i2.schema ? (n2 = i2.schema.options.strict, t4 = i2.schema, r3 = i2.$isMongooseDocumentArray && !isNaN(e3[o2 + 1]) ? "" : e3[o2 + 1]) : r3 += r3.length ? "." + e3[o2 + 1] : e3[o2 + 1];
            }
            return n2;
          }
        };
      }, 2696: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3305);
        t3.exports = function(t4, e4) {
          return "string" == typeof t4 && "string" == typeof e4 || "number" == typeof t4 && "number" == typeof e4 ? t4 === e4 : !(!n2(t4, "ObjectId") || !n2(e4, "ObjectId")) && t4.toString() === e4.toString();
        };
      }, 2724: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3071), o2 = r3(9344), i2 = n2("RegExp.prototype.exec"), s2 = r3(2268);
        t3.exports = function(t4) {
          if (!o2(t4))
            throw new s2("`regex` must be a RegExp");
          return function(e4) {
            return null !== i2(t4, e4);
          };
        };
      }, 2746: (t3) => {
        "use strict";
        var e3 = "function" == typeof { env: {} }.nextTick ? { env: {} }.nextTick.bind({ env: {} }) : function(t4) {
          return setTimeout(t4, 0);
        };
        t3.exports = function(t4) {
          return e3(t4);
        };
      }, 2789: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          if (null == t4 || "object" !== e3(t4))
            return false;
          var r3 = Object.getPrototypeOf(t4);
          return !r3 || "Object" === r3.constructor.name;
        };
      }, 2793: (t3) => {
        "use strict";
        t3.exports = /* @__PURE__ */ new Set(["__proto__", "constructor", "prototype"]);
      }, 2822: (t3, e3, r3) => {
        "use strict";
        t3.exports = r3(6353).Double;
      }, 2824: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(7930).objectIdSymbol, o2 = r3(8768);
        function i2() {
          var t4, e4;
          if (this.$__.shardval) {
            e4 = (t4 = Object.keys(this.$__.shardval)).length, this.$where = this.$where || {};
            for (var r4 = 0; r4 < e4; ++r4)
              this.$where[t4[r4]] = this.$__.shardval[t4[r4]];
          }
        }
        __name(i2, "i");
        function s2() {
          var t4 = this.$__schema.options.shardKey || this.$__schema.options.shardkey;
          if (o2.isPOJO(t4))
            for (var e4, r4 = this.$__.shardval = {}, i3 = Object.keys(t4), s3 = i3.length, a2 = 0; a2 < s3; ++a2)
              null == (e4 = this.$__getValue(i3[a2])) ? r4[i3[a2]] = e4 : o2.isMongooseObject(e4) ? r4[i3[a2]] = e4.toObject({ depopulate: true, _isNested: true }) : e4 instanceof Date || e4[n2] ? r4[i3[a2]] = e4 : "function" == typeof e4.valueOf ? r4[i3[a2]] = e4.valueOf() : r4[i3[a2]] = e4;
        }
        __name(s2, "s");
        t3.exports = function(t4) {
          t4.post("init", function() {
            return s2.call(this), this;
          }), t4.pre("save", function(t5) {
            i2.call(this), t5();
          }), t4.pre("deleteOne", { document: true, query: false }, function(t5) {
            i2.call(this), t5();
          }), t4.post("save", function() {
            s2.call(this);
          });
        }, t3.exports.storeShard = s2;
      }, 2900: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8260);
        t3.exports = function(t4) {
          if ("TopologyDescription" !== n2(t4))
            return false;
          var e4 = Array.from(t4.servers.values());
          return e4.length > 0 && e4.every(function(t5) {
            return "Unknown" === t5.type;
          });
        };
      }, 2914: (t3, e3, r3) => {
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(7860), i2 = ["__proto__", "constructor", "prototype"];
        function s2(t4, e4, r4, n3, o3, i3) {
          for (var a3, u2 = 0; u2 < t4.length && u2 < e4.length; ++u2)
            a3 = t4[u2], Array.isArray(a3) && Array.isArray(e4[u2]) ? s2(a3, e4[u2], r4, n3, o3, i3) : a3 && (n3 ? n3(a3, r4, i3(e4[u2])) : (a3[o3] && (a3 = a3[o3]), a3[r4] = i3(e4[u2])));
        }
        __name(s2, "s");
        function a2(t4) {
          return t4;
        }
        __name(a2, "a");
        e3.get = function(t4, r4, i3, s3) {
          var u2;
          "function" == typeof i3 && (i3.length < 2 ? (s3 = i3, i3 = void 0) : (u2 = i3, i3 = void 0)), s3 || (s3 = a2);
          var c2 = "string" == typeof t4 ? o2(t4) : t4;
          if (!Array.isArray(c2))
            throw new TypeError("Invalid `path`. Must be either string or array");
          for (var l2, f2 = r4, p2 = 0; p2 < c2.length; ++p2) {
            if (l2 = c2[p2], "string" != typeof c2[p2] && "number" != typeof c2[p2])
              throw new TypeError("Each segment of path to `get()` must be a string or number, got " + n2(c2[p2]));
            if (Array.isArray(f2) && !/^\d+$/.test(l2)) {
              var h2 = c2.slice(p2);
              return [].concat(f2).map(function(t5) {
                return t5 ? e3.get(h2, t5, i3 || u2, s3) : s3(void 0);
              });
            }
            if (u2)
              f2 = u2(f2, l2);
            else {
              var y2 = i3 && f2[i3] ? f2[i3] : f2;
              f2 = y2 instanceof Map ? y2.get(l2) : y2[l2];
            }
            if (!f2)
              return s3(f2);
          }
          return s3(f2);
        }, e3.has = function(t4, e4) {
          var r4 = "string" == typeof t4 ? o2(t4) : t4;
          if (!Array.isArray(r4))
            throw new TypeError("Invalid `path`. Must be either string or array");
          for (var i3 = r4.length, s3 = e4, a3 = 0; a3 < i3; ++a3) {
            if ("string" != typeof r4[a3] && "number" != typeof r4[a3])
              throw new TypeError("Each segment of path to `has()` must be a string or number, got " + n2(r4[a3]));
            if (null == s3 || "object" !== n2(s3) || !(r4[a3] in s3))
              return false;
            s3 = s3[r4[a3]];
          }
          return true;
        }, e3.unset = function(t4, e4) {
          var r4 = "string" == typeof t4 ? o2(t4) : t4;
          if (!Array.isArray(r4))
            throw new TypeError("Invalid `path`. Must be either string or array");
          for (var s3 = r4.length, a3 = e4, u2 = 0; u2 < s3; ++u2) {
            if (null == a3 || "object" !== n2(a3) || !(r4[u2] in a3))
              return false;
            if ("string" != typeof r4[u2] && "number" != typeof r4[u2])
              throw new TypeError("Each segment of path to `unset()` must be a string or number, got " + n2(r4[u2]));
            if (-1 !== i2.indexOf(r4[u2]))
              return false;
            if (u2 === s3 - 1)
              return delete a3[r4[u2]], true;
            a3 = a3 instanceof Map ? a3.get(r4[u2]) : a3[r4[u2]];
          }
          return true;
        }, e3.set = function(t4, r4, u2, c2, l2, f2) {
          var p2;
          "function" == typeof c2 && (c2.length < 2 ? (l2 = c2, c2 = void 0) : (p2 = c2, c2 = void 0)), l2 || (l2 = a2);
          var h2 = "string" == typeof t4 ? o2(t4) : t4;
          if (!Array.isArray(h2))
            throw new TypeError("Invalid `path`. Must be either string or array");
          if (null != u2) {
            for (var y2 = 0; y2 < h2.length; ++y2) {
              if ("string" != typeof h2[y2] && "number" != typeof h2[y2])
                throw new TypeError("Each segment of path to `set()` must be a string or number, got " + n2(h2[y2]));
              if (-1 !== i2.indexOf(h2[y2]))
                return;
            }
            for (var d2, b2 = f2 || /\$/.test(t4) && false !== f2, m2 = u2, v2 = (y2 = 0, h2.length - 1); y2 < v2; ++y2)
              if ("$" != (d2 = h2[y2])) {
                if (Array.isArray(m2) && !/^\d+$/.test(d2)) {
                  var g2 = h2.slice(y2);
                  if (!b2 && Array.isArray(r4))
                    for (var _ = 0; _ < m2.length && _ < r4.length; ++_)
                      e3.set(g2, r4[_], m2[_], c2 || p2, l2, b2);
                  else
                    for (_ = 0; _ < m2.length; ++_)
                      e3.set(g2, r4, m2[_], c2 || p2, l2, b2);
                  return;
                }
                if (p2)
                  m2 = p2(m2, d2);
                else {
                  var O2 = c2 && m2[c2] ? m2[c2] : m2;
                  m2 = O2 instanceof Map ? O2.get(d2) : O2[d2];
                }
                if (!m2)
                  return;
              } else if (y2 == v2 - 1)
                break;
            if (d2 = h2[v2], c2 && m2[c2] && (m2 = m2[c2]), Array.isArray(m2) && !/^\d+$/.test(d2))
              if (!b2 && Array.isArray(r4))
                s2(m2, r4, d2, p2, c2, l2);
              else
                for (_ = 0; _ < m2.length; ++_) {
                  var w2 = m2[_];
                  w2 && (p2 ? p2(w2, d2, l2(r4)) : (w2[c2] && (w2 = w2[c2]), w2[d2] = l2(r4)));
                }
            else
              p2 ? p2(m2, d2, l2(r4)) : m2 instanceof Map ? m2.set(d2, l2(r4)) : m2[d2] = l2(r4);
          }
        }, e3.stringToParts = o2;
      }, 2945: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "subtype", u2), t3.exports = a2;
      }, 3071: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(6400), o2 = r3(8863), i2 = o2([n2("%String.prototype.indexOf%")]);
        t3.exports = function(t4, e4) {
          var r4 = n2(t4, !!e4);
          return "function" == typeof r4 && i2(t4, ".prototype.") > -1 ? o2([r4]) : r4;
        };
      }, 3091: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2, u2 = r3(4625), c2 = r3(6426), l2 = r3(863), f2 = r3(4327), p2 = r3(8260), h2 = r3(5549), y2 = r3(3305), d2 = r3(8768), b2 = c2.CastError;
        function m2(t4, e4, r4, n3) {
          var o3 = "string" == typeof t4 && 24 === t4.length && /^[a-f0-9]+$/i.test(t4), i3 = e4 && e4.suppressWarning;
          !o3 && void 0 !== t4 || i3 || d2.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."), c2.call(this, t4, e4, "ObjectId", n3);
        }
        __name(m2, "m");
        function v2(t4) {
          return this.cast(t4);
        }
        __name(v2, "v");
        m2.schemaName = "ObjectId", m2.defaultOptions = {}, m2.prototype = Object.create(c2.prototype), m2.prototype.constructor = m2, m2.prototype.OptionsConstructor = u2, m2.get = c2.get, m2.set = c2.set, m2.setters = [], m2.prototype.auto = function(t4) {
          return t4 && (this.default(_), this.set(O2)), this;
        }, m2._checkRequired = function(t4) {
          return y2(t4, "ObjectId");
        }, m2._cast = l2, m2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, m2._defaultCaster = function(t4) {
          if (!y2(t4, "ObjectId"))
            throw new Error(t4 + " is not an instance of ObjectId");
          return t4;
        }, m2.checkRequired = c2.checkRequired, m2.prototype.checkRequired = function(t4, e4) {
          return c2._isRef(this, t4, e4, true) ? !!t4 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : m2.checkRequired())(t4);
        }, m2.prototype.cast = function(t4, e4, r4, n3, o3) {
          if (!y2(t4, "ObjectId") && c2._isRef(this, t4, e4, r4)) {
            if ("objectid" === (p2(t4) || "").toLowerCase())
              return new h2(t4.toHexString());
            if (null == t4 || d2.isNonBuiltinObject(t4))
              return this._castRef(t4, e4, r4, o3);
          }
          var i3;
          i3 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : m2.cast();
          try {
            return i3(t4);
          } catch (e5) {
            throw new b2("ObjectId", t4, this.path, e5, this);
          }
        };
        var g2 = i2(i2({}, c2.prototype.$conditionalHandlers), {}, { $gt: v2, $gte: v2, $lt: v2, $lte: v2 });
        function _() {
          return new h2();
        }
        __name(_, "_");
        function O2(t4) {
          return a2 || (a2 = r3(2400)), this instanceof a2 && void 0 === t4 ? new h2() : t4;
        }
        __name(O2, "O");
        Object.defineProperty(m2.prototype, "$conditionalHandlers", { enumerable: false, value: g2 }), _.$runBeforeSetters = true, m2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required || "_id" === this.path;
          return f2("string", "objectId", null == t4 ? void 0 : t4.useBsonType, e4);
        }, m2.prototype.autoEncryptionType = function() {
          return "objectId";
        }, t3.exports = m2;
      }, 3123: (t3) => {
        "use strict";
        t3.exports = Function.prototype.call;
      }, 3191: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(988), o2 = /* @__PURE__ */ __name(function() {
          return !!n2;
        }, "o");
        o2.hasArrayLengthDefineBug = function() {
          if (!n2)
            return null;
          try {
            return 1 !== n2([], "length", { value: 1 }).length;
          } catch (t4) {
            return true;
          }
        }, t3.exports = o2;
      }, 3216: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(n2, "n");
        function o2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? n2(Object(r4), true).forEach(function(e5) {
              i2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : n2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != s2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != s2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == s2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2(t4) {
          return s2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, s2(t4);
        }
        __name(s2, "s");
        var a2 = r3(8768), u2 = /* @__PURE__ */ new Set(["__index", "__parentArray", "_doc"]);
        t3.exports = function(t4, e4) {
          if (a2.isPOJO(t4) && null != t4.$__ && null != t4._doc) {
            if (e4) {
              for (var r4 = {}, n3 = 0, i3 = Object.keys(t4); n3 < i3.length; n3++) {
                var c2 = i3[n3];
                "symbol" !== s2(c2) && "$" !== c2[0] && (u2.has(c2) || (r4[c2] = t4[c2]));
              }
              return o2(o2({}, t4._doc), r4);
            }
            return t4._doc;
          }
          return t4;
        };
      }, 3279: (t3) => {
        "use strict";
        t3.exports = Function.prototype.apply;
      }, 3303: (t3, e3) => {
        "use strict";
        e3._ = { transform: false, virtuals: false, getters: false, _skipDepopulateTopLevel: true, depopulate: true, flattenDecimals: false, useProjection: false, versionKey: true, flattenObjectIds: false };
      }, 3305: (t3) => {
        "use strict";
        t3.exports = function(t4, e3) {
          return null != t4 && t4._bsontype === e3;
        };
      }, 3318: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2 = r3(3609), u2 = r3(6426), c2 = r3(4058), l2 = r3(4327);
        function f2(t4, e4, r4, n3) {
          u2.call(this, t4, e4, "BigInt", n3);
        }
        __name(f2, "f");
        f2.schemaName = "BigInt", f2.defaultOptions = {}, f2.prototype = Object.create(u2.prototype), f2.prototype.constructor = f2, f2._cast = c2, f2.set = u2.set, f2.setters = [], f2.get = u2.get, f2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, f2._checkRequired = function(t4) {
          return null != t4;
        }, f2.checkRequired = u2.checkRequired, f2.prototype.checkRequired = function(t4) {
          return this.constructor._checkRequired(t4);
        }, f2.prototype.cast = function(t4) {
          var e4;
          e4 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : f2.cast();
          try {
            return e4(t4);
          } catch (e5) {
            throw new a2("BigInt", t4, this.path, e5, this);
          }
        };
        var p2 = i2(i2({}, u2.prototype.$conditionalHandlers), {}, { $gt: h2, $gte: h2, $lt: h2, $lte: h2 });
        function h2(t4, e4) {
          return this.castForQuery(null, t4, e4);
        }
        __name(h2, "h");
        Object.defineProperty(f2.prototype, "$conditionalHandlers", { enumerable: false, value: p2 }), f2.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4)
            return (n3 = this.$conditionalHandlers[t4]) ? n3.call(this, e4) : this.applySetters(e4, r4);
          try {
            return this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof a2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
        }, f2.prototype._castNullish = function(t4) {
          return void 0 === t4 || ("function" == typeof this.constructor.cast ? this.constructor.cast() : f2.cast()), t4;
        }, f2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return l2("string", "long", null == t4 ? void 0 : t4.useBsonType, e4);
        }, f2.prototype.autoEncryptionType = function() {
          return "long";
        }, t3.exports = f2;
      }, 3381: (t3) => {
        "use strict";
        function e3() {
          return null != this._id ? this._id.toString() : null;
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          return !t4.paths.id && t4.paths._id && t4.options.id ? (t4.aliases && t4.aliases.id || t4.virtual("id").get(e3), t4) : t4;
        };
      }, 3388: (t3) => {
        "use strict";
        t3.exports = "undefined" != typeof Reflect && Reflect && Reflect.apply;
      }, 3414: (t3) => {
        "use strict";
        t3.exports = Number.isNaN || function(t4) {
          return t4 != t4;
        };
      }, 3426: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2653), o2 = "undefined" == typeof globalThis ? r3.g : globalThis;
        t3.exports = function() {
          for (var t4 = [], e4 = 0; e4 < n2.length; e4++)
            "function" == typeof o2[n2[e4]] && (t4[t4.length] = n2[e4]);
          return t4;
        };
      }, 3441: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5, r5) {
            var s3;
            !function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4);
            var a3 = Array.isArray(r5) ? "array" : "primitive value";
            return (s3 = function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, ["Tried to set nested object field `" + t5 + "` to ".concat(a3, " `") + r5 + "`"])).path = t5, s3;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "ObjectExpectedError" }), t3.exports = a2;
      }, 3550: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        var r3, n2 = "object" === ("undefined" == typeof Reflect ? "undefined" : e3(Reflect)) ? Reflect : null, o2 = n2 && "function" == typeof n2.apply ? n2.apply : function(t4, e4, r4) {
          return Function.prototype.apply.call(t4, e4, r4);
        };
        r3 = n2 && "function" == typeof n2.ownKeys ? n2.ownKeys : Object.getOwnPropertySymbols ? function(t4) {
          return Object.getOwnPropertyNames(t4).concat(Object.getOwnPropertySymbols(t4));
        } : function(t4) {
          return Object.getOwnPropertyNames(t4);
        };
        var i2 = Number.isNaN || function(t4) {
          return t4 != t4;
        };
        function s2() {
          s2.init.call(this);
        }
        __name(s2, "s");
        t3.exports = s2, t3.exports.once = function(t4, e4) {
          return new Promise(function(r4, n3) {
            function o3(r5) {
              t4.removeListener(e4, i3), n3(r5);
            }
            __name(o3, "o");
            function i3() {
              "function" == typeof t4.removeListener && t4.removeListener("error", o3), r4([].slice.call(arguments));
            }
            __name(i3, "i");
            b2(t4, e4, i3, { once: true }), "error" !== e4 && function(t5, e5) {
              "function" == typeof t5.on && b2(t5, "error", e5, { once: true });
            }(t4, o3);
          });
        }, s2.EventEmitter = s2, s2.prototype._events = void 0, s2.prototype._eventsCount = 0, s2.prototype._maxListeners = void 0;
        var a2 = 10;
        function u2(t4) {
          if ("function" != typeof t4)
            throw new TypeError('The "listener" argument must be of type Function. Received type ' + e3(t4));
        }
        __name(u2, "u");
        function c2(t4) {
          return void 0 === t4._maxListeners ? s2.defaultMaxListeners : t4._maxListeners;
        }
        __name(c2, "c");
        function l2(t4, e4, r4, n3) {
          var o3, i3, s3, a3;
          if (u2(r4), void 0 === (i3 = t4._events) ? (i3 = t4._events = /* @__PURE__ */ Object.create(null), t4._eventsCount = 0) : (void 0 !== i3.newListener && (t4.emit("newListener", e4, r4.listener ? r4.listener : r4), i3 = t4._events), s3 = i3[e4]), void 0 === s3)
            s3 = i3[e4] = r4, ++t4._eventsCount;
          else if ("function" == typeof s3 ? s3 = i3[e4] = n3 ? [r4, s3] : [s3, r4] : n3 ? s3.unshift(r4) : s3.push(r4), (o3 = c2(t4)) > 0 && s3.length > o3 && !s3.warned) {
            s3.warned = true;
            var l3 = new Error("Possible EventEmitter memory leak detected. " + s3.length + " " + String(e4) + " listeners added. Use emitter.setMaxListeners() to increase limit");
            l3.name = "MaxListenersExceededWarning", l3.emitter = t4, l3.type = e4, l3.count = s3.length, a3 = l3, console && console.warn && console.warn(a3);
          }
          return t4;
        }
        __name(l2, "l");
        function f2() {
          if (!this.fired)
            return this.target.removeListener(this.type, this.wrapFn), this.fired = true, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
        }
        __name(f2, "f");
        function p2(t4, e4, r4) {
          var n3 = { fired: false, wrapFn: void 0, target: t4, type: e4, listener: r4 }, o3 = f2.bind(n3);
          return o3.listener = r4, n3.wrapFn = o3, o3;
        }
        __name(p2, "p");
        function h2(t4, e4, r4) {
          var n3 = t4._events;
          if (void 0 === n3)
            return [];
          var o3 = n3[e4];
          return void 0 === o3 ? [] : "function" == typeof o3 ? r4 ? [o3.listener || o3] : [o3] : r4 ? function(t5) {
            for (var e5 = new Array(t5.length), r5 = 0; r5 < e5.length; ++r5)
              e5[r5] = t5[r5].listener || t5[r5];
            return e5;
          }(o3) : d2(o3, o3.length);
        }
        __name(h2, "h");
        function y2(t4) {
          var e4 = this._events;
          if (void 0 !== e4) {
            var r4 = e4[t4];
            if ("function" == typeof r4)
              return 1;
            if (void 0 !== r4)
              return r4.length;
          }
          return 0;
        }
        __name(y2, "y");
        function d2(t4, e4) {
          for (var r4 = new Array(e4), n3 = 0; n3 < e4; ++n3)
            r4[n3] = t4[n3];
          return r4;
        }
        __name(d2, "d");
        function b2(t4, r4, n3, o3) {
          if ("function" == typeof t4.on)
            o3.once ? t4.once(r4, n3) : t4.on(r4, n3);
          else {
            if ("function" != typeof t4.addEventListener)
              throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + e3(t4));
            t4.addEventListener(r4, /* @__PURE__ */ __name(function e4(i3) {
              o3.once && t4.removeEventListener(r4, e4), n3(i3);
            }, "e"));
          }
        }
        __name(b2, "b");
        Object.defineProperty(s2, "defaultMaxListeners", { enumerable: true, get: function() {
          return a2;
        }, set: function(t4) {
          if ("number" != typeof t4 || t4 < 0 || i2(t4))
            throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + t4 + ".");
          a2 = t4;
        } }), s2.init = function() {
          void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
        }, s2.prototype.setMaxListeners = function(t4) {
          if ("number" != typeof t4 || t4 < 0 || i2(t4))
            throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + t4 + ".");
          return this._maxListeners = t4, this;
        }, s2.prototype.getMaxListeners = function() {
          return c2(this);
        }, s2.prototype.emit = function(t4) {
          for (var e4 = [], r4 = 1; r4 < arguments.length; r4++)
            e4.push(arguments[r4]);
          var n3 = "error" === t4, i3 = this._events;
          if (void 0 !== i3)
            n3 = n3 && void 0 === i3.error;
          else if (!n3)
            return false;
          if (n3) {
            var s3;
            if (e4.length > 0 && (s3 = e4[0]), s3 instanceof Error)
              throw s3;
            var a3 = new Error("Unhandled error." + (s3 ? " (" + s3.message + ")" : ""));
            throw a3.context = s3, a3;
          }
          var u3 = i3[t4];
          if (void 0 === u3)
            return false;
          if ("function" == typeof u3)
            o2(u3, this, e4);
          else {
            var c3 = u3.length, l3 = d2(u3, c3);
            for (r4 = 0; r4 < c3; ++r4)
              o2(l3[r4], this, e4);
          }
          return true;
        }, s2.prototype.addListener = function(t4, e4) {
          return l2(this, t4, e4, false);
        }, s2.prototype.on = s2.prototype.addListener, s2.prototype.prependListener = function(t4, e4) {
          return l2(this, t4, e4, true);
        }, s2.prototype.once = function(t4, e4) {
          return u2(e4), this.on(t4, p2(this, t4, e4)), this;
        }, s2.prototype.prependOnceListener = function(t4, e4) {
          return u2(e4), this.prependListener(t4, p2(this, t4, e4)), this;
        }, s2.prototype.removeListener = function(t4, e4) {
          var r4, n3, o3, i3, s3;
          if (u2(e4), void 0 === (n3 = this._events))
            return this;
          if (void 0 === (r4 = n3[t4]))
            return this;
          if (r4 === e4 || r4.listener === e4)
            0 === --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : (delete n3[t4], n3.removeListener && this.emit("removeListener", t4, r4.listener || e4));
          else if ("function" != typeof r4) {
            for (o3 = -1, i3 = r4.length - 1; i3 >= 0; i3--)
              if (r4[i3] === e4 || r4[i3].listener === e4) {
                s3 = r4[i3].listener, o3 = i3;
                break;
              }
            if (o3 < 0)
              return this;
            0 === o3 ? r4.shift() : function(t5, e5) {
              for (; e5 + 1 < t5.length; e5++)
                t5[e5] = t5[e5 + 1];
              t5.pop();
            }(r4, o3), 1 === r4.length && (n3[t4] = r4[0]), void 0 !== n3.removeListener && this.emit("removeListener", t4, s3 || e4);
          }
          return this;
        }, s2.prototype.off = s2.prototype.removeListener, s2.prototype.removeAllListeners = function(t4) {
          var e4, r4, n3;
          if (void 0 === (r4 = this._events))
            return this;
          if (void 0 === r4.removeListener)
            return 0 === arguments.length ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : void 0 !== r4[t4] && (0 === --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : delete r4[t4]), this;
          if (0 === arguments.length) {
            var o3, i3 = Object.keys(r4);
            for (n3 = 0; n3 < i3.length; ++n3)
              "removeListener" !== (o3 = i3[n3]) && this.removeAllListeners(o3);
            return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
          }
          if ("function" == typeof (e4 = r4[t4]))
            this.removeListener(t4, e4);
          else if (void 0 !== e4)
            for (n3 = e4.length - 1; n3 >= 0; n3--)
              this.removeListener(t4, e4[n3]);
          return this;
        }, s2.prototype.listeners = function(t4) {
          return h2(this, t4, true);
        }, s2.prototype.rawListeners = function(t4) {
          return h2(this, t4, false);
        }, s2.listenerCount = function(t4, e4) {
          return "function" == typeof t4.listenerCount ? t4.listenerCount(e4) : y2.call(t4, e4);
        }, s2.prototype.listenerCount = y2, s2.prototype.eventNames = function() {
          return this._eventsCount > 0 ? r3(this._events) : [];
        };
      }, 3609: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, i2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return e4 = c2(e4), function(t5, e5) {
            if (e5 && ("object" == n2(e5) || "function" == typeof e5))
              return e5;
            if (void 0 !== e5)
              throw new TypeError("Derived constructors may only return object or undefined");
            return a2(t5);
          }(t4, u2() ? Reflect.construct(e4, r4 || [], c2(t4).constructor) : e4.apply(t4, r4));
        }
        __name(s2, "s");
        function a2(t4) {
          if (void 0 === t4)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t4;
        }
        __name(a2, "a");
        function u2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (u2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "u"))();
        }
        __name(u2, "u");
        function c2(t4) {
          return c2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, c2(t4);
        }
        __name(c2, "c");
        function l2(t4, e4) {
          return l2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, l2(t4, e4);
        }
        __name(l2, "l");
        var f2 = r3(8213), p2 = r3(7352), h2 = function(t4) {
          function e4(t5, r5, n4, o3, i3) {
            var u3;
            if (function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), arguments.length > 0) {
              var c3 = d2(r5);
              (u3 = s2(this, e4, [m2(null, t5, r5, n4, b2(i3), c3, o3)])).init(t5, r5, n4, o3, i3);
            } else
              u3 = s2(this, e4, [m2()]);
            return a2(u3);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && l2(t5, e5);
          }(e4, t4), r4 = e4, (n3 = [{ key: "toJSON", value: function() {
            return { stringValue: this.stringValue, valueType: this.valueType, kind: this.kind, value: this.value, path: this.path, reason: this.reason, name: this.name, message: this.message };
          } }, { key: "init", value: function(t5, e5, r5, n4, o3) {
            this.stringValue = y2(e5), this.messageFormat = b2(o3), this.kind = t5, this.value = e5, this.path = r5, this.reason = n4, this.valueType = d2(e5);
          } }, { key: "copy", value: function(t5) {
            this.messageFormat = t5.messageFormat, this.stringValue = t5.stringValue, this.kind = t5.kind, this.value = t5.value, this.path = t5.path, this.reason = t5.reason, this.message = t5.message, this.valueType = t5.valueType;
          } }, { key: "setModel", value: function(t5) {
            this.message = m2(t5, this.kind, this.value, this.path, this.messageFormat, this.valueType);
          } }]) && o2(r4.prototype, n3), Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4, n3;
        }(f2);
        function y2(t4) {
          var e4 = p2.inspect(t4);
          return (e4 = e4.replace(/^'|'$/g, '"')).startsWith('"') || (e4 = '"' + e4 + '"'), e4;
        }
        __name(y2, "y");
        function d2(t4) {
          if (null == t4)
            return "" + t4;
          var e4 = n2(t4);
          return "object" !== e4 || "function" != typeof t4.constructor ? e4 : t4.constructor.name;
        }
        __name(d2, "d");
        function b2(t4) {
          var e4 = t4 && t4._castErrorMessage || null;
          if ("string" == typeof e4 || "function" == typeof e4)
            return e4;
        }
        __name(b2, "b");
        function m2(t4, e4, r4, n3, o3, i3, s3) {
          if ("string" == typeof o3) {
            var a3 = y2(r4), u3 = o3.replace("{KIND}", e4).replace("{VALUE}", a3).replace("{PATH}", n3);
            return null != t4 && (u3 = u3.replace("{MODEL}", t4.modelName)), u3;
          }
          if ("function" == typeof o3)
            return o3(r4, n3, t4, e4);
          var c3 = "Cast to " + e4 + " failed for value " + y2(r4) + (i3 ? " (type " + i3 + ")" : "") + ' at path "' + n3 + '"';
          return null != t4 && (c3 += ' for model "' + t4.modelName + '"'), null != s3 && "function" == typeof s3.constructor && "AssertionError" !== s3.constructor.name && "Error" !== s3.constructor.name && (c3 += ' because of "' + s3.constructor.name + '"'), c3;
        }
        __name(m2, "m");
        Object.defineProperty(h2.prototype, "name", { value: "CastError" }), t3.exports = h2;
      }, 3622: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4, r3, n2) {
          if (null == t4)
            return t4;
          if (null != t4._doc && (t4 = t4._doc), arguments.length >= 3) {
            if ("object" !== e3(t4))
              return;
            if (void 0 === n2)
              return;
            return t4 instanceof Map ? t4.set(r3, n2) : t4[r3] = n2, n2;
          }
          return "$*" === r3 ? t4 instanceof Map ? Array.from(t4.values()) : Object.keys(t4).map(function(e4) {
            return t4[e4];
          }) : t4 instanceof Map ? t4.get(r3) : t4[r3];
        };
      }, 3644: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5) {
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t6, e5, r5) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r5 || [], i2(t6).constructor) : e5.apply(t6, r5));
            }(this, e4, ["Cannot overwrite `" + t5 + "` model once compiled."]);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "OverwriteModelError" }), t3.exports = a2;
      }, 3660: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(n2, "n");
        function o2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? n2(Object(r4), true).forEach(function(e5) {
              i2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : n2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != s2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != s2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == s2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2(t4) {
          return s2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, s2(t4);
        }
        __name(s2, "s");
        var a2 = r3(3672), u2 = r3(1007), c2 = r3(6426), l2 = r3(7768), f2 = r3(4327), p2 = r3(9460), h2 = r3(8768), y2 = c2.CastError;
        function d2(t4, e4, r4, n3) {
          c2.call(this, t4, e4, "Number", n3);
        }
        __name(d2, "d");
        function b2(t4) {
          return this.cast(t4);
        }
        __name(b2, "b");
        d2.get = c2.get, d2.set = c2.set, d2.setters = [], d2._cast = l2, d2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, d2._defaultCaster = function(t4) {
          if ("number" != typeof t4)
            throw new Error();
          return t4;
        }, d2.schemaName = "Number", d2.defaultOptions = {}, d2.prototype = Object.create(c2.prototype), d2.prototype.constructor = d2, d2.prototype.OptionsConstructor = u2, d2._checkRequired = function(t4) {
          return "number" == typeof t4 || t4 instanceof Number;
        }, d2.checkRequired = c2.checkRequired, d2.prototype.checkRequired = function(t4, e4) {
          return "object" === s2(t4) && c2._isRef(this, t4, e4, true) ? null != t4 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : d2.checkRequired())(t4);
        }, d2.prototype.min = function(t4, e4) {
          if (this.minValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.minValidator;
          }, this)), null != t4) {
            var r4 = e4 || a2.messages.Number.min;
            r4 = r4.replace(/{MIN}/, t4), this.validators.push({ validator: this.minValidator = function(e5) {
              return null == e5 || e5 >= t4;
            }, message: r4, type: "min", min: t4 });
          }
          return this;
        }, d2.prototype.max = function(t4, e4) {
          if (this.maxValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.maxValidator;
          }, this)), null != t4) {
            var r4 = e4 || a2.messages.Number.max;
            r4 = r4.replace(/{MAX}/, t4), this.validators.push({ validator: this.maxValidator = function(e5) {
              return null == e5 || e5 <= t4;
            }, message: r4, type: "max", max: t4 });
          }
          return this;
        }, d2.prototype.enum = function(t4, e4) {
          return this.enumValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.enumValidator;
          }, this)), Array.isArray(t4) || (h2.isPOJO(t4) && null != t4.values ? (e4 = t4.message, t4 = t4.values) : "number" == typeof t4 && (t4 = Array.prototype.slice.call(arguments), e4 = null), h2.isPOJO(t4) && (t4 = Object.values(t4)), e4 = e4 || a2.messages.Number.enum), e4 = null == e4 ? a2.messages.Number.enum : e4, this.enumValidator = function(e5) {
            return null == e5 || -1 !== t4.indexOf(e5);
          }, this.validators.push({ validator: this.enumValidator, message: e4, type: "enum", enumValues: t4 }), this;
        }, d2.prototype.cast = function(t4, e4, r4, n3, o3) {
          if ("number" != typeof t4 && c2._isRef(this, t4, e4, r4) && (null == t4 || h2.isNonBuiltinObject(t4)))
            return this._castRef(t4, e4, r4, o3);
          var i3, s3 = t4 && void 0 !== t4._id ? t4._id : t4;
          i3 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : d2.cast();
          try {
            return i3(s3);
          } catch (t5) {
            throw new y2("Number", s3, this.path, t5, this);
          }
        };
        var m2 = o2(o2({}, c2.prototype.$conditionalHandlers), {}, { $bitsAllClear: p2, $bitsAnyClear: p2, $bitsAllSet: p2, $bitsAnySet: p2, $gt: b2, $gte: b2, $lt: b2, $lte: b2, $mod: function(t4) {
          var e4 = this;
          return Array.isArray(t4) ? t4.map(function(t5) {
            return e4.cast(t5);
          }) : [this.cast(t4)];
        } });
        Object.defineProperty(d2.prototype, "$conditionalHandlers", { enumerable: false, value: m2 }), d2.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4) {
            if (!(n3 = this.$conditionalHandlers[t4]))
              throw new y2("number", e4, this.path, null, this);
            return n3.call(this, e4, r4);
          }
          try {
            e4 = this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof y2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
          return e4;
        }, d2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required || "_id" === this.path;
          return f2("number", "number", null == t4 ? void 0 : t4.useBsonType, e4);
        }, t3.exports = d2;
      }, 3672: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8213);
        t3.exports = n2, n2.messages = r3(766), n2.Messages = n2.messages, n2.CastError = r3(3609), n2.DocumentNotFoundError = r3(1129), n2.ValidationError = r3(6949), n2.ValidatorError = r3(9538), n2.VersionError = r3(6996), n2.ParallelSaveError = r3(3940), n2.OverwriteModelError = r3(3644), n2.MissingSchemaError = r3(8063), n2.MongooseBulkSaveIncompleteError = r3(8517), n2.MongooseServerSelectionError = r3(7219), n2.DivergentArrayError = r3(1417), n2.StrictModeError = r3(8995), n2.StrictPopulateError = r3(6801);
      }, 3696: (t3) => {
        "use strict";
        t3.exports = function(t4, e3) {
          return null == t4 ? null : "boolean" == typeof t4 ? e3 : "boolean" == typeof t4[e3] ? t4[e3] ? e3 : null : e3 in t4 ? t4[e3] : e3;
        };
      }, 3703: (t3) => {
        "use strict";
        function e3(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n2 = Array(e4); r4 < e4; r4++)
            n2[r4] = t4[r4];
          return n2;
        }
        __name(e3, "e");
        function r3(t4, e4) {
          return null == t4 ? t4 : t4 instanceof Map ? t4.get(e4) : t4[e4];
        }
        __name(r3, "r");
        t3.exports = function(t4, n2, o2) {
          var i2, s2 = false;
          if ("string" == typeof n2) {
            if (-1 === n2.indexOf(".")) {
              var a2 = r3(t4, n2);
              return null == a2 ? o2 : a2;
            }
            i2 = n2.split(".");
          } else if (s2 = true, 1 === (i2 = n2).length) {
            var u2 = r3(t4, i2[0]);
            return null == u2 ? o2 : u2;
          }
          var c2, l2 = n2, f2 = t4, p2 = function(t5, r4) {
            var n3 = "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
            if (!n3) {
              if (Array.isArray(t5) || (n3 = function(t6, r5) {
                if (t6) {
                  if ("string" == typeof t6)
                    return e3(t6, r5);
                  var n4 = {}.toString.call(t6).slice(8, -1);
                  return "Object" === n4 && t6.constructor && (n4 = t6.constructor.name), "Map" === n4 || "Set" === n4 ? Array.from(t6) : "Arguments" === n4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n4) ? e3(t6, r5) : void 0;
                }
              }(t5)) || r4 && t5 && "number" == typeof t5.length) {
                n3 && (t5 = n3);
                var o3 = 0, i3 = /* @__PURE__ */ __name(function() {
                }, "i");
                return { s: i3, n: function() {
                  return o3 >= t5.length ? { done: true } : { done: false, value: t5[o3++] };
                }, e: function(t6) {
                  throw t6;
                }, f: i3 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s3, a3 = true, u3 = false;
            return { s: function() {
              n3 = n3.call(t5);
            }, n: function() {
              var t6 = n3.next();
              return a3 = t6.done, t6;
            }, e: function(t6) {
              u3 = true, s3 = t6;
            }, f: function() {
              try {
                a3 || null == n3.return || n3.return();
              } finally {
                if (u3)
                  throw s3;
              }
            } };
          }(i2);
          try {
            for (p2.s(); !(c2 = p2.n()).done; ) {
              var h2 = c2.value;
              if (null == f2)
                return o2;
              if (!s2 && null != f2[l2])
                return f2[l2];
              f2 = r3(f2, h2), s2 || (l2 = l2.substr(h2.length + 1));
            }
          } catch (t5) {
            p2.e(t5);
          } finally {
            p2.f();
          }
          return null == f2 ? o2 : f2;
        };
      }, 3704: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(2402), i2 = r3(6353), s2 = r3(3305);
        t3.exports = function(t4) {
          if (null == t4 || "" === t4)
            return null;
          var e4;
          if (s2(t4, "Long"))
            e4 = t4.toNumber();
          else if ("string" == typeof t4)
            try {
              return i2.Double.fromString(t4);
            } catch (t5) {
              o2.ok(false);
            }
          else if ("object" === n2(t4)) {
            var r4, a2 = null !== (r4 = t4.valueOf()) && void 0 !== r4 ? r4 : t4.toString();
            if ("string" == typeof a2)
              try {
                return i2.Double.fromString(t4);
              } catch (t5) {
                o2.ok(false);
              }
            else
              e4 = Number(a2);
          } else
            e4 = Number(t4);
          return new i2.Double(e4);
        };
      }, 3731: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "min", u2), Object.defineProperty(a2.prototype, "max", u2), Object.defineProperty(a2.prototype, "expires", u2), t3.exports = a2;
      }, 3743: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4) {
          return o2 = "function" == typeof Symbol && "symbol" === n2(Symbol.iterator) ? function(t5) {
            return n2(t5);
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : n2(t5);
          }, o2(t4);
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf || function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2, u2, c2 = {};
        function l2(t4, e4, r4) {
          r4 || (r4 = Error);
          var n3 = function(r5) {
            function n4(r6, s3, a3) {
              var u3;
              return function(t5, e5) {
                if (!(t5 instanceof e5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, n4), u3 = function(t5, e5) {
                return !e5 || "object" !== o2(e5) && "function" != typeof e5 ? function(t6) {
                  if (void 0 === t6)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t6;
                }(t5) : e5;
              }(this, i2(n4).call(this, function(t5, r7, n5) {
                return "string" == typeof e4 ? e4 : e4(t5, r7, n5);
              }(r6, s3, a3))), u3.code = t4, u3;
            }
            __name(n4, "n");
            return function(t5, e5) {
              if ("function" != typeof e5 && null !== e5)
                throw new TypeError("Super expression must either be null or a function");
              t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), e5 && s2(t5, e5);
            }(n4, r5), n4;
          }(r4);
          c2[t4] = n3;
        }
        __name(l2, "l");
        function f2(t4, e4) {
          if (Array.isArray(t4)) {
            var r4 = t4.length;
            return t4 = t4.map(function(t5) {
              return String(t5);
            }), r4 > 2 ? "one of ".concat(e4, " ").concat(t4.slice(0, r4 - 1).join(", "), ", or ") + t4[r4 - 1] : 2 === r4 ? "one of ".concat(e4, " ").concat(t4[0], " or ").concat(t4[1]) : "of ".concat(e4, " ").concat(t4[0]);
          }
          return "of ".concat(e4, " ").concat(String(t4));
        }
        __name(f2, "f");
        l2("ERR_AMBIGUOUS_ARGUMENT", 'The "%s" argument is ambiguous. %s', TypeError), l2("ERR_INVALID_ARG_TYPE", function(t4, e4, n3) {
          var i3, s3, u3, c3, l3;
          if (void 0 === a2 && (a2 = r3(2402)), a2("string" == typeof t4, "'name' must be a string"), "string" == typeof e4 && (s3 = "not ", e4.substr(0, 4) === s3) ? (i3 = "must not be", e4 = e4.replace(/^not /, "")) : i3 = "must be", function(t5, e5, r4) {
            return (void 0 === r4 || r4 > t5.length) && (r4 = t5.length), t5.substring(r4 - 9, r4) === e5;
          }(t4, " argument"))
            u3 = "The ".concat(t4, " ").concat(i3, " ").concat(f2(e4, "type"));
          else {
            var p2 = ("number" != typeof l3 && (l3 = 0), l3 + 1 > (c3 = t4).length || -1 === c3.indexOf(".", l3) ? "argument" : "property");
            u3 = 'The "'.concat(t4, '" ').concat(p2, " ").concat(i3, " ").concat(f2(e4, "type"));
          }
          return u3 + ". Received type ".concat(o2(n3));
        }, TypeError), l2("ERR_INVALID_ARG_VALUE", function(t4, e4) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "is invalid";
          void 0 === u2 && (u2 = r3(7352));
          var o3 = u2.inspect(e4);
          return o3.length > 128 && (o3 = "".concat(o3.slice(0, 128), "...")), "The argument '".concat(t4, "' ").concat(n3, ". Received ").concat(o3);
        }, TypeError, RangeError), l2("ERR_INVALID_RETURN_VALUE", function(t4, e4, r4) {
          var n3;
          return n3 = r4 && r4.constructor && r4.constructor.name ? "instance of ".concat(r4.constructor.name) : "type ".concat(o2(r4)), "Expected ".concat(t4, ' to be returned from the "').concat(e4, '"') + " function but got ".concat(n3, ".");
        }, TypeError), l2("ERR_MISSING_ARGS", function() {
          for (var t4 = arguments.length, e4 = new Array(t4), n3 = 0; n3 < t4; n3++)
            e4[n3] = arguments[n3];
          void 0 === a2 && (a2 = r3(2402)), a2(e4.length > 0, "At least one arg needs to be specified");
          var o3 = "The ", i3 = e4.length;
          switch (e4 = e4.map(function(t5) {
            return '"'.concat(t5, '"');
          }), i3) {
            case 1:
              o3 += "".concat(e4[0], " argument");
              break;
            case 2:
              o3 += "".concat(e4[0], " and ").concat(e4[1], " arguments");
              break;
            default:
              o3 += e4.slice(0, i3 - 1).join(", "), o3 += ", and ".concat(e4[i3 - 1], " arguments");
          }
          return "".concat(o3, " must be specified");
        }, TypeError), t3.exports.codes = c2;
      }, 3777: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(9809), o2 = Object.prototype.toString, i2 = Object.prototype.hasOwnProperty;
        t3.exports = function(t4, e4, r4) {
          if (!n2(e4))
            throw new TypeError("iterator must be a function");
          var s2, a2;
          arguments.length >= 3 && (s2 = r4), a2 = t4, "[object Array]" === o2.call(a2) ? function(t5, e5, r5) {
            for (var n3 = 0, o3 = t5.length; n3 < o3; n3++)
              i2.call(t5, n3) && (null == r5 ? e5(t5[n3], n3, t5) : e5.call(r5, t5[n3], n3, t5));
          }(t4, e4, s2) : "string" == typeof t4 ? function(t5, e5, r5) {
            for (var n3 = 0, o3 = t5.length; n3 < o3; n3++)
              null == r5 ? e5(t5.charAt(n3), n3, t5) : e5.call(r5, t5.charAt(n3), n3, t5);
          }(t4, e4, s2) : function(t5, e5, r5) {
            for (var n3 in t5)
              i2.call(t5, n3) && (null == r5 ? e5(t5[n3], n3, t5) : e5.call(r5, t5[n3], n3, t5));
          }(t4, e4, s2);
        };
      }, 3892: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return i2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? i2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(o2, "o");
        function i2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(i2, "i");
        function s2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(s2, "s");
        function a2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? s2(Object(r4), true).forEach(function(e5) {
              u2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : s2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(a2, "a");
        function u2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(u2, "u");
        var c2 = r3(6948), l2 = r3(3916), f2 = r3(3703), p2 = r3(1058), h2 = r3(7300), y2 = r3(4450), d2 = r3(6665);
        e3.preparePopulationOptionsMQ = function(t4, e4) {
          var r4, n3 = t4._mongooseOptions.populate, o3 = Object.keys(n3).reduce(function(t5, e5) {
            return t5.concat([n3[e5]]);
          }, []);
          null != e4.lean && o3.filter(function(t5) {
            return null == (t5 && t5.options && t5.options.lean);
          }).forEach((r4 = e4.lean, function(t5) {
            t5.options || (t5.options = {}), null != r4 && Array.isArray(r4.virtuals) && ((r4 = Object.assign({}, r4)).virtuals = r4.virtuals.filter(function(e5) {
              return "string" == typeof e5 && e5.startsWith(t5.path + ".");
            }).map(function(e5) {
              return e5.slice(t5.path.length + 1);
            })), t5.options.lean = r4;
          }));
          var i3 = t4 && t4.options && t4.options.session || null;
          null != i3 && o3.forEach(function(t5) {
            null != t5.options ? "session" in t5.options || (t5.options.session = i3) : t5.options = { session: i3 };
          });
          for (var s3 = t4._fieldsForExec(), u3 = 0; u3 < o3.length; ++u3)
            o3[u3] instanceof c2 ? o3[u3] = new c2(a2(a2({}, o3[u3]), {}, { _queryProjection: s3, _localModel: t4.model })) : (o3[u3]._queryProjection = s3, o3[u3]._localModel = t4.model);
          return o3;
        }, e3.createModel = function(t4, r4, n3, o3, i3) {
          t4.hooks.execPreSync("createModel", r4);
          var s3 = t4.schema ? t4.schema.discriminatorMapping : null, a3 = s3 && s3.isRoot ? s3.key : null, u3 = r4[a3];
          if (a3 && u3 && t4.discriminators) {
            var c3 = t4.discriminators[u3] || p2(t4.discriminators, u3);
            if (c3) {
              var l3 = y2(o3);
              return e3.applyPaths(l3, c3.schema), new c3(void 0, l3, true);
            }
          }
          var f3 = { skipId: true, isNew: false, willInit: true };
          return null != i3 && "defaults" in i3 && (f3.defaults = i3.defaults), new t4(void 0, n3, f3);
        }, e3.createModelAndInit = function(t4, r4, n3, o3, i3, s3, a3) {
          var u3 = s3 ? { populated: s3 } : void 0, c3 = e3.createModel(t4, r4, n3, o3, i3);
          try {
            c3.$init(r4, u3, a3);
          } catch (t5) {
            a3(t5, c3);
          }
        }, e3.applyPaths = function(t4, e4, r4) {
          var i3, s3, a3 = /* @__PURE__ */ new Set();
          if (t4) {
            s3 = Object.keys(t4);
            for (var u3 = [], c3 = 0; c3 < s3.length; ++c3) {
              var p3 = s3[c3];
              "-" === s3[c3][0] && (delete t4[p3], "-_id" === p3 ? t4._id = 0 : u3.push(p3.slice(1)));
            }
            s3 = Object.keys(t4);
            for (var y3 = 0; y3 < s3.length; ++y3)
              if ("+" !== s3[y3][0]) {
                var b2 = t4[s3[y3]];
                if (h2(b2) && !("_id" === s3[y3] && s3.length > 1) && (!(s3[y3] === e4.options.discriminatorKey && s3.length > 1 && null != b2) || b2)) {
                  i3 = !b2;
                  break;
                }
              }
            for (var m2 = 0, v2 = u3; m2 < v2.length; m2++) {
              var g2 = v2[m2], _ = e4.path(g2);
              _ && _.selected && false === i3 ? _ && _.selected && false === i3 && a3.add(g2) : (t4[g2] = 0, i3 = true);
            }
          }
          var O2 = [], w2 = [], S2 = [];
          switch ((/* @__PURE__ */ __name(function e5(r5, n3) {
            if (n3 || (n3 = ""), -1 !== S2.indexOf(r5))
              return [];
            S2.push(r5);
            var o3 = [];
            return r5.eachPath(function(r6, s4) {
              if (n3 && (r6 = n3 + "." + r6), s4.$isSchemaMap || r6.endsWith(".$*")) {
                var a4 = t4 && "+" + r6 in t4;
                s4.options && false === s4.options.select && !a4 && w2.push(r6);
              } else {
                var u4 = M2(r6, s4);
                if (null != u4 || Array.isArray(s4) || !s4.$isMongooseArray || s4.$isMongooseDocumentArray || (u4 = M2(r6, s4.caster)), null != u4 && o3.push(u4), s4.schema) {
                  var c4 = e5(s4.schema, r6);
                  false === i3 && l2(t4, r6, s4.schema, O2, c4);
                }
              }
            }), S2.pop(), o3;
          }, "e"))(e4), i3) {
            case true:
              var $, j2 = o2(w2);
              try {
                for (j2.s(); !($ = j2.n()).done; ) {
                  var P2 = $.value;
                  t4[P2] = 0;
                }
              } catch (t5) {
                j2.e(t5);
              } finally {
                j2.f();
              }
              break;
            case false:
              e4 && e4.paths._id && e4.paths._id.options && false === e4.paths._id.options.select && (t4._id = 0);
              var A2, E2 = o2(O2);
              try {
                for (E2.s(); !(A2 = E2.n()).done; ) {
                  var x2 = A2.value;
                  a3.has(x2) || d2(t4, x2) || (t4[x2] = t4[x2] || 1);
                }
              } catch (t5) {
                E2.e(t5);
              } finally {
                E2.f();
              }
              break;
            case void 0:
              if (null == t4)
                break;
              for (var T2 = 0, k2 = Object.keys(t4 || {}); T2 < k2.length; T2++) {
                var N2 = k2[T2];
                N2.startsWith("+") && delete t4[N2];
              }
              var I2, D2 = o2(w2);
              try {
                for (D2.s(); !(I2 = D2.n()).done; ) {
                  var B2 = I2.value;
                  null == t4[B2] && (t4[B2] = 0);
                }
              } catch (t5) {
                D2.e(t5);
              } finally {
                D2.f();
              }
          }
          function M2(o3, a4) {
            if (null != t4 && "boolean" == typeof a4.selected)
              if (false === a4.selected && t4[o3])
                r4 && (t4[o3] = 0);
              else if (i3 || !a4.selected || o3 !== e4.options.discriminatorKey || null == t4[o3] || t4[o3]) {
                if (false !== i3 || !a4.selected || null == t4[o3] || t4[o3]) {
                  var u4 = "+" + o3;
                  if (t4 && u4 in t4)
                    return delete t4[u4], void (false === i3 && s3.length > 1 && !~s3.indexOf(o3) && !r4 ? t4[o3] = 1 : null == i3 && r4 && false === a4.selected && (t4[o3] = 0));
                  for (var c4 = o3.split("."), l3 = "", p4 = 0; p4 < c4.length; ++p4)
                    if (l3 += l3.length ? "." + c4[p4] : c4[p4], -1 !== w2.indexOf(l3))
                      return;
                  if (!i3 && a4 && a4.options && a4.options.$skipDiscriminatorCheck)
                    for (var h3 = "", y4 = 0; y4 < c4.length; ++y4) {
                      h3 += (0 === h3.length ? "" : ".") + c4[y4];
                      var d3 = f2(t4, h3, false) || f2(t4, h3 + ".$", false);
                      if (d3 && "object" !== n2(d3))
                        return;
                    }
                  return (a4.selected ? O2 : w2).push(o3), o3;
                }
                delete t4[o3];
              } else
                delete t4[o3];
          }
          __name(M2, "M");
        };
      }, 3900: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(6400), o2 = r3(6750), i2 = r3(3191)(), s2 = r3(1464), a2 = r3(2268), u2 = n2("%Math.floor%");
        t3.exports = function(t4, e4) {
          if ("function" != typeof t4)
            throw new a2("`fn` is not a function");
          if ("number" != typeof e4 || e4 < 0 || e4 > 4294967295 || u2(e4) !== e4)
            throw new a2("`length` must be a positive 32-bit integer");
          var r4 = arguments.length > 2 && !!arguments[2], n3 = true, c2 = true;
          if ("length" in t4 && s2) {
            var l2 = s2(t4, "length");
            l2 && !l2.configurable && (n3 = false), l2 && !l2.writable && (c2 = false);
          }
          return (n3 || c2 || !r4) && (i2 ? o2(t4, "length", e4, true, true) : o2(t4, "length", e4)), t4;
        };
      }, 3916: (t3) => {
        "use strict";
        t3.exports = function(t4, e3, r3, n2, o2) {
          var i2 = Object.keys(t4).reduce(function(t5, r4) {
            return t5 || r4.startsWith(e3 + ".");
          }, false), s2 = e3 + "." + r3.options.discriminatorKey;
          i2 || 1 !== o2.length || o2[0] !== s2 || n2.splice(n2.indexOf(s2), 1);
        };
      }, 3940: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5) {
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t6, e5, r5) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r5 || [], i2(t6).constructor) : e5.apply(t6, r5));
            }(this, e4, ["Can't save() the same doc multiple times in parallel. Document: " + t5._doc._id]);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "ParallelSaveError" }), t3.exports = a2;
      }, 4009: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8213), o2 = r3(5188), i2 = r3(3622), s2 = r3(5678), a2 = r3(7352), u2 = r3(8768), c2 = /(\.\d+$|\.\d+\.)/g;
        t3.exports = function(t4, e4, r4, l2, f2) {
          if (null == t4)
            return [];
          if ("string" == typeof t4 && null != f2 && o2(f2, t4))
            throw new n2("refPath `" + t4 + "` must not be excluded in projection, got " + a2.inspect(f2));
          if (c2.test(r4)) {
            var p2 = r4.split(c2);
            if ("" === p2[p2.length - 1])
              throw new Error("Can't populate individual element in an array");
            for (var h2 = "", y2 = t4, d2 = 0; d2 < p2.length; d2 += 2) {
              var b2 = p2[d2];
              if (!y2.startsWith(b2 + ".")) {
                if (d2 === p2.length - 1) {
                  h2 += y2, y2 = "";
                  break;
                }
                throw new Error("Could not normalize ref path, chunk " + b2 + " not in populated path");
              }
              h2 += y2.substring(0, b2.length) + p2[d2 + 1], y2 = y2.substring(b2.length + 1);
            }
            var m2 = s2.get(h2, e4, i2), v2 = Array.isArray(m2) ? m2 : [m2];
            return u2.array.flatten(v2);
          }
          var g2 = s2.get(t4, e4, i2);
          return null != l2 && Object.hasOwn(l2.virtuals, t4) ? [l2.virtuals[t4].applyGetters(void 0, e4)] : Array.isArray(g2) ? g2 : [g2];
        };
      }, 4026: (t3, e3) => {
        "use strict";
        e3.Collection = function() {
          throw new Error("Cannot create a collection from browser library");
        }, e3.Connection = function() {
          throw new Error("Cannot create a connection from browser library");
        }, e3.BulkWriteResult = function() {
        };
      }, 4058: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(6353).Long, o2 = 9223372036854775807n, i2 = -9223372036854775808n, s2 = "Mongoose only supports BigInts between ".concat(i2, " and ").concat(o2, " because MongoDB does not support arbitrary precision integers");
        t3.exports = function(t4) {
          if (null == t4)
            return t4;
          if ("" === t4)
            return null;
          if ("bigint" == typeof t4) {
            if (t4 > o2 || t4 < i2)
              throw new Error(s2);
            return t4;
          }
          if (t4 instanceof n2)
            return t4.toBigInt();
          if ("string" == typeof t4 || "number" == typeof t4) {
            if ((t4 = BigInt(t4)) > o2 || t4 < i2)
              throw new Error(s2);
            return t4;
          }
          throw new Error('Cannot convert value to BigInt: "'.concat(t4, '"'));
        };
      }, 4070: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(n2, "n");
        var o2 = r3(8260);
        t3.exports = function(t4) {
          if ("TopologyDescription" !== o2(t4))
            return false;
          if (0 === t4.servers.size)
            return false;
          var e4, r4 = function(t5, e5) {
            var r5 = "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
            if (!r5) {
              if (Array.isArray(t5) || (r5 = function(t6, e6) {
                if (t6) {
                  if ("string" == typeof t6)
                    return n2(t6, e6);
                  var r6 = {}.toString.call(t6).slice(8, -1);
                  return "Object" === r6 && t6.constructor && (r6 = t6.constructor.name), "Map" === r6 || "Set" === r6 ? Array.from(t6) : "Arguments" === r6 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r6) ? n2(t6, e6) : void 0;
                }
              }(t5)) || e5 && t5 && "number" == typeof t5.length) {
                r5 && (t5 = r5);
                var o3 = 0, i3 = /* @__PURE__ */ __name(function() {
                }, "i");
                return { s: i3, n: function() {
                  return o3 >= t5.length ? { done: true } : { done: false, value: t5[o3++] };
                }, e: function(t6) {
                  throw t6;
                }, f: i3 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s2, a2 = true, u2 = false;
            return { s: function() {
              r5 = r5.call(t5);
            }, n: function() {
              var t6 = r5.next();
              return a2 = t6.done, t6;
            }, e: function(t6) {
              u2 = true, s2 = t6;
            }, f: function() {
              try {
                a2 || null == r5.return || r5.return();
              } finally {
                if (u2)
                  throw s2;
              }
            } };
          }(t4.servers.values());
          try {
            for (r4.s(); !(e4 = r4.n()).done; ) {
              var i2 = e4.value;
              if (false === i2.host.endsWith(".mongodb.net") || 27017 !== i2.port)
                return false;
            }
          } catch (t5) {
            r4.e(t5);
          } finally {
            r4.f();
          }
          return true;
        };
      }, 4183: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(118);
        t3.exports = function() {
          return Number.isNaN && Number.isNaN(NaN) && !Number.isNaN("a") ? Number.isNaN : n2;
        };
      }, 4224: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(6511).ctor("require", "modify", "init", "default", "ignore");
        function o2() {
          this.activePaths = new n2();
        }
        __name(o2, "o");
        t3.exports = o2, o2.prototype.strictMode = true, o2.prototype.fullPath = void 0, o2.prototype.selected = void 0, o2.prototype.shardval = void 0, o2.prototype.saveError = void 0, o2.prototype.validationError = void 0, o2.prototype.adhocPaths = void 0, o2.prototype.removing = void 0, o2.prototype.inserting = void 0, o2.prototype.saving = void 0, o2.prototype.version = void 0, o2.prototype._id = void 0, o2.prototype.ownerDocument = void 0, o2.prototype.populate = void 0, o2.prototype.populated = void 0, o2.prototype.primitiveAtomics = void 0, o2.prototype.wasPopulated = false, o2.prototype.scope = void 0, o2.prototype.session = null, o2.prototype.pathsToScopes = null, o2.prototype.cachedRequired = null;
      }, 4301: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(9539), o2 = r3(2793), i2 = r3(3305), s2 = r3(5549), a2 = r3(6426), u2 = r3(608);
        t3.exports = /* @__PURE__ */ __name(function t4(e4, r4, c2, l2) {
          var f2, p2 = Object.keys(r4), h2 = 0, y2 = p2.length;
          if (c2 = c2 || "", !(l2 = l2 || /* @__PURE__ */ new WeakSet()).has(r4)) {
            for (l2.add(r4); h2 < y2; )
              if (f2 = p2[h2++], (c2 || "discriminators" !== f2 && "base" !== f2 && "_applyDiscriminators" !== f2 && "_userProvidedOptions" !== f2 && "options" !== f2 && "tree" !== f2) && !("tree" === c2 && null != r4 && r4.instanceOfSchema || o2.has(f2))) {
                if (null == e4[f2])
                  e4[f2] = r4[f2];
                else if (u2(r4[f2])) {
                  if (u2(e4[f2]) || (e4[f2] = {}), null != r4[f2]) {
                    if (r4[f2].$isSingleNested && e4[f2].$isMongooseDocumentArray || r4[f2].$isMongooseDocumentArray && e4[f2].$isSingleNested || r4[f2].$isMongooseDocumentArrayElement && e4[f2].$isMongooseDocumentArrayElement)
                      continue;
                    if (r4[f2].instanceOfSchema) {
                      e4[f2].instanceOfSchema ? n2(e4[f2], r4[f2].clone(), true) : e4[f2] = r4[f2].clone();
                      continue;
                    }
                    if (i2(r4[f2], "ObjectId")) {
                      e4[f2] = new s2(r4[f2]);
                      continue;
                    }
                    if (r4[f2] instanceof a2 && (null == e4[f2] && (e4[f2] = r4[f2].clone()), !r4[f2].$isMongooseDocumentArray && !r4[f2].$isSingleNested))
                      continue;
                  }
                  t4(e4[f2], r4[f2], c2 ? c2 + "." + f2 : f2, l2);
                }
              }
            null != r4 && r4.instanceOfSchema && (e4.tree = Object.assign({}, r4.tree, e4.tree));
          }
        }, "t");
      }, 4327: (t3) => {
        "use strict";
        t3.exports = function(t4, e3, r3, n2) {
          return r3 ? n2 ? { bsonType: e3 } : { bsonType: [e3, "null"] } : n2 ? { type: t4 } : { type: [t4, "null"] };
        };
      }, 4432: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4) {
          if (null != t4) {
            var e4 = t4["function" == typeof Symbol && Symbol.iterator || "@@iterator"], r4 = 0;
            if (e4)
              return e4.call(t4);
            if ("function" == typeof t4.next)
              return t4;
            if (!isNaN(t4.length))
              return { next: function() {
                return t4 && r4 >= t4.length && (t4 = void 0), { value: t4 && t4[r4++], done: !t4 };
              } };
          }
          throw new TypeError(n2(t4) + " is not iterable");
        }
        __name(o2, "o");
        function i2() {
          var t4, e4, r4 = "function" == typeof Symbol ? Symbol : {}, n3 = r4.iterator || "@@iterator", o3 = r4.toStringTag || "@@toStringTag";
          function a3(r5, n4, o4, i3) {
            var a4 = n4 && n4.prototype instanceof c3 ? n4 : c3, l4 = Object.create(a4.prototype);
            return s2(l4, "_invoke", function(r6, n5, o5) {
              var i4, s3, a5, c4 = 0, l5 = o5 || [], f4 = false, p3 = { p: 0, n: 0, v: t4, a: h3, f: h3.bind(t4, 4), d: function(e5, r7) {
                return i4 = e5, s3 = 0, a5 = t4, p3.n = r7, u3;
              } };
              function h3(r7, n6) {
                for (s3 = r7, a5 = n6, e4 = 0; !f4 && c4 && !o6 && e4 < l5.length; e4++) {
                  var o6, i5 = l5[e4], h4 = p3.p, y3 = i5[2];
                  r7 > 3 ? (o6 = y3 === n6) && (a5 = i5[(s3 = i5[4]) ? 5 : (s3 = 3, 3)], i5[4] = i5[5] = t4) : i5[0] <= h4 && ((o6 = r7 < 2 && h4 < i5[1]) ? (s3 = 0, p3.v = n6, p3.n = i5[1]) : h4 < y3 && (o6 = r7 < 3 || i5[0] > n6 || n6 > y3) && (i5[4] = r7, i5[5] = n6, p3.n = y3, s3 = 0));
                }
                if (o6 || r7 > 1)
                  return u3;
                throw f4 = true, n6;
              }
              __name(h3, "h");
              return function(o6, l6, y3) {
                if (c4 > 1)
                  throw TypeError("Generator is already running");
                for (f4 && 1 === l6 && h3(l6, y3), s3 = l6, a5 = y3; (e4 = s3 < 2 ? t4 : a5) || !f4; ) {
                  i4 || (s3 ? s3 < 3 ? (s3 > 1 && (p3.n = -1), h3(s3, a5)) : p3.n = a5 : p3.v = a5);
                  try {
                    if (c4 = 2, i4) {
                      if (s3 || (o6 = "next"), e4 = i4[o6]) {
                        if (!(e4 = e4.call(i4, a5)))
                          throw TypeError("iterator result is not an object");
                        if (!e4.done)
                          return e4;
                        a5 = e4.value, s3 < 2 && (s3 = 0);
                      } else
                        1 === s3 && (e4 = i4.return) && e4.call(i4), s3 < 2 && (a5 = TypeError("The iterator does not provide a '" + o6 + "' method"), s3 = 1);
                      i4 = t4;
                    } else if ((e4 = (f4 = p3.n < 0) ? a5 : r6.call(n5, p3)) !== u3)
                      break;
                  } catch (e5) {
                    i4 = t4, s3 = 1, a5 = e5;
                  } finally {
                    c4 = 1;
                  }
                }
                return { value: e4, done: f4 };
              };
            }(r5, o4, i3), true), l4;
          }
          __name(a3, "a");
          var u3 = {};
          function c3() {
          }
          __name(c3, "c");
          function l3() {
          }
          __name(l3, "l");
          function f3() {
          }
          __name(f3, "f");
          e4 = Object.getPrototypeOf;
          var p2 = [][n3] ? e4(e4([][n3]())) : (s2(e4 = {}, n3, function() {
            return this;
          }), e4), h2 = f3.prototype = c3.prototype = Object.create(p2);
          function y2(t5) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t5, f3) : (t5.__proto__ = f3, s2(t5, o3, "GeneratorFunction")), t5.prototype = Object.create(h2), t5;
          }
          __name(y2, "y");
          return l3.prototype = f3, s2(h2, "constructor", f3), s2(f3, "constructor", l3), l3.displayName = "GeneratorFunction", s2(f3, o3, "GeneratorFunction"), s2(h2), s2(h2, o3, "Generator"), s2(h2, n3, function() {
            return this;
          }), s2(h2, "toString", function() {
            return "[object Generator]";
          }), (i2 = /* @__PURE__ */ __name(function() {
            return { w: a3, m: y2 };
          }, "i"))();
        }
        __name(i2, "i");
        function s2(t4, e4, r4, n3) {
          var o3 = Object.defineProperty;
          try {
            o3({}, "", {});
          } catch (t5) {
            o3 = 0;
          }
          s2 = /* @__PURE__ */ __name(function(t5, e5, r5, n4) {
            function i3(e6, r6) {
              s2(t5, e6, function(t6) {
                return this._invoke(e6, r6, t6);
              });
            }
            __name(i3, "i");
            e5 ? o3 ? o3(t5, e5, { value: r5, enumerable: !n4, configurable: !n4, writable: !n4 }) : t5[e5] = r5 : (i3("next", 0), i3("throw", 1), i3("return", 2));
          }, "s"), s2(t4, e4, r4, n3);
        }
        __name(s2, "s");
        function a2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return u2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? u2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var i3, s3 = true, a3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return s3 = t5.done, t5;
          }, e: function(t5) {
            a3 = true, i3 = t5;
          }, f: function() {
            try {
              s3 || null == r4.return || r4.return();
            } finally {
              if (a3)
                throw i3;
            }
          } };
        }
        __name(a2, "a");
        function u2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(u2, "u");
        function c2(t4, e4, r4, n3, o3, i3, s3) {
          try {
            var a3 = t4[i3](s3), u3 = a3.value;
          } catch (t5) {
            return void r4(t5);
          }
          a3.done ? e4(u3) : Promise.resolve(u3).then(n3, o3);
        }
        __name(c2, "c");
        function l2(t4) {
          return function() {
            var e4 = this, r4 = arguments;
            return new Promise(function(n3, o3) {
              var i3 = t4.apply(e4, r4);
              function s3(t5) {
                c2(i3, n3, o3, s3, a3, "next", t5);
              }
              __name(s3, "s");
              function a3(t5) {
                c2(i3, n3, o3, s3, a3, "throw", t5);
              }
              __name(a3, "a");
              s3(void 0);
            });
          };
        }
        __name(l2, "l");
        var f2 = r3(5782);
        t3.exports = function(t4) {
          var e4 = true;
          t4.s.hooks.pre("save", false, function(t5) {
            if (this.$isSubdocument)
              t5();
            else {
              var e5 = this, r4 = this.$getAllSubdocs({ useCache: true });
              r4.length ? f2(r4, function(t6, e6) {
                t6.$__schema.s.hooks.execPre("save", t6, function(t7) {
                  e6(t7);
                });
              }, function(r5) {
                if (e5.$__.saveOptions && (e5.$__.saveOptions.__subdocs = null), r5)
                  return e5.$__schema.s.hooks.execPost("save:error", e5, [e5], { error: r5 }, function(e6) {
                    t5(e6);
                  });
                t5();
              }) : t5();
            }
          }, null, e4), t4.s.hooks.post("save", function() {
            var t5 = l2(i2().m(/* @__PURE__ */ __name(function t6() {
              var e5, r4, n3, s3, u3, c3;
              return i2().w(function(t7) {
                for (; ; )
                  switch (t7.p = t7.n) {
                    case 0:
                      if ((e5 = this.$__.removedSubdocs) && e5.length) {
                        t7.n = 1;
                        break;
                      }
                      return t7.a(2);
                    case 1:
                      r4 = [], n3 = a2(e5), t7.p = 2, u3 = i2().m(/* @__PURE__ */ __name(function t8() {
                        var e6;
                        return i2().w(function(t9) {
                          for (; ; )
                            switch (t9.n) {
                              case 0:
                                e6 = s3.value, r4.push(new Promise(function(t10, r5) {
                                  e6.$__schema.s.hooks.execPost("deleteOne", e6, [e6], function(e7) {
                                    if (e7)
                                      return r5(e7);
                                    t10();
                                  });
                                }));
                              case 1:
                                return t9.a(2);
                            }
                        }, t8);
                      }, "t")), n3.s();
                    case 3:
                      if ((s3 = n3.n()).done) {
                        t7.n = 5;
                        break;
                      }
                      return t7.d(o2(u3()), 4);
                    case 4:
                      t7.n = 3;
                      break;
                    case 5:
                      t7.n = 7;
                      break;
                    case 6:
                      t7.p = 6, c3 = t7.v, n3.e(c3);
                    case 7:
                      return t7.p = 7, n3.f(), t7.f(7);
                    case 8:
                      return this.$__.removedSubdocs = null, t7.n = 9, Promise.all(r4);
                    case 9:
                      return t7.a(2);
                  }
              }, t6, this, [[2, 6, 7, 8]]);
            }, "t")));
            return function() {
              return t5.apply(this, arguments);
            };
          }()), t4.s.hooks.post("save", function() {
            var t5 = l2(i2().m(/* @__PURE__ */ __name(function t6() {
              var e5, r4, n3, s3, u3, c3, l3, f3, p2 = this;
              return i2().w(function(t7) {
                for (; ; )
                  switch (t7.p = t7.n) {
                    case 0:
                      if (!this.$isSubdocument) {
                        t7.n = 1;
                        break;
                      }
                      return t7.a(2);
                    case 1:
                      if (e5 = this, (r4 = this.$getAllSubdocs({ useCache: true })).length) {
                        t7.n = 2;
                        break;
                      }
                      return t7.a(2);
                    case 2:
                      n3 = [], s3 = a2(r4), t7.p = 3, c3 = i2().m(/* @__PURE__ */ __name(function t8() {
                        var e6;
                        return i2().w(function(t9) {
                          for (; ; )
                            switch (t9.n) {
                              case 0:
                                e6 = u3.value, n3.push(new Promise(function(t10, r5) {
                                  e6.$__schema.s.hooks.execPost("save", e6, [e6], function(e7) {
                                    if (e7)
                                      return r5(e7);
                                    t10();
                                  });
                                }));
                              case 1:
                                return t9.a(2);
                            }
                        }, t8);
                      }, "t")), s3.s();
                    case 4:
                      if ((u3 = s3.n()).done) {
                        t7.n = 6;
                        break;
                      }
                      return t7.d(o2(c3()), 5);
                    case 5:
                      t7.n = 4;
                      break;
                    case 6:
                      t7.n = 8;
                      break;
                    case 7:
                      t7.p = 7, l3 = t7.v, s3.e(l3);
                    case 8:
                      return t7.p = 8, s3.f(), t7.f(8);
                    case 9:
                      return t7.p = 9, t7.n = 10, Promise.all(n3);
                    case 10:
                      t7.n = 12;
                      break;
                    case 11:
                      return t7.p = 11, f3 = t7.v, t7.n = 12, new Promise(function(t8, r5) {
                        p2.$__schema.s.hooks.execPost("save:error", e5, [e5], { error: f3 }, function(e6) {
                          if (e6)
                            return r5(e6);
                          t8();
                        });
                      });
                    case 12:
                      return t7.a(2);
                  }
              }, t6, this, [[9, 11], [3, 7, 8, 9]]);
            }, "t")));
            return function() {
              return t5.apply(this, arguments);
            };
          }(), null, e4);
        };
      }, 4450: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(9639), i2 = r3(5549), s2 = r3(2793), a2 = r3(2497), u2 = r3(9696), c2 = r3(3305), l2 = r3(1243).isMongooseArray, f2 = r3(608), p2 = r3(2789), h2 = r3(7930), y2 = r3(7291).trustedSymbol, d2 = r3(6353);
        function b2(t4, e4, r4) {
          if (null == t4)
            return t4;
          if (c2(t4, "Double"))
            return new d2.Double(t4.value);
          if ("number" == typeof t4 || "string" == typeof t4 || "boolean" == typeof t4 || "bigint" == typeof t4)
            return t4;
          if (Array.isArray(t4))
            return function(t5, e5) {
              var r5 = 0, n3 = t5.length, o3 = null;
              for (o3 = null != e5 && e5.retainDocuments ? t5.isMongooseDocumentArray ? new (t5.$schemaType()).schema.base.Types.DocumentArray([], t5.$path(), t5.$parent(), t5.$schemaType()) : t5.isMongooseArray ? new (t5.$parent()).schema.base.Types.Array([], t5.$path(), t5.$parent(), t5.$schemaType()) : new Array(n3) : new Array(n3), t5 = l2(t5) ? t5.__array : t5, r5 = 0; r5 < n3; ++r5)
                o3[r5] = b2(t5[r5], e5, true);
              return o3;
            }(t4, e4);
          if (a2(t4)) {
            if (e4 && e4.retainDocuments && null != t4.$__) {
              var s3 = t4.$clone();
              return null != t4.__index && (s3.__index = t4.__index), null != t4.__parentArray && (s3.__parentArray = t4.__parentArray), s3.$__parent = t4.$__parent, s3;
            }
            return p2(t4) && null != t4.$__ && null != t4._doc ? t4._doc : e4 && e4.json && "function" == typeof t4.toJSON ? t4.toJSON(e4) : t4.toObject(e4);
          }
          var y3, v2, g2 = t4.constructor;
          if (g2)
            switch (u2(g2)) {
              case "Object":
                return m2(t4, e4, r4);
              case "Date":
                return new g2(+t4);
              case "RegExp":
                return y3 = t4, (v2 = new RegExp(y3.source, y3.flags)).lastIndex !== y3.lastIndex && (v2.lastIndex = y3.lastIndex), v2;
            }
          return c2(t4, "ObjectId") ? e4 && e4.flattenObjectIds ? t4.toJSON() : new i2(t4.id) : c2(t4, "Decimal128") ? e4 && e4.flattenDecimals ? t4.toJSON() : o2.fromString(t4.toString()) : !g2 && f2(t4) ? m2(t4, e4, r4) : "object" === n2(t4) && t4[h2.schemaTypeSymbol] ? t4.clone() : e4 && e4.bson && "function" == typeof t4.toBSON ? t4 : "function" == typeof t4.valueOf ? t4.valueOf() : m2(t4, e4, r4);
        }
        __name(b2, "b");
        function m2(t4, e4, r4) {
          var n3, o3 = e4 && e4.minimize, i3 = e4 && e4.omitUndefined, a3 = e4 && e4._seen, u3 = {};
          if (a3 && a3.has(t4))
            return a3.get(t4);
          a3 && a3.set(t4, u3), y2 in t4 && false !== (null == e4 ? void 0 : e4.copyTrustedSymbol) && (u3[y2] = t4[y2]);
          for (var c3 = Object.keys(t4), l3 = c3.length, f3 = 0; f3 < l3; ++f3) {
            var p3 = c3[f3];
            if (!s2.has(p3)) {
              var h3 = b2(t4[p3], e4, false);
              false !== o3 && !i3 || void 0 !== h3 ? true === o3 && void 0 === h3 || (n3 || (n3 = true), u3[p3] = h3) : delete u3[p3];
            }
          }
          return o3 && !r4 ? n3 && u3 : u3;
        }
        __name(m2, "m");
        t3.exports = b2;
      }, 4473: (t3) => {
        "use strict";
        function e3(t4, r3) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : /* @__PURE__ */ new Set();
          if (n2.has(t4))
            throw new Error("Infinite subdocument loop: subdoc with _id " + t4._id + " is a parent of itself");
          var o2 = t4.$parent(), i2 = t4.$__pathRelativeToParent(void 0, false) + "." + r3;
          o2.$__.activePaths.clearPath(i2), o2.$isSubdocument && e3(o2, i2, n2);
        }
        __name(e3, "e");
        t3.exports = function(t4, r3, n2) {
          var o2 = (n2 = n2 || {}).skipDocArrays, i2 = 0;
          if (!t4)
            return i2;
          for (var s2 = 0, a2 = Object.keys(t4.$__.activePaths.getStatePaths("modify")); s2 < a2.length; s2++) {
            var u2 = a2[s2];
            if (o2) {
              var c2 = t4.$__schema.path(u2);
              if (c2 && c2.$isMongooseDocumentArray)
                continue;
            }
            u2.startsWith(r3 + ".") && (t4.$__.activePaths.clearPath(u2), ++i2, t4.$isSubdocument && e3(t4, u2));
          }
          return i2;
        };
      }, 4561: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "excludeIndexes", u2), Object.defineProperty(a2.prototype, "_id", u2), t3.exports = a2;
      }, 4592: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "enum", u2), Object.defineProperty(a2.prototype, "of", u2), Object.defineProperty(a2.prototype, "castNonArrays", u2), t3.exports = a2;
      }, 4625: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "auto", u2), Object.defineProperty(a2.prototype, "populate", u2), t3.exports = a2;
      }, 4756: (t3) => {
        "use strict";
        var e3 = /* @__PURE__ */ __name(function(t4) {
          return t4 != t4;
        }, "e");
        t3.exports = function(t4, r3) {
          return 0 === t4 && 0 === r3 ? 1 / t4 == 1 / r3 : t4 === r3 || !(!e3(t4) || !e3(r3));
        };
      }, 4829: (t3, e3, r3) => {
        "use strict";
        t3.exports = r3(8533);
      }, 4859: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return i2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? i2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(o2, "o");
        function i2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(i2, "i");
        var s2 = r3(8920), a2 = r3(2400), u2 = r3(1058), c2 = r3(3303)._, l2 = r3(8768), f2 = r3(3305), p2 = r3(7930).arrayParentSymbol, h2 = r3(7930).arrayPathSymbol, y2 = r3(7930).arraySchemaSymbol, d2 = r3(7930).documentArrayParent, b2 = Array.prototype.toString, m2 = { toBSON: function() {
          return this.toObject(c2);
        }, toString: function() {
          return b2.call(this.__array.map(function(t4) {
            return null != t4 && null != t4.$__ ? t4.toString() : t4;
          }));
        }, getArrayParent: function() {
          return this[p2];
        }, $schemaType: function() {
          return this[y2];
        }, _cast: function(t4, e4, r4) {
          if (null == this[y2])
            return t4;
          var o3 = this[y2].casterConstructor;
          if ((o3.$isMongooseDocumentArray ? l2.isMongooseDocumentArray(t4) : t4 instanceof o3) || t4 && t4.constructor && t4.constructor.baseCasterConstructor === o3)
            return t4[d2] && t4.__parentArray || (t4[d2] = this[p2], t4.__parentArray = this), t4.$setIndex(e4), t4;
          if (null == t4)
            return null;
          if ((n2.isBuffer(t4) || f2(t4, "ObjectId") || !l2.isObject(t4)) && (t4 = { _id: t4 }), t4 && o3.discriminators && o3.schema && o3.schema.options && o3.schema.options.discriminatorKey)
            if ("string" == typeof t4[o3.schema.options.discriminatorKey] && o3.discriminators[t4[o3.schema.options.discriminatorKey]])
              o3 = o3.discriminators[t4[o3.schema.options.discriminatorKey]];
            else {
              var i3 = u2(o3.discriminators, t4[o3.schema.options.discriminatorKey]);
              i3 && (o3 = i3);
            }
          if (o3.$isMongooseDocumentArray)
            return o3.cast(t4, this, void 0, void 0, e4);
          var s3 = new o3(t4, this, r4, void 0, e4);
          return s3.isNew = true, s3;
        }, id: function(t4) {
          if (null == t4)
            return null;
          var e4 = this[y2], r4 = null;
          e4 && e4.schema ? r4 = e4.schema.path("_id") : e4 && e4.casterConstructor && e4.casterConstructor.schema && (r4 = e4.casterConstructor.schema.path("_id"));
          var n3, i3 = null;
          if (r4)
            try {
              i3 = r4.cast(t4);
            } catch (t5) {
            }
          var s3, u3 = o2(this);
          try {
            for (u3.s(); !(s3 = u3.n()).done; ) {
              var c3 = s3.value;
              if (c3 && null != (n3 = c3.get("_id")))
                if (n3 instanceof a2) {
                  if (n3 = n3.get("_id"), null != i3 && l2.deepEqual(i3, n3))
                    return c3;
                  if (null == i3 && (t4 == n3 || l2.deepEqual(t4, n3)))
                    return c3;
                } else {
                  if (null != i3 && l2.deepEqual(i3, n3))
                    return c3;
                  if (null == i3 && (n3 == t4 || l2.deepEqual(t4, n3)))
                    return c3;
                }
            }
          } catch (t5) {
            u3.e(t5);
          } finally {
            u3.f();
          }
          return null;
        }, toObject: function(t4) {
          return [].concat(this.map(function(e4) {
            return null == e4 ? null : "function" != typeof e4.toObject ? e4 : e4.toObject(t4);
          }));
        }, $toObject: function() {
          return this.constructor.prototype.toObject.apply(this, arguments);
        }, push: function() {
          var t4 = s2.push.apply(this, arguments);
          return v2(this), t4;
        }, pull: function() {
          var t4 = s2.pull.apply(this, arguments);
          return v2(this), t4;
        }, shift: function() {
          var t4 = s2.shift.apply(this, arguments);
          return v2(this), t4;
        }, splice: function() {
          var t4 = s2.splice.apply(this, arguments);
          return v2(this), t4;
        }, inspect: function() {
          return this.toObject();
        }, create: function(t4) {
          var e4 = this[y2].casterConstructor;
          if (t4 && e4.discriminators && e4.schema && e4.schema.options && e4.schema.options.discriminatorKey)
            if ("string" == typeof t4[e4.schema.options.discriminatorKey] && e4.discriminators[t4[e4.schema.options.discriminatorKey]])
              e4 = e4.discriminators[t4[e4.schema.options.discriminatorKey]];
            else {
              var r4 = u2(e4.discriminators, t4[e4.schema.options.discriminatorKey]);
              r4 && (e4 = r4);
            }
          return new e4(t4, this);
        }, notify: function(t4) {
          var e4 = this;
          return /* @__PURE__ */ __name(function r4(n3, o3) {
            for (var i3 = (o3 = o3 || e4).length; i3--; )
              null != o3[i3] && ("save" === t4 && (n3 = e4[i3]), l2.isMongooseArray(o3[i3]) ? r4(n3, o3[i3]) : o3[i3] && o3[i3].emit(t4, n3));
          }, "r");
        }, set: function(t4, e4, r4) {
          var n3 = this.__array;
          if (r4)
            return n3[t4] = e4, this;
          var o3 = m2._cast.call(this, e4, t4);
          return m2._markModified.call(this, t4), n3[t4] = o3, this;
        }, _markModified: function(t4, e4) {
          var r4, n3 = this[p2];
          if (n3) {
            if (r4 = this[h2], arguments.length && (r4 = null != e4 ? r4 + "." + t4.__index + "." + e4 : r4 + "." + t4), null != r4 && r4.endsWith(".$"))
              return this;
            n3.markModified(r4, 0 !== arguments.length ? t4 : n3);
          }
          return this;
        } };
        function v2(t4) {
          var e4 = t4[p2];
          if (e4 && null != e4.$__.populated) {
            var r4, n3 = o2(Object.keys(e4.$__.populated).filter(function(e5) {
              return e5.startsWith(t4[h2] + ".");
            }));
            try {
              var i3 = /* @__PURE__ */ __name(function() {
                var n4 = r4.value, o3 = n4.slice((t4[h2] + ".").length);
                if (!Array.isArray(e4.$__.populated[n4].value))
                  return 1;
                e4.$__.populated[n4].value = t4.map(function(t5) {
                  return t5.$populated(o3);
                });
              }, "i");
              for (n3.s(); !(r4 = n3.n()).done; )
                i3();
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
          }
        }
        __name(v2, "v");
        t3.exports = m2;
      }, 4878: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(o2, "o");
        var i2 = r3(8920), s2 = r3(4859), a2 = r3(7930).arrayAtomicsSymbol, u2 = r3(7930).arrayAtomicsBackupSymbol, c2 = r3(7930).arrayParentSymbol, l2 = r3(7930).arrayPathSymbol, f2 = r3(7930).arraySchemaSymbol, p2 = Array.prototype.push, h2 = /^\d+$/;
        t3.exports = function(t4, e4, r4, n3) {
          var y2 = [], d2 = o2(o2(o2(o2(o2({}, a2, {}), u2, void 0), l2, e4), f2, void 0), c2, void 0);
          if (Array.isArray(t4) && (t4[l2] === e4 && t4[c2] === r4 && (d2[a2] = Object.assign({}, t4[a2])), t4.forEach(function(t5) {
            p2.call(y2, t5);
          })), d2[l2] = e4, d2.__array = y2, r4 && r4.$__)
            for (d2[c2] = r4, d2[f2] = r4.$__schema.path(e4); null != d2[f2] && d2[f2].$isMongooseArray && !d2[f2].$isMongooseDocumentArray; )
              d2[f2] = d2[f2].casterConstructor;
          var b2 = new Proxy(y2, { get: function(t5, e5) {
            return "isMongooseArray" === e5 || "isMongooseArrayProxy" === e5 || "isMongooseDocumentArray" === e5 || "isMongooseDocumentArrayProxy" === e5 || (Object.hasOwn(d2, e5) ? d2[e5] : Object.hasOwn(s2, e5) ? s2[e5] : n3 && n3.virtuals && Object.hasOwn(n3.virtuals, e5) ? n3.virtuals[e5].applyGetters(void 0, t5) : Object.hasOwn(i2, e5) ? i2[e5] : y2[e5]);
          }, set: function(t5, e5, r5) {
            return "string" == typeof e5 && h2.test(e5) ? s2.set.call(b2, e5, r5, false) : Object.hasOwn(d2, e5) ? d2[e5] = r5 : null != n3 && n3.virtuals && Object.hasOwn(n3.virtuals, e5) ? n3.virtuals[e5].applySetters(r5, t5) : y2[e5] = r5, true;
          } });
          return b2;
        };
      }, 4957: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2 = r3(7160), u2 = r3(5268);
        t3.exports = l2, l2.middlewareFunctions = ["deleteOne", "save", "validate", "remove", "updateOne", "init"];
        var c2 = new Set(l2.middlewareFunctions.flatMap(function(t4) {
          return [t4, "$__".concat(t4)];
        }));
        function l2(t4, e4, r4) {
          var n3 = { useErrorHandlers: true, numCallbackParams: 1, nullResultByDefault: true, contextParameter: true }, o3 = (r4 = r4 || {}).decorateDoc ? t4 : t4.prototype;
          t4.$appliedHooks = true;
          for (var s3 = 0, f2 = Object.keys(e4.paths); s3 < f2.length; s3++) {
            var p2 = f2[s3], h2 = e4.paths[p2], y2 = null;
            if (h2.$isSingleNested)
              y2 = h2.caster;
            else {
              if (!h2.$isMongooseDocumentArray)
                continue;
              y2 = h2.Constructor;
            }
            if (!y2.$appliedHooks && (l2(y2, h2.schema, i2(i2({}, r4), {}, { isChildSchema: true })), null != y2.discriminators))
              for (var d2 = 0, b2 = Object.keys(y2.discriminators); d2 < b2.length; d2++) {
                var m2 = b2[d2];
                l2(y2.discriminators[m2], y2.discriminators[m2].schema, r4);
              }
          }
          var v2 = e4.s.hooks.filter(function(t5) {
            return "updateOne" === t5.name || "deleteOne" === t5.name ? !!t5.document : "remove" === t5.name || "init" === t5.name ? null == t5.document || !!t5.document : null == t5.query && null == t5.document || false !== t5.document;
          }).filter(function(t5) {
            return !e4.methods[t5.name] || !t5.fn[a2.builtInMiddleware];
          });
          t4._middleware = v2, o3.$__originalValidate = o3.$__originalValidate || o3.$__validate;
          for (var g2 = 0, _ = r4 && r4.isChildSchema ? ["save", "validate", "deleteOne"] : ["save", "validate"]; g2 < _.length; g2++) {
            var O2 = _[g2], w2 = "validate" === O2 ? "$__originalValidate" : "$__".concat(O2), S2 = v2.createWrapper(O2, o3[w2], null, n3);
            o3["$__".concat(O2)] = S2;
          }
          o3.$__init = v2.createWrapperSync("init", o3.$__init, null, n3);
          for (var $ = Object.keys(e4.methods), j2 = Object.assign({}, n3, { checkForPromise: true }), P2 = function() {
            var e5 = E2[A2];
            if (c2.has(e5))
              return 0;
            if (!v2.hasHooks(e5))
              return 0;
            var r5 = o3[e5];
            o3[e5] = function() {
              var r6 = this, n4 = Array.prototype.slice.call(arguments), o4 = n4.slice(-1).pop(), i3 = "function" == typeof o4 ? n4.slice(0, n4.length - 1) : n4;
              return u2(o4, function(t5) {
                return r6["$__".concat(e5)].apply(r6, i3.concat([t5]));
              }, t4.events);
            }, o3["$__".concat(e5)] = v2.createWrapper(e5, r5, null, j2);
          }, A2 = 0, E2 = $; A2 < E2.length; A2++)
            P2();
        }
        __name(l2, "l");
      }, 5022: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(6426), o2 = r3(7160), i2 = r3(608), s2 = r3(8768);
        function a2(t4, e4, r4, s3) {
          if (e4 && e4.default) {
            var a3 = e4.default;
            Array.isArray(a3) && 0 === a3.length ? e4.default = Array : !e4.shared && i2(a3) && 0 === Object.keys(a3).length && (e4.default = function() {
              return {};
            });
          }
          n2.call(this, t4, e4, "Mixed", s3), this[o2.schemaMixedSymbol] = true;
        }
        __name(a2, "a");
        a2.schemaName = "Mixed", a2.defaultOptions = {}, a2.prototype = Object.create(n2.prototype), a2.prototype.constructor = a2, a2.get = n2.get, a2.set = n2.set, a2.setters = [], a2.prototype.cast = function(t4) {
          return t4 instanceof Error ? s2.errorToPOJO(t4) : t4;
        }, a2.prototype.castForQuery = function(t4, e4) {
          return e4;
        }, a2.prototype.toJSONSchema = function(t4) {
          return {};
        }, t3.exports = a2;
      }, 5098: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2, u2 = r3(3609), c2 = r3(3550).EventEmitter, l2 = r3(3441), f2 = r3(7494), p2 = r3(6426), h2 = r3(5335), y2 = r3(8499), d2 = r3(5558).G, b2 = r3(4327), m2 = r3(1469), v2 = r3(9604), g2 = r3(7910), _ = r3(1313), O2 = r3(3303)._, w2 = r3(1793), S2 = r3(8768), $ = r3(5537);
        function j2(t4, e4, r4, n3) {
          if (t4.options.timeseries)
            throw new $(e4, "timeseries");
          var o3 = j2.defaultOptions && j2.defaultOptions._id;
          null != o3 && ((r4 = r4 || {})._id = o3), t4 = _(t4, r4), this.caster = P2(t4, null, r4), this.caster.path = e4, this.caster.prototype.$basePath = e4, this.schema = t4, this.$isSingleNested = true, this.base = t4.base, p2.call(this, e4, r4, "Embedded", n3);
        }
        __name(j2, "j");
        function P2(t4, e4, n3) {
          a2 || (a2 = r3(9380));
          var o3 = /* @__PURE__ */ __name(function(t5, e5, r4) {
            this.$__parent = r4, a2.apply(this, arguments), null != r4 && this.$session(r4.$session());
          }, "o");
          t4._preCompile();
          var i3 = null != e4 ? e4.prototype : a2.prototype;
          for (var s3 in (o3.prototype = Object.create(i3)).$__setSchema(t4), o3.prototype.constructor = o3, o3.prototype.$__schemaTypeOptions = n3, o3.$__required = null == n3 ? void 0 : n3.required, o3.base = t4.base, o3.schema = t4, o3.$isSingleNested = true, o3.events = new c2(), o3.prototype.toBSON = function() {
            return this.toObject(O2);
          }, t4.methods)
            o3.prototype[s3] = t4.methods[s3];
          for (var u3 in t4.statics)
            o3[u3] = t4.statics[u3];
          for (var l3 in c2.prototype)
            o3[l3] = c2.prototype[l3];
          return o3;
        }
        __name(P2, "P");
        t3.exports = j2, j2.prototype = Object.create(p2.prototype), j2.prototype.constructor = j2, j2.prototype.OptionsConstructor = f2;
        var A2 = i2({}, p2.prototype.$conditionalHandlers);
        A2.$geoWithin = function(t4, e4) {
          return { $geometry: this.castForQuery(null, t4.$geometry, e4) };
        }, A2.$near = A2.$nearSphere = v2.cast$near, A2.$within = A2.$geoWithin = v2.cast$within, A2.$geoIntersects = v2.cast$geoIntersects, A2.$minDistance = d2, A2.$maxDistance = d2, A2.$exists = y2, Object.defineProperty(j2.prototype, "$conditionalHandlers", { enumerable: false, value: A2 }), j2.prototype.cast = function(t4, e4, r4, o3, s3) {
          if (t4 && t4.$isSingleNested && t4.parent === e4)
            return t4;
          if (null != t4 && ("object" !== n2(t4) || Array.isArray(t4)))
            throw new l2(this.path, t4);
          var a3, u3 = this.schema.path(this.schema.options.discriminatorKey), c3 = null == u3 ? null : u3.getDefault(e4), f3 = g2(this.caster, t4, c3), p3 = e4 && e4.$__ && e4.$__.selected, y3 = this.path, d3 = null == p3 ? null : Object.keys(p3).reduce(function(t5, e5) {
            return e5.startsWith(y3 + ".") && ((t5 = t5 || {})[e5.substring(y3.length + 1)] = p3[e5]), t5;
          }, null);
          if (!r4)
            return s3 = Object.assign({}, s3, { priorDoc: o3 }), 0 === Object.keys(t4).length ? new f3({}, d3, e4, void 0, s3) : new f3(t4, d3, e4, void 0, s3);
          delete (a3 = new f3(void 0, d3, e4, false, { defaults: false })).$__.defaults, null != s3.path && delete (s3 = i2({}, s3)).path, a3.$init(t4, s3);
          var b3 = w2(d3);
          return h2(a3, d3, b3), a3;
        }, j2.prototype.castForQuery = function(t4, e4, r4, n3) {
          var o3;
          if (null != t4) {
            if (!(o3 = this.$conditionalHandlers[t4]))
              throw new Error("Can't use " + t4);
            return o3.call(this, e4);
          }
          if (null == e4)
            return e4;
          var i3 = g2(this.caster, e4);
          if (e4 instanceof i3)
            return e4;
          this.options.runSetters && (e4 = this._applySetters(e4, r4));
          var s3 = null != n3 && null != n3.strict ? n3.strict : void 0;
          try {
            e4 = new i3(e4, s3);
          } catch (t5) {
            if (!(t5 instanceof u2))
              throw new u2("Embedded", e4, this.path, t5, this);
            throw t5;
          }
          return e4;
        }, j2.prototype.doValidate = function(t4, e4, r4, n3) {
          var o3 = g2(this.caster, t4);
          if (!t4 || t4 instanceof o3 || (t4 = new o3(t4, null, null != r4 && null != r4.$__ ? r4 : null)), n3 && n3.skipSchemaValidators)
            return t4 ? t4.validate().then(function() {
              return e4(null);
            }, function(t5) {
              return e4(t5);
            }) : e4(null);
          p2.prototype.doValidate.call(this, t4, function(r5) {
            return r5 ? e4(r5) : t4 ? void t4.validate().then(function() {
              return e4(null);
            }, function(t5) {
              return e4(t5);
            }) : e4(null);
          }, r4, n3);
        }, j2.prototype.doValidateSync = function(t4, e4, r4) {
          if (!r4 || !r4.skipSchemaValidators) {
            var n3 = p2.prototype.doValidateSync.call(this, t4, e4);
            if (n3)
              return n3;
          }
          if (t4)
            return t4.validateSync();
        }, j2.prototype.discriminator = function(t4, e4, r4) {
          r4 = r4 || {};
          var n3 = S2.isPOJO(r4) ? r4.value : r4, o3 = "boolean" != typeof r4.clone || r4.clone;
          return e4.instanceOfSchema && o3 && (e4 = e4.clone()), e4 = m2(this.caster, t4, e4, n3, null, null, r4.overwriteExisting), this.caster.discriminators[t4] = P2(e4, this.caster), this.caster.discriminators[t4];
        }, j2.defaultOptions = {}, j2.set = p2.set, j2.setters = [], j2.get = p2.get, j2.prototype.toJSON = function() {
          return { path: this.path, options: this.options };
        }, j2.prototype.clone = function() {
          var t4 = new this.constructor(this.schema, this.path, i2(i2({}, this.options), {}, { _skipApplyDiscriminators: true }), this.parentSchema);
          return t4.validators = this.validators.slice(), void 0 !== this.requiredValidator && (t4.requiredValidator = this.requiredValidator), t4.caster.discriminators = Object.assign({}, this.caster.discriminators), t4._appliedDiscriminators = this._appliedDiscriminators, t4;
        }, j2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return i2(i2({}, this.schema.toJSONSchema(t4)), b2("object", "object", null == t4 ? void 0 : t4.useBsonType, e4));
        };
      }, 5110: (t3) => {
        "use strict";
        var e3 = /* @__PURE__ */ new Set(["$ref", "$id", "$db"]);
        t3.exports = function(t4) {
          return "$" === t4[0] && !e3.has(t4);
        };
      }, 5152: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3703), o2 = r3(7425);
        t3.exports = /* @__PURE__ */ __name(function t4(e4, r4, i2) {
          for (var s2 = (i2 = i2 || {}).typeOnly, a2 = Array.isArray(r4) ? r4 : -1 === r4.indexOf(".") ? [r4] : r4.split("."), u2 = null, c2 = "adhocOrUndefined", l2 = o2(e4.schema, e4.get(e4.schema.options.discriminatorKey)) || e4.schema, f2 = 0; f2 < a2.length; ++f2) {
            var p2 = a2.slice(0, f2 + 1).join(".");
            if (null != (u2 = l2.path(p2))) {
              if ("Mixed" === u2.instance)
                return s2 ? "real" : u2;
              if (c2 = l2.pathType(p2), (u2.$isSingleNested || u2.$isMongooseDocumentArrayElement) && null != u2.schema.discriminators) {
                var h2 = u2.schema.discriminators, y2 = e4.get(p2 + "." + n2(u2, "schema.options.discriminatorKey"));
                if (null == y2 || null == h2[y2])
                  continue;
                var d2 = a2.slice(f2 + 1).join(".");
                return t4(e4.get(p2), d2, i2);
              }
            } else
              c2 = "adhocOrUndefined";
          }
          return s2 ? c2 : u2;
        }, "t");
      }, 5188: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(7300);
        t3.exports = function(t4, e4) {
          if (null == t4)
            return false;
          if ("_id" === e4)
            return 0 === t4._id;
          for (var r4 = null, o2 = 0, i2 = Object.keys(t4); o2 < i2.length; o2++) {
            var s2 = i2[o2];
            if (n2(t4[s2])) {
              r4 = 1 === t4[e4] ? "inclusive" : "exclusive";
              break;
            }
          }
          return "inclusive" === r4 ? 1 !== t4[e4] : "exclusive" === r4 && 0 === t4[e4];
        };
      }, 5268: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2746), o2 = Symbol("mongoose#emitted");
        t3.exports = function(t4, e4, i2, s2) {
          if ("function" == typeof t4)
            try {
              return e4(function(e5) {
                if (null == e5)
                  t4.apply(this, arguments);
                else {
                  null != i2 && null != i2.listeners && i2.listeners("error").length > 0 && !e5[o2] && (e5[o2] = true, i2.emit("error", e5));
                  try {
                    t4(e5);
                  } catch (e6) {
                    return n2(function() {
                      throw e6;
                    });
                  }
                }
              });
            } catch (e5) {
              return null != i2 && null != i2.listeners && i2.listeners("error").length > 0 && !e5[o2] && (e5[o2] = true, i2.emit("error", e5)), t4(e5);
            }
          return new (s2 = s2 || r3.g.Promise)(function(t5, r4) {
            e4(function(e5, n3) {
              return null != e5 ? (null != i2 && null != i2.listeners && i2.listeners("error").length > 0 && !e5[o2] && (e5[o2] = true, i2.emit("error", e5)), r4(e5)) : arguments.length > 2 ? t5(Array.prototype.slice.call(arguments, 1)) : void t5(n3);
            });
          });
        };
      }, 5289: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          switch (t4) {
            case "p":
              t4 = "primary";
              break;
            case "pp":
              t4 = "primaryPreferred";
              break;
            case "s":
              t4 = "secondary";
              break;
            case "sp":
              t4 = "secondaryPreferred";
              break;
            case "n":
              t4 = "nearest";
          }
          return t4;
        };
      }, 5335: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(1091);
        function o2(t4, e4, r4) {
          t4.$__.activePaths.default(e4), !r4 && t4.$isSubdocument && t4.$isSingleNested && null != t4.$parent() && t4.$parent().$__.activePaths.default(t4.$__pathRelativeToParent(e4));
        }
        __name(o2, "o");
        t3.exports = function(t4, e4, r4, i2, s2, a2, u2) {
          for (var c2 = Object.keys(t4.$__schema.paths), l2 = c2.length, f2 = u2 && u2.skipParentChangeTracking, p2 = 0; p2 < l2; ++p2) {
            var h2 = void 0, y2 = "", d2 = c2[p2];
            if ("_id" !== d2 || !t4.$__.skipId) {
              var b2 = t4.$__schema.paths[d2], m2 = b2.splitPath(), v2 = m2.length;
              if ("$*" !== m2[v2 - 1])
                for (var g2 = false, _ = t4._doc, O2 = 0; O2 < v2 && null != _; ++O2) {
                  var w2 = m2[O2];
                  if (y2 += (y2.length ? "." : "") + w2, true === r4) {
                    if (y2 in e4)
                      break;
                  } else if (false === r4 && e4 && !g2) {
                    var S2 = b2.$isSingleNested || b2.$isMongooseDocumentArray;
                    if (y2 in e4 && !n2(e4[y2]) || O2 === v2 - 1 && S2 && null != i2 && i2[y2])
                      g2 = true;
                    else if (null != i2 && !i2[y2])
                      break;
                  }
                  if (O2 === v2 - 1) {
                    if (void 0 !== _[w2])
                      break;
                    if (null != s2) {
                      if ("function" == typeof b2.defaultValue) {
                        if (!b2.defaultValue.$runBeforeSetters && s2)
                          break;
                        if (b2.defaultValue.$runBeforeSetters && !s2)
                          break;
                      } else if (!s2)
                        continue;
                    }
                    if (a2 && a2[y2])
                      break;
                    if (e4 && null !== r4) {
                      if (true === r4) {
                        if (d2 in e4)
                          continue;
                        try {
                          h2 = b2.getDefault(t4, false);
                        } catch (e5) {
                          t4.invalidate(d2, e5);
                          break;
                        }
                        void 0 !== h2 && (_[w2] = h2, o2(t4, d2, f2));
                      } else if (g2) {
                        try {
                          h2 = b2.getDefault(t4, false);
                        } catch (e5) {
                          t4.invalidate(d2, e5);
                          break;
                        }
                        void 0 !== h2 && (_[w2] = h2, o2(t4, d2, f2));
                      }
                    } else {
                      try {
                        h2 = b2.getDefault(t4, false);
                      } catch (e5) {
                        t4.invalidate(d2, e5);
                        break;
                      }
                      void 0 !== h2 && (_[w2] = h2, o2(t4, d2, f2));
                    }
                  } else
                    _ = _[w2];
                }
            }
          }
        };
      }, 5346: (t3) => {
        "use strict";
        t3.exports = function(t4, e3, r3) {
          for (var n2 = e3[0], o2 = r3, i2 = t4, s2 = 0; s2 < e3.length - 1; ++s2) {
            var a2 = o2.path(n2);
            if (a2 && a2.schema) {
              var u2 = i2.get(n2);
              if (o2 = a2.schema, n2 = e3[s2 + 1], Array.isArray(u2) && !isNaN(n2) && (u2 = u2[n2], n2 = ""), null == u2)
                break;
              i2 = u2;
            } else
              n2 += n2.length ? "." + e3[s2 + 1] : e3[s2 + 1];
          }
          return i2;
        };
      }, 5413: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3305), o2 = r3(2402);
        t3.exports = function(t4) {
          if (null == t4)
            return t4;
          if ("" === t4)
            return null;
          var e4 = n2(t4, "Long") ? t4.toNumber() : Number(t4);
          if (e4 === (0 | e4) && e4 >= -2147483648 && e4 <= 2147483647)
            return e4;
          o2.ok(false);
        };
      }, 5477: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2354), o2 = r3(3279), i2 = r3(3123), s2 = r3(3388);
        t3.exports = s2 || n2.call(i2, o2);
      }, 5484: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function() {
          if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols)
            return false;
          if ("symbol" === e3(Symbol.iterator))
            return true;
          var t4 = {}, r3 = Symbol("test"), n2 = Object(r3);
          if ("string" == typeof r3)
            return false;
          if ("[object Symbol]" !== Object.prototype.toString.call(r3))
            return false;
          if ("[object Symbol]" !== Object.prototype.toString.call(n2))
            return false;
          for (var o2 in t4[r3] = 42, t4)
            return false;
          if ("function" == typeof Object.keys && 0 !== Object.keys(t4).length)
            return false;
          if ("function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(t4).length)
            return false;
          var i2 = Object.getOwnPropertySymbols(t4);
          if (1 !== i2.length || i2[0] !== r3)
            return false;
          if (!Object.prototype.propertyIsEnumerable.call(t4, r3))
            return false;
          if ("function" == typeof Object.getOwnPropertyDescriptor) {
            var s2 = Object.getOwnPropertyDescriptor(t4, r3);
            if (42 !== s2.value || true !== s2.enumerable)
              return false;
          }
          return true;
        };
      }, 5497: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8260);
        t3.exports = function(t4) {
          if ("TopologyDescription" !== n2(t4))
            return false;
          var e4 = Array.from(t4.servers.values());
          return e4.length > 0 && e4.every(function(t5) {
            return t5.error && -1 !== t5.error.message.indexOf("Client network socket disconnected before secure TLS connection was established");
          });
        };
      }, 5510: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = "undefined" != typeof Symbol && Symbol, i2 = r3(5484);
        t3.exports = function() {
          return "function" == typeof o2 && "function" == typeof Symbol && "symbol" === n2(o2("foo")) && "symbol" === n2(Symbol("bar")) && i2();
        };
      }, 5537: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5, r5) {
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, ['Cannot create use schema for property "'.concat(t5, '" because the schema has the ').concat(r5, " option enabled.")]);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "InvalidSchemaOptionError" }), t3.exports = a2;
      }, 5549: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(6353).ObjectId, o2 = r3(7930).objectIdSymbol;
        Object.defineProperty(n2.prototype, "_id", { enumerable: false, configurable: true, get: function() {
          return this;
        } }), Object.hasOwn(n2.prototype, "valueOf") || (n2.prototype.valueOf = function() {
          return this.toString();
        }), n2.prototype[o2] = true, t3.exports = n2;
      }, 5558: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3660);
        function o2(t4) {
          return n2.cast()(t4);
        }
        __name(o2, "o");
        e3.G = o2, e3.p = /* @__PURE__ */ __name(function t4(e4, r4) {
          e4.forEach(function(n3, i2) {
            Array.isArray(n3) ? t4(n3, r4) : e4[i2] = o2.call(r4, n3);
          });
        }, "t");
      }, 5678: (t3, e3, r3) => {
        "use strict";
        t3.exports = r3(2914);
      }, 5761: (t3) => {
        "use strict";
        t3.exports = Object.freeze({ enumerable: true, configurable: true, writable: true, value: void 0 });
      }, 5782: (t3) => {
        "use strict";
        function e3(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r3 = 0, n2 = Array(e4); r3 < e4; r3++)
            n2[r3] = t4[r3];
          return n2;
        }
        __name(e3, "e");
        t3.exports = function(t4, r3, n2) {
          if (0 === t4.length)
            return n2();
          var o2, i2 = t4.length, s2 = null, a2 = function(t5, r4) {
            var n3 = "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
            if (!n3) {
              if (Array.isArray(t5) || (n3 = function(t6, r5) {
                if (t6) {
                  if ("string" == typeof t6)
                    return e3(t6, r5);
                  var n4 = {}.toString.call(t6).slice(8, -1);
                  return "Object" === n4 && t6.constructor && (n4 = t6.constructor.name), "Map" === n4 || "Set" === n4 ? Array.from(t6) : "Arguments" === n4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n4) ? e3(t6, r5) : void 0;
                }
              }(t5)) || r4 && t5 && "number" == typeof t5.length) {
                n3 && (t5 = n3);
                var o3 = 0, i3 = /* @__PURE__ */ __name(function() {
                }, "i");
                return { s: i3, n: function() {
                  return o3 >= t5.length ? { done: true } : { done: false, value: t5[o3++] };
                }, e: function(t6) {
                  throw t6;
                }, f: i3 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s3, a3 = true, u2 = false;
            return { s: function() {
              n3 = n3.call(t5);
            }, n: function() {
              var t6 = n3.next();
              return a3 = t6.done, t6;
            }, e: function(t6) {
              u2 = true, s3 = t6;
            }, f: function() {
              try {
                a3 || null == n3.return || n3.return();
              } finally {
                if (u2)
                  throw s3;
              }
            } };
          }(t4);
          try {
            for (a2.s(); !(o2 = a2.n()).done; )
              r3(o2.value, function(t5) {
                if (null == s2)
                  return null != t5 ? n2(s2 = t5) : --i2 <= 0 ? n2() : void 0;
              });
          } catch (s3) {
            a2.e(s3);
          } finally {
            a2.f();
          }
        };
      }, 5804: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2354), o2 = r3(3279), i2 = r3(5477);
        t3.exports = function() {
          return i2(n2, o2, arguments);
        };
      }, 5807: (t3) => {
        "use strict";
        t3.exports = Object.getOwnPropertyDescriptor;
      }, 5825: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8093);
        t3.exports = n2.getPrototypeOf || null;
      }, 5832: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(6775), i2 = r3(2486), s2 = "function" == typeof Symbol && "function" == typeof Symbol.for ? Symbol.for("nodejs.util.inspect.custom") : null;
        e3.hp = c2, e3.IS = 50;
        var a2 = 2147483647;
        function u2(t4) {
          if (t4 > a2)
            throw new RangeError('The value "' + t4 + '" is invalid for option "size"');
          var e4 = new Uint8Array(t4);
          return Object.setPrototypeOf(e4, c2.prototype), e4;
        }
        __name(u2, "u");
        function c2(t4, e4, r4) {
          if ("number" == typeof t4) {
            if ("string" == typeof e4)
              throw new TypeError('The "string" argument must be of type string. Received type number');
            return p2(t4);
          }
          return l2(t4, e4, r4);
        }
        __name(c2, "c");
        function l2(t4, e4, r4) {
          if ("string" == typeof t4)
            return function(t5, e5) {
              if ("string" == typeof e5 && "" !== e5 || (e5 = "utf8"), !c2.isEncoding(e5))
                throw new TypeError("Unknown encoding: " + e5);
              var r5 = 0 | b2(t5, e5), n3 = u2(r5), o4 = n3.write(t5, e5);
              return o4 !== r5 && (n3 = n3.slice(0, o4)), n3;
            }(t4, e4);
          if (ArrayBuffer.isView(t4))
            return function(t5) {
              if (V2(t5, Uint8Array)) {
                var e5 = new Uint8Array(t5);
                return y2(e5.buffer, e5.byteOffset, e5.byteLength);
              }
              return h2(t5);
            }(t4);
          if (null == t4)
            throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + n2(t4));
          if (V2(t4, ArrayBuffer) || t4 && V2(t4.buffer, ArrayBuffer))
            return y2(t4, e4, r4);
          if ("undefined" != typeof SharedArrayBuffer && (V2(t4, SharedArrayBuffer) || t4 && V2(t4.buffer, SharedArrayBuffer)))
            return y2(t4, e4, r4);
          if ("number" == typeof t4)
            throw new TypeError('The "value" argument must not be of type number. Received type number');
          var o3 = t4.valueOf && t4.valueOf();
          if (null != o3 && o3 !== t4)
            return c2.from(o3, e4, r4);
          var i3 = function(t5) {
            if (c2.isBuffer(t5)) {
              var e5 = 0 | d2(t5.length), r5 = u2(e5);
              return 0 === r5.length || t5.copy(r5, 0, 0, e5), r5;
            }
            return void 0 !== t5.length ? "number" != typeof t5.length || q2(t5.length) ? u2(0) : h2(t5) : "Buffer" === t5.type && Array.isArray(t5.data) ? h2(t5.data) : void 0;
          }(t4);
          if (i3)
            return i3;
          if ("undefined" != typeof Symbol && null != Symbol.toPrimitive && "function" == typeof t4[Symbol.toPrimitive])
            return c2.from(t4[Symbol.toPrimitive]("string"), e4, r4);
          throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + n2(t4));
        }
        __name(l2, "l");
        function f2(t4) {
          if ("number" != typeof t4)
            throw new TypeError('"size" argument must be of type number');
          if (t4 < 0)
            throw new RangeError('The value "' + t4 + '" is invalid for option "size"');
        }
        __name(f2, "f");
        function p2(t4) {
          return f2(t4), u2(t4 < 0 ? 0 : 0 | d2(t4));
        }
        __name(p2, "p");
        function h2(t4) {
          for (var e4 = t4.length < 0 ? 0 : 0 | d2(t4.length), r4 = u2(e4), n3 = 0; n3 < e4; n3 += 1)
            r4[n3] = 255 & t4[n3];
          return r4;
        }
        __name(h2, "h");
        function y2(t4, e4, r4) {
          if (e4 < 0 || t4.byteLength < e4)
            throw new RangeError('"offset" is outside of buffer bounds');
          if (t4.byteLength < e4 + (r4 || 0))
            throw new RangeError('"length" is outside of buffer bounds');
          var n3;
          return n3 = void 0 === e4 && void 0 === r4 ? new Uint8Array(t4) : void 0 === r4 ? new Uint8Array(t4, e4) : new Uint8Array(t4, e4, r4), Object.setPrototypeOf(n3, c2.prototype), n3;
        }
        __name(y2, "y");
        function d2(t4) {
          if (t4 >= a2)
            throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a2.toString(16) + " bytes");
          return 0 | t4;
        }
        __name(d2, "d");
        function b2(t4, e4) {
          if (c2.isBuffer(t4))
            return t4.length;
          if (ArrayBuffer.isView(t4) || V2(t4, ArrayBuffer))
            return t4.byteLength;
          if ("string" != typeof t4)
            throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + n2(t4));
          var r4 = t4.length, o3 = arguments.length > 2 && true === arguments[2];
          if (!o3 && 0 === r4)
            return 0;
          for (var i3 = false; ; )
            switch (e4) {
              case "ascii":
              case "latin1":
              case "binary":
                return r4;
              case "utf8":
              case "utf-8":
                return C2(t4).length;
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return 2 * r4;
              case "hex":
                return r4 >>> 1;
              case "base64":
                return F2(t4).length;
              default:
                if (i3)
                  return o3 ? -1 : C2(t4).length;
                e4 = ("" + e4).toLowerCase(), i3 = true;
            }
        }
        __name(b2, "b");
        function m2(t4, e4, r4) {
          var n3 = false;
          if ((void 0 === e4 || e4 < 0) && (e4 = 0), e4 > this.length)
            return "";
          if ((void 0 === r4 || r4 > this.length) && (r4 = this.length), r4 <= 0)
            return "";
          if ((r4 >>>= 0) <= (e4 >>>= 0))
            return "";
          for (t4 || (t4 = "utf8"); ; )
            switch (t4) {
              case "hex":
                return k2(this, e4, r4);
              case "utf8":
              case "utf-8":
                return A2(this, e4, r4);
              case "ascii":
                return x2(this, e4, r4);
              case "latin1":
              case "binary":
                return T2(this, e4, r4);
              case "base64":
                return P2(this, e4, r4);
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return N2(this, e4, r4);
              default:
                if (n3)
                  throw new TypeError("Unknown encoding: " + t4);
                t4 = (t4 + "").toLowerCase(), n3 = true;
            }
        }
        __name(m2, "m");
        function v2(t4, e4, r4) {
          var n3 = t4[e4];
          t4[e4] = t4[r4], t4[r4] = n3;
        }
        __name(v2, "v");
        function g2(t4, e4, r4, n3, o3) {
          if (0 === t4.length)
            return -1;
          if ("string" == typeof r4 ? (n3 = r4, r4 = 0) : r4 > 2147483647 ? r4 = 2147483647 : r4 < -2147483648 && (r4 = -2147483648), q2(r4 = +r4) && (r4 = o3 ? 0 : t4.length - 1), r4 < 0 && (r4 = t4.length + r4), r4 >= t4.length) {
            if (o3)
              return -1;
            r4 = t4.length - 1;
          } else if (r4 < 0) {
            if (!o3)
              return -1;
            r4 = 0;
          }
          if ("string" == typeof e4 && (e4 = c2.from(e4, n3)), c2.isBuffer(e4))
            return 0 === e4.length ? -1 : _(t4, e4, r4, n3, o3);
          if ("number" == typeof e4)
            return e4 &= 255, "function" == typeof Uint8Array.prototype.indexOf ? o3 ? Uint8Array.prototype.indexOf.call(t4, e4, r4) : Uint8Array.prototype.lastIndexOf.call(t4, e4, r4) : _(t4, [e4], r4, n3, o3);
          throw new TypeError("val must be string, number or Buffer");
        }
        __name(g2, "g");
        function _(t4, e4, r4, n3, o3) {
          var i3, s3 = 1, a3 = t4.length, u3 = e4.length;
          if (void 0 !== n3 && ("ucs2" === (n3 = String(n3).toLowerCase()) || "ucs-2" === n3 || "utf16le" === n3 || "utf-16le" === n3)) {
            if (t4.length < 2 || e4.length < 2)
              return -1;
            s3 = 2, a3 /= 2, u3 /= 2, r4 /= 2;
          }
          function c3(t5, e5) {
            return 1 === s3 ? t5[e5] : t5.readUInt16BE(e5 * s3);
          }
          __name(c3, "c");
          if (o3) {
            var l3 = -1;
            for (i3 = r4; i3 < a3; i3++)
              if (c3(t4, i3) === c3(e4, -1 === l3 ? 0 : i3 - l3)) {
                if (-1 === l3 && (l3 = i3), i3 - l3 + 1 === u3)
                  return l3 * s3;
              } else
                -1 !== l3 && (i3 -= i3 - l3), l3 = -1;
          } else
            for (r4 + u3 > a3 && (r4 = a3 - u3), i3 = r4; i3 >= 0; i3--) {
              for (var f3 = true, p3 = 0; p3 < u3; p3++)
                if (c3(t4, i3 + p3) !== c3(e4, p3)) {
                  f3 = false;
                  break;
                }
              if (f3)
                return i3;
            }
          return -1;
        }
        __name(_, "_");
        function O2(t4, e4, r4, n3) {
          r4 = Number(r4) || 0;
          var o3 = t4.length - r4;
          n3 ? (n3 = Number(n3)) > o3 && (n3 = o3) : n3 = o3;
          var i3 = e4.length;
          n3 > i3 / 2 && (n3 = i3 / 2);
          for (var s3 = 0; s3 < n3; ++s3) {
            var a3 = parseInt(e4.substr(2 * s3, 2), 16);
            if (q2(a3))
              return s3;
            t4[r4 + s3] = a3;
          }
          return s3;
        }
        __name(O2, "O");
        function w2(t4, e4, r4, n3) {
          return L2(C2(e4, t4.length - r4), t4, r4, n3);
        }
        __name(w2, "w");
        function S2(t4, e4, r4, n3) {
          return L2(function(t5) {
            for (var e5 = [], r5 = 0; r5 < t5.length; ++r5)
              e5.push(255 & t5.charCodeAt(r5));
            return e5;
          }(e4), t4, r4, n3);
        }
        __name(S2, "S");
        function $(t4, e4, r4, n3) {
          return L2(F2(e4), t4, r4, n3);
        }
        __name($, "$");
        function j2(t4, e4, r4, n3) {
          return L2(function(t5, e5) {
            for (var r5, n4, o3, i3 = [], s3 = 0; s3 < t5.length && !((e5 -= 2) < 0); ++s3)
              n4 = (r5 = t5.charCodeAt(s3)) >> 8, o3 = r5 % 256, i3.push(o3), i3.push(n4);
            return i3;
          }(e4, t4.length - r4), t4, r4, n3);
        }
        __name(j2, "j");
        function P2(t4, e4, r4) {
          return 0 === e4 && r4 === t4.length ? o2.fromByteArray(t4) : o2.fromByteArray(t4.slice(e4, r4));
        }
        __name(P2, "P");
        function A2(t4, e4, r4) {
          r4 = Math.min(t4.length, r4);
          for (var n3 = [], o3 = e4; o3 < r4; ) {
            var i3, s3, a3, u3, c3 = t4[o3], l3 = null, f3 = c3 > 239 ? 4 : c3 > 223 ? 3 : c3 > 191 ? 2 : 1;
            if (o3 + f3 <= r4)
              switch (f3) {
                case 1:
                  c3 < 128 && (l3 = c3);
                  break;
                case 2:
                  128 == (192 & (i3 = t4[o3 + 1])) && (u3 = (31 & c3) << 6 | 63 & i3) > 127 && (l3 = u3);
                  break;
                case 3:
                  i3 = t4[o3 + 1], s3 = t4[o3 + 2], 128 == (192 & i3) && 128 == (192 & s3) && (u3 = (15 & c3) << 12 | (63 & i3) << 6 | 63 & s3) > 2047 && (u3 < 55296 || u3 > 57343) && (l3 = u3);
                  break;
                case 4:
                  i3 = t4[o3 + 1], s3 = t4[o3 + 2], a3 = t4[o3 + 3], 128 == (192 & i3) && 128 == (192 & s3) && 128 == (192 & a3) && (u3 = (15 & c3) << 18 | (63 & i3) << 12 | (63 & s3) << 6 | 63 & a3) > 65535 && u3 < 1114112 && (l3 = u3);
              }
            null === l3 ? (l3 = 65533, f3 = 1) : l3 > 65535 && (l3 -= 65536, n3.push(l3 >>> 10 & 1023 | 55296), l3 = 56320 | 1023 & l3), n3.push(l3), o3 += f3;
          }
          return function(t5) {
            var e5 = t5.length;
            if (e5 <= E2)
              return String.fromCharCode.apply(String, t5);
            for (var r5 = "", n4 = 0; n4 < e5; )
              r5 += String.fromCharCode.apply(String, t5.slice(n4, n4 += E2));
            return r5;
          }(n3);
        }
        __name(A2, "A");
        c2.TYPED_ARRAY_SUPPORT = function() {
          try {
            var t4 = new Uint8Array(1), e4 = { foo: function() {
              return 42;
            } };
            return Object.setPrototypeOf(e4, Uint8Array.prototype), Object.setPrototypeOf(t4, e4), 42 === t4.foo();
          } catch (t5) {
            return false;
          }
        }(), c2.TYPED_ARRAY_SUPPORT || "undefined" == typeof console || "function" != typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."), Object.defineProperty(c2.prototype, "parent", { enumerable: true, get: function() {
          if (c2.isBuffer(this))
            return this.buffer;
        } }), Object.defineProperty(c2.prototype, "offset", { enumerable: true, get: function() {
          if (c2.isBuffer(this))
            return this.byteOffset;
        } }), c2.poolSize = 8192, c2.from = function(t4, e4, r4) {
          return l2(t4, e4, r4);
        }, Object.setPrototypeOf(c2.prototype, Uint8Array.prototype), Object.setPrototypeOf(c2, Uint8Array), c2.alloc = function(t4, e4, r4) {
          return function(t5, e5, r5) {
            return f2(t5), t5 <= 0 ? u2(t5) : void 0 !== e5 ? "string" == typeof r5 ? u2(t5).fill(e5, r5) : u2(t5).fill(e5) : u2(t5);
          }(t4, e4, r4);
        }, c2.allocUnsafe = function(t4) {
          return p2(t4);
        }, c2.allocUnsafeSlow = function(t4) {
          return p2(t4);
        }, c2.isBuffer = function(t4) {
          return null != t4 && true === t4._isBuffer && t4 !== c2.prototype;
        }, c2.compare = function(t4, e4) {
          if (V2(t4, Uint8Array) && (t4 = c2.from(t4, t4.offset, t4.byteLength)), V2(e4, Uint8Array) && (e4 = c2.from(e4, e4.offset, e4.byteLength)), !c2.isBuffer(t4) || !c2.isBuffer(e4))
            throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
          if (t4 === e4)
            return 0;
          for (var r4 = t4.length, n3 = e4.length, o3 = 0, i3 = Math.min(r4, n3); o3 < i3; ++o3)
            if (t4[o3] !== e4[o3]) {
              r4 = t4[o3], n3 = e4[o3];
              break;
            }
          return r4 < n3 ? -1 : n3 < r4 ? 1 : 0;
        }, c2.isEncoding = function(t4) {
          switch (String(t4).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return true;
            default:
              return false;
          }
        }, c2.concat = function(t4, e4) {
          if (!Array.isArray(t4))
            throw new TypeError('"list" argument must be an Array of Buffers');
          if (0 === t4.length)
            return c2.alloc(0);
          var r4;
          if (void 0 === e4)
            for (e4 = 0, r4 = 0; r4 < t4.length; ++r4)
              e4 += t4[r4].length;
          var n3 = c2.allocUnsafe(e4), o3 = 0;
          for (r4 = 0; r4 < t4.length; ++r4) {
            var i3 = t4[r4];
            if (V2(i3, Uint8Array))
              o3 + i3.length > n3.length ? c2.from(i3).copy(n3, o3) : Uint8Array.prototype.set.call(n3, i3, o3);
            else {
              if (!c2.isBuffer(i3))
                throw new TypeError('"list" argument must be an Array of Buffers');
              i3.copy(n3, o3);
            }
            o3 += i3.length;
          }
          return n3;
        }, c2.byteLength = b2, c2.prototype._isBuffer = true, c2.prototype.swap16 = function() {
          var t4 = this.length;
          if (t4 % 2 != 0)
            throw new RangeError("Buffer size must be a multiple of 16-bits");
          for (var e4 = 0; e4 < t4; e4 += 2)
            v2(this, e4, e4 + 1);
          return this;
        }, c2.prototype.swap32 = function() {
          var t4 = this.length;
          if (t4 % 4 != 0)
            throw new RangeError("Buffer size must be a multiple of 32-bits");
          for (var e4 = 0; e4 < t4; e4 += 4)
            v2(this, e4, e4 + 3), v2(this, e4 + 1, e4 + 2);
          return this;
        }, c2.prototype.swap64 = function() {
          var t4 = this.length;
          if (t4 % 8 != 0)
            throw new RangeError("Buffer size must be a multiple of 64-bits");
          for (var e4 = 0; e4 < t4; e4 += 8)
            v2(this, e4, e4 + 7), v2(this, e4 + 1, e4 + 6), v2(this, e4 + 2, e4 + 5), v2(this, e4 + 3, e4 + 4);
          return this;
        }, c2.prototype.toString = function() {
          var t4 = this.length;
          return 0 === t4 ? "" : 0 === arguments.length ? A2(this, 0, t4) : m2.apply(this, arguments);
        }, c2.prototype.toLocaleString = c2.prototype.toString, c2.prototype.equals = function(t4) {
          if (!c2.isBuffer(t4))
            throw new TypeError("Argument must be a Buffer");
          return this === t4 || 0 === c2.compare(this, t4);
        }, c2.prototype.inspect = function() {
          var t4 = "", r4 = e3.IS;
          return t4 = this.toString("hex", 0, r4).replace(/(.{2})/g, "$1 ").trim(), this.length > r4 && (t4 += " ... "), "<Buffer " + t4 + ">";
        }, s2 && (c2.prototype[s2] = c2.prototype.inspect), c2.prototype.compare = function(t4, e4, r4, o3, i3) {
          if (V2(t4, Uint8Array) && (t4 = c2.from(t4, t4.offset, t4.byteLength)), !c2.isBuffer(t4))
            throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + n2(t4));
          if (void 0 === e4 && (e4 = 0), void 0 === r4 && (r4 = t4 ? t4.length : 0), void 0 === o3 && (o3 = 0), void 0 === i3 && (i3 = this.length), e4 < 0 || r4 > t4.length || o3 < 0 || i3 > this.length)
            throw new RangeError("out of range index");
          if (o3 >= i3 && e4 >= r4)
            return 0;
          if (o3 >= i3)
            return -1;
          if (e4 >= r4)
            return 1;
          if (this === t4)
            return 0;
          for (var s3 = (i3 >>>= 0) - (o3 >>>= 0), a3 = (r4 >>>= 0) - (e4 >>>= 0), u3 = Math.min(s3, a3), l3 = this.slice(o3, i3), f3 = t4.slice(e4, r4), p3 = 0; p3 < u3; ++p3)
            if (l3[p3] !== f3[p3]) {
              s3 = l3[p3], a3 = f3[p3];
              break;
            }
          return s3 < a3 ? -1 : a3 < s3 ? 1 : 0;
        }, c2.prototype.includes = function(t4, e4, r4) {
          return -1 !== this.indexOf(t4, e4, r4);
        }, c2.prototype.indexOf = function(t4, e4, r4) {
          return g2(this, t4, e4, r4, true);
        }, c2.prototype.lastIndexOf = function(t4, e4, r4) {
          return g2(this, t4, e4, r4, false);
        }, c2.prototype.write = function(t4, e4, r4, n3) {
          if (void 0 === e4)
            n3 = "utf8", r4 = this.length, e4 = 0;
          else if (void 0 === r4 && "string" == typeof e4)
            n3 = e4, r4 = this.length, e4 = 0;
          else {
            if (!isFinite(e4))
              throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
            e4 >>>= 0, isFinite(r4) ? (r4 >>>= 0, void 0 === n3 && (n3 = "utf8")) : (n3 = r4, r4 = void 0);
          }
          var o3 = this.length - e4;
          if ((void 0 === r4 || r4 > o3) && (r4 = o3), t4.length > 0 && (r4 < 0 || e4 < 0) || e4 > this.length)
            throw new RangeError("Attempt to write outside buffer bounds");
          n3 || (n3 = "utf8");
          for (var i3 = false; ; )
            switch (n3) {
              case "hex":
                return O2(this, t4, e4, r4);
              case "utf8":
              case "utf-8":
                return w2(this, t4, e4, r4);
              case "ascii":
              case "latin1":
              case "binary":
                return S2(this, t4, e4, r4);
              case "base64":
                return $(this, t4, e4, r4);
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return j2(this, t4, e4, r4);
              default:
                if (i3)
                  throw new TypeError("Unknown encoding: " + n3);
                n3 = ("" + n3).toLowerCase(), i3 = true;
            }
        }, c2.prototype.toJSON = function() {
          return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
        };
        var E2 = 4096;
        function x2(t4, e4, r4) {
          var n3 = "";
          r4 = Math.min(t4.length, r4);
          for (var o3 = e4; o3 < r4; ++o3)
            n3 += String.fromCharCode(127 & t4[o3]);
          return n3;
        }
        __name(x2, "x");
        function T2(t4, e4, r4) {
          var n3 = "";
          r4 = Math.min(t4.length, r4);
          for (var o3 = e4; o3 < r4; ++o3)
            n3 += String.fromCharCode(t4[o3]);
          return n3;
        }
        __name(T2, "T");
        function k2(t4, e4, r4) {
          var n3 = t4.length;
          (!e4 || e4 < 0) && (e4 = 0), (!r4 || r4 < 0 || r4 > n3) && (r4 = n3);
          for (var o3 = "", i3 = e4; i3 < r4; ++i3)
            o3 += J2[t4[i3]];
          return o3;
        }
        __name(k2, "k");
        function N2(t4, e4, r4) {
          for (var n3 = t4.slice(e4, r4), o3 = "", i3 = 0; i3 < n3.length - 1; i3 += 2)
            o3 += String.fromCharCode(n3[i3] + 256 * n3[i3 + 1]);
          return o3;
        }
        __name(N2, "N");
        function I2(t4, e4, r4) {
          if (t4 % 1 != 0 || t4 < 0)
            throw new RangeError("offset is not uint");
          if (t4 + e4 > r4)
            throw new RangeError("Trying to access beyond buffer length");
        }
        __name(I2, "I");
        function D2(t4, e4, r4, n3, o3, i3) {
          if (!c2.isBuffer(t4))
            throw new TypeError('"buffer" argument must be a Buffer instance');
          if (e4 > o3 || e4 < i3)
            throw new RangeError('"value" argument is out of bounds');
          if (r4 + n3 > t4.length)
            throw new RangeError("Index out of range");
        }
        __name(D2, "D");
        function B2(t4, e4, r4, n3, o3, i3) {
          if (r4 + n3 > t4.length)
            throw new RangeError("Index out of range");
          if (r4 < 0)
            throw new RangeError("Index out of range");
        }
        __name(B2, "B");
        function M2(t4, e4, r4, n3, o3) {
          return e4 = +e4, r4 >>>= 0, o3 || B2(t4, 0, r4, 4), i2.write(t4, e4, r4, n3, 23, 4), r4 + 4;
        }
        __name(M2, "M");
        function R2(t4, e4, r4, n3, o3) {
          return e4 = +e4, r4 >>>= 0, o3 || B2(t4, 0, r4, 8), i2.write(t4, e4, r4, n3, 52, 8), r4 + 8;
        }
        __name(R2, "R");
        c2.prototype.slice = function(t4, e4) {
          var r4 = this.length;
          (t4 = ~~t4) < 0 ? (t4 += r4) < 0 && (t4 = 0) : t4 > r4 && (t4 = r4), (e4 = void 0 === e4 ? r4 : ~~e4) < 0 ? (e4 += r4) < 0 && (e4 = 0) : e4 > r4 && (e4 = r4), e4 < t4 && (e4 = t4);
          var n3 = this.subarray(t4, e4);
          return Object.setPrototypeOf(n3, c2.prototype), n3;
        }, c2.prototype.readUintLE = c2.prototype.readUIntLE = function(t4, e4, r4) {
          t4 >>>= 0, e4 >>>= 0, r4 || I2(t4, e4, this.length);
          for (var n3 = this[t4], o3 = 1, i3 = 0; ++i3 < e4 && (o3 *= 256); )
            n3 += this[t4 + i3] * o3;
          return n3;
        }, c2.prototype.readUintBE = c2.prototype.readUIntBE = function(t4, e4, r4) {
          t4 >>>= 0, e4 >>>= 0, r4 || I2(t4, e4, this.length);
          for (var n3 = this[t4 + --e4], o3 = 1; e4 > 0 && (o3 *= 256); )
            n3 += this[t4 + --e4] * o3;
          return n3;
        }, c2.prototype.readUint8 = c2.prototype.readUInt8 = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 1, this.length), this[t4];
        }, c2.prototype.readUint16LE = c2.prototype.readUInt16LE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 2, this.length), this[t4] | this[t4 + 1] << 8;
        }, c2.prototype.readUint16BE = c2.prototype.readUInt16BE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 2, this.length), this[t4] << 8 | this[t4 + 1];
        }, c2.prototype.readUint32LE = c2.prototype.readUInt32LE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 4, this.length), (this[t4] | this[t4 + 1] << 8 | this[t4 + 2] << 16) + 16777216 * this[t4 + 3];
        }, c2.prototype.readUint32BE = c2.prototype.readUInt32BE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 4, this.length), 16777216 * this[t4] + (this[t4 + 1] << 16 | this[t4 + 2] << 8 | this[t4 + 3]);
        }, c2.prototype.readIntLE = function(t4, e4, r4) {
          t4 >>>= 0, e4 >>>= 0, r4 || I2(t4, e4, this.length);
          for (var n3 = this[t4], o3 = 1, i3 = 0; ++i3 < e4 && (o3 *= 256); )
            n3 += this[t4 + i3] * o3;
          return n3 >= (o3 *= 128) && (n3 -= Math.pow(2, 8 * e4)), n3;
        }, c2.prototype.readIntBE = function(t4, e4, r4) {
          t4 >>>= 0, e4 >>>= 0, r4 || I2(t4, e4, this.length);
          for (var n3 = e4, o3 = 1, i3 = this[t4 + --n3]; n3 > 0 && (o3 *= 256); )
            i3 += this[t4 + --n3] * o3;
          return i3 >= (o3 *= 128) && (i3 -= Math.pow(2, 8 * e4)), i3;
        }, c2.prototype.readInt8 = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 1, this.length), 128 & this[t4] ? -1 * (255 - this[t4] + 1) : this[t4];
        }, c2.prototype.readInt16LE = function(t4, e4) {
          t4 >>>= 0, e4 || I2(t4, 2, this.length);
          var r4 = this[t4] | this[t4 + 1] << 8;
          return 32768 & r4 ? 4294901760 | r4 : r4;
        }, c2.prototype.readInt16BE = function(t4, e4) {
          t4 >>>= 0, e4 || I2(t4, 2, this.length);
          var r4 = this[t4 + 1] | this[t4] << 8;
          return 32768 & r4 ? 4294901760 | r4 : r4;
        }, c2.prototype.readInt32LE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 4, this.length), this[t4] | this[t4 + 1] << 8 | this[t4 + 2] << 16 | this[t4 + 3] << 24;
        }, c2.prototype.readInt32BE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 4, this.length), this[t4] << 24 | this[t4 + 1] << 16 | this[t4 + 2] << 8 | this[t4 + 3];
        }, c2.prototype.readFloatLE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 4, this.length), i2.read(this, t4, true, 23, 4);
        }, c2.prototype.readFloatBE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 4, this.length), i2.read(this, t4, false, 23, 4);
        }, c2.prototype.readDoubleLE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 8, this.length), i2.read(this, t4, true, 52, 8);
        }, c2.prototype.readDoubleBE = function(t4, e4) {
          return t4 >>>= 0, e4 || I2(t4, 8, this.length), i2.read(this, t4, false, 52, 8);
        }, c2.prototype.writeUintLE = c2.prototype.writeUIntLE = function(t4, e4, r4, n3) {
          t4 = +t4, e4 >>>= 0, r4 >>>= 0, n3 || D2(this, t4, e4, r4, Math.pow(2, 8 * r4) - 1, 0);
          var o3 = 1, i3 = 0;
          for (this[e4] = 255 & t4; ++i3 < r4 && (o3 *= 256); )
            this[e4 + i3] = t4 / o3 & 255;
          return e4 + r4;
        }, c2.prototype.writeUintBE = c2.prototype.writeUIntBE = function(t4, e4, r4, n3) {
          t4 = +t4, e4 >>>= 0, r4 >>>= 0, n3 || D2(this, t4, e4, r4, Math.pow(2, 8 * r4) - 1, 0);
          var o3 = r4 - 1, i3 = 1;
          for (this[e4 + o3] = 255 & t4; --o3 >= 0 && (i3 *= 256); )
            this[e4 + o3] = t4 / i3 & 255;
          return e4 + r4;
        }, c2.prototype.writeUint8 = c2.prototype.writeUInt8 = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 1, 255, 0), this[e4] = 255 & t4, e4 + 1;
        }, c2.prototype.writeUint16LE = c2.prototype.writeUInt16LE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 2, 65535, 0), this[e4] = 255 & t4, this[e4 + 1] = t4 >>> 8, e4 + 2;
        }, c2.prototype.writeUint16BE = c2.prototype.writeUInt16BE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 2, 65535, 0), this[e4] = t4 >>> 8, this[e4 + 1] = 255 & t4, e4 + 2;
        }, c2.prototype.writeUint32LE = c2.prototype.writeUInt32LE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 4, 4294967295, 0), this[e4 + 3] = t4 >>> 24, this[e4 + 2] = t4 >>> 16, this[e4 + 1] = t4 >>> 8, this[e4] = 255 & t4, e4 + 4;
        }, c2.prototype.writeUint32BE = c2.prototype.writeUInt32BE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 4, 4294967295, 0), this[e4] = t4 >>> 24, this[e4 + 1] = t4 >>> 16, this[e4 + 2] = t4 >>> 8, this[e4 + 3] = 255 & t4, e4 + 4;
        }, c2.prototype.writeIntLE = function(t4, e4, r4, n3) {
          if (t4 = +t4, e4 >>>= 0, !n3) {
            var o3 = Math.pow(2, 8 * r4 - 1);
            D2(this, t4, e4, r4, o3 - 1, -o3);
          }
          var i3 = 0, s3 = 1, a3 = 0;
          for (this[e4] = 255 & t4; ++i3 < r4 && (s3 *= 256); )
            t4 < 0 && 0 === a3 && 0 !== this[e4 + i3 - 1] && (a3 = 1), this[e4 + i3] = (t4 / s3 | 0) - a3 & 255;
          return e4 + r4;
        }, c2.prototype.writeIntBE = function(t4, e4, r4, n3) {
          if (t4 = +t4, e4 >>>= 0, !n3) {
            var o3 = Math.pow(2, 8 * r4 - 1);
            D2(this, t4, e4, r4, o3 - 1, -o3);
          }
          var i3 = r4 - 1, s3 = 1, a3 = 0;
          for (this[e4 + i3] = 255 & t4; --i3 >= 0 && (s3 *= 256); )
            t4 < 0 && 0 === a3 && 0 !== this[e4 + i3 + 1] && (a3 = 1), this[e4 + i3] = (t4 / s3 | 0) - a3 & 255;
          return e4 + r4;
        }, c2.prototype.writeInt8 = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 1, 127, -128), t4 < 0 && (t4 = 255 + t4 + 1), this[e4] = 255 & t4, e4 + 1;
        }, c2.prototype.writeInt16LE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 2, 32767, -32768), this[e4] = 255 & t4, this[e4 + 1] = t4 >>> 8, e4 + 2;
        }, c2.prototype.writeInt16BE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 2, 32767, -32768), this[e4] = t4 >>> 8, this[e4 + 1] = 255 & t4, e4 + 2;
        }, c2.prototype.writeInt32LE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 4, 2147483647, -2147483648), this[e4] = 255 & t4, this[e4 + 1] = t4 >>> 8, this[e4 + 2] = t4 >>> 16, this[e4 + 3] = t4 >>> 24, e4 + 4;
        }, c2.prototype.writeInt32BE = function(t4, e4, r4) {
          return t4 = +t4, e4 >>>= 0, r4 || D2(this, t4, e4, 4, 2147483647, -2147483648), t4 < 0 && (t4 = 4294967295 + t4 + 1), this[e4] = t4 >>> 24, this[e4 + 1] = t4 >>> 16, this[e4 + 2] = t4 >>> 8, this[e4 + 3] = 255 & t4, e4 + 4;
        }, c2.prototype.writeFloatLE = function(t4, e4, r4) {
          return M2(this, t4, e4, true, r4);
        }, c2.prototype.writeFloatBE = function(t4, e4, r4) {
          return M2(this, t4, e4, false, r4);
        }, c2.prototype.writeDoubleLE = function(t4, e4, r4) {
          return R2(this, t4, e4, true, r4);
        }, c2.prototype.writeDoubleBE = function(t4, e4, r4) {
          return R2(this, t4, e4, false, r4);
        }, c2.prototype.copy = function(t4, e4, r4, n3) {
          if (!c2.isBuffer(t4))
            throw new TypeError("argument should be a Buffer");
          if (r4 || (r4 = 0), n3 || 0 === n3 || (n3 = this.length), e4 >= t4.length && (e4 = t4.length), e4 || (e4 = 0), n3 > 0 && n3 < r4 && (n3 = r4), n3 === r4)
            return 0;
          if (0 === t4.length || 0 === this.length)
            return 0;
          if (e4 < 0)
            throw new RangeError("targetStart out of bounds");
          if (r4 < 0 || r4 >= this.length)
            throw new RangeError("Index out of range");
          if (n3 < 0)
            throw new RangeError("sourceEnd out of bounds");
          n3 > this.length && (n3 = this.length), t4.length - e4 < n3 - r4 && (n3 = t4.length - e4 + r4);
          var o3 = n3 - r4;
          return this === t4 && "function" == typeof Uint8Array.prototype.copyWithin ? this.copyWithin(e4, r4, n3) : Uint8Array.prototype.set.call(t4, this.subarray(r4, n3), e4), o3;
        }, c2.prototype.fill = function(t4, e4, r4, n3) {
          if ("string" == typeof t4) {
            if ("string" == typeof e4 ? (n3 = e4, e4 = 0, r4 = this.length) : "string" == typeof r4 && (n3 = r4, r4 = this.length), void 0 !== n3 && "string" != typeof n3)
              throw new TypeError("encoding must be a string");
            if ("string" == typeof n3 && !c2.isEncoding(n3))
              throw new TypeError("Unknown encoding: " + n3);
            if (1 === t4.length) {
              var o3 = t4.charCodeAt(0);
              ("utf8" === n3 && o3 < 128 || "latin1" === n3) && (t4 = o3);
            }
          } else
            "number" == typeof t4 ? t4 &= 255 : "boolean" == typeof t4 && (t4 = Number(t4));
          if (e4 < 0 || this.length < e4 || this.length < r4)
            throw new RangeError("Out of range index");
          if (r4 <= e4)
            return this;
          var i3;
          if (e4 >>>= 0, r4 = void 0 === r4 ? this.length : r4 >>> 0, t4 || (t4 = 0), "number" == typeof t4)
            for (i3 = e4; i3 < r4; ++i3)
              this[i3] = t4;
          else {
            var s3 = c2.isBuffer(t4) ? t4 : c2.from(t4, n3), a3 = s3.length;
            if (0 === a3)
              throw new TypeError('The value "' + t4 + '" is invalid for argument "value"');
            for (i3 = 0; i3 < r4 - e4; ++i3)
              this[i3 + e4] = s3[i3 % a3];
          }
          return this;
        };
        var U2 = /[^+/0-9A-Za-z-_]/g;
        function C2(t4, e4) {
          var r4;
          e4 = e4 || 1 / 0;
          for (var n3 = t4.length, o3 = null, i3 = [], s3 = 0; s3 < n3; ++s3) {
            if ((r4 = t4.charCodeAt(s3)) > 55295 && r4 < 57344) {
              if (!o3) {
                if (r4 > 56319) {
                  (e4 -= 3) > -1 && i3.push(239, 191, 189);
                  continue;
                }
                if (s3 + 1 === n3) {
                  (e4 -= 3) > -1 && i3.push(239, 191, 189);
                  continue;
                }
                o3 = r4;
                continue;
              }
              if (r4 < 56320) {
                (e4 -= 3) > -1 && i3.push(239, 191, 189), o3 = r4;
                continue;
              }
              r4 = 65536 + (o3 - 55296 << 10 | r4 - 56320);
            } else
              o3 && (e4 -= 3) > -1 && i3.push(239, 191, 189);
            if (o3 = null, r4 < 128) {
              if ((e4 -= 1) < 0)
                break;
              i3.push(r4);
            } else if (r4 < 2048) {
              if ((e4 -= 2) < 0)
                break;
              i3.push(r4 >> 6 | 192, 63 & r4 | 128);
            } else if (r4 < 65536) {
              if ((e4 -= 3) < 0)
                break;
              i3.push(r4 >> 12 | 224, r4 >> 6 & 63 | 128, 63 & r4 | 128);
            } else {
              if (!(r4 < 1114112))
                throw new Error("Invalid code point");
              if ((e4 -= 4) < 0)
                break;
              i3.push(r4 >> 18 | 240, r4 >> 12 & 63 | 128, r4 >> 6 & 63 | 128, 63 & r4 | 128);
            }
          }
          return i3;
        }
        __name(C2, "C");
        function F2(t4) {
          return o2.toByteArray(function(t5) {
            if ((t5 = (t5 = t5.split("=")[0]).trim().replace(U2, "")).length < 2)
              return "";
            for (; t5.length % 4 != 0; )
              t5 += "=";
            return t5;
          }(t4));
        }
        __name(F2, "F");
        function L2(t4, e4, r4, n3) {
          for (var o3 = 0; o3 < n3 && !(o3 + r4 >= e4.length || o3 >= t4.length); ++o3)
            e4[o3 + r4] = t4[o3];
          return o3;
        }
        __name(L2, "L");
        function V2(t4, e4) {
          return t4 instanceof e4 || null != t4 && null != t4.constructor && null != t4.constructor.name && t4.constructor.name === e4.name;
        }
        __name(V2, "V");
        function q2(t4) {
          return t4 != t4;
        }
        __name(q2, "q");
        var J2 = function() {
          for (var t4 = "0123456789abcdef", e4 = new Array(256), r4 = 0; r4 < 16; ++r4)
            for (var n3 = 16 * r4, o3 = 0; o3 < 16; ++o3)
              e4[n3 + o3] = t4[r4] + t4[o3];
          return e4;
        }();
      }, 5889: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = o2(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, i3 = /* @__PURE__ */ __name(function() {
              }, "i");
              return { s: i3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: i3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(n2, "n");
        function o2(t4, e4) {
          if (t4) {
            if ("string" == typeof t4)
              return i2(t4, e4);
            var r4 = {}.toString.call(t4).slice(8, -1);
            return "Object" === r4 && t4.constructor && (r4 = t4.constructor.name), "Map" === r4 || "Set" === r4 ? Array.from(t4) : "Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? i2(t4, e4) : void 0;
          }
        }
        __name(o2, "o");
        function i2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(i2, "i");
        var s2 = r3(7930).arrayAtomicsSymbol, a2 = r3(7930).sessionNewDocuments, u2 = r3(8768);
        function c2(t4, e4) {
          return t4 = t4 || {}, null != e4.$pullAll && (t4.$pullAll = (t4.$pullAll || []).concat(e4.$pullAll)), null != e4.$push && (t4.$push = t4.$push || {}, t4.$push.$each = (t4.$push.$each || []).concat(e4.$push.$each)), null != e4.$addToSet && (t4.$addToSet = (t4.$addToSet || []).concat(e4.$addToSet)), null != e4.$set && (t4.$set = Array.isArray(e4.$set) ? function(t5) {
            if (Array.isArray(t5))
              return i2(t5);
          }(r4 = e4.$set) || function(t5) {
            if ("undefined" != typeof Symbol && null != t5[Symbol.iterator] || null != t5["@@iterator"])
              return Array.from(t5);
          }(r4) || o2(r4) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }() : Object.assign({}, e4.$set)), t4;
          var r4;
        }
        __name(c2, "c");
        t3.exports = function(t4) {
          t4.pre("save", function() {
            var t5 = this.$session();
            if (null != t5 && null != t5.transaction && null != t5[a2] && !t5[a2].has(this)) {
              var e4 = {};
              this.isNew && (e4.isNew = true), this.$__schema.options.versionKey && (e4.versionKey = this.get(this.$__schema.options.versionKey)), e4.modifiedPaths = new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))), e4.atomics = function(t6, e5) {
                var r4 = /* @__PURE__ */ new Map();
                e5 = e5 || /* @__PURE__ */ new Map();
                var o3, i3 = n2(Object.keys(t6.$__.activePaths.init).concat(Object.keys(t6.$__.activePaths.modify)));
                try {
                  for (i3.s(); !(o3 = i3.n()).done; ) {
                    var a3 = o3.value, l2 = t6.$__getValue(a3);
                    if (null != l2 && Array.isArray(l2) && u2.isMongooseDocumentArray(l2) && l2.length && null != l2[s2] && 0 !== Object.keys(l2[s2]).length) {
                      var f2 = e5.get(a3) || {};
                      r4.set(a3, c2(f2, l2[s2]));
                    }
                  }
                } catch (t7) {
                  i3.e(t7);
                } finally {
                  i3.f();
                }
                var p2, h2 = n2(t6.$__dirty());
                try {
                  for (h2.s(); !(p2 = h2.n()).done; ) {
                    var y2 = p2.value, d2 = y2.path, b2 = y2.value;
                    if (null != b2 && null != b2[s2] && 0 !== Object.keys(b2[s2]).length) {
                      var m2 = e5.get(d2) || {};
                      r4.set(d2, c2(m2, b2[s2]));
                    }
                  }
                } catch (t7) {
                  h2.e(t7);
                } finally {
                  h2.f();
                }
                return r4;
              }(this), t5[a2].set(this, e4);
            }
          });
        };
      }, 5899: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(953)(), i2 = r3(3071)("Object.prototype.toString"), s2 = /* @__PURE__ */ __name(function(t4) {
          return !(o2 && t4 && "object" === n2(t4) && Symbol.toStringTag in t4) && "[object Arguments]" === i2(t4);
        }, "s"), a2 = /* @__PURE__ */ __name(function(t4) {
          return !!s2(t4) || null !== t4 && "object" === n2(t4) && "length" in t4 && "number" == typeof t4.length && t4.length >= 0 && "[object Array]" !== i2(t4) && "callee" in t4 && "[object Function]" === i2(t4.callee);
        }, "a"), u2 = function() {
          return s2(arguments);
        }();
        s2.isLegacyArguments = a2, t3.exports = u2 ? s2 : a2;
      }, 5994: (t3, e3, r3) => {
        "use strict";
        var n2 = Function.prototype.call, o2 = Object.prototype.hasOwnProperty, i2 = r3(2354);
        t3.exports = i2.call(n2, o2);
      }, 6062: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(9122), o2 = r3(2273), i2 = r3(118), s2 = r3(4183), a2 = r3(7878), u2 = n2(s2(), Number);
        o2(u2, { getPolyfill: s2, implementation: i2, shim: a2 }), t3.exports = u2;
      }, 6140: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        function r3(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, o2(n3.key), n3);
          }
        }
        __name(r3, "r");
        function n2(t4, e4, n3) {
          return e4 && r3(t4.prototype, e4), n3 && r3(t4, n3), Object.defineProperty(t4, "prototype", { writable: false }), t4;
        }
        __name(n2, "n");
        function o2(t4) {
          var r4 = function(t5) {
            if ("object" != e3(t5) || !t5)
              return t5;
            var r5 = t5[Symbol.toPrimitive];
            if (void 0 !== r5) {
              var n3 = r5.call(t5, "string");
              if ("object" != e3(n3))
                return n3;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == e3(r4) ? r4 : r4 + "";
        }
        __name(o2, "o");
        t3.exports = n2(/* @__PURE__ */ __name(function t4(e4, r4, n3) {
          !function(t5, e5) {
            if (!(t5 instanceof e5))
              throw new TypeError("Cannot call a class as a function");
          }(this, t4), this.subdocSnapshot = e4, this.activePaths = r4, this.version = n3;
        }, "t"));
      }, 6155: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          for (var r3 = Object.keys(t4), n2 = true, o2 = 0, i2 = r3.length; o2 < i2; ++o2)
            if ("object" === e3(t4[r3[o2]]) && null !== t4[r3[o2]]) {
              n2 = false;
              break;
            }
          return n2;
        };
      }, 6182: (t3) => {
        "use strict";
        function e3(t4, e4) {
          if (null == t4)
            throw new TypeError("Cannot convert first argument to object");
          for (var r3 = Object(t4), n2 = 1; n2 < arguments.length; n2++) {
            var o2 = arguments[n2];
            if (null != o2)
              for (var i2 = Object.keys(Object(o2)), s2 = 0, a2 = i2.length; s2 < a2; s2++) {
                var u2 = i2[s2], c2 = Object.getOwnPropertyDescriptor(o2, u2);
                void 0 !== c2 && c2.enumerable && (r3[u2] = o2[u2]);
              }
          }
          return r3;
        }
        __name(e3, "e");
        t3.exports = { assign: e3, polyfill: function() {
          Object.assign || Object.defineProperty(Object, "assign", { enumerable: false, configurable: true, writable: true, value: e3 });
        } };
      }, 6193: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          return function(t5) {
            if (Array.isArray(t5))
              return t5;
          }(t4) || function(t5, e5) {
            var r4 = [], n3 = true, o3 = false, i3 = void 0;
            try {
              for (var s3, a3 = t5[Symbol.iterator](); !(n3 = (s3 = a3.next()).done) && (r4.push(s3.value), !e5 || r4.length !== e5); n3 = true)
                ;
            } catch (t6) {
              o3 = true, i3 = t6;
            } finally {
              try {
                n3 || null == a3.return || a3.return();
              } finally {
                if (o3)
                  throw i3;
              }
            }
            return r4;
          }(t4, e4) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
          }();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = "function" == typeof Symbol && "symbol" === n2(Symbol.iterator) ? function(t5) {
            return n2(t5);
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : n2(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        var s2 = void 0 !== /a/g.flags, a2 = /* @__PURE__ */ __name(function(t4) {
          var e4 = [];
          return t4.forEach(function(t5) {
            return e4.push(t5);
          }), e4;
        }, "a"), u2 = /* @__PURE__ */ __name(function(t4) {
          var e4 = [];
          return t4.forEach(function(t5, r4) {
            return e4.push([r4, t5]);
          }), e4;
        }, "u"), c2 = Object.is ? Object.is : r3(2064), l2 = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function() {
          return [];
        }, f2 = Number.isNaN ? Number.isNaN : r3(6062);
        function p2(t4) {
          return t4.call.bind(t4);
        }
        __name(p2, "p");
        var h2 = p2(Object.prototype.hasOwnProperty), y2 = p2(Object.prototype.propertyIsEnumerable), d2 = p2(Object.prototype.toString), b2 = r3(7352).types, m2 = b2.isAnyArrayBuffer, v2 = b2.isArrayBufferView, g2 = b2.isDate, _ = b2.isMap, O2 = b2.isRegExp, w2 = b2.isSet, S2 = b2.isNativeError, $ = b2.isBoxedPrimitive, j2 = b2.isNumberObject, P2 = b2.isStringObject, A2 = b2.isBooleanObject, E2 = b2.isBigIntObject, x2 = b2.isSymbolObject, T2 = b2.isFloat32Array, k2 = b2.isFloat64Array;
        function N2(t4) {
          if (0 === t4.length || t4.length > 10)
            return true;
          for (var e4 = 0; e4 < t4.length; e4++) {
            var r4 = t4.charCodeAt(e4);
            if (r4 < 48 || r4 > 57)
              return true;
          }
          return 10 === t4.length && t4 >= Math.pow(2, 32);
        }
        __name(N2, "N");
        function I2(t4) {
          return Object.keys(t4).filter(N2).concat(l2(t4).filter(Object.prototype.propertyIsEnumerable.bind(t4)));
        }
        __name(I2, "I");
        function D2(t4, e4) {
          if (t4 === e4)
            return 0;
          for (var r4 = t4.length, n3 = e4.length, o3 = 0, i3 = Math.min(r4, n3); o3 < i3; ++o3)
            if (t4[o3] !== e4[o3]) {
              r4 = t4[o3], n3 = e4[o3];
              break;
            }
          return r4 < n3 ? -1 : n3 < r4 ? 1 : 0;
        }
        __name(D2, "D");
        function B2(t4, e4, r4, n3) {
          if (t4 === e4)
            return 0 !== t4 || !r4 || c2(t4, e4);
          if (r4) {
            if ("object" !== i2(t4))
              return "number" == typeof t4 && f2(t4) && f2(e4);
            if ("object" !== i2(e4) || null === t4 || null === e4)
              return false;
            if (Object.getPrototypeOf(t4) !== Object.getPrototypeOf(e4))
              return false;
          } else {
            if (null === t4 || "object" !== i2(t4))
              return (null === e4 || "object" !== i2(e4)) && t4 == e4;
            if (null === e4 || "object" !== i2(e4))
              return false;
          }
          var o3, a3, u3, l3, p3 = d2(t4);
          if (p3 !== d2(e4))
            return false;
          if (Array.isArray(t4)) {
            if (t4.length !== e4.length)
              return false;
            var h3 = I2(t4), y3 = I2(e4);
            return h3.length === y3.length && R2(t4, e4, r4, n3, 1, h3);
          }
          if ("[object Object]" === p3 && (!_(t4) && _(e4) || !w2(t4) && w2(e4)))
            return false;
          if (g2(t4)) {
            if (!g2(e4) || Date.prototype.getTime.call(t4) !== Date.prototype.getTime.call(e4))
              return false;
          } else if (O2(t4)) {
            if (!O2(e4) || (u3 = t4, l3 = e4, !(s2 ? u3.source === l3.source && u3.flags === l3.flags : RegExp.prototype.toString.call(u3) === RegExp.prototype.toString.call(l3))))
              return false;
          } else if (S2(t4) || t4 instanceof Error) {
            if (t4.message !== e4.message || t4.name !== e4.name)
              return false;
          } else {
            if (v2(t4)) {
              if (r4 || !T2(t4) && !k2(t4)) {
                if (!function(t5, e5) {
                  return t5.byteLength === e5.byteLength && 0 === D2(new Uint8Array(t5.buffer, t5.byteOffset, t5.byteLength), new Uint8Array(e5.buffer, e5.byteOffset, e5.byteLength));
                }(t4, e4))
                  return false;
              } else if (!function(t5, e5) {
                if (t5.byteLength !== e5.byteLength)
                  return false;
                for (var r5 = 0; r5 < t5.byteLength; r5++)
                  if (t5[r5] !== e5[r5])
                    return false;
                return true;
              }(t4, e4))
                return false;
              var b3 = I2(t4), N3 = I2(e4);
              return b3.length === N3.length && R2(t4, e4, r4, n3, 0, b3);
            }
            if (w2(t4))
              return !(!w2(e4) || t4.size !== e4.size) && R2(t4, e4, r4, n3, 2);
            if (_(t4))
              return !(!_(e4) || t4.size !== e4.size) && R2(t4, e4, r4, n3, 3);
            if (m2(t4)) {
              if (a3 = e4, (o3 = t4).byteLength !== a3.byteLength || 0 !== D2(new Uint8Array(o3), new Uint8Array(a3)))
                return false;
            } else if ($(t4) && !function(t5, e5) {
              return j2(t5) ? j2(e5) && c2(Number.prototype.valueOf.call(t5), Number.prototype.valueOf.call(e5)) : P2(t5) ? P2(e5) && String.prototype.valueOf.call(t5) === String.prototype.valueOf.call(e5) : A2(t5) ? A2(e5) && Boolean.prototype.valueOf.call(t5) === Boolean.prototype.valueOf.call(e5) : E2(t5) ? E2(e5) && BigInt.prototype.valueOf.call(t5) === BigInt.prototype.valueOf.call(e5) : x2(e5) && Symbol.prototype.valueOf.call(t5) === Symbol.prototype.valueOf.call(e5);
            }(t4, e4))
              return false;
          }
          return R2(t4, e4, r4, n3, 0);
        }
        __name(B2, "B");
        function M2(t4, e4) {
          return e4.filter(function(e5) {
            return y2(t4, e5);
          });
        }
        __name(M2, "M");
        function R2(t4, e4, r4, n3, s3, c3) {
          if (5 === arguments.length) {
            c3 = Object.keys(t4);
            var f3 = Object.keys(e4);
            if (c3.length !== f3.length)
              return false;
          }
          for (var p3 = 0; p3 < c3.length; p3++)
            if (!h2(e4, c3[p3]))
              return false;
          if (r4 && 5 === arguments.length) {
            var d3 = l2(t4);
            if (0 !== d3.length) {
              var b3 = 0;
              for (p3 = 0; p3 < d3.length; p3++) {
                var m3 = d3[p3];
                if (y2(t4, m3)) {
                  if (!y2(e4, m3))
                    return false;
                  c3.push(m3), b3++;
                } else if (y2(e4, m3))
                  return false;
              }
              var v3 = l2(e4);
              if (d3.length !== v3.length && M2(e4, v3).length !== b3)
                return false;
            } else {
              var g3 = l2(e4);
              if (0 !== g3.length && 0 !== M2(e4, g3).length)
                return false;
            }
          }
          if (0 === c3.length && (0 === s3 || 1 === s3 && 0 === t4.length || 0 === t4.size))
            return true;
          if (void 0 === n3)
            n3 = { val1: /* @__PURE__ */ new Map(), val2: /* @__PURE__ */ new Map(), position: 0 };
          else {
            var _2 = n3.val1.get(t4);
            if (void 0 !== _2) {
              var O3 = n3.val2.get(e4);
              if (void 0 !== O3)
                return _2 === O3;
            }
            n3.position++;
          }
          n3.val1.set(t4, n3.position), n3.val2.set(e4, n3.position);
          var w3 = function(t5, e5, r5, n4, s4, c4) {
            var l3 = 0;
            if (2 === c4) {
              if (!function(t6, e6, r6, n5) {
                for (var o3 = null, s5 = a2(t6), u3 = 0; u3 < s5.length; u3++) {
                  var c5 = s5[u3];
                  if ("object" === i2(c5) && null !== c5)
                    null === o3 && (o3 = /* @__PURE__ */ new Set()), o3.add(c5);
                  else if (!e6.has(c5)) {
                    if (r6)
                      return false;
                    if (!F2(t6, e6, c5))
                      return false;
                    null === o3 && (o3 = /* @__PURE__ */ new Set()), o3.add(c5);
                  }
                }
                if (null !== o3) {
                  for (var l4 = a2(e6), f5 = 0; f5 < l4.length; f5++) {
                    var p5 = l4[f5];
                    if ("object" === i2(p5) && null !== p5) {
                      if (!U2(o3, p5, r6, n5))
                        return false;
                    } else if (!r6 && !t6.has(p5) && !U2(o3, p5, r6, n5))
                      return false;
                  }
                  return 0 === o3.size;
                }
                return true;
              }(t5, e5, r5, s4))
                return false;
            } else if (3 === c4) {
              if (!function(t6, e6, r6, n5) {
                for (var s5 = null, a3 = u2(t6), c5 = 0; c5 < a3.length; c5++) {
                  var l4 = o2(a3[c5], 2), f5 = l4[0], p5 = l4[1];
                  if ("object" === i2(f5) && null !== f5)
                    null === s5 && (s5 = /* @__PURE__ */ new Set()), s5.add(f5);
                  else {
                    var h3 = e6.get(f5);
                    if (void 0 === h3 && !e6.has(f5) || !B2(p5, h3, r6, n5)) {
                      if (r6)
                        return false;
                      if (!L2(t6, e6, f5, p5, n5))
                        return false;
                      null === s5 && (s5 = /* @__PURE__ */ new Set()), s5.add(f5);
                    }
                  }
                }
                if (null !== s5) {
                  for (var y4 = u2(e6), d4 = 0; d4 < y4.length; d4++) {
                    var b4 = o2(y4[d4], 2), m4 = (f5 = b4[0], b4[1]);
                    if ("object" === i2(f5) && null !== f5) {
                      if (!V2(s5, t6, f5, m4, r6, n5))
                        return false;
                    } else if (!(r6 || t6.has(f5) && B2(t6.get(f5), m4, false, n5) || V2(s5, t6, f5, m4, false, n5)))
                      return false;
                  }
                  return 0 === s5.size;
                }
                return true;
              }(t5, e5, r5, s4))
                return false;
            } else if (1 === c4)
              for (; l3 < t5.length; l3++) {
                if (!h2(t5, l3)) {
                  if (h2(e5, l3))
                    return false;
                  for (var f4 = Object.keys(t5); l3 < f4.length; l3++) {
                    var p4 = f4[l3];
                    if (!h2(e5, p4) || !B2(t5[p4], e5[p4], r5, s4))
                      return false;
                  }
                  return f4.length === Object.keys(e5).length;
                }
                if (!h2(e5, l3) || !B2(t5[l3], e5[l3], r5, s4))
                  return false;
              }
            for (l3 = 0; l3 < n4.length; l3++) {
              var y3 = n4[l3];
              if (!B2(t5[y3], e5[y3], r5, s4))
                return false;
            }
            return true;
          }(t4, e4, r4, c3, n3, s3);
          return n3.val1.delete(t4), n3.val2.delete(e4), w3;
        }
        __name(R2, "R");
        function U2(t4, e4, r4, n3) {
          for (var o3 = a2(t4), i3 = 0; i3 < o3.length; i3++) {
            var s3 = o3[i3];
            if (B2(e4, s3, r4, n3))
              return t4.delete(s3), true;
          }
          return false;
        }
        __name(U2, "U");
        function C2(t4) {
          switch (i2(t4)) {
            case "undefined":
              return null;
            case "object":
              return;
            case "symbol":
              return false;
            case "string":
              t4 = +t4;
            case "number":
              if (f2(t4))
                return false;
          }
          return true;
        }
        __name(C2, "C");
        function F2(t4, e4, r4) {
          var n3 = C2(r4);
          return null != n3 ? n3 : e4.has(n3) && !t4.has(n3);
        }
        __name(F2, "F");
        function L2(t4, e4, r4, n3, o3) {
          var i3 = C2(r4);
          if (null != i3)
            return i3;
          var s3 = e4.get(i3);
          return !(void 0 === s3 && !e4.has(i3) || !B2(n3, s3, false, o3)) && !t4.has(i3) && B2(n3, s3, false, o3);
        }
        __name(L2, "L");
        function V2(t4, e4, r4, n3, o3, i3) {
          for (var s3 = a2(t4), u3 = 0; u3 < s3.length; u3++) {
            var c3 = s3[u3];
            if (B2(r4, c3, o3, i3) && B2(n3, e4.get(c3), o3, i3))
              return t4.delete(c3), true;
          }
          return false;
        }
        __name(V2, "V");
        t3.exports = { isDeepEqual: function(t4, e4) {
          return B2(t4, e4, false);
        }, isDeepStrictEqual: function(t4, e4) {
          return B2(t4, e4, true);
        } };
      }, 6223: (t3) => {
        "use strict";
        var e3 = /\./g;
        t3.exports = function(t4) {
          if (-1 === t4.indexOf("."))
            return [t4];
          for (var r3 = t4.split(e3), n2 = r3.length, o2 = new Array(n2), i2 = "", s2 = 0; s2 < n2; ++s2)
            i2 += 0 !== i2.length ? "." + r3[s2] : r3[s2], o2[s2] = i2;
          return o2;
        };
      }, 6312: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        var r3 = Object.prototype.toString;
        t3.exports = function(t4) {
          var n2 = r3.call(t4), o2 = "[object Arguments]" === n2;
          return o2 || (o2 = "[object Array]" !== n2 && null !== t4 && "object" === e3(t4) && "number" == typeof t4.length && t4.length >= 0 && "[object Function]" === r3.call(t4.callee)), o2;
        };
      }, 6353: (t3, e3, r3) => {
        "use strict";
        r3.r(e3), r3.d(e3, { BSON: () => ze, BSONError: () => q2, BSONOffsetError: () => K2, BSONRegExp: () => Ht, BSONRuntimeError: () => z2, BSONSymbol: () => Wt, BSONType: () => V2, BSONValue: () => nt, BSONVersionError: () => J2, Binary: () => ut, Code: () => ht, DBRef: () => dt, Decimal128: () => Rt, Double: () => Ut, EJSON: () => Ie, Int32: () => Ct, Long: () => $t, MaxKey: () => Ft, MinKey: () => Lt, ObjectId: () => Jt, Timestamp: () => Qt, UUID: () => pt, calculateObjectSize: () => qe, deserialize: () => Ve, deserializeStream: () => Je, onDemand: () => Me, serialize: () => Fe, serializeWithBufferAndIndex: () => Le, setInternalBufferSize: () => Ce });
        var n2 = r3(5832).hp;
        const o2 = (() => {
          const t4 = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype), Symbol.toStringTag).get;
          return (e4) => t4.call(e4);
        })();
        function i2(t4) {
          return "Uint8Array" === o2(t4);
        }
        __name(i2, "i");
        function s2(t4) {
          return "object" == typeof t4 && null != t4 && Symbol.toStringTag in t4 && ("ArrayBuffer" === t4[Symbol.toStringTag] || "SharedArrayBuffer" === t4[Symbol.toStringTag]);
        }
        __name(s2, "s");
        function a2(t4) {
          return t4 instanceof RegExp || "[object RegExp]" === Object.prototype.toString.call(t4);
        }
        __name(a2, "a");
        function u2(t4) {
          return "object" == typeof t4 && null != t4 && Symbol.toStringTag in t4 && "Map" === t4[Symbol.toStringTag];
        }
        __name(u2, "u");
        function c2(t4) {
          return t4 instanceof Date || "[object Date]" === Object.prototype.toString.call(t4);
        }
        __name(c2, "c");
        function l2(t4, e4) {
          return JSON.stringify(t4, (t5, e5) => "bigint" == typeof e5 ? { $numberLong: `${e5}` } : u2(e5) ? Object.fromEntries(e5) : e5);
        }
        __name(l2, "l");
        const f2 = 6, p2 = Symbol.for("@@mdb.bson.version"), h2 = 2147483647, y2 = -2147483648, d2 = Math.pow(2, 63) - 1, b2 = -Math.pow(2, 63), m2 = Math.pow(2, 53), v2 = -Math.pow(2, 53), g2 = 1, _ = 2, O2 = 3, w2 = 4, S2 = 5, $ = 6, j2 = 7, P2 = 8, A2 = 9, E2 = 10, x2 = 11, T2 = 12, k2 = 13, N2 = 14, I2 = 15, D2 = 16, B2 = 17, M2 = 18, R2 = 19, U2 = 255, C2 = 127, F2 = 0, L2 = 4, V2 = Object.freeze({ double: 1, string: 2, object: 3, array: 4, binData: 5, undefined: 6, objectId: 7, bool: 8, date: 9, null: 10, regex: 11, dbPointer: 12, javascript: 13, symbol: 14, javascriptWithScope: 15, int: 16, timestamp: 17, long: 18, decimal: 19, minKey: -1, maxKey: 127 });
        class q2 extends Error {
          get bsonError() {
            return true;
          }
          get name() {
            return "BSONError";
          }
          constructor(t4, e4) {
            super(t4, e4);
          }
          static isBSONError(t4) {
            return null != t4 && "object" == typeof t4 && "bsonError" in t4 && true === t4.bsonError && "name" in t4 && "message" in t4 && "stack" in t4;
          }
        }
        __name(q2, "q");
        class J2 extends q2 {
          get name() {
            return "BSONVersionError";
          }
          constructor() {
            super(`Unsupported BSON version, bson types must be from bson ${f2}.x.x`);
          }
        }
        __name(J2, "J");
        class z2 extends q2 {
          get name() {
            return "BSONRuntimeError";
          }
          constructor(t4) {
            super(t4);
          }
        }
        __name(z2, "z");
        class K2 extends q2 {
          get name() {
            return "BSONOffsetError";
          }
          constructor(t4, e4, r4) {
            super(`${t4}. offset: ${e4}`, r4), this.offset = e4;
          }
        }
        __name(K2, "K");
        let H2, W2;
        function G2(t4, e4, r4, n3) {
          if (n3) {
            H2 ??= new TextDecoder("utf8", { fatal: true });
            try {
              return H2.decode(t4.subarray(e4, r4));
            } catch (t5) {
              throw new q2("Invalid UTF-8 string in BSON document", { cause: t5 });
            }
          }
          return W2 ??= new TextDecoder("utf8", { fatal: false }), W2.decode(t4.subarray(e4, r4));
        }
        __name(G2, "G");
        function Q2(t4, e4, r4) {
          if (0 === t4.length)
            return "";
          const n3 = r4 - e4;
          if (0 === n3)
            return "";
          if (n3 > 20)
            return null;
          if (1 === n3 && t4[e4] < 128)
            return String.fromCharCode(t4[e4]);
          if (2 === n3 && t4[e4] < 128 && t4[e4 + 1] < 128)
            return String.fromCharCode(t4[e4]) + String.fromCharCode(t4[e4 + 1]);
          if (3 === n3 && t4[e4] < 128 && t4[e4 + 1] < 128 && t4[e4 + 2] < 128)
            return String.fromCharCode(t4[e4]) + String.fromCharCode(t4[e4 + 1]) + String.fromCharCode(t4[e4 + 2]);
          const o3 = [];
          for (let n4 = e4; n4 < r4; n4++) {
            const e5 = t4[n4];
            if (e5 > 127)
              return null;
            o3.push(e5);
          }
          return String.fromCharCode(...o3);
        }
        __name(Q2, "Q");
        const Y2 = { toLocalBufferType(t4) {
          if (n2.isBuffer(t4))
            return t4;
          if (ArrayBuffer.isView(t4))
            return n2.from(t4.buffer, t4.byteOffset, t4.byteLength);
          const e4 = t4?.[Symbol.toStringTag] ?? Object.prototype.toString.call(t4);
          if ("ArrayBuffer" === e4 || "SharedArrayBuffer" === e4 || "[object ArrayBuffer]" === e4 || "[object SharedArrayBuffer]" === e4)
            return n2.from(t4);
          throw new q2("Cannot create Buffer from the passed potentialBuffer.");
        }, allocate: (t4) => n2.alloc(t4), allocateUnsafe: (t4) => n2.allocUnsafe(t4), equals: (t4, e4) => Y2.toLocalBufferType(t4).equals(e4), fromNumberArray: (t4) => n2.from(t4), fromBase64: (t4) => n2.from(t4, "base64"), toBase64: (t4) => Y2.toLocalBufferType(t4).toString("base64"), fromISO88591: (t4) => n2.from(t4, "binary"), toISO88591: (t4) => Y2.toLocalBufferType(t4).toString("binary"), fromHex: (t4) => n2.from(t4, "hex"), toHex: (t4) => Y2.toLocalBufferType(t4).toString("hex"), toUTF8(t4, e4, r4, n3) {
          const o3 = r4 - e4 <= 20 ? Q2(t4, e4, r4) : null;
          if (null != o3)
            return o3;
          const i3 = Y2.toLocalBufferType(t4).toString("utf8", e4, r4);
          if (n3) {
            for (let n4 = 0; n4 < i3.length; n4++)
              if (65533 === i3.charCodeAt(n4)) {
                G2(t4, e4, r4, true);
                break;
              }
          }
          return i3;
        }, utf8ByteLength: (t4) => n2.byteLength(t4, "utf8"), encodeUTF8Into(t4, e4, r4) {
          const n3 = function(t5, e5, r5) {
            if (0 === e5.length)
              return 0;
            if (e5.length > 25)
              return null;
            if (t5.length - r5 < e5.length)
              return null;
            for (let n4 = 0, o3 = r5; n4 < e5.length; n4++, o3++) {
              const r6 = e5.charCodeAt(n4);
              if (r6 > 127)
                return null;
              t5[o3] = r6;
            }
            return e5.length;
          }(t4, e4, r4);
          return null != n3 ? n3 : Y2.toLocalBufferType(t4).write(e4, r4, void 0, "utf8");
        }, randomBytes: function(t4) {
          return Y2.fromNumberArray(Array.from({ length: t4 }, () => Math.floor(256 * Math.random())));
        }, swap32: (t4) => Y2.toLocalBufferType(t4).swap32() };
        function Z2(t4) {
          if (t4 < 0)
            throw new RangeError(`The argument 'byteLength' is invalid. Received ${t4}`);
          return et.fromNumberArray(Array.from({ length: t4 }, () => Math.floor(256 * Math.random())));
        }
        __name(Z2, "Z");
        const X2 = (() => {
          const { crypto: t4 } = globalThis;
          if (null != t4 && "function" == typeof t4.getRandomValues)
            return (e4) => t4.getRandomValues(et.allocate(e4));
          if (function() {
            const { navigator: t5 } = globalThis;
            return "object" == typeof t5 && "ReactNative" === t5.product;
          }()) {
            const { console: t5 } = globalThis;
            t5?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.");
          }
          return Z2;
        })(), tt = /(\d|[a-f])/i, et = { toLocalBufferType(t4) {
          const e4 = t4?.[Symbol.toStringTag] ?? Object.prototype.toString.call(t4);
          if ("Uint8Array" === e4)
            return t4;
          if (ArrayBuffer.isView(t4))
            return new Uint8Array(t4.buffer.slice(t4.byteOffset, t4.byteOffset + t4.byteLength));
          if ("ArrayBuffer" === e4 || "SharedArrayBuffer" === e4 || "[object ArrayBuffer]" === e4 || "[object SharedArrayBuffer]" === e4)
            return new Uint8Array(t4);
          throw new q2("Cannot make a Uint8Array from passed potentialBuffer.");
        }, allocate(t4) {
          if ("number" != typeof t4)
            throw new TypeError(`The "size" argument must be of type number. Received ${String(t4)}`);
          return new Uint8Array(t4);
        }, allocateUnsafe: (t4) => et.allocate(t4), equals(t4, e4) {
          if (t4.byteLength !== e4.byteLength)
            return false;
          for (let r4 = 0; r4 < t4.byteLength; r4++)
            if (t4[r4] !== e4[r4])
              return false;
          return true;
        }, fromNumberArray: (t4) => Uint8Array.from(t4), fromBase64: (t4) => Uint8Array.from(atob(t4), (t5) => t5.charCodeAt(0)), toBase64: (t4) => btoa(et.toISO88591(t4)), fromISO88591: (t4) => Uint8Array.from(t4, (t5) => 255 & t5.charCodeAt(0)), toISO88591: (t4) => Array.from(Uint16Array.from(t4), (t5) => String.fromCharCode(t5)).join(""), fromHex(t4) {
          const e4 = t4.length % 2 == 0 ? t4 : t4.slice(0, t4.length - 1), r4 = [];
          for (let t5 = 0; t5 < e4.length; t5 += 2) {
            const n3 = e4[t5], o3 = e4[t5 + 1];
            if (!tt.test(n3))
              break;
            if (!tt.test(o3))
              break;
            const i3 = Number.parseInt(`${n3}${o3}`, 16);
            r4.push(i3);
          }
          return Uint8Array.from(r4);
        }, toHex: (t4) => Array.from(t4, (t5) => t5.toString(16).padStart(2, "0")).join(""), toUTF8(t4, e4, r4, n3) {
          const o3 = r4 - e4 <= 20 ? Q2(t4, e4, r4) : null;
          return null != o3 ? o3 : G2(t4, e4, r4, n3);
        }, utf8ByteLength: (t4) => new TextEncoder().encode(t4).byteLength, encodeUTF8Into(t4, e4, r4) {
          const n3 = new TextEncoder().encode(e4);
          return t4.set(n3, r4), n3.byteLength;
        }, randomBytes: X2, swap32(t4) {
          if (t4.length % 4 != 0)
            throw new RangeError("Buffer size must be a multiple of 32-bits");
          for (let e4 = 0; e4 < t4.length; e4 += 4) {
            const r4 = t4[e4], n3 = t4[e4 + 1], o3 = t4[e4 + 2], i3 = t4[e4 + 3];
            t4[e4] = i3, t4[e4 + 1] = o3, t4[e4 + 2] = n3, t4[e4 + 3] = r4;
          }
          return t4;
        } }, rt = "function" == typeof n2 && true !== n2.prototype?._isBuffer ? Y2 : et;
        class nt {
          get [p2]() {
            return f2;
          }
          [Symbol.for("nodejs.util.inspect.custom")](t4, e4, r4) {
            return this.inspect(t4, e4, r4);
          }
        }
        __name(nt, "nt");
        const ot = new Float64Array(1), it = new Uint8Array(ot.buffer, 0, 8);
        ot[0] = -1;
        const st = 0 === it[7], at2 = { isBigEndian: st, getNonnegativeInt32LE(t4, e4) {
          if (t4[e4 + 3] > 127)
            throw new RangeError(`Size cannot be negative at offset: ${e4}`);
          return t4[e4] | t4[e4 + 1] << 8 | t4[e4 + 2] << 16 | t4[e4 + 3] << 24;
        }, getInt32LE: (t4, e4) => t4[e4] | t4[e4 + 1] << 8 | t4[e4 + 2] << 16 | t4[e4 + 3] << 24, getUint32LE: (t4, e4) => t4[e4] + 256 * t4[e4 + 1] + 65536 * t4[e4 + 2] + 16777216 * t4[e4 + 3], getUint32BE: (t4, e4) => t4[e4 + 3] + 256 * t4[e4 + 2] + 65536 * t4[e4 + 1] + 16777216 * t4[e4], getBigInt64LE(t4, e4) {
          const r4 = BigInt(t4[e4 + 4] + 256 * t4[e4 + 5] + 65536 * t4[e4 + 6] + (t4[e4 + 7] << 24)), n3 = BigInt(t4[e4] + 256 * t4[e4 + 1] + 65536 * t4[e4 + 2] + 16777216 * t4[e4 + 3]);
          return (r4 << BigInt(32)) + n3;
        }, getFloat64LE: st ? (t4, e4) => (it[7] = t4[e4], it[6] = t4[e4 + 1], it[5] = t4[e4 + 2], it[4] = t4[e4 + 3], it[3] = t4[e4 + 4], it[2] = t4[e4 + 5], it[1] = t4[e4 + 6], it[0] = t4[e4 + 7], ot[0]) : (t4, e4) => (it[0] = t4[e4], it[1] = t4[e4 + 1], it[2] = t4[e4 + 2], it[3] = t4[e4 + 3], it[4] = t4[e4 + 4], it[5] = t4[e4 + 5], it[6] = t4[e4 + 6], it[7] = t4[e4 + 7], ot[0]), setInt32BE: (t4, e4, r4) => (t4[e4 + 3] = r4, r4 >>>= 8, t4[e4 + 2] = r4, r4 >>>= 8, t4[e4 + 1] = r4, r4 >>>= 8, t4[e4] = r4, 4), setInt32LE: (t4, e4, r4) => (t4[e4] = r4, r4 >>>= 8, t4[e4 + 1] = r4, r4 >>>= 8, t4[e4 + 2] = r4, r4 >>>= 8, t4[e4 + 3] = r4, 4), setBigInt64LE(t4, e4, r4) {
          const n3 = BigInt(4294967295);
          let o3 = Number(r4 & n3);
          t4[e4] = o3, o3 >>= 8, t4[e4 + 1] = o3, o3 >>= 8, t4[e4 + 2] = o3, o3 >>= 8, t4[e4 + 3] = o3;
          let i3 = Number(r4 >> BigInt(32) & n3);
          return t4[e4 + 4] = i3, i3 >>= 8, t4[e4 + 5] = i3, i3 >>= 8, t4[e4 + 6] = i3, i3 >>= 8, t4[e4 + 7] = i3, 8;
        }, setFloat64LE: st ? (t4, e4, r4) => (ot[0] = r4, t4[e4] = it[7], t4[e4 + 1] = it[6], t4[e4 + 2] = it[5], t4[e4 + 3] = it[4], t4[e4 + 4] = it[3], t4[e4 + 5] = it[2], t4[e4 + 6] = it[1], t4[e4 + 7] = it[0], 8) : (t4, e4, r4) => (ot[0] = r4, t4[e4] = it[0], t4[e4 + 1] = it[1], t4[e4 + 2] = it[2], t4[e4 + 3] = it[3], t4[e4 + 4] = it[4], t4[e4 + 5] = it[5], t4[e4 + 6] = it[6], t4[e4 + 7] = it[7], 8) };
        class ut extends nt {
          get _bsontype() {
            return "Binary";
          }
          constructor(t4, e4) {
            if (super(), null != t4 && "string" == typeof t4 && !ArrayBuffer.isView(t4) && !s2(t4) && !Array.isArray(t4))
              throw new q2("Binary can only be constructed from Uint8Array or number[]");
            this.sub_type = e4 ?? ut.BSON_BINARY_SUBTYPE_DEFAULT, null == t4 ? (this.buffer = rt.allocate(ut.BUFFER_SIZE), this.position = 0) : (this.buffer = Array.isArray(t4) ? rt.fromNumberArray(t4) : rt.toLocalBufferType(t4), this.position = this.buffer.byteLength);
          }
          put(t4) {
            if ("string" == typeof t4 && 1 !== t4.length)
              throw new q2("only accepts single character String");
            if ("number" != typeof t4 && 1 !== t4.length)
              throw new q2("only accepts single character Uint8Array or Array");
            let e4;
            if (e4 = "string" == typeof t4 ? t4.charCodeAt(0) : "number" == typeof t4 ? t4 : t4[0], e4 < 0 || e4 > 255)
              throw new q2("only accepts number in a valid unsigned byte range 0-255");
            if (this.buffer.byteLength > this.position)
              this.buffer[this.position++] = e4;
            else {
              const t5 = rt.allocate(ut.BUFFER_SIZE + this.buffer.length);
              t5.set(this.buffer, 0), this.buffer = t5, this.buffer[this.position++] = e4;
            }
          }
          write(t4, e4) {
            if (e4 = "number" == typeof e4 ? e4 : this.position, this.buffer.byteLength < e4 + t4.length) {
              const e5 = rt.allocate(this.buffer.byteLength + t4.length);
              e5.set(this.buffer, 0), this.buffer = e5;
            }
            if (ArrayBuffer.isView(t4))
              this.buffer.set(rt.toLocalBufferType(t4), e4), this.position = e4 + t4.byteLength > this.position ? e4 + t4.length : this.position;
            else if ("string" == typeof t4)
              throw new q2("input cannot be string");
          }
          read(t4, e4) {
            const r4 = t4 + (e4 = e4 && e4 > 0 ? e4 : this.position);
            return this.buffer.subarray(t4, r4 > this.position ? this.position : r4);
          }
          value() {
            return this.buffer.length === this.position ? this.buffer : this.buffer.subarray(0, this.position);
          }
          length() {
            return this.position;
          }
          toJSON() {
            return rt.toBase64(this.buffer.subarray(0, this.position));
          }
          toString(t4) {
            return "hex" === t4 ? rt.toHex(this.buffer.subarray(0, this.position)) : "base64" === t4 ? rt.toBase64(this.buffer.subarray(0, this.position)) : rt.toUTF8(this.buffer, 0, this.position, false);
          }
          toExtendedJSON(t4) {
            t4 = t4 || {}, this.sub_type === ut.SUBTYPE_VECTOR && ct2(this);
            const e4 = rt.toBase64(this.buffer), r4 = Number(this.sub_type).toString(16);
            return t4.legacy ? { $binary: e4, $type: 1 === r4.length ? "0" + r4 : r4 } : { $binary: { base64: e4, subType: 1 === r4.length ? "0" + r4 : r4 } };
          }
          toUUID() {
            if (this.sub_type === ut.SUBTYPE_UUID)
              return new pt(this.buffer.subarray(0, this.position));
            throw new q2(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${ut.SUBTYPE_UUID}" is currently supported.`);
          }
          static createFromHexString(t4, e4) {
            return new ut(rt.fromHex(t4), e4);
          }
          static createFromBase64(t4, e4) {
            return new ut(rt.fromBase64(t4), e4);
          }
          static fromExtendedJSON(t4, e4) {
            let r4, n3;
            if (e4 = e4 || {}, "$binary" in t4 ? e4.legacy && "string" == typeof t4.$binary && "$type" in t4 ? (n3 = t4.$type ? parseInt(t4.$type, 16) : 0, r4 = rt.fromBase64(t4.$binary)) : "string" != typeof t4.$binary && (n3 = t4.$binary.subType ? parseInt(t4.$binary.subType, 16) : 0, r4 = rt.fromBase64(t4.$binary.base64)) : "$uuid" in t4 && (n3 = 4, r4 = pt.bytesFromString(t4.$uuid)), !r4)
              throw new q2(`Unexpected Binary Extended JSON format ${JSON.stringify(t4)}`);
            return n3 === L2 ? new pt(r4) : new ut(r4, n3);
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `Binary.createFromBase64(${r4(rt.toBase64(this.buffer.subarray(0, this.position)), e4)}, ${r4(this.sub_type, e4)})`;
          }
          toInt8Array() {
            if (this.sub_type !== ut.SUBTYPE_VECTOR)
              throw new q2("Binary sub_type is not Vector");
            if (this.buffer[0] !== ut.VECTOR_TYPE.Int8)
              throw new q2("Binary datatype field is not Int8");
            return ct2(this), new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset + 2, this.buffer.byteOffset + this.position));
          }
          toFloat32Array() {
            if (this.sub_type !== ut.SUBTYPE_VECTOR)
              throw new q2("Binary sub_type is not Vector");
            if (this.buffer[0] !== ut.VECTOR_TYPE.Float32)
              throw new q2("Binary datatype field is not Float32");
            ct2(this);
            const t4 = new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset + 2, this.buffer.byteOffset + this.position));
            return at2.isBigEndian && rt.swap32(t4), new Float32Array(t4.buffer);
          }
          toPackedBits() {
            if (this.sub_type !== ut.SUBTYPE_VECTOR)
              throw new q2("Binary sub_type is not Vector");
            if (this.buffer[0] !== ut.VECTOR_TYPE.PackedBit)
              throw new q2("Binary datatype field is not packed bit");
            return ct2(this), new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset + 2, this.buffer.byteOffset + this.position));
          }
          toBits() {
            if (this.sub_type !== ut.SUBTYPE_VECTOR)
              throw new q2("Binary sub_type is not Vector");
            if (this.buffer[0] !== ut.VECTOR_TYPE.PackedBit)
              throw new q2("Binary datatype field is not packed bit");
            ct2(this);
            const t4 = 8 * (this.length() - 2) - this.buffer[1], e4 = new Int8Array(t4);
            for (let t5 = 0; t5 < e4.length; t5++) {
              const r4 = t5 / 8 | 0, n3 = this.buffer[r4 + 2] >> 7 - t5 % 8 & 1;
              e4[t5] = n3;
            }
            return e4;
          }
          static fromInt8Array(t4) {
            const e4 = rt.allocate(t4.byteLength + 2);
            e4[0] = ut.VECTOR_TYPE.Int8, e4[1] = 0;
            const r4 = new Uint8Array(t4.buffer, t4.byteOffset, t4.byteLength);
            e4.set(r4, 2);
            const n3 = new this(e4, this.SUBTYPE_VECTOR);
            return ct2(n3), n3;
          }
          static fromFloat32Array(t4) {
            const e4 = rt.allocate(t4.byteLength + 2);
            e4[0] = ut.VECTOR_TYPE.Float32, e4[1] = 0;
            const r4 = new Uint8Array(t4.buffer, t4.byteOffset, t4.byteLength);
            e4.set(r4, 2), at2.isBigEndian && rt.swap32(new Uint8Array(e4.buffer, 2));
            const n3 = new this(e4, this.SUBTYPE_VECTOR);
            return ct2(n3), n3;
          }
          static fromPackedBits(t4, e4 = 0) {
            const r4 = rt.allocate(t4.byteLength + 2);
            r4[0] = ut.VECTOR_TYPE.PackedBit, r4[1] = e4, r4.set(t4, 2);
            const n3 = new this(r4, this.SUBTYPE_VECTOR);
            return ct2(n3), n3;
          }
          static fromBits(t4) {
            const e4 = t4.length + 7 >>> 3, r4 = new Uint8Array(e4 + 2);
            r4[0] = ut.VECTOR_TYPE.PackedBit;
            const n3 = t4.length % 8;
            r4[1] = 0 === n3 ? 0 : 8 - n3;
            for (let e5 = 0; e5 < t4.length; e5++) {
              const n4 = e5 >>> 3, o3 = t4[e5];
              if (0 !== o3 && 1 !== o3)
                throw new q2(`Invalid bit value at ${e5}: must be 0 or 1, found ${t4[e5]}`);
              if (0 === o3)
                continue;
              const i3 = 7 - e5 % 8;
              r4[n4 + 2] |= o3 << i3;
            }
            return new this(r4, ut.SUBTYPE_VECTOR);
          }
        }
        __name(ut, "ut");
        function ct2(t4) {
          if (t4.sub_type !== ut.SUBTYPE_VECTOR)
            return;
          const e4 = t4.position, r4 = t4.buffer[0], n3 = t4.buffer[1];
          if ((r4 === ut.VECTOR_TYPE.Float32 || r4 === ut.VECTOR_TYPE.Int8) && 0 !== n3)
            throw new q2("Invalid Vector: padding must be zero for int8 and float32 vectors");
          if (r4 === ut.VECTOR_TYPE.Float32 && 0 !== e4 && e4 - 2 != 0 && (e4 - 2) % 4 != 0)
            throw new q2("Invalid Vector: Float32 vector must contain a multiple of 4 bytes");
          if (r4 === ut.VECTOR_TYPE.PackedBit && 0 !== n3 && 2 === e4)
            throw new q2("Invalid Vector: padding must be zero for packed bit vectors that are empty");
          if (r4 === ut.VECTOR_TYPE.PackedBit && n3 > 7)
            throw new q2(`Invalid Vector: padding must be a value between 0 and 7. found: ${n3}`);
        }
        __name(ct2, "ct");
        ut.BSON_BINARY_SUBTYPE_DEFAULT = 0, ut.BUFFER_SIZE = 256, ut.SUBTYPE_DEFAULT = 0, ut.SUBTYPE_FUNCTION = 1, ut.SUBTYPE_BYTE_ARRAY = 2, ut.SUBTYPE_UUID_OLD = 3, ut.SUBTYPE_UUID = 4, ut.SUBTYPE_MD5 = 5, ut.SUBTYPE_ENCRYPTED = 6, ut.SUBTYPE_COLUMN = 7, ut.SUBTYPE_SENSITIVE = 8, ut.SUBTYPE_VECTOR = 9, ut.SUBTYPE_USER_DEFINED = 128, ut.VECTOR_TYPE = Object.freeze({ Int8: 3, Float32: 39, PackedBit: 16 });
        const lt = /^[0-9A-F]{32}$/i, ft = /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;
        class pt extends ut {
          constructor(t4) {
            let e4;
            if (null == t4)
              e4 = pt.generate();
            else if (t4 instanceof pt)
              e4 = rt.toLocalBufferType(new Uint8Array(t4.buffer));
            else if (ArrayBuffer.isView(t4) && 16 === t4.byteLength)
              e4 = rt.toLocalBufferType(t4);
            else {
              if ("string" != typeof t4)
                throw new q2("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");
              e4 = pt.bytesFromString(t4);
            }
            super(e4, L2);
          }
          get id() {
            return this.buffer;
          }
          set id(t4) {
            this.buffer = t4;
          }
          toHexString(t4 = true) {
            return t4 ? [rt.toHex(this.buffer.subarray(0, 4)), rt.toHex(this.buffer.subarray(4, 6)), rt.toHex(this.buffer.subarray(6, 8)), rt.toHex(this.buffer.subarray(8, 10)), rt.toHex(this.buffer.subarray(10, 16))].join("-") : rt.toHex(this.buffer);
          }
          toString(t4) {
            return "hex" === t4 ? rt.toHex(this.id) : "base64" === t4 ? rt.toBase64(this.id) : this.toHexString();
          }
          toJSON() {
            return this.toHexString();
          }
          equals(t4) {
            if (!t4)
              return false;
            if (t4 instanceof pt)
              return rt.equals(t4.id, this.id);
            try {
              return rt.equals(new pt(t4).id, this.id);
            } catch {
              return false;
            }
          }
          toBinary() {
            return new ut(this.id, ut.SUBTYPE_UUID);
          }
          static generate() {
            const t4 = rt.randomBytes(16);
            return t4[6] = 15 & t4[6] | 64, t4[8] = 63 & t4[8] | 128, t4;
          }
          static isValid(t4) {
            return !!t4 && ("string" == typeof t4 ? pt.isValidUUIDString(t4) : i2(t4) ? 16 === t4.byteLength : "Binary" === t4._bsontype && t4.sub_type === this.SUBTYPE_UUID && 16 === t4.buffer.byteLength);
          }
          static createFromHexString(t4) {
            const e4 = pt.bytesFromString(t4);
            return new pt(e4);
          }
          static createFromBase64(t4) {
            return new pt(rt.fromBase64(t4));
          }
          static bytesFromString(t4) {
            if (!pt.isValidUUIDString(t4))
              throw new q2("UUID string representation must be 32 hex digits or canonical hyphenated representation");
            return rt.fromHex(t4.replace(/-/g, ""));
          }
          static isValidUUIDString(t4) {
            return lt.test(t4) || ft.test(t4);
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new UUID(${r4(this.toHexString(), e4)})`;
          }
        }
        __name(pt, "pt");
        class ht extends nt {
          get _bsontype() {
            return "Code";
          }
          constructor(t4, e4) {
            super(), this.code = t4.toString(), this.scope = e4 ?? null;
          }
          toJSON() {
            return null != this.scope ? { code: this.code, scope: this.scope } : { code: this.code };
          }
          toExtendedJSON() {
            return this.scope ? { $code: this.code, $scope: this.scope } : { $code: this.code };
          }
          static fromExtendedJSON(t4) {
            return new ht(t4.$code, t4.$scope);
          }
          inspect(t4, e4, r4) {
            r4 ??= l2;
            let n3 = r4(this.code, e4);
            const o3 = n3.includes("\n");
            return null != this.scope && (n3 += `,${o3 ? "\n" : " "}${r4(this.scope, e4)}`), `new Code(${o3 ? "\n" : ""}${n3}${o3 && null === this.scope ? "\n" : ""})`;
          }
        }
        __name(ht, "ht");
        function yt(t4) {
          return null != t4 && "object" == typeof t4 && "$id" in t4 && null != t4.$id && "$ref" in t4 && "string" == typeof t4.$ref && (!("$db" in t4) || "$db" in t4 && "string" == typeof t4.$db);
        }
        __name(yt, "yt");
        class dt extends nt {
          get _bsontype() {
            return "DBRef";
          }
          constructor(t4, e4, r4, n3) {
            super();
            const o3 = t4.split(".");
            2 === o3.length && (r4 = o3.shift(), t4 = o3.shift()), this.collection = t4, this.oid = e4, this.db = r4, this.fields = n3 || {};
          }
          get namespace() {
            return this.collection;
          }
          set namespace(t4) {
            this.collection = t4;
          }
          toJSON() {
            const t4 = Object.assign({ $ref: this.collection, $id: this.oid }, this.fields);
            return null != this.db && (t4.$db = this.db), t4;
          }
          toExtendedJSON(t4) {
            t4 = t4 || {};
            let e4 = { $ref: this.collection, $id: this.oid };
            return t4.legacy || (this.db && (e4.$db = this.db), e4 = Object.assign(e4, this.fields)), e4;
          }
          static fromExtendedJSON(t4) {
            const e4 = Object.assign({}, t4);
            return delete e4.$ref, delete e4.$id, delete e4.$db, new dt(t4.$ref, t4.$id, t4.$db, e4);
          }
          inspect(t4, e4, r4) {
            r4 ??= l2;
            const n3 = [r4(this.namespace, e4), r4(this.oid, e4), ...this.db ? [r4(this.db, e4)] : [], ...Object.keys(this.fields).length > 0 ? [r4(this.fields, e4)] : []];
            return n3[1] = r4 === l2 ? `new ObjectId(${n3[1]})` : n3[1], `new DBRef(${n3.join(", ")})`;
          }
        }
        __name(dt, "dt");
        function bt2(t4) {
          if ("" === t4)
            return t4;
          let e4 = 0;
          const r4 = "-" === t4[e4], n3 = "+" === t4[e4];
          (n3 || r4) && (e4 += 1);
          let o3 = false;
          for (; e4 < t4.length && "0" === t4[e4]; ++e4)
            o3 = true;
          return o3 ? `${r4 ? "-" : ""}${t4.length === e4 ? "0" : t4.slice(e4)}` : n3 ? t4.slice(1) : t4;
        }
        __name(bt2, "bt");
        let mt;
        try {
          mt = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11])), {}).exports;
        } catch {
        }
        const vt = 4294967296, gt = 18446744073709552e3, _t = gt / 2, Ot = {}, wt = {}, St = /^(\+?0|(\+|-)?[1-9][0-9]*)$/;
        class $t extends nt {
          get _bsontype() {
            return "Long";
          }
          get __isLong__() {
            return true;
          }
          constructor(t4 = 0, e4, r4) {
            super();
            const n3 = "boolean" == typeof e4 ? e4 : Boolean(r4), o3 = "number" == typeof e4 ? e4 : 0, i3 = "string" == typeof t4 ? $t.fromString(t4, n3) : "bigint" == typeof t4 ? $t.fromBigInt(t4, n3) : { low: 0 | t4, high: 0 | o3, unsigned: n3 };
            this.low = i3.low, this.high = i3.high, this.unsigned = i3.unsigned;
          }
          static fromBits(t4, e4, r4) {
            return new $t(t4, e4, r4);
          }
          static fromInt(t4, e4) {
            let r4, n3, o3;
            return e4 ? (o3 = 0 <= (t4 >>>= 0) && t4 < 256) && (n3 = wt[t4], n3) ? n3 : (r4 = $t.fromBits(t4, (0 | t4) < 0 ? -1 : 0, true), o3 && (wt[t4] = r4), r4) : (o3 = -128 <= (t4 |= 0) && t4 < 128) && (n3 = Ot[t4], n3) ? n3 : (r4 = $t.fromBits(t4, t4 < 0 ? -1 : 0, false), o3 && (Ot[t4] = r4), r4);
          }
          static fromNumber(t4, e4) {
            if (isNaN(t4))
              return e4 ? $t.UZERO : $t.ZERO;
            if (e4) {
              if (t4 < 0)
                return $t.UZERO;
              if (t4 >= gt)
                return $t.MAX_UNSIGNED_VALUE;
            } else {
              if (t4 <= -9223372036854776e3)
                return $t.MIN_VALUE;
              if (t4 + 1 >= _t)
                return $t.MAX_VALUE;
            }
            return t4 < 0 ? $t.fromNumber(-t4, e4).neg() : $t.fromBits(t4 % vt | 0, t4 / vt | 0, e4);
          }
          static fromBigInt(t4, e4) {
            const r4 = BigInt(4294967295), n3 = BigInt(32);
            return new $t(Number(t4 & r4), Number(t4 >> n3 & r4), e4);
          }
          static _fromString(t4, e4, r4) {
            if (0 === t4.length)
              throw new q2("empty string");
            if (r4 < 2 || 36 < r4)
              throw new q2("radix");
            let n3;
            if ((n3 = t4.indexOf("-")) > 0)
              throw new q2("interior hyphen");
            if (0 === n3)
              return $t._fromString(t4.substring(1), e4, r4).neg();
            const o3 = $t.fromNumber(Math.pow(r4, 8));
            let i3 = $t.ZERO;
            for (let e5 = 0; e5 < t4.length; e5 += 8) {
              const n4 = Math.min(8, t4.length - e5), s3 = parseInt(t4.substring(e5, e5 + n4), r4);
              if (n4 < 8) {
                const t5 = $t.fromNumber(Math.pow(r4, n4));
                i3 = i3.mul(t5).add($t.fromNumber(s3));
              } else
                i3 = i3.mul(o3), i3 = i3.add($t.fromNumber(s3));
            }
            return i3.unsigned = e4, i3;
          }
          static fromStringStrict(t4, e4, r4) {
            let n3 = false;
            if ("number" == typeof e4 ? (r4 = e4, e4 = false) : n3 = !!e4, r4 ??= 10, t4.trim() !== t4)
              throw new q2(`Input: '${t4}' contains leading and/or trailing whitespace`);
            if (!function(t5, e5) {
              const r5 = "0123456789abcdefghijklmnopqrstuvwxyz".slice(0, e5 = e5 ?? 10);
              return !new RegExp(`[^-+${r5}]`, "i").test(t5) && t5;
            }(t4, r4))
              throw new q2(`Input: '${t4}' contains invalid characters for radix: ${r4}`);
            const o3 = bt2(t4), i3 = $t._fromString(o3, n3, r4);
            if (i3.toString(r4).toLowerCase() !== o3.toLowerCase())
              throw new q2(`Input: ${t4} is not representable as ${i3.unsigned ? "an unsigned" : "a signed"} 64-bit Long ${null != r4 ? `with radix: ${r4}` : ""}`);
            return i3;
          }
          static fromString(t4, e4, r4) {
            let n3 = false;
            return "number" == typeof e4 ? (r4 = e4, e4 = false) : n3 = !!e4, r4 ??= 10, "NaN" === t4 && r4 < 24 || ("Infinity" === t4 || "+Infinity" === t4 || "-Infinity" === t4) && r4 < 35 ? $t.ZERO : $t._fromString(t4, n3, r4);
          }
          static fromBytes(t4, e4, r4) {
            return r4 ? $t.fromBytesLE(t4, e4) : $t.fromBytesBE(t4, e4);
          }
          static fromBytesLE(t4, e4) {
            return new $t(t4[0] | t4[1] << 8 | t4[2] << 16 | t4[3] << 24, t4[4] | t4[5] << 8 | t4[6] << 16 | t4[7] << 24, e4);
          }
          static fromBytesBE(t4, e4) {
            return new $t(t4[4] << 24 | t4[5] << 16 | t4[6] << 8 | t4[7], t4[0] << 24 | t4[1] << 16 | t4[2] << 8 | t4[3], e4);
          }
          static isLong(t4) {
            return null != t4 && "object" == typeof t4 && "__isLong__" in t4 && true === t4.__isLong__;
          }
          static fromValue(t4, e4) {
            return "number" == typeof t4 ? $t.fromNumber(t4, e4) : "string" == typeof t4 ? $t.fromString(t4, e4) : $t.fromBits(t4.low, t4.high, "boolean" == typeof e4 ? e4 : t4.unsigned);
          }
          add(t4) {
            $t.isLong(t4) || (t4 = $t.fromValue(t4));
            const e4 = this.high >>> 16, r4 = 65535 & this.high, n3 = this.low >>> 16, o3 = 65535 & this.low, i3 = t4.high >>> 16, s3 = 65535 & t4.high, a3 = t4.low >>> 16;
            let u3 = 0, c3 = 0, l3 = 0, f3 = 0;
            return f3 += o3 + (65535 & t4.low), l3 += f3 >>> 16, f3 &= 65535, l3 += n3 + a3, c3 += l3 >>> 16, l3 &= 65535, c3 += r4 + s3, u3 += c3 >>> 16, c3 &= 65535, u3 += e4 + i3, u3 &= 65535, $t.fromBits(l3 << 16 | f3, u3 << 16 | c3, this.unsigned);
          }
          and(t4) {
            return $t.isLong(t4) || (t4 = $t.fromValue(t4)), $t.fromBits(this.low & t4.low, this.high & t4.high, this.unsigned);
          }
          compare(t4) {
            if ($t.isLong(t4) || (t4 = $t.fromValue(t4)), this.eq(t4))
              return 0;
            const e4 = this.isNegative(), r4 = t4.isNegative();
            return e4 && !r4 ? -1 : !e4 && r4 ? 1 : this.unsigned ? t4.high >>> 0 > this.high >>> 0 || t4.high === this.high && t4.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(t4).isNegative() ? -1 : 1;
          }
          comp(t4) {
            return this.compare(t4);
          }
          divide(t4) {
            if ($t.isLong(t4) || (t4 = $t.fromValue(t4)), t4.isZero())
              throw new q2("division by zero");
            if (mt) {
              if (!this.unsigned && -2147483648 === this.high && -1 === t4.low && -1 === t4.high)
                return this;
              const e5 = (this.unsigned ? mt.div_u : mt.div_s)(this.low, this.high, t4.low, t4.high);
              return $t.fromBits(e5, mt.get_high(), this.unsigned);
            }
            if (this.isZero())
              return this.unsigned ? $t.UZERO : $t.ZERO;
            let e4, r4, n3;
            if (this.unsigned) {
              if (t4.unsigned || (t4 = t4.toUnsigned()), t4.gt(this))
                return $t.UZERO;
              if (t4.gt(this.shru(1)))
                return $t.UONE;
              n3 = $t.UZERO;
            } else {
              if (this.eq($t.MIN_VALUE))
                return t4.eq($t.ONE) || t4.eq($t.NEG_ONE) ? $t.MIN_VALUE : t4.eq($t.MIN_VALUE) ? $t.ONE : (e4 = this.shr(1).div(t4).shl(1), e4.eq($t.ZERO) ? t4.isNegative() ? $t.ONE : $t.NEG_ONE : (r4 = this.sub(t4.mul(e4)), n3 = e4.add(r4.div(t4)), n3));
              if (t4.eq($t.MIN_VALUE))
                return this.unsigned ? $t.UZERO : $t.ZERO;
              if (this.isNegative())
                return t4.isNegative() ? this.neg().div(t4.neg()) : this.neg().div(t4).neg();
              if (t4.isNegative())
                return this.div(t4.neg()).neg();
              n3 = $t.ZERO;
            }
            for (r4 = this; r4.gte(t4); ) {
              e4 = Math.max(1, Math.floor(r4.toNumber() / t4.toNumber()));
              const o3 = Math.ceil(Math.log(e4) / Math.LN2), i3 = o3 <= 48 ? 1 : Math.pow(2, o3 - 48);
              let s3 = $t.fromNumber(e4), a3 = s3.mul(t4);
              for (; a3.isNegative() || a3.gt(r4); )
                e4 -= i3, s3 = $t.fromNumber(e4, this.unsigned), a3 = s3.mul(t4);
              s3.isZero() && (s3 = $t.ONE), n3 = n3.add(s3), r4 = r4.sub(a3);
            }
            return n3;
          }
          div(t4) {
            return this.divide(t4);
          }
          equals(t4) {
            return $t.isLong(t4) || (t4 = $t.fromValue(t4)), (this.unsigned === t4.unsigned || this.high >>> 31 != 1 || t4.high >>> 31 != 1) && this.high === t4.high && this.low === t4.low;
          }
          eq(t4) {
            return this.equals(t4);
          }
          getHighBits() {
            return this.high;
          }
          getHighBitsUnsigned() {
            return this.high >>> 0;
          }
          getLowBits() {
            return this.low;
          }
          getLowBitsUnsigned() {
            return this.low >>> 0;
          }
          getNumBitsAbs() {
            if (this.isNegative())
              return this.eq($t.MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();
            const t4 = 0 !== this.high ? this.high : this.low;
            let e4;
            for (e4 = 31; e4 > 0 && !(t4 & 1 << e4); e4--)
              ;
            return 0 !== this.high ? e4 + 33 : e4 + 1;
          }
          greaterThan(t4) {
            return this.comp(t4) > 0;
          }
          gt(t4) {
            return this.greaterThan(t4);
          }
          greaterThanOrEqual(t4) {
            return this.comp(t4) >= 0;
          }
          gte(t4) {
            return this.greaterThanOrEqual(t4);
          }
          ge(t4) {
            return this.greaterThanOrEqual(t4);
          }
          isEven() {
            return !(1 & this.low);
          }
          isNegative() {
            return !this.unsigned && this.high < 0;
          }
          isOdd() {
            return !(1 & ~this.low);
          }
          isPositive() {
            return this.unsigned || this.high >= 0;
          }
          isZero() {
            return 0 === this.high && 0 === this.low;
          }
          lessThan(t4) {
            return this.comp(t4) < 0;
          }
          lt(t4) {
            return this.lessThan(t4);
          }
          lessThanOrEqual(t4) {
            return this.comp(t4) <= 0;
          }
          lte(t4) {
            return this.lessThanOrEqual(t4);
          }
          modulo(t4) {
            if ($t.isLong(t4) || (t4 = $t.fromValue(t4)), mt) {
              const e4 = (this.unsigned ? mt.rem_u : mt.rem_s)(this.low, this.high, t4.low, t4.high);
              return $t.fromBits(e4, mt.get_high(), this.unsigned);
            }
            return this.sub(this.div(t4).mul(t4));
          }
          mod(t4) {
            return this.modulo(t4);
          }
          rem(t4) {
            return this.modulo(t4);
          }
          multiply(t4) {
            if (this.isZero())
              return $t.ZERO;
            if ($t.isLong(t4) || (t4 = $t.fromValue(t4)), mt) {
              const e5 = mt.mul(this.low, this.high, t4.low, t4.high);
              return $t.fromBits(e5, mt.get_high(), this.unsigned);
            }
            if (t4.isZero())
              return $t.ZERO;
            if (this.eq($t.MIN_VALUE))
              return t4.isOdd() ? $t.MIN_VALUE : $t.ZERO;
            if (t4.eq($t.MIN_VALUE))
              return this.isOdd() ? $t.MIN_VALUE : $t.ZERO;
            if (this.isNegative())
              return t4.isNegative() ? this.neg().mul(t4.neg()) : this.neg().mul(t4).neg();
            if (t4.isNegative())
              return this.mul(t4.neg()).neg();
            if (this.lt($t.TWO_PWR_24) && t4.lt($t.TWO_PWR_24))
              return $t.fromNumber(this.toNumber() * t4.toNumber(), this.unsigned);
            const e4 = this.high >>> 16, r4 = 65535 & this.high, n3 = this.low >>> 16, o3 = 65535 & this.low, i3 = t4.high >>> 16, s3 = 65535 & t4.high, a3 = t4.low >>> 16, u3 = 65535 & t4.low;
            let c3 = 0, l3 = 0, f3 = 0, p3 = 0;
            return p3 += o3 * u3, f3 += p3 >>> 16, p3 &= 65535, f3 += n3 * u3, l3 += f3 >>> 16, f3 &= 65535, f3 += o3 * a3, l3 += f3 >>> 16, f3 &= 65535, l3 += r4 * u3, c3 += l3 >>> 16, l3 &= 65535, l3 += n3 * a3, c3 += l3 >>> 16, l3 &= 65535, l3 += o3 * s3, c3 += l3 >>> 16, l3 &= 65535, c3 += e4 * u3 + r4 * a3 + n3 * s3 + o3 * i3, c3 &= 65535, $t.fromBits(f3 << 16 | p3, c3 << 16 | l3, this.unsigned);
          }
          mul(t4) {
            return this.multiply(t4);
          }
          negate() {
            return !this.unsigned && this.eq($t.MIN_VALUE) ? $t.MIN_VALUE : this.not().add($t.ONE);
          }
          neg() {
            return this.negate();
          }
          not() {
            return $t.fromBits(~this.low, ~this.high, this.unsigned);
          }
          notEquals(t4) {
            return !this.equals(t4);
          }
          neq(t4) {
            return this.notEquals(t4);
          }
          ne(t4) {
            return this.notEquals(t4);
          }
          or(t4) {
            return $t.isLong(t4) || (t4 = $t.fromValue(t4)), $t.fromBits(this.low | t4.low, this.high | t4.high, this.unsigned);
          }
          shiftLeft(t4) {
            return $t.isLong(t4) && (t4 = t4.toInt()), 0 == (t4 &= 63) ? this : t4 < 32 ? $t.fromBits(this.low << t4, this.high << t4 | this.low >>> 32 - t4, this.unsigned) : $t.fromBits(0, this.low << t4 - 32, this.unsigned);
          }
          shl(t4) {
            return this.shiftLeft(t4);
          }
          shiftRight(t4) {
            return $t.isLong(t4) && (t4 = t4.toInt()), 0 == (t4 &= 63) ? this : t4 < 32 ? $t.fromBits(this.low >>> t4 | this.high << 32 - t4, this.high >> t4, this.unsigned) : $t.fromBits(this.high >> t4 - 32, this.high >= 0 ? 0 : -1, this.unsigned);
          }
          shr(t4) {
            return this.shiftRight(t4);
          }
          shiftRightUnsigned(t4) {
            if ($t.isLong(t4) && (t4 = t4.toInt()), 0 == (t4 &= 63))
              return this;
            {
              const e4 = this.high;
              if (t4 < 32) {
                const r4 = this.low;
                return $t.fromBits(r4 >>> t4 | e4 << 32 - t4, e4 >>> t4, this.unsigned);
              }
              return 32 === t4 ? $t.fromBits(e4, 0, this.unsigned) : $t.fromBits(e4 >>> t4 - 32, 0, this.unsigned);
            }
          }
          shr_u(t4) {
            return this.shiftRightUnsigned(t4);
          }
          shru(t4) {
            return this.shiftRightUnsigned(t4);
          }
          subtract(t4) {
            return $t.isLong(t4) || (t4 = $t.fromValue(t4)), this.add(t4.neg());
          }
          sub(t4) {
            return this.subtract(t4);
          }
          toInt() {
            return this.unsigned ? this.low >>> 0 : this.low;
          }
          toNumber() {
            return this.unsigned ? (this.high >>> 0) * vt + (this.low >>> 0) : this.high * vt + (this.low >>> 0);
          }
          toBigInt() {
            return BigInt(this.toString());
          }
          toBytes(t4) {
            return t4 ? this.toBytesLE() : this.toBytesBE();
          }
          toBytesLE() {
            const t4 = this.high, e4 = this.low;
            return [255 & e4, e4 >>> 8 & 255, e4 >>> 16 & 255, e4 >>> 24, 255 & t4, t4 >>> 8 & 255, t4 >>> 16 & 255, t4 >>> 24];
          }
          toBytesBE() {
            const t4 = this.high, e4 = this.low;
            return [t4 >>> 24, t4 >>> 16 & 255, t4 >>> 8 & 255, 255 & t4, e4 >>> 24, e4 >>> 16 & 255, e4 >>> 8 & 255, 255 & e4];
          }
          toSigned() {
            return this.unsigned ? $t.fromBits(this.low, this.high, false) : this;
          }
          toString(t4) {
            if ((t4 = t4 || 10) < 2 || 36 < t4)
              throw new q2("radix");
            if (this.isZero())
              return "0";
            if (this.isNegative()) {
              if (this.eq($t.MIN_VALUE)) {
                const e5 = $t.fromNumber(t4), r5 = this.div(e5), n4 = r5.mul(e5).sub(this);
                return r5.toString(t4) + n4.toInt().toString(t4);
              }
              return "-" + this.neg().toString(t4);
            }
            const e4 = $t.fromNumber(Math.pow(t4, 6), this.unsigned);
            let r4 = this, n3 = "";
            for (; ; ) {
              const o3 = r4.div(e4);
              let i3 = (r4.sub(o3.mul(e4)).toInt() >>> 0).toString(t4);
              if (r4 = o3, r4.isZero())
                return i3 + n3;
              for (; i3.length < 6; )
                i3 = "0" + i3;
              n3 = "" + i3 + n3;
            }
          }
          toUnsigned() {
            return this.unsigned ? this : $t.fromBits(this.low, this.high, true);
          }
          xor(t4) {
            return $t.isLong(t4) || (t4 = $t.fromValue(t4)), $t.fromBits(this.low ^ t4.low, this.high ^ t4.high, this.unsigned);
          }
          eqz() {
            return this.isZero();
          }
          le(t4) {
            return this.lessThanOrEqual(t4);
          }
          toExtendedJSON(t4) {
            return t4 && t4.relaxed ? this.toNumber() : { $numberLong: this.toString() };
          }
          static fromExtendedJSON(t4, e4) {
            const { useBigInt64: r4 = false, relaxed: n3 = true } = { ...e4 };
            if (t4.$numberLong.length > 20)
              throw new q2("$numberLong string is too long");
            if (!St.test(t4.$numberLong))
              throw new q2(`$numberLong string "${t4.$numberLong}" is in an invalid format`);
            if (r4) {
              const e5 = BigInt(t4.$numberLong);
              return BigInt.asIntN(64, e5);
            }
            const o3 = $t.fromString(t4.$numberLong);
            return n3 ? o3.toNumber() : o3;
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new Long(${r4(this.toString(), e4)}${this.unsigned ? `, ${r4(this.unsigned, e4)}` : ""})`;
          }
        }
        __name($t, "$t");
        $t.TWO_PWR_24 = $t.fromInt(1 << 24), $t.MAX_UNSIGNED_VALUE = $t.fromBits(-1, -1, true), $t.ZERO = $t.fromInt(0), $t.UZERO = $t.fromInt(0, true), $t.ONE = $t.fromInt(1), $t.UONE = $t.fromInt(1, true), $t.NEG_ONE = $t.fromInt(-1), $t.MAX_VALUE = $t.fromBits(-1, 2147483647, false), $t.MIN_VALUE = $t.fromBits(0, -2147483648, false);
        const jt = /^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/, Pt = /^(\+|-)?(Infinity|inf)$/i, At = /^(\+|-)?NaN$/i, Et = 6111, xt = -6176, Tt = rt.fromNumberArray([124, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse()), kt = rt.fromNumberArray([248, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse()), Nt = rt.fromNumberArray([120, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0].reverse()), It = /^([-+])?(\d+)?$/;
        function Dt(t4) {
          return !isNaN(parseInt(t4, 10));
        }
        __name(Dt, "Dt");
        function Bt(t4) {
          const e4 = $t.fromNumber(1e9);
          let r4 = $t.fromNumber(0);
          if (!(t4.parts[0] || t4.parts[1] || t4.parts[2] || t4.parts[3]))
            return { quotient: t4, rem: r4 };
          for (let n3 = 0; n3 <= 3; n3++)
            r4 = r4.shiftLeft(32), r4 = r4.add(new $t(t4.parts[n3], 0)), t4.parts[n3] = r4.div(e4).low, r4 = r4.modulo(e4);
          return { quotient: t4, rem: r4 };
        }
        __name(Bt, "Bt");
        function Mt(t4, e4) {
          throw new q2(`"${t4}" is not a valid Decimal128 string - ${e4}`);
        }
        __name(Mt, "Mt");
        class Rt extends nt {
          get _bsontype() {
            return "Decimal128";
          }
          constructor(t4) {
            if (super(), "string" == typeof t4)
              this.bytes = Rt.fromString(t4).bytes;
            else {
              if (!(t4 instanceof Uint8Array || i2(t4)))
                throw new q2("Decimal128 must take a Buffer or string");
              if (16 !== t4.byteLength)
                throw new q2("Decimal128 must take a Buffer of 16 bytes");
              this.bytes = t4;
            }
          }
          static fromString(t4) {
            return Rt._fromString(t4, { allowRounding: false });
          }
          static fromStringWithRounding(t4) {
            return Rt._fromString(t4, { allowRounding: true });
          }
          static _fromString(t4, e4) {
            let r4 = false, n3 = false, o3 = false, i3 = false, s3 = 0, a3 = 0, u3 = 0, c3 = 0, l3 = 0;
            const f3 = [0];
            let p3 = 0, h3 = 0, y3 = 0, d3 = 0, b3 = new $t(0, 0), m3 = new $t(0, 0), v3 = 0, g3 = 0;
            if (t4.length >= 7e3)
              throw new q2(t4 + " not a valid Decimal128 string");
            const _2 = t4.match(jt), O3 = t4.match(Pt), w3 = t4.match(At);
            if (!_2 && !O3 && !w3 || 0 === t4.length)
              throw new q2(t4 + " not a valid Decimal128 string");
            if (_2) {
              const e5 = _2[2], r5 = _2[4], n4 = _2[5], o4 = _2[6];
              r5 && void 0 === o4 && Mt(t4, "missing exponent power"), r5 && void 0 === e5 && Mt(t4, "missing exponent base"), void 0 === r5 && (n4 || o4) && Mt(t4, "missing e before exponent");
            }
            if ("+" !== t4[g3] && "-" !== t4[g3] || (n3 = true, r4 = "-" === t4[g3++]), !Dt(t4[g3]) && "." !== t4[g3]) {
              if ("i" === t4[g3] || "I" === t4[g3])
                return new Rt(r4 ? kt : Nt);
              if ("N" === t4[g3])
                return new Rt(Tt);
            }
            for (; Dt(t4[g3]) || "." === t4[g3]; )
              "." !== t4[g3] ? (p3 < 34 && ("0" !== t4[g3] || i3) && (i3 || (l3 = a3), i3 = true, f3[h3++] = parseInt(t4[g3], 10), p3 += 1), i3 && (u3 += 1), o3 && (c3 += 1), a3 += 1, g3 += 1) : (o3 && Mt(t4, "contains multiple periods"), o3 = true, g3 += 1);
            if (o3 && !a3)
              throw new q2(t4 + " not a valid Decimal128 string");
            if ("e" === t4[g3] || "E" === t4[g3]) {
              const e5 = t4.substr(++g3).match(It);
              if (!e5 || !e5[2])
                return new Rt(Tt);
              d3 = parseInt(e5[0], 10), g3 += e5[0].length;
            }
            if (t4[g3])
              return new Rt(Tt);
            if (p3) {
              if (y3 = p3 - 1, s3 = u3, 1 !== s3)
                for (; "0" === t4[l3 + s3 - 1 + Number(n3) + Number(o3)]; )
                  s3 -= 1;
            } else
              f3[0] = 0, u3 = 1, p3 = 1, s3 = 0;
            for (d3 <= c3 && c3 > d3 + 16384 ? d3 = xt : d3 -= c3; d3 > Et; ) {
              if (y3 += 1, y3 >= 34) {
                if (0 === s3) {
                  d3 = Et;
                  break;
                }
                Mt(t4, "overflow");
              }
              d3 -= 1;
            }
            if (e4.allowRounding) {
              for (; d3 < xt || p3 < u3; ) {
                if (0 === y3 && s3 < p3) {
                  d3 = xt, s3 = 0;
                  break;
                }
                if (p3 < u3 ? u3 -= 1 : y3 -= 1, d3 < Et)
                  d3 += 1;
                else {
                  if (f3.join("").match(/^0+$/)) {
                    d3 = Et;
                    break;
                  }
                  Mt(t4, "overflow");
                }
              }
              if (y3 + 1 < s3) {
                let e5 = a3;
                o3 && (l3 += 1, e5 += 1), n3 && (l3 += 1, e5 += 1);
                const i4 = parseInt(t4[l3 + y3 + 1], 10);
                let s4 = 0;
                if (i4 >= 5 && (s4 = 1, 5 === i4)) {
                  s4 = f3[y3] % 2 == 1 ? 1 : 0;
                  for (let r5 = l3 + y3 + 2; r5 < e5; r5++)
                    if (parseInt(t4[r5], 10)) {
                      s4 = 1;
                      break;
                    }
                }
                if (s4) {
                  let t5 = y3;
                  for (; t5 >= 0 && ++f3[t5] > 9; t5--)
                    if (f3[t5] = 0, 0 === t5) {
                      if (!(d3 < Et))
                        return new Rt(r4 ? kt : Nt);
                      d3 += 1, f3[t5] = 1;
                    }
                }
              }
            } else {
              for (; d3 < xt || p3 < u3; ) {
                if (0 === y3) {
                  if (0 === s3) {
                    d3 = xt;
                    break;
                  }
                  Mt(t4, "exponent underflow");
                }
                p3 < u3 ? ("0" !== t4[u3 - 1 + Number(n3) + Number(o3)] && 0 !== s3 && Mt(t4, "inexact rounding"), u3 -= 1) : (0 !== f3[y3] && Mt(t4, "inexact rounding"), y3 -= 1), d3 < Et ? d3 += 1 : Mt(t4, "overflow");
              }
              y3 + 1 < s3 && (o3 && (l3 += 1), n3 && (l3 += 1), 0 !== parseInt(t4[l3 + y3 + 1], 10) && Mt(t4, "inexact rounding"));
            }
            if (b3 = $t.fromNumber(0), m3 = $t.fromNumber(0), 0 === s3)
              b3 = $t.fromNumber(0), m3 = $t.fromNumber(0);
            else if (y3 < 17) {
              let t5 = 0;
              for (m3 = $t.fromNumber(f3[t5++]), b3 = new $t(0, 0); t5 <= y3; t5++)
                m3 = m3.multiply($t.fromNumber(10)), m3 = m3.add($t.fromNumber(f3[t5]));
            } else {
              let t5 = 0;
              for (b3 = $t.fromNumber(f3[t5++]); t5 <= y3 - 17; t5++)
                b3 = b3.multiply($t.fromNumber(10)), b3 = b3.add($t.fromNumber(f3[t5]));
              for (m3 = $t.fromNumber(f3[t5++]); t5 <= y3; t5++)
                m3 = m3.multiply($t.fromNumber(10)), m3 = m3.add($t.fromNumber(f3[t5]));
            }
            const S3 = function(t5, e5) {
              if (!t5 && !e5)
                return { high: $t.fromNumber(0), low: $t.fromNumber(0) };
              const r5 = t5.shiftRightUnsigned(32), n4 = new $t(t5.getLowBits(), 0), o4 = e5.shiftRightUnsigned(32), i4 = new $t(e5.getLowBits(), 0);
              let s4 = r5.multiply(o4), a4 = r5.multiply(i4);
              const u4 = n4.multiply(o4);
              let c4 = n4.multiply(i4);
              return s4 = s4.add(a4.shiftRightUnsigned(32)), a4 = new $t(a4.getLowBits(), 0).add(u4).add(c4.shiftRightUnsigned(32)), s4 = s4.add(a4.shiftRightUnsigned(32)), c4 = a4.shiftLeft(32).add(new $t(c4.getLowBits(), 0)), { high: s4, low: c4 };
            }(b3, $t.fromString("100000000000000000"));
            S3.low = S3.low.add(m3), function(t5, e5) {
              const r5 = t5.high >>> 0, n4 = e5.high >>> 0;
              return r5 < n4 || r5 === n4 && t5.low >>> 0 < e5.low >>> 0;
            }(S3.low, m3) && (S3.high = S3.high.add($t.fromNumber(1))), v3 = d3 + 6176;
            const $2 = { low: $t.fromNumber(0), high: $t.fromNumber(0) };
            S3.high.shiftRightUnsigned(49).and($t.fromNumber(1)).equals($t.fromNumber(1)) ? ($2.high = $2.high.or($t.fromNumber(3).shiftLeft(61)), $2.high = $2.high.or($t.fromNumber(v3).and($t.fromNumber(16383).shiftLeft(47))), $2.high = $2.high.or(S3.high.and($t.fromNumber(140737488355327)))) : ($2.high = $2.high.or($t.fromNumber(16383 & v3).shiftLeft(49)), $2.high = $2.high.or(S3.high.and($t.fromNumber(562949953421311)))), $2.low = S3.low, r4 && ($2.high = $2.high.or($t.fromString("9223372036854775808")));
            const j3 = rt.allocateUnsafe(16);
            return g3 = 0, j3[g3++] = 255 & $2.low.low, j3[g3++] = $2.low.low >> 8 & 255, j3[g3++] = $2.low.low >> 16 & 255, j3[g3++] = $2.low.low >> 24 & 255, j3[g3++] = 255 & $2.low.high, j3[g3++] = $2.low.high >> 8 & 255, j3[g3++] = $2.low.high >> 16 & 255, j3[g3++] = $2.low.high >> 24 & 255, j3[g3++] = 255 & $2.high.low, j3[g3++] = $2.high.low >> 8 & 255, j3[g3++] = $2.high.low >> 16 & 255, j3[g3++] = $2.high.low >> 24 & 255, j3[g3++] = 255 & $2.high.high, j3[g3++] = $2.high.high >> 8 & 255, j3[g3++] = $2.high.high >> 16 & 255, j3[g3++] = $2.high.high >> 24 & 255, new Rt(j3);
          }
          toString() {
            let t4, e4 = 0;
            const r4 = new Array(36);
            for (let t5 = 0; t5 < r4.length; t5++)
              r4[t5] = 0;
            let n3, o3, i3, s3 = 0, a3 = false, u3 = { parts: [0, 0, 0, 0] };
            const c3 = [];
            s3 = 0;
            const l3 = this.bytes, f3 = l3[s3++] | l3[s3++] << 8 | l3[s3++] << 16 | l3[s3++] << 24, p3 = l3[s3++] | l3[s3++] << 8 | l3[s3++] << 16 | l3[s3++] << 24, h3 = l3[s3++] | l3[s3++] << 8 | l3[s3++] << 16 | l3[s3++] << 24, y3 = l3[s3++] | l3[s3++] << 8 | l3[s3++] << 16 | l3[s3++] << 24;
            s3 = 0, (new $t(f3, p3), new $t(h3, y3)).lessThan($t.ZERO) && c3.push("-");
            const d3 = y3 >> 26 & 31;
            if (d3 >> 3 == 3) {
              if (30 === d3)
                return c3.join("") + "Infinity";
              if (31 === d3)
                return "NaN";
              t4 = y3 >> 15 & 16383, n3 = 8 + (y3 >> 14 & 1);
            } else
              n3 = y3 >> 14 & 7, t4 = y3 >> 17 & 16383;
            const b3 = t4 - 6176;
            if (u3.parts[0] = (16383 & y3) + ((15 & n3) << 14), u3.parts[1] = h3, u3.parts[2] = p3, u3.parts[3] = f3, 0 === u3.parts[0] && 0 === u3.parts[1] && 0 === u3.parts[2] && 0 === u3.parts[3])
              a3 = true;
            else
              for (i3 = 3; i3 >= 0; i3--) {
                let t5 = 0;
                const e5 = Bt(u3);
                if (u3 = e5.quotient, t5 = e5.rem.low, t5)
                  for (o3 = 8; o3 >= 0; o3--)
                    r4[9 * i3 + o3] = t5 % 10, t5 = Math.floor(t5 / 10);
              }
            if (a3)
              e4 = 1, r4[s3] = 0;
            else
              for (e4 = 36; !r4[s3]; )
                e4 -= 1, s3 += 1;
            const m3 = e4 - 1 + b3;
            if (m3 >= 34 || m3 <= -7 || b3 > 0) {
              if (e4 > 34)
                return c3.push("0"), b3 > 0 ? c3.push(`E+${b3}`) : b3 < 0 && c3.push(`E${b3}`), c3.join("");
              c3.push(`${r4[s3++]}`), e4 -= 1, e4 && c3.push(".");
              for (let t5 = 0; t5 < e4; t5++)
                c3.push(`${r4[s3++]}`);
              c3.push("E"), m3 > 0 ? c3.push(`+${m3}`) : c3.push(`${m3}`);
            } else if (b3 >= 0)
              for (let t5 = 0; t5 < e4; t5++)
                c3.push(`${r4[s3++]}`);
            else {
              let t5 = e4 + b3;
              if (t5 > 0)
                for (let e5 = 0; e5 < t5; e5++)
                  c3.push(`${r4[s3++]}`);
              else
                c3.push("0");
              for (c3.push("."); t5++ < 0; )
                c3.push("0");
              for (let n4 = 0; n4 < e4 - Math.max(t5 - 1, 0); n4++)
                c3.push(`${r4[s3++]}`);
            }
            return c3.join("");
          }
          toJSON() {
            return { $numberDecimal: this.toString() };
          }
          toExtendedJSON() {
            return { $numberDecimal: this.toString() };
          }
          static fromExtendedJSON(t4) {
            return Rt.fromString(t4.$numberDecimal);
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new Decimal128(${r4(this.toString(), e4)})`;
          }
        }
        __name(Rt, "Rt");
        class Ut extends nt {
          get _bsontype() {
            return "Double";
          }
          constructor(t4) {
            super(), t4 instanceof Number && (t4 = t4.valueOf()), this.value = +t4;
          }
          static fromString(t4) {
            const e4 = Number(t4);
            if ("NaN" === t4)
              return new Ut(NaN);
            if ("Infinity" === t4)
              return new Ut(1 / 0);
            if ("-Infinity" === t4)
              return new Ut(-1 / 0);
            if (!Number.isFinite(e4))
              throw new q2(`Input: ${t4} is not representable as a Double`);
            if (t4.trim() !== t4)
              throw new q2(`Input: '${t4}' contains whitespace`);
            if ("" === t4)
              throw new q2("Input is an empty string");
            if (/[^-0-9.+eE]/.test(t4))
              throw new q2(`Input: '${t4}' is not in decimal or exponential notation`);
            return new Ut(e4);
          }
          valueOf() {
            return this.value;
          }
          toJSON() {
            return this.value;
          }
          toString(t4) {
            return this.value.toString(t4);
          }
          toExtendedJSON(t4) {
            return t4 && (t4.legacy || t4.relaxed && isFinite(this.value)) ? this.value : Object.is(Math.sign(this.value), -0) ? { $numberDouble: "-0.0" } : { $numberDouble: Number.isInteger(this.value) ? this.value.toFixed(1) : this.value.toString() };
          }
          static fromExtendedJSON(t4, e4) {
            const r4 = parseFloat(t4.$numberDouble);
            return e4 && e4.relaxed ? r4 : new Ut(r4);
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new Double(${r4(this.value, e4)})`;
          }
        }
        __name(Ut, "Ut");
        class Ct extends nt {
          get _bsontype() {
            return "Int32";
          }
          constructor(t4) {
            super(), t4 instanceof Number && (t4 = t4.valueOf()), this.value = 0 | +t4;
          }
          static fromString(t4) {
            const e4 = bt2(t4), r4 = Number(t4);
            if (h2 < r4)
              throw new q2(`Input: '${t4}' is larger than the maximum value for Int32`);
            if (y2 > r4)
              throw new q2(`Input: '${t4}' is smaller than the minimum value for Int32`);
            if (!Number.isSafeInteger(r4))
              throw new q2(`Input: '${t4}' is not a safe integer`);
            if (r4.toString() !== e4)
              throw new q2(`Input: '${t4}' is not a valid Int32 string`);
            return new Ct(r4);
          }
          valueOf() {
            return this.value;
          }
          toString(t4) {
            return this.value.toString(t4);
          }
          toJSON() {
            return this.value;
          }
          toExtendedJSON(t4) {
            return t4 && (t4.relaxed || t4.legacy) ? this.value : { $numberInt: this.value.toString() };
          }
          static fromExtendedJSON(t4, e4) {
            return e4 && e4.relaxed ? parseInt(t4.$numberInt, 10) : new Ct(t4.$numberInt);
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new Int32(${r4(this.value, e4)})`;
          }
        }
        __name(Ct, "Ct");
        class Ft extends nt {
          get _bsontype() {
            return "MaxKey";
          }
          toExtendedJSON() {
            return { $maxKey: 1 };
          }
          static fromExtendedJSON() {
            return new Ft();
          }
          inspect() {
            return "new MaxKey()";
          }
        }
        __name(Ft, "Ft");
        class Lt extends nt {
          get _bsontype() {
            return "MinKey";
          }
          toExtendedJSON() {
            return { $minKey: 1 };
          }
          static fromExtendedJSON() {
            return new Lt();
          }
          inspect() {
            return "new MinKey()";
          }
        }
        __name(Lt, "Lt");
        let Vt = null;
        const qt = /* @__PURE__ */ new WeakMap();
        class Jt extends nt {
          get _bsontype() {
            return "ObjectId";
          }
          constructor(t4) {
            let e4;
            if (super(), "object" == typeof t4 && t4 && "id" in t4) {
              if ("string" != typeof t4.id && !ArrayBuffer.isView(t4.id))
                throw new q2("Argument passed in must have an id that is of type string or Buffer");
              e4 = "toHexString" in t4 && "function" == typeof t4.toHexString ? rt.fromHex(t4.toHexString()) : t4.id;
            } else
              e4 = t4;
            if (null == e4 || "number" == typeof e4)
              this.buffer = Jt.generate("number" == typeof e4 ? e4 : void 0);
            else if (ArrayBuffer.isView(e4) && 12 === e4.byteLength)
              this.buffer = rt.toLocalBufferType(e4);
            else {
              if ("string" != typeof e4)
                throw new q2("Argument passed in does not match the accepted types");
              if (!Jt.validateHexString(e4))
                throw new q2("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");
              this.buffer = rt.fromHex(e4), Jt.cacheHexString && qt.set(this, e4);
            }
          }
          get id() {
            return this.buffer;
          }
          set id(t4) {
            this.buffer = t4, Jt.cacheHexString && qt.set(this, rt.toHex(t4));
          }
          static validateHexString(t4) {
            if (24 !== t4?.length)
              return false;
            for (let e4 = 0; e4 < 24; e4++) {
              const r4 = t4.charCodeAt(e4);
              if (!(r4 >= 48 && r4 <= 57 || r4 >= 97 && r4 <= 102 || r4 >= 65 && r4 <= 70))
                return false;
            }
            return true;
          }
          toHexString() {
            if (Jt.cacheHexString) {
              const t5 = qt.get(this);
              if (t5)
                return t5;
            }
            const t4 = rt.toHex(this.id);
            return Jt.cacheHexString && qt.set(this, t4), t4;
          }
          static getInc() {
            return Jt.index = (Jt.index + 1) % 16777215;
          }
          static generate(t4) {
            "number" != typeof t4 && (t4 = Math.floor(Date.now() / 1e3));
            const e4 = Jt.getInc(), r4 = rt.allocateUnsafe(12);
            return at2.setInt32BE(r4, 0, t4), null === Vt && (Vt = rt.randomBytes(5)), r4[4] = Vt[0], r4[5] = Vt[1], r4[6] = Vt[2], r4[7] = Vt[3], r4[8] = Vt[4], r4[11] = 255 & e4, r4[10] = e4 >> 8 & 255, r4[9] = e4 >> 16 & 255, r4;
          }
          toString(t4) {
            return "base64" === t4 ? rt.toBase64(this.id) : this.toHexString();
          }
          toJSON() {
            return this.toHexString();
          }
          static is(t4) {
            return null != t4 && "object" == typeof t4 && "_bsontype" in t4 && "ObjectId" === t4._bsontype;
          }
          equals(t4) {
            if (null == t4)
              return false;
            if (Jt.is(t4))
              return this.buffer[11] === t4.buffer[11] && rt.equals(this.buffer, t4.buffer);
            if ("string" == typeof t4)
              return t4.toLowerCase() === this.toHexString();
            if ("object" == typeof t4 && "function" == typeof t4.toHexString) {
              const e4 = t4.toHexString(), r4 = this.toHexString();
              return "string" == typeof e4 && e4.toLowerCase() === r4;
            }
            return false;
          }
          getTimestamp() {
            const t4 = /* @__PURE__ */ new Date(), e4 = at2.getUint32BE(this.buffer, 0);
            return t4.setTime(1e3 * Math.floor(e4)), t4;
          }
          static createPk() {
            return new Jt();
          }
          serializeInto(t4, e4) {
            return t4[e4] = this.buffer[0], t4[e4 + 1] = this.buffer[1], t4[e4 + 2] = this.buffer[2], t4[e4 + 3] = this.buffer[3], t4[e4 + 4] = this.buffer[4], t4[e4 + 5] = this.buffer[5], t4[e4 + 6] = this.buffer[6], t4[e4 + 7] = this.buffer[7], t4[e4 + 8] = this.buffer[8], t4[e4 + 9] = this.buffer[9], t4[e4 + 10] = this.buffer[10], t4[e4 + 11] = this.buffer[11], 12;
          }
          static createFromTime(t4) {
            const e4 = rt.allocate(12);
            for (let t5 = 11; t5 >= 4; t5--)
              e4[t5] = 0;
            return at2.setInt32BE(e4, 0, t4), new Jt(e4);
          }
          static createFromHexString(t4) {
            if (24 !== t4?.length)
              throw new q2("hex string must be 24 characters");
            return new Jt(rt.fromHex(t4));
          }
          static createFromBase64(t4) {
            if (16 !== t4?.length)
              throw new q2("base64 string must be 16 characters");
            return new Jt(rt.fromBase64(t4));
          }
          static isValid(t4) {
            if (null == t4)
              return false;
            if ("string" == typeof t4)
              return Jt.validateHexString(t4);
            try {
              return new Jt(t4), true;
            } catch {
              return false;
            }
          }
          toExtendedJSON() {
            return this.toHexString ? { $oid: this.toHexString() } : { $oid: this.toString("hex") };
          }
          static fromExtendedJSON(t4) {
            return new Jt(t4.$oid);
          }
          isCached() {
            return Jt.cacheHexString && qt.has(this);
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new ObjectId(${r4(this.toHexString(), e4)})`;
          }
        }
        __name(Jt, "Jt");
        function zt(t4, e4, r4) {
          let n3 = 5;
          if (Array.isArray(t4))
            for (let o3 = 0; o3 < t4.length; o3++)
              n3 += Kt(o3.toString(), t4[o3], e4, true, r4);
          else {
            "function" == typeof t4?.toBSON && (t4 = t4.toBSON());
            for (const o3 of Object.keys(t4))
              n3 += Kt(o3, t4[o3], e4, false, r4);
          }
          return n3;
        }
        __name(zt, "zt");
        function Kt(t4, e4, r4 = false, n3 = false, o3 = false) {
          switch ("function" == typeof e4?.toBSON && (e4 = e4.toBSON()), typeof e4) {
            case "string":
              return 1 + rt.utf8ByteLength(t4) + 1 + 4 + rt.utf8ByteLength(e4) + 1;
            case "number":
              return Math.floor(e4) === e4 && e4 >= v2 && e4 <= m2 && e4 >= y2 && e4 <= h2 ? (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 5 : (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 9;
            case "undefined":
              return n3 || !o3 ? (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1 : 0;
            case "boolean":
              return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 2;
            case "object":
              if (null != e4 && "string" == typeof e4._bsontype && e4[p2] !== f2)
                throw new J2();
              if (null == e4 || "MinKey" === e4._bsontype || "MaxKey" === e4._bsontype)
                return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1;
              if ("ObjectId" === e4._bsontype)
                return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 13;
              if (e4 instanceof Date || c2(e4))
                return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 9;
              if (ArrayBuffer.isView(e4) || e4 instanceof ArrayBuffer || s2(e4))
                return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 6 + e4.byteLength;
              if ("Long" === e4._bsontype || "Double" === e4._bsontype || "Timestamp" === e4._bsontype)
                return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 9;
              if ("Decimal128" === e4._bsontype)
                return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 17;
              if ("Code" === e4._bsontype)
                return null != e4.scope && Object.keys(e4.scope).length > 0 ? (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1 + 4 + 4 + rt.utf8ByteLength(e4.code.toString()) + 1 + zt(e4.scope, r4, o3) : (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1 + 4 + rt.utf8ByteLength(e4.code.toString()) + 1;
              if ("Binary" === e4._bsontype) {
                const r5 = e4;
                return r5.sub_type === ut.SUBTYPE_BYTE_ARRAY ? (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + (r5.position + 1 + 4 + 1 + 4) : (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + (r5.position + 1 + 4 + 1);
              }
              if ("Symbol" === e4._bsontype)
                return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + rt.utf8ByteLength(e4.value) + 4 + 1 + 1;
              if ("DBRef" === e4._bsontype) {
                const n4 = Object.assign({ $ref: e4.collection, $id: e4.oid }, e4.fields);
                return null != e4.db && (n4.$db = e4.db), (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1 + zt(n4, r4, o3);
              }
              return e4 instanceof RegExp || a2(e4) ? (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1 + rt.utf8ByteLength(e4.source) + 1 + (e4.global ? 1 : 0) + (e4.ignoreCase ? 1 : 0) + (e4.multiline ? 1 : 0) + 1 : "BSONRegExp" === e4._bsontype ? (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1 + rt.utf8ByteLength(e4.pattern) + 1 + rt.utf8ByteLength(e4.options) + 1 : (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + zt(e4, r4, o3) + 1;
            case "function":
              return r4 ? (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 1 + 4 + rt.utf8ByteLength(e4.toString()) + 1 : 0;
            case "bigint":
              return (null != t4 ? rt.utf8ByteLength(t4) + 1 : 0) + 9;
            case "symbol":
              return 0;
            default:
              throw new q2("Unrecognized JS type: " + typeof e4);
          }
        }
        __name(Kt, "Kt");
        Jt.index = Math.floor(16777215 * Math.random());
        class Ht extends nt {
          get _bsontype() {
            return "BSONRegExp";
          }
          constructor(t4, e4) {
            if (super(), this.pattern = t4, this.options = (e4 ?? "").split("").sort().join(""), -1 !== this.pattern.indexOf("\0"))
              throw new q2(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);
            if (-1 !== this.options.indexOf("\0"))
              throw new q2(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);
            for (let t5 = 0; t5 < this.options.length; t5++)
              if ("i" !== this.options[t5] && "m" !== this.options[t5] && "x" !== this.options[t5] && "l" !== this.options[t5] && "s" !== this.options[t5] && "u" !== this.options[t5])
                throw new q2(`The regular expression option [${this.options[t5]}] is not supported`);
          }
          static parseOptions(t4) {
            return t4 ? t4.split("").sort().join("") : "";
          }
          toExtendedJSON(t4) {
            return (t4 = t4 || {}).legacy ? { $regex: this.pattern, $options: this.options } : { $regularExpression: { pattern: this.pattern, options: this.options } };
          }
          static fromExtendedJSON(t4) {
            if ("$regex" in t4) {
              if ("string" == typeof t4.$regex)
                return new Ht(t4.$regex, Ht.parseOptions(t4.$options));
              if ("BSONRegExp" === t4.$regex._bsontype)
                return t4;
            }
            if ("$regularExpression" in t4)
              return new Ht(t4.$regularExpression.pattern, Ht.parseOptions(t4.$regularExpression.options));
            throw new q2(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(t4)}`);
          }
          inspect(t4, e4, r4) {
            const n3 = function(t5) {
              if (null != t5 && "object" == typeof t5 && "stylize" in t5 && "function" == typeof t5.stylize)
                return t5.stylize;
            }(e4) ?? ((t5) => t5);
            return r4 ??= l2, `new BSONRegExp(${n3(r4(this.pattern), "regexp")}, ${n3(r4(this.options), "regexp")})`;
          }
        }
        __name(Ht, "Ht");
        class Wt extends nt {
          get _bsontype() {
            return "BSONSymbol";
          }
          constructor(t4) {
            super(), this.value = t4;
          }
          valueOf() {
            return this.value;
          }
          toString() {
            return this.value;
          }
          toJSON() {
            return this.value;
          }
          toExtendedJSON() {
            return { $symbol: this.value };
          }
          static fromExtendedJSON(t4) {
            return new Wt(t4.$symbol);
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new BSONSymbol(${r4(this.value, e4)})`;
          }
        }
        __name(Wt, "Wt");
        const Gt = $t;
        class Qt extends Gt {
          get _bsontype() {
            return "Timestamp";
          }
          get i() {
            return this.low >>> 0;
          }
          get t() {
            return this.high >>> 0;
          }
          constructor(t4) {
            if (null == t4)
              super(0, 0, true);
            else if ("bigint" == typeof t4)
              super(t4, true);
            else if ($t.isLong(t4))
              super(t4.low, t4.high, true);
            else {
              if ("object" != typeof t4 || !("t" in t4) || !("i" in t4))
                throw new q2("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");
              {
                if ("number" != typeof t4.t && ("object" != typeof t4.t || "Int32" !== t4.t._bsontype))
                  throw new q2("Timestamp constructed from { t, i } must provide t as a number");
                if ("number" != typeof t4.i && ("object" != typeof t4.i || "Int32" !== t4.i._bsontype))
                  throw new q2("Timestamp constructed from { t, i } must provide i as a number");
                const e4 = Number(t4.t), r4 = Number(t4.i);
                if (e4 < 0 || Number.isNaN(e4))
                  throw new q2("Timestamp constructed from { t, i } must provide a positive t");
                if (r4 < 0 || Number.isNaN(r4))
                  throw new q2("Timestamp constructed from { t, i } must provide a positive i");
                if (e4 > 4294967295)
                  throw new q2("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");
                if (r4 > 4294967295)
                  throw new q2("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");
                super(r4, e4, true);
              }
            }
          }
          toJSON() {
            return { $timestamp: this.toString() };
          }
          static fromInt(t4) {
            return new Qt($t.fromInt(t4, true));
          }
          static fromNumber(t4) {
            return new Qt($t.fromNumber(t4, true));
          }
          static fromBits(t4, e4) {
            return new Qt({ i: t4, t: e4 });
          }
          static fromString(t4, e4) {
            return new Qt($t.fromString(t4, true, e4));
          }
          toExtendedJSON() {
            return { $timestamp: { t: this.t, i: this.i } };
          }
          static fromExtendedJSON(t4) {
            const e4 = $t.isLong(t4.$timestamp.i) ? t4.$timestamp.i.getLowBitsUnsigned() : t4.$timestamp.i, r4 = $t.isLong(t4.$timestamp.t) ? t4.$timestamp.t.getLowBitsUnsigned() : t4.$timestamp.t;
            return new Qt({ t: r4, i: e4 });
          }
          inspect(t4, e4, r4) {
            return r4 ??= l2, `new Timestamp({ t: ${r4(this.t, e4)}, i: ${r4(this.i, e4)} })`;
          }
        }
        __name(Qt, "Qt");
        Qt.MAX_VALUE = $t.MAX_UNSIGNED_VALUE;
        const Yt = $t.fromNumber(m2), Zt = $t.fromNumber(v2);
        function Xt(t4, e4, r4) {
          const n3 = (e4 = null == e4 ? {} : e4) && e4.index ? e4.index : 0, o3 = at2.getInt32LE(t4, n3);
          if (o3 < 5)
            throw new q2(`bson size must be >= 5, is ${o3}`);
          if (e4.allowObjectSmallerThanBufferSize && t4.length < o3)
            throw new q2(`buffer length ${t4.length} must be >= bson size ${o3}`);
          if (!e4.allowObjectSmallerThanBufferSize && t4.length !== o3)
            throw new q2(`buffer length ${t4.length} must === bson size ${o3}`);
          if (o3 + n3 > t4.byteLength)
            throw new q2(`(bson size ${o3} + options.index ${n3} must be <= buffer length ${t4.byteLength})`);
          if (0 !== t4[n3 + o3 - 1])
            throw new q2("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");
          return ee(t4, n3, e4, r4);
        }
        __name(Xt, "Xt");
        const te = /^\$ref$|^\$id$|^\$db$/;
        function ee(t4, e4, r4, n3 = false) {
          const o3 = null == r4.fieldsAsRaw ? null : r4.fieldsAsRaw, i3 = null != r4.raw && r4.raw, s3 = "boolean" == typeof r4.bsonRegExp && r4.bsonRegExp, a3 = r4.promoteBuffers ?? false, u3 = r4.promoteLongs ?? true, c3 = r4.promoteValues ?? true, l3 = r4.useBigInt64 ?? false;
          if (l3 && !c3)
            throw new q2("Must either request bigint or Long for int64 deserialization");
          if (l3 && !u3)
            throw new q2("Must either request bigint or Long for int64 deserialization");
          let f3, p3, h3 = true;
          const y3 = (null == r4.validation ? { utf8: true } : r4.validation).utf8;
          if ("boolean" == typeof y3)
            f3 = y3;
          else {
            h3 = false;
            const t5 = Object.keys(y3).map(function(t6) {
              return y3[t6];
            });
            if (0 === t5.length)
              throw new q2("UTF-8 validation setting cannot be empty");
            if ("boolean" != typeof t5[0])
              throw new q2("Invalid UTF-8 validation option, must specify boolean values");
            if (f3 = t5[0], !t5.every((t6) => t6 === f3))
              throw new q2("Invalid UTF-8 validation option - keys must be all true or all false");
          }
          if (!h3) {
            p3 = /* @__PURE__ */ new Set();
            for (const t5 of Object.keys(y3))
              p3.add(t5);
          }
          const d3 = e4;
          if (t4.length < 5)
            throw new q2("corrupt bson message < 5 bytes long");
          const b3 = at2.getInt32LE(t4, e4);
          if (e4 += 4, b3 < 5 || b3 > t4.length)
            throw new q2("corrupt bson message");
          const m3 = n3 ? [] : {};
          let v3 = 0, F3 = !n3 && null;
          for (; ; ) {
            const y4 = t4[e4++];
            if (0 === y4)
              break;
            let d4 = e4;
            for (; 0 !== t4[d4] && d4 < t4.length; )
              d4++;
            if (d4 >= t4.byteLength)
              throw new q2("Bad BSON Document: illegal CString");
            const b4 = n3 ? v3++ : rt.toUTF8(t4, e4, d4, false);
            let V3, J3 = true;
            if (J3 = h3 || p3?.has(b4) ? f3 : !f3, false !== F3 && "$" === b4[0] && (F3 = te.test(b4)), e4 = d4 + 1, y4 === _) {
              const r5 = at2.getInt32LE(t4, e4);
              if (e4 += 4, r5 <= 0 || r5 > t4.length - e4 || 0 !== t4[e4 + r5 - 1])
                throw new q2("bad string length in bson");
              V3 = rt.toUTF8(t4, e4, e4 + r5 - 1, J3), e4 += r5;
            } else if (y4 === j2) {
              const r5 = rt.allocateUnsafe(12);
              for (let n4 = 0; n4 < 12; n4++)
                r5[n4] = t4[e4 + n4];
              V3 = new Jt(r5), e4 += 12;
            } else if (y4 === D2 && false === c3)
              V3 = new Ct(at2.getInt32LE(t4, e4)), e4 += 4;
            else if (y4 === D2)
              V3 = at2.getInt32LE(t4, e4), e4 += 4;
            else if (y4 === g2)
              V3 = at2.getFloat64LE(t4, e4), e4 += 8, false === c3 && (V3 = new Ut(V3));
            else if (y4 === A2) {
              const r5 = at2.getInt32LE(t4, e4), n4 = at2.getInt32LE(t4, e4 + 4);
              e4 += 8, V3 = new Date(new $t(r5, n4).toNumber());
            } else if (y4 === P2) {
              if (0 !== t4[e4] && 1 !== t4[e4])
                throw new q2("illegal boolean type value");
              V3 = 1 === t4[e4++];
            } else if (y4 === O2) {
              const n4 = e4, o4 = at2.getInt32LE(t4, e4);
              if (o4 <= 0 || o4 > t4.length - e4)
                throw new q2("bad embedded document length in bson");
              if (i3)
                V3 = t4.subarray(e4, e4 + o4);
              else {
                let e5 = r4;
                h3 || (e5 = { ...r4, validation: { utf8: J3 } }), V3 = ee(t4, n4, e5, false);
              }
              e4 += o4;
            } else if (y4 === w2) {
              const n4 = e4, i4 = at2.getInt32LE(t4, e4);
              let s4 = r4;
              const a4 = e4 + i4;
              if (o3 && o3[b4] && (s4 = { ...r4, raw: true }), h3 || (s4 = { ...s4, validation: { utf8: J3 } }), V3 = ee(t4, n4, s4, true), 0 !== t4[(e4 += i4) - 1])
                throw new q2("invalid array terminator byte");
              if (e4 !== a4)
                throw new q2("corrupted array bson");
            } else if (y4 === $)
              V3 = void 0;
            else if (y4 === E2)
              V3 = null;
            else if (y4 === M2)
              if (l3)
                V3 = at2.getBigInt64LE(t4, e4), e4 += 8;
              else {
                const r5 = at2.getInt32LE(t4, e4), n4 = at2.getInt32LE(t4, e4 + 4);
                e4 += 8;
                const o4 = new $t(r5, n4);
                V3 = u3 && true === c3 && o4.lessThanOrEqual(Yt) && o4.greaterThanOrEqual(Zt) ? o4.toNumber() : o4;
              }
            else if (y4 === R2) {
              const r5 = rt.allocateUnsafe(16);
              for (let n4 = 0; n4 < 16; n4++)
                r5[n4] = t4[e4 + n4];
              e4 += 16, V3 = new Rt(r5);
            } else if (y4 === S2) {
              let r5 = at2.getInt32LE(t4, e4);
              e4 += 4;
              const n4 = r5, o4 = t4[e4++];
              if (r5 < 0)
                throw new q2("Negative binary type element size found");
              if (r5 > t4.byteLength)
                throw new q2("Binary type size larger than document size");
              if (o4 === ut.SUBTYPE_BYTE_ARRAY) {
                if (r5 = at2.getInt32LE(t4, e4), e4 += 4, r5 < 0)
                  throw new q2("Negative binary type element size found for subtype 0x02");
                if (r5 > n4 - 4)
                  throw new q2("Binary type with subtype 0x02 contains too long binary size");
                if (r5 < n4 - 4)
                  throw new q2("Binary type with subtype 0x02 contains too short binary size");
              }
              a3 && c3 ? V3 = rt.toLocalBufferType(t4.subarray(e4, e4 + r5)) : (V3 = new ut(t4.subarray(e4, e4 + r5), o4), o4 === L2 && pt.isValid(V3) && (V3 = V3.toUUID())), e4 += r5;
            } else if (y4 === x2 && false === s3) {
              for (d4 = e4; 0 !== t4[d4] && d4 < t4.length; )
                d4++;
              if (d4 >= t4.length)
                throw new q2("Bad BSON Document: illegal CString");
              const r5 = rt.toUTF8(t4, e4, d4, false);
              for (d4 = e4 = d4 + 1; 0 !== t4[d4] && d4 < t4.length; )
                d4++;
              if (d4 >= t4.length)
                throw new q2("Bad BSON Document: illegal CString");
              const n4 = rt.toUTF8(t4, e4, d4, false);
              e4 = d4 + 1;
              const o4 = new Array(n4.length);
              for (d4 = 0; d4 < n4.length; d4++)
                switch (n4[d4]) {
                  case "m":
                    o4[d4] = "m";
                    break;
                  case "s":
                    o4[d4] = "g";
                    break;
                  case "i":
                    o4[d4] = "i";
                }
              V3 = new RegExp(r5, o4.join(""));
            } else if (y4 === x2 && true === s3) {
              for (d4 = e4; 0 !== t4[d4] && d4 < t4.length; )
                d4++;
              if (d4 >= t4.length)
                throw new q2("Bad BSON Document: illegal CString");
              const r5 = rt.toUTF8(t4, e4, d4, false);
              for (d4 = e4 = d4 + 1; 0 !== t4[d4] && d4 < t4.length; )
                d4++;
              if (d4 >= t4.length)
                throw new q2("Bad BSON Document: illegal CString");
              const n4 = rt.toUTF8(t4, e4, d4, false);
              e4 = d4 + 1, V3 = new Ht(r5, n4);
            } else if (y4 === N2) {
              const r5 = at2.getInt32LE(t4, e4);
              if (e4 += 4, r5 <= 0 || r5 > t4.length - e4 || 0 !== t4[e4 + r5 - 1])
                throw new q2("bad string length in bson");
              const n4 = rt.toUTF8(t4, e4, e4 + r5 - 1, J3);
              V3 = c3 ? n4 : new Wt(n4), e4 += r5;
            } else if (y4 === B2)
              V3 = new Qt({ i: at2.getUint32LE(t4, e4), t: at2.getUint32LE(t4, e4 + 4) }), e4 += 8;
            else if (y4 === U2)
              V3 = new Lt();
            else if (y4 === C2)
              V3 = new Ft();
            else if (y4 === k2) {
              const r5 = at2.getInt32LE(t4, e4);
              if (e4 += 4, r5 <= 0 || r5 > t4.length - e4 || 0 !== t4[e4 + r5 - 1])
                throw new q2("bad string length in bson");
              const n4 = rt.toUTF8(t4, e4, e4 + r5 - 1, J3);
              V3 = new ht(n4), e4 += r5;
            } else if (y4 === I2) {
              const n4 = at2.getInt32LE(t4, e4);
              if (e4 += 4, n4 < 13)
                throw new q2("code_w_scope total size shorter minimum expected length");
              const o4 = at2.getInt32LE(t4, e4);
              if (e4 += 4, o4 <= 0 || o4 > t4.length - e4 || 0 !== t4[e4 + o4 - 1])
                throw new q2("bad string length in bson");
              const i4 = rt.toUTF8(t4, e4, e4 + o4 - 1, J3), s4 = e4 += o4, a4 = at2.getInt32LE(t4, e4), u4 = ee(t4, s4, r4, false);
              if (e4 += a4, n4 < 8 + a4 + o4)
                throw new q2("code_w_scope total size is too short, truncating scope");
              if (n4 > 8 + a4 + o4)
                throw new q2("code_w_scope total size is too long, clips outer document");
              V3 = new ht(i4, u4);
            } else {
              if (y4 !== T2)
                throw new q2(`Detected unknown BSON type ${y4.toString(16)} for fieldname "${b4}"`);
              {
                const r5 = at2.getInt32LE(t4, e4);
                if (e4 += 4, r5 <= 0 || r5 > t4.length - e4 || 0 !== t4[e4 + r5 - 1])
                  throw new q2("bad string length in bson");
                const n4 = rt.toUTF8(t4, e4, e4 + r5 - 1, J3);
                e4 += r5;
                const o4 = rt.allocateUnsafe(12);
                for (let r6 = 0; r6 < 12; r6++)
                  o4[r6] = t4[e4 + r6];
                const i4 = new Jt(o4);
                e4 += 12, V3 = new dt(n4, i4);
              }
            }
            "__proto__" === b4 ? Object.defineProperty(m3, b4, { value: V3, writable: true, enumerable: true, configurable: true }) : m3[b4] = V3;
          }
          if (b3 !== e4 - d3) {
            if (n3)
              throw new q2("corrupt array bson");
            throw new q2("corrupt object bson");
          }
          if (!F3)
            return m3;
          if (yt(m3)) {
            const t5 = Object.assign({}, m3);
            return delete t5.$ref, delete t5.$id, delete t5.$db, new dt(m3.$ref, m3.$id, m3.$db, t5);
          }
          return m3;
        }
        __name(ee, "ee");
        const re = /\x00/, ne = /* @__PURE__ */ new Set(["$db", "$ref", "$id", "$clusterTime"]);
        function oe(t4, e4, r4, n3) {
          t4[n3++] = _, t4[(n3 = n3 + rt.encodeUTF8Into(t4, e4, n3) + 1) - 1] = 0;
          const o3 = rt.encodeUTF8Into(t4, r4, n3 + 4);
          return at2.setInt32LE(t4, n3, o3 + 1), n3 = n3 + 4 + o3, t4[n3++] = 0, n3;
        }
        __name(oe, "oe");
        function ie(t4, e4, r4, n3) {
          const o3 = !Object.is(r4, -0) && Number.isSafeInteger(r4) && r4 <= h2 && r4 >= y2 ? D2 : g2;
          return t4[n3++] = o3, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, n3 + (o3 === D2 ? at2.setInt32LE(t4, n3, r4) : at2.setFloat64LE(t4, n3, r4));
        }
        __name(ie, "ie");
        function se(t4, e4, r4, n3) {
          return t4[n3++] = M2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, n3 + at2.setBigInt64LE(t4, n3, r4);
        }
        __name(se, "se");
        function ae2(t4, e4, r4, n3) {
          return t4[n3++] = E2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, n3;
        }
        __name(ae2, "ae");
        function ue(t4, e4, r4, n3) {
          return t4[n3++] = P2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, t4[n3++] = r4 ? 1 : 0, n3;
        }
        __name(ue, "ue");
        function ce2(t4, e4, r4, n3) {
          t4[n3++] = A2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          const o3 = $t.fromNumber(r4.getTime()), i3 = o3.getLowBits(), s3 = o3.getHighBits();
          return (n3 += at2.setInt32LE(t4, n3, i3)) + at2.setInt32LE(t4, n3, s3);
        }
        __name(ce2, "ce");
        function le(t4, e4, r4, n3) {
          if (t4[n3++] = x2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, r4.source && null != r4.source.match(re))
            throw new q2("value " + r4.source + " must not contain null bytes");
          return n3 += rt.encodeUTF8Into(t4, r4.source, n3), t4[n3++] = 0, r4.ignoreCase && (t4[n3++] = 105), r4.global && (t4[n3++] = 115), r4.multiline && (t4[n3++] = 109), t4[n3++] = 0, n3;
        }
        __name(le, "le");
        function fe(t4, e4, r4, n3) {
          if (t4[n3++] = x2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, null != r4.pattern.match(re))
            throw new q2("pattern " + r4.pattern + " must not contain null bytes");
          n3 += rt.encodeUTF8Into(t4, r4.pattern, n3), t4[n3++] = 0;
          const o3 = r4.options.split("").sort().join("");
          return n3 += rt.encodeUTF8Into(t4, o3, n3), t4[n3++] = 0, n3;
        }
        __name(fe, "fe");
        function pe(t4, e4, r4, n3) {
          return null === r4 ? t4[n3++] = E2 : "MinKey" === r4._bsontype ? t4[n3++] = U2 : t4[n3++] = C2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, n3;
        }
        __name(pe, "pe");
        function he(t4, e4, r4, n3) {
          return t4[n3++] = j2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, n3 + r4.serializeInto(t4, n3);
        }
        __name(he, "he");
        function ye(t4, e4, r4, n3) {
          t4[n3++] = S2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          const o3 = r4.length;
          if (n3 += at2.setInt32LE(t4, n3, o3), t4[n3++] = F2, o3 <= 16)
            for (let e5 = 0; e5 < o3; e5++)
              t4[n3 + e5] = r4[e5];
          else
            t4.set(r4, n3);
          return n3 + o3;
        }
        __name(ye, "ye");
        function de(t4, e4, r4, n3, o3, i3, s3, a3, u3) {
          if (u3.has(r4))
            throw new q2("Cannot convert circular structure to BSON");
          u3.add(r4), t4[n3++] = Array.isArray(r4) ? w2 : O2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          const c3 = je(t4, r4, o3, n3, i3 + 1, s3, a3, u3);
          return u3.delete(r4), c3;
        }
        __name(de, "de");
        function be2(t4, e4, r4, n3) {
          t4[n3++] = R2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          for (let e5 = 0; e5 < 16; e5++)
            t4[n3 + e5] = r4.bytes[e5];
          return n3 + 16;
        }
        __name(be2, "be");
        function me(t4, e4, r4, n3) {
          t4[n3++] = "Long" === r4._bsontype ? M2 : B2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          const o3 = r4.getLowBits(), i3 = r4.getHighBits();
          return (n3 += at2.setInt32LE(t4, n3, o3)) + at2.setInt32LE(t4, n3, i3);
        }
        __name(me, "me");
        function ve(t4, e4, r4, n3) {
          return r4 = r4.valueOf(), t4[n3++] = D2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, n3 + at2.setInt32LE(t4, n3, r4);
        }
        __name(ve, "ve");
        function ge(t4, e4, r4, n3) {
          return t4[n3++] = g2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0, n3 + at2.setFloat64LE(t4, n3, r4.value);
        }
        __name(ge, "ge");
        function _e2(t4, e4, r4, n3) {
          t4[n3++] = k2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          const o3 = r4.toString(), i3 = rt.encodeUTF8Into(t4, o3, n3 + 4) + 1;
          return at2.setInt32LE(t4, n3, i3), n3 = n3 + 4 + i3 - 1, t4[n3++] = 0, n3;
        }
        __name(_e2, "_e");
        function Oe(t4, e4, r4, n3, o3 = false, i3 = 0, s3 = false, a3 = true, u3) {
          if (r4.scope && "object" == typeof r4.scope) {
            t4[n3++] = I2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
            let c3 = n3;
            const l3 = r4.code;
            n3 += 4;
            const f3 = rt.encodeUTF8Into(t4, l3, n3 + 4) + 1;
            at2.setInt32LE(t4, n3, f3), t4[n3 + 4 + f3 - 1] = 0, n3 = n3 + f3 + 4;
            const p3 = je(t4, r4.scope, o3, n3, i3 + 1, s3, a3, u3);
            n3 = p3 - 1;
            const h3 = p3 - c3;
            c3 += at2.setInt32LE(t4, c3, h3), t4[n3++] = 0;
          } else {
            t4[n3++] = k2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
            const o4 = r4.code.toString(), i4 = rt.encodeUTF8Into(t4, o4, n3 + 4) + 1;
            at2.setInt32LE(t4, n3, i4), n3 = n3 + 4 + i4 - 1, t4[n3++] = 0;
          }
          return n3;
        }
        __name(Oe, "Oe");
        function we(t4, e4, r4, n3) {
          t4[n3++] = S2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          const o3 = r4.buffer;
          let i3 = r4.position;
          if (r4.sub_type === ut.SUBTYPE_BYTE_ARRAY && (i3 += 4), n3 += at2.setInt32LE(t4, n3, i3), t4[n3++] = r4.sub_type, r4.sub_type === ut.SUBTYPE_BYTE_ARRAY && (i3 -= 4, n3 += at2.setInt32LE(t4, n3, i3)), r4.sub_type === ut.SUBTYPE_VECTOR && ct2(r4), i3 <= 16)
            for (let e5 = 0; e5 < i3; e5++)
              t4[n3 + e5] = o3[e5];
          else
            t4.set(o3, n3);
          return n3 + r4.position;
        }
        __name(we, "we");
        function Se(t4, e4, r4, n3) {
          t4[n3++] = N2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          const o3 = rt.encodeUTF8Into(t4, r4.value, n3 + 4) + 1;
          return at2.setInt32LE(t4, n3, o3), n3 = n3 + 4 + o3 - 1, t4[n3++] = 0, n3;
        }
        __name(Se, "Se");
        function $e(t4, e4, r4, n3, o3, i3, s3) {
          t4[n3++] = O2, n3 += rt.encodeUTF8Into(t4, e4, n3), t4[n3++] = 0;
          let a3 = n3, u3 = { $ref: r4.collection || r4.namespace, $id: r4.oid };
          null != r4.db && (u3.$db = r4.db), u3 = Object.assign(u3, r4.fields);
          const c3 = je(t4, u3, false, n3, o3 + 1, i3, true, s3), l3 = c3 - a3;
          return a3 += at2.setInt32LE(t4, n3, l3), c3;
        }
        __name($e, "$e");
        function je(t4, e4, r4, n3, o3, l3, h3, y3) {
          if (null == y3) {
            if (null == e4)
              return t4[0] = 5, t4[1] = 0, t4[2] = 0, t4[3] = 0, t4[4] = 0, 5;
            if (Array.isArray(e4))
              throw new q2("serialize does not support an array as the root input");
            if ("object" != typeof e4)
              throw new q2("serialize does not support non-object as the root input");
            if ("_bsontype" in e4 && "string" == typeof e4._bsontype)
              throw new q2("BSON types cannot be serialized as a document");
            if (c2(e4) || a2(e4) || i2(e4) || s2(e4))
              throw new q2("date, regexp, typedarray, and arraybuffer cannot be BSON documents");
            y3 = /* @__PURE__ */ new Set();
          }
          y3.add(e4);
          let d3 = n3 + 4;
          if (Array.isArray(e4))
            for (let n4 = 0; n4 < e4.length; n4++) {
              const s3 = `${n4}`;
              let u3 = e4[n4];
              "function" == typeof u3?.toBSON && (u3 = u3.toBSON());
              const b4 = typeof u3;
              if (void 0 === u3)
                d3 = ae2(t4, s3, 0, d3);
              else if (null === u3)
                d3 = ae2(t4, s3, 0, d3);
              else if ("string" === b4)
                d3 = oe(t4, s3, u3, d3);
              else if ("number" === b4)
                d3 = ie(t4, s3, u3, d3);
              else if ("bigint" === b4)
                d3 = se(t4, s3, u3, d3);
              else if ("boolean" === b4)
                d3 = ue(t4, s3, u3, d3);
              else if ("object" === b4 && null == u3._bsontype)
                d3 = u3 instanceof Date || c2(u3) ? ce2(t4, s3, u3, d3) : u3 instanceof Uint8Array || i2(u3) ? ye(t4, s3, u3, d3) : u3 instanceof RegExp || a2(u3) ? le(t4, s3, u3, d3) : de(t4, s3, u3, d3, r4, o3, l3, h3, y3);
              else if ("object" === b4) {
                if (u3[p2] !== f2)
                  throw new J2();
                if ("ObjectId" === u3._bsontype)
                  d3 = he(t4, s3, u3, d3);
                else if ("Decimal128" === u3._bsontype)
                  d3 = be2(t4, s3, u3, d3);
                else if ("Long" === u3._bsontype || "Timestamp" === u3._bsontype)
                  d3 = me(t4, s3, u3, d3);
                else if ("Double" === u3._bsontype)
                  d3 = ge(t4, s3, u3, d3);
                else if ("Code" === u3._bsontype)
                  d3 = Oe(t4, s3, u3, d3, r4, o3, l3, h3, y3);
                else if ("Binary" === u3._bsontype)
                  d3 = we(t4, s3, u3, d3);
                else if ("BSONSymbol" === u3._bsontype)
                  d3 = Se(t4, s3, u3, d3);
                else if ("DBRef" === u3._bsontype)
                  d3 = $e(t4, s3, u3, d3, o3, l3, y3);
                else if ("BSONRegExp" === u3._bsontype)
                  d3 = fe(t4, s3, u3, d3);
                else if ("Int32" === u3._bsontype)
                  d3 = ve(t4, s3, u3, d3);
                else if ("MinKey" === u3._bsontype || "MaxKey" === u3._bsontype)
                  d3 = pe(t4, s3, u3, d3);
                else if (void 0 !== u3._bsontype)
                  throw new q2(`Unrecognized or invalid _bsontype: ${String(u3._bsontype)}`);
              } else
                "function" === b4 && l3 && (d3 = _e2(t4, s3, u3, d3));
            }
          else if (e4 instanceof Map || u2(e4)) {
            const n4 = e4.entries();
            let s3 = false;
            for (; !s3; ) {
              const e5 = n4.next();
              if (s3 = !!e5.done, s3)
                continue;
              const u3 = e5.value ? e5.value[0] : void 0;
              let b4 = e5.value ? e5.value[1] : void 0;
              "function" == typeof b4?.toBSON && (b4 = b4.toBSON());
              const m3 = typeof b4;
              if ("string" == typeof u3 && !ne.has(u3)) {
                if (null != u3.match(re))
                  throw new q2("key " + u3 + " must not contain null bytes");
                if (r4) {
                  if ("$" === u3[0])
                    throw new q2("key " + u3 + " must not start with '$'");
                  if (u3.includes("."))
                    throw new q2("key " + u3 + " must not contain '.'");
                }
              }
              if (void 0 === b4)
                false === h3 && (d3 = ae2(t4, u3, 0, d3));
              else if (null === b4)
                d3 = ae2(t4, u3, 0, d3);
              else if ("string" === m3)
                d3 = oe(t4, u3, b4, d3);
              else if ("number" === m3)
                d3 = ie(t4, u3, b4, d3);
              else if ("bigint" === m3)
                d3 = se(t4, u3, b4, d3);
              else if ("boolean" === m3)
                d3 = ue(t4, u3, b4, d3);
              else if ("object" === m3 && null == b4._bsontype)
                d3 = b4 instanceof Date || c2(b4) ? ce2(t4, u3, b4, d3) : b4 instanceof Uint8Array || i2(b4) ? ye(t4, u3, b4, d3) : b4 instanceof RegExp || a2(b4) ? le(t4, u3, b4, d3) : de(t4, u3, b4, d3, r4, o3, l3, h3, y3);
              else if ("object" === m3) {
                if (b4[p2] !== f2)
                  throw new J2();
                if ("ObjectId" === b4._bsontype)
                  d3 = he(t4, u3, b4, d3);
                else if ("Decimal128" === b4._bsontype)
                  d3 = be2(t4, u3, b4, d3);
                else if ("Long" === b4._bsontype || "Timestamp" === b4._bsontype)
                  d3 = me(t4, u3, b4, d3);
                else if ("Double" === b4._bsontype)
                  d3 = ge(t4, u3, b4, d3);
                else if ("Code" === b4._bsontype)
                  d3 = Oe(t4, u3, b4, d3, r4, o3, l3, h3, y3);
                else if ("Binary" === b4._bsontype)
                  d3 = we(t4, u3, b4, d3);
                else if ("BSONSymbol" === b4._bsontype)
                  d3 = Se(t4, u3, b4, d3);
                else if ("DBRef" === b4._bsontype)
                  d3 = $e(t4, u3, b4, d3, o3, l3, y3);
                else if ("BSONRegExp" === b4._bsontype)
                  d3 = fe(t4, u3, b4, d3);
                else if ("Int32" === b4._bsontype)
                  d3 = ve(t4, u3, b4, d3);
                else if ("MinKey" === b4._bsontype || "MaxKey" === b4._bsontype)
                  d3 = pe(t4, u3, b4, d3);
                else if (void 0 !== b4._bsontype)
                  throw new q2(`Unrecognized or invalid _bsontype: ${String(b4._bsontype)}`);
              } else
                "function" === m3 && l3 && (d3 = _e2(t4, u3, b4, d3));
            }
          } else {
            if ("function" == typeof e4?.toBSON && null != (e4 = e4.toBSON()) && "object" != typeof e4)
              throw new q2("toBSON function did not return an object");
            for (const n4 of Object.keys(e4)) {
              let s3 = e4[n4];
              "function" == typeof s3?.toBSON && (s3 = s3.toBSON());
              const u3 = typeof s3;
              if ("string" == typeof n4 && !ne.has(n4)) {
                if (null != n4.match(re))
                  throw new q2("key " + n4 + " must not contain null bytes");
                if (r4) {
                  if ("$" === n4[0])
                    throw new q2("key " + n4 + " must not start with '$'");
                  if (n4.includes("."))
                    throw new q2("key " + n4 + " must not contain '.'");
                }
              }
              if (void 0 === s3)
                false === h3 && (d3 = ae2(t4, n4, 0, d3));
              else if (null === s3)
                d3 = ae2(t4, n4, 0, d3);
              else if ("string" === u3)
                d3 = oe(t4, n4, s3, d3);
              else if ("number" === u3)
                d3 = ie(t4, n4, s3, d3);
              else if ("bigint" === u3)
                d3 = se(t4, n4, s3, d3);
              else if ("boolean" === u3)
                d3 = ue(t4, n4, s3, d3);
              else if ("object" === u3 && null == s3._bsontype)
                d3 = s3 instanceof Date || c2(s3) ? ce2(t4, n4, s3, d3) : s3 instanceof Uint8Array || i2(s3) ? ye(t4, n4, s3, d3) : s3 instanceof RegExp || a2(s3) ? le(t4, n4, s3, d3) : de(t4, n4, s3, d3, r4, o3, l3, h3, y3);
              else if ("object" === u3) {
                if (s3[p2] !== f2)
                  throw new J2();
                if ("ObjectId" === s3._bsontype)
                  d3 = he(t4, n4, s3, d3);
                else if ("Decimal128" === s3._bsontype)
                  d3 = be2(t4, n4, s3, d3);
                else if ("Long" === s3._bsontype || "Timestamp" === s3._bsontype)
                  d3 = me(t4, n4, s3, d3);
                else if ("Double" === s3._bsontype)
                  d3 = ge(t4, n4, s3, d3);
                else if ("Code" === s3._bsontype)
                  d3 = Oe(t4, n4, s3, d3, r4, o3, l3, h3, y3);
                else if ("Binary" === s3._bsontype)
                  d3 = we(t4, n4, s3, d3);
                else if ("BSONSymbol" === s3._bsontype)
                  d3 = Se(t4, n4, s3, d3);
                else if ("DBRef" === s3._bsontype)
                  d3 = $e(t4, n4, s3, d3, o3, l3, y3);
                else if ("BSONRegExp" === s3._bsontype)
                  d3 = fe(t4, n4, s3, d3);
                else if ("Int32" === s3._bsontype)
                  d3 = ve(t4, n4, s3, d3);
                else if ("MinKey" === s3._bsontype || "MaxKey" === s3._bsontype)
                  d3 = pe(t4, n4, s3, d3);
                else if (void 0 !== s3._bsontype)
                  throw new q2(`Unrecognized or invalid _bsontype: ${String(s3._bsontype)}`);
              } else
                "function" === u3 && l3 && (d3 = _e2(t4, n4, s3, d3));
            }
          }
          y3.delete(e4), t4[d3++] = 0;
          const b3 = d3 - n3;
          return n3 += at2.setInt32LE(t4, n3, b3), d3;
        }
        __name(je, "je");
        const Pe = { $oid: Jt, $binary: ut, $uuid: ut, $symbol: Wt, $numberInt: Ct, $numberDecimal: Rt, $numberDouble: Ut, $numberLong: $t, $minKey: Lt, $maxKey: Ft, $regex: Ht, $regularExpression: Ht, $timestamp: Qt };
        function Ae(t4, e4 = {}) {
          if ("number" == typeof t4) {
            const r5 = t4 <= h2 && t4 >= y2, n3 = t4 <= d2 && t4 >= b2;
            if (e4.relaxed || e4.legacy)
              return t4;
            if (Number.isInteger(t4) && !Object.is(t4, -0)) {
              if (r5)
                return new Ct(t4);
              if (n3)
                return e4.useBigInt64 ? BigInt(t4) : $t.fromNumber(t4);
            }
            return new Ut(t4);
          }
          if (null == t4 || "object" != typeof t4)
            return t4;
          if (t4.$undefined)
            return null;
          const r4 = Object.keys(t4).filter((e5) => e5.startsWith("$") && null != t4[e5]);
          for (let n3 = 0; n3 < r4.length; n3++) {
            const o3 = Pe[r4[n3]];
            if (o3)
              return o3.fromExtendedJSON(t4, e4);
          }
          if (null != t4.$date) {
            const r5 = t4.$date, n3 = /* @__PURE__ */ new Date();
            if (e4.legacy)
              if ("number" == typeof r5)
                n3.setTime(r5);
              else if ("string" == typeof r5)
                n3.setTime(Date.parse(r5));
              else {
                if ("bigint" != typeof r5)
                  throw new z2("Unrecognized type for EJSON date: " + typeof r5);
                n3.setTime(Number(r5));
              }
            else if ("string" == typeof r5)
              n3.setTime(Date.parse(r5));
            else if ($t.isLong(r5))
              n3.setTime(r5.toNumber());
            else if ("number" == typeof r5 && e4.relaxed)
              n3.setTime(r5);
            else {
              if ("bigint" != typeof r5)
                throw new z2("Unrecognized type for EJSON date: " + typeof r5);
              n3.setTime(Number(r5));
            }
            return n3;
          }
          if (null != t4.$code) {
            const e5 = Object.assign({}, t4);
            return t4.$scope && (e5.$scope = Ae(t4.$scope)), ht.fromExtendedJSON(t4);
          }
          if (yt(t4) || t4.$dbPointer) {
            const e5 = t4.$ref ? t4 : t4.$dbPointer;
            if (e5 instanceof dt)
              return e5;
            const r5 = Object.keys(e5).filter((t5) => t5.startsWith("$"));
            let n3 = true;
            if (r5.forEach((t5) => {
              -1 === ["$ref", "$id", "$db"].indexOf(t5) && (n3 = false);
            }), n3)
              return dt.fromExtendedJSON(e5);
          }
          return t4;
        }
        __name(Ae, "Ae");
        function Ee(t4) {
          const e4 = t4.toISOString();
          return 0 !== t4.getUTCMilliseconds() ? e4 : e4.slice(0, -5) + "Z";
        }
        __name(Ee, "Ee");
        function xe(t4, e4) {
          if (t4 instanceof Map || u2(t4)) {
            const r4 = /* @__PURE__ */ Object.create(null);
            for (const [e5, n3] of t4) {
              if ("string" != typeof e5)
                throw new q2("Can only serialize maps with string keys");
              r4[e5] = n3;
            }
            return xe(r4, e4);
          }
          if (("object" == typeof t4 || "function" == typeof t4) && null !== t4) {
            const r4 = e4.seenObjects.findIndex((e5) => e5.obj === t4);
            if (-1 !== r4) {
              const t5 = e4.seenObjects.map((t6) => t6.propertyName), n3 = t5.slice(0, r4).map((t6) => `${t6} -> `).join(""), o3 = t5[r4], i3 = " -> " + t5.slice(r4 + 1, t5.length - 1).map((t6) => `${t6} -> `).join(""), s3 = t5[t5.length - 1], a3 = " ".repeat(n3.length + o3.length / 2), u3 = "-".repeat(i3.length + (o3.length + s3.length) / 2 - 1);
              throw new q2(`Converting circular structure to EJSON:
    ${n3}${o3}${i3}${s3}
    ${a3}\\${u3}/`);
            }
            e4.seenObjects[e4.seenObjects.length - 1].obj = t4;
          }
          if (Array.isArray(t4))
            return function(t5, e5) {
              return t5.map((t6, r4) => {
                e5.seenObjects.push({ propertyName: `index ${r4}`, obj: null });
                try {
                  return xe(t6, e5);
                } finally {
                  e5.seenObjects.pop();
                }
              });
            }(t4, e4);
          if (void 0 === t4)
            return null;
          if (t4 instanceof Date || c2(t4)) {
            const r4 = t4.getTime(), n3 = r4 > -1 && r4 < 2534023188e5;
            return e4.legacy ? e4.relaxed && n3 ? { $date: t4.getTime() } : { $date: Ee(t4) } : e4.relaxed && n3 ? { $date: Ee(t4) } : { $date: { $numberLong: t4.getTime().toString() } };
          }
          if (!("number" != typeof t4 || e4.relaxed && isFinite(t4))) {
            if (Number.isInteger(t4) && !Object.is(t4, -0)) {
              if (t4 >= y2 && t4 <= h2)
                return { $numberInt: t4.toString() };
              if (t4 >= b2 && t4 <= d2)
                return { $numberLong: t4.toString() };
            }
            return { $numberDouble: Object.is(t4, -0) ? "-0.0" : t4.toString() };
          }
          if ("bigint" == typeof t4)
            return e4.relaxed ? Number(BigInt.asIntN(64, t4)) : { $numberLong: BigInt.asIntN(64, t4).toString() };
          if (t4 instanceof RegExp || a2(t4)) {
            let r4 = t4.flags;
            if (void 0 === r4) {
              const e5 = t4.toString().match(/[gimuy]*$/);
              e5 && (r4 = e5[0]);
            }
            return new Ht(t4.source, r4).toExtendedJSON(e4);
          }
          return null != t4 && "object" == typeof t4 ? function(t5, e5) {
            if (null == t5 || "object" != typeof t5)
              throw new q2("not an object instance");
            const r4 = t5._bsontype;
            if (void 0 === r4) {
              const r5 = {};
              for (const n3 of Object.keys(t5)) {
                e5.seenObjects.push({ propertyName: n3, obj: null });
                try {
                  const o3 = xe(t5[n3], e5);
                  "__proto__" === n3 ? Object.defineProperty(r5, n3, { value: o3, writable: true, enumerable: true, configurable: true }) : r5[n3] = o3;
                } finally {
                  e5.seenObjects.pop();
                }
              }
              return r5;
            }
            if (null != t5 && "object" == typeof t5 && "string" == typeof t5._bsontype && t5[p2] !== f2)
              throw new J2();
            if (function(t6) {
              return null != t6 && "object" == typeof t6 && "_bsontype" in t6 && "string" == typeof t6._bsontype;
            }(t5)) {
              let n3 = t5;
              if ("function" != typeof n3.toExtendedJSON) {
                const e6 = Te[t5._bsontype];
                if (!e6)
                  throw new q2("Unrecognized or invalid _bsontype: " + t5._bsontype);
                n3 = e6(n3);
              }
              return "Code" === r4 && n3.scope ? n3 = new ht(n3.code, xe(n3.scope, e5)) : "DBRef" === r4 && n3.oid && (n3 = new dt(xe(n3.collection, e5), xe(n3.oid, e5), xe(n3.db, e5), xe(n3.fields, e5))), n3.toExtendedJSON(e5);
            }
            throw new q2("_bsontype must be a string, but was: " + typeof r4);
          }(t4, e4) : t4;
        }
        __name(xe, "xe");
        const Te = { Binary: (t4) => new ut(t4.value(), t4.sub_type), Code: (t4) => new ht(t4.code, t4.scope), DBRef: (t4) => new dt(t4.collection || t4.namespace, t4.oid, t4.db, t4.fields), Decimal128: (t4) => new Rt(t4.bytes), Double: (t4) => new Ut(t4.value), Int32: (t4) => new Ct(t4.value), Long: (t4) => $t.fromBits(null != t4.low ? t4.low : t4.low_, null != t4.low ? t4.high : t4.high_, null != t4.low ? t4.unsigned : t4.unsigned_), MaxKey: () => new Ft(), MinKey: () => new Lt(), ObjectId: (t4) => new Jt(t4), BSONRegExp: (t4) => new Ht(t4.pattern, t4.options), BSONSymbol: (t4) => new Wt(t4.value), Timestamp: (t4) => Qt.fromBits(t4.low, t4.high) };
        function ke(t4, e4) {
          const r4 = { useBigInt64: e4?.useBigInt64 ?? false, relaxed: e4?.relaxed ?? true, legacy: e4?.legacy ?? false };
          return JSON.parse(t4, (t5, e5) => {
            if (-1 !== t5.indexOf("\0"))
              throw new q2(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(t5)}`);
            return Ae(e5, r4);
          });
        }
        __name(ke, "ke");
        function Ne(t4, e4, r4, n3) {
          null != r4 && "object" == typeof r4 && (n3 = r4, r4 = 0), null == e4 || "object" != typeof e4 || Array.isArray(e4) || (n3 = e4, e4 = void 0, r4 = 0);
          const o3 = xe(t4, Object.assign({ relaxed: true, legacy: false }, n3, { seenObjects: [{ propertyName: "(root)", obj: null }] }));
          return JSON.stringify(o3, e4, r4);
        }
        __name(Ne, "Ne");
        const Ie = /* @__PURE__ */ Object.create(null);
        Ie.parse = ke, Ie.stringify = Ne, Ie.serialize = function(t4, e4) {
          return e4 = e4 || {}, JSON.parse(Ne(t4, e4));
        }, Ie.deserialize = function(t4, e4) {
          return e4 = e4 || {}, ke(JSON.stringify(t4), e4);
        }, Object.freeze(Ie);
        function De(t4, e4) {
          try {
            return at2.getNonnegativeInt32LE(t4, e4);
          } catch (t5) {
            throw new K2("BSON size cannot be negative", e4, { cause: t5 });
          }
        }
        __name(De, "De");
        function Be(t4, e4) {
          let r4 = e4;
          for (; 0 !== t4[r4]; r4++)
            ;
          if (r4 === t4.length - 1)
            throw new K2("Null terminator not found", e4);
          return r4;
        }
        __name(Be, "Be");
        const Me = /* @__PURE__ */ Object.create(null);
        Me.parseToElements = function(t4, e4 = 0) {
          if (e4 ??= 0, t4.length < 5)
            throw new K2(`Input must be at least 5 bytes, got ${t4.length} bytes`, e4);
          const r4 = De(t4, e4);
          if (r4 > t4.length - e4)
            throw new K2(`Parsed documentSize (${r4} bytes) does not match input length (${t4.length} bytes)`, e4);
          if (0 !== t4[e4 + r4 - 1])
            throw new K2("BSON documents must end in 0x00", e4 + r4);
          const n3 = [];
          let o3 = e4 + 4;
          for (; o3 <= r4 + e4; ) {
            const i3 = t4[o3];
            if (o3 += 1, 0 === i3) {
              if (o3 - e4 !== r4)
                throw new K2("Invalid 0x00 type byte", o3);
              break;
            }
            const s3 = o3, a3 = Be(t4, o3) - s3;
            let u3;
            if (o3 += a3 + 1, 1 === i3 || 18 === i3 || 9 === i3 || 17 === i3)
              u3 = 8;
            else if (16 === i3)
              u3 = 4;
            else if (7 === i3)
              u3 = 12;
            else if (19 === i3)
              u3 = 16;
            else if (8 === i3)
              u3 = 1;
            else if (10 === i3 || 6 === i3 || 127 === i3 || 255 === i3)
              u3 = 0;
            else if (11 === i3)
              u3 = Be(t4, Be(t4, o3) + 1) + 1 - o3;
            else if (3 === i3 || 4 === i3 || 15 === i3)
              u3 = De(t4, o3);
            else {
              if (2 !== i3 && 5 !== i3 && 12 !== i3 && 13 !== i3 && 14 !== i3)
                throw new K2(`Invalid 0x${i3.toString(16).padStart(2, "0")} type byte`, o3);
              u3 = De(t4, o3) + 4, 5 === i3 && (u3 += 1), 12 === i3 && (u3 += 12);
            }
            if (u3 > r4)
              throw new K2("value reports length larger than document", o3);
            n3.push([i3, s3, a3, o3, u3]), o3 += u3;
          }
          return n3;
        }, Me.ByteUtils = rt, Me.NumberUtils = at2, Object.freeze(Me);
        const Re = 17825792;
        let Ue = rt.allocate(Re);
        function Ce(t4) {
          Ue.length < t4 && (Ue = rt.allocate(t4));
        }
        __name(Ce, "Ce");
        function Fe(t4, e4 = {}) {
          const r4 = "boolean" == typeof e4.checkKeys && e4.checkKeys, n3 = "boolean" == typeof e4.serializeFunctions && e4.serializeFunctions, o3 = "boolean" != typeof e4.ignoreUndefined || e4.ignoreUndefined, i3 = "number" == typeof e4.minInternalBufferSize ? e4.minInternalBufferSize : Re;
          Ue.length < i3 && (Ue = rt.allocate(i3));
          const s3 = je(Ue, t4, r4, 0, 0, n3, o3, null), a3 = rt.allocateUnsafe(s3);
          return a3.set(Ue.subarray(0, s3), 0), a3;
        }
        __name(Fe, "Fe");
        function Le(t4, e4, r4 = {}) {
          const n3 = "boolean" == typeof r4.checkKeys && r4.checkKeys, o3 = "boolean" == typeof r4.serializeFunctions && r4.serializeFunctions, i3 = "boolean" != typeof r4.ignoreUndefined || r4.ignoreUndefined, s3 = "number" == typeof r4.index ? r4.index : 0, a3 = je(Ue, t4, n3, 0, 0, o3, i3, null);
          return e4.set(Ue.subarray(0, a3), s3), s3 + a3 - 1;
        }
        __name(Le, "Le");
        function Ve(t4, e4 = {}) {
          return Xt(rt.toLocalBufferType(t4), e4);
        }
        __name(Ve, "Ve");
        function qe(t4, e4 = {}) {
          return zt(t4, "boolean" == typeof (e4 = e4 || {}).serializeFunctions && e4.serializeFunctions, "boolean" != typeof e4.ignoreUndefined || e4.ignoreUndefined);
        }
        __name(qe, "qe");
        function Je(t4, e4, r4, n3, o3, i3) {
          const s3 = Object.assign({ allowObjectSmallerThanBufferSize: true, index: 0 }, i3), a3 = rt.toLocalBufferType(t4);
          let u3 = e4;
          for (let t5 = 0; t5 < r4; t5++) {
            const e5 = at2.getInt32LE(a3, u3);
            s3.index = u3, n3[o3 + t5] = Xt(a3, s3), u3 += e5;
          }
          return u3;
        }
        __name(Je, "Je");
        var ze = Object.freeze({ __proto__: null, BSONError: q2, BSONOffsetError: K2, BSONRegExp: Ht, BSONRuntimeError: z2, BSONSymbol: Wt, BSONType: V2, BSONValue: nt, BSONVersionError: J2, Binary: ut, Code: ht, DBRef: dt, Decimal128: Rt, Double: Ut, EJSON: Ie, Int32: Ct, Long: $t, MaxKey: Ft, MinKey: Lt, ObjectId: Jt, Timestamp: Qt, UUID: pt, calculateObjectSize: qe, deserialize: Ve, deserializeStream: Je, onDemand: Me, serialize: Fe, serializeWithBufferAndIndex: Le, setInternalBufferSize: Ce });
      }, 6365: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp, o2 = r3(6353).Binary, i2 = r3(6353).UUID, s2 = r3(8768);
        function a2(t4, e4, r4) {
          var o3, i3, u3, l2, f2 = t4;
          return null == t4 && (f2 = 0), Array.isArray(e4) ? (i3 = e4[0], u3 = e4[1]) : o3 = e4, l2 = "number" == typeof f2 || f2 instanceof Number ? n2.alloc(f2) : n2.from(f2, o3, r4), s2.decorate(l2, a2.mixin), l2.isMongooseBuffer = true, l2[a2.pathSymbol] = i3, l2[c2] = u3, l2._subtype = 0, l2;
        }
        __name(a2, "a");
        var u2 = Symbol.for("mongoose#Buffer#_path"), c2 = Symbol.for("mongoose#Buffer#_parent");
        a2.pathSymbol = u2, a2.mixin = { _subtype: void 0, _markModified: function() {
          var t4 = this[c2];
          return t4 && t4.markModified(this[a2.pathSymbol]), this;
        }, write: function() {
          var t4 = n2.prototype.write.apply(this, arguments);
          return t4 > 0 && this._markModified(), t4;
        }, copy: function(t4) {
          var e4 = n2.prototype.copy.apply(this, arguments);
          return t4 && t4.isMongooseBuffer && t4._markModified(), e4;
        } }, s2.each(["writeUInt8", "writeUInt16", "writeUInt32", "writeInt8", "writeInt16", "writeInt32", "writeFloat", "writeDouble", "fill", "utf8Write", "binaryWrite", "asciiWrite", "set", "writeUInt16LE", "writeUInt16BE", "writeUInt32LE", "writeUInt32BE", "writeInt16LE", "writeInt16BE", "writeInt32LE", "writeInt32BE", "writeFloatLE", "writeFloatBE", "writeDoubleLE", "writeDoubleBE"], function(t4) {
          n2.prototype[t4] && (a2.mixin[t4] = function() {
            var e4 = n2.prototype[t4].apply(this, arguments);
            return this._markModified(), e4;
          });
        }), a2.mixin.toObject = function(t4) {
          var e4 = "number" == typeof t4 ? t4 : this._subtype || 0;
          return new o2(n2.from(this), e4);
        }, a2.mixin.$toObject = a2.mixin.toObject, a2.mixin.toBSON = function() {
          return new o2(this, this._subtype || 0);
        }, a2.mixin.toUUID = function() {
          if (4 !== this._subtype)
            throw new Error("Cannot convert a Buffer with subtype " + this._subtype + " to a UUID");
          return new i2(this);
        }, a2.mixin.equals = function(t4) {
          if (!n2.isBuffer(t4))
            return false;
          if (this.length !== t4.length)
            return false;
          for (var e4 = 0; e4 < this.length; ++e4)
            if (this[e4] !== t4[e4])
              return false;
          return true;
        }, a2.mixin.subtype = function(t4) {
          if ("number" != typeof t4)
            throw new TypeError("Invalid subtype. Expected a number");
          this._subtype !== t4 && this._markModified(), this._subtype = t4;
        }, a2.Binary = o2, t3.exports = a2;
      }, 6400: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2, i2 = r3(8093), s2 = r3(9870), a2 = r3(9206), u2 = r3(9939), c2 = r3(783), l2 = r3(9907), f2 = r3(2268), p2 = r3(8188), h2 = r3(9471), y2 = r3(2401), d2 = r3(1697), b2 = r3(8435), m2 = r3(8633), v2 = r3(2151), g2 = r3(674), _ = Function, O2 = /* @__PURE__ */ __name(function(t4) {
          try {
            return _('"use strict"; return (' + t4 + ").constructor;")();
          } catch (t5) {
          }
        }, "O"), w2 = r3(1464), S2 = r3(988), $ = /* @__PURE__ */ __name(function() {
          throw new f2();
        }, "$"), j2 = w2 ? function() {
          try {
            return $;
          } catch (t4) {
            try {
              return w2(arguments, "callee").get;
            } catch (t5) {
              return $;
            }
          }
        }() : $, P2 = r3(5510)(), A2 = r3(209), E2 = r3(5825), x2 = r3(2403), T2 = r3(3279), k2 = r3(3123), N2 = {}, I2 = "undefined" != typeof Uint8Array && A2 ? A2(Uint8Array) : o2, D2 = { __proto__: null, "%AggregateError%": "undefined" == typeof AggregateError ? o2 : AggregateError, "%Array%": Array, "%ArrayBuffer%": "undefined" == typeof ArrayBuffer ? o2 : ArrayBuffer, "%ArrayIteratorPrototype%": P2 && A2 ? A2([][Symbol.iterator]()) : o2, "%AsyncFromSyncIteratorPrototype%": o2, "%AsyncFunction%": N2, "%AsyncGenerator%": N2, "%AsyncGeneratorFunction%": N2, "%AsyncIteratorPrototype%": N2, "%Atomics%": "undefined" == typeof Atomics ? o2 : Atomics, "%BigInt%": "undefined" == typeof BigInt ? o2 : BigInt, "%BigInt64Array%": "undefined" == typeof BigInt64Array ? o2 : BigInt64Array, "%BigUint64Array%": "undefined" == typeof BigUint64Array ? o2 : BigUint64Array, "%Boolean%": Boolean, "%DataView%": "undefined" == typeof DataView ? o2 : DataView, "%Date%": Date, "%decodeURI%": decodeURI, "%decodeURIComponent%": decodeURIComponent, "%encodeURI%": encodeURI, "%encodeURIComponent%": encodeURIComponent, "%Error%": s2, "%eval%": eval, "%EvalError%": a2, "%Float16Array%": "undefined" == typeof Float16Array ? o2 : Float16Array, "%Float32Array%": "undefined" == typeof Float32Array ? o2 : Float32Array, "%Float64Array%": "undefined" == typeof Float64Array ? o2 : Float64Array, "%FinalizationRegistry%": "undefined" == typeof FinalizationRegistry ? o2 : FinalizationRegistry, "%Function%": _, "%GeneratorFunction%": N2, "%Int8Array%": "undefined" == typeof Int8Array ? o2 : Int8Array, "%Int16Array%": "undefined" == typeof Int16Array ? o2 : Int16Array, "%Int32Array%": "undefined" == typeof Int32Array ? o2 : Int32Array, "%isFinite%": isFinite, "%isNaN%": isNaN, "%IteratorPrototype%": P2 && A2 ? A2(A2([][Symbol.iterator]())) : o2, "%JSON%": "object" === ("undefined" == typeof JSON ? "undefined" : n2(JSON)) ? JSON : o2, "%Map%": "undefined" == typeof Map ? o2 : Map, "%MapIteratorPrototype%": "undefined" != typeof Map && P2 && A2 ? A2((/* @__PURE__ */ new Map())[Symbol.iterator]()) : o2, "%Math%": Math, "%Number%": Number, "%Object%": i2, "%Object.getOwnPropertyDescriptor%": w2, "%parseFloat%": parseFloat, "%parseInt%": parseInt, "%Promise%": "undefined" == typeof Promise ? o2 : Promise, "%Proxy%": "undefined" == typeof Proxy ? o2 : Proxy, "%RangeError%": u2, "%ReferenceError%": c2, "%Reflect%": "undefined" == typeof Reflect ? o2 : Reflect, "%RegExp%": RegExp, "%Set%": "undefined" == typeof Set ? o2 : Set, "%SetIteratorPrototype%": "undefined" != typeof Set && P2 && A2 ? A2((/* @__PURE__ */ new Set())[Symbol.iterator]()) : o2, "%SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? o2 : SharedArrayBuffer, "%String%": String, "%StringIteratorPrototype%": P2 && A2 ? A2(""[Symbol.iterator]()) : o2, "%Symbol%": P2 ? Symbol : o2, "%SyntaxError%": l2, "%ThrowTypeError%": j2, "%TypedArray%": I2, "%TypeError%": f2, "%Uint8Array%": "undefined" == typeof Uint8Array ? o2 : Uint8Array, "%Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? o2 : Uint8ClampedArray, "%Uint16Array%": "undefined" == typeof Uint16Array ? o2 : Uint16Array, "%Uint32Array%": "undefined" == typeof Uint32Array ? o2 : Uint32Array, "%URIError%": p2, "%WeakMap%": "undefined" == typeof WeakMap ? o2 : WeakMap, "%WeakRef%": "undefined" == typeof WeakRef ? o2 : WeakRef, "%WeakSet%": "undefined" == typeof WeakSet ? o2 : WeakSet, "%Function.prototype.call%": k2, "%Function.prototype.apply%": T2, "%Object.defineProperty%": S2, "%Object.getPrototypeOf%": E2, "%Math.abs%": h2, "%Math.floor%": y2, "%Math.max%": d2, "%Math.min%": b2, "%Math.pow%": m2, "%Math.round%": v2, "%Math.sign%": g2, "%Reflect.getPrototypeOf%": x2 };
        if (A2)
          try {
            null.error;
          } catch (t4) {
            var B2 = A2(A2(t4));
            D2["%Error.prototype%"] = B2;
          }
        var M2 = /* @__PURE__ */ __name(function t4(e4) {
          var r4;
          if ("%AsyncFunction%" === e4)
            r4 = O2("async function () {}");
          else if ("%GeneratorFunction%" === e4)
            r4 = O2("function* () {}");
          else if ("%AsyncGeneratorFunction%" === e4)
            r4 = O2("async function* () {}");
          else if ("%AsyncGenerator%" === e4) {
            var n3 = t4("%AsyncGeneratorFunction%");
            n3 && (r4 = n3.prototype);
          } else if ("%AsyncIteratorPrototype%" === e4) {
            var o3 = t4("%AsyncGenerator%");
            o3 && A2 && (r4 = A2(o3.prototype));
          }
          return D2[e4] = r4, r4;
        }, "t"), R2 = { __proto__: null, "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"], "%ArrayPrototype%": ["Array", "prototype"], "%ArrayProto_entries%": ["Array", "prototype", "entries"], "%ArrayProto_forEach%": ["Array", "prototype", "forEach"], "%ArrayProto_keys%": ["Array", "prototype", "keys"], "%ArrayProto_values%": ["Array", "prototype", "values"], "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"], "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"], "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"], "%BooleanPrototype%": ["Boolean", "prototype"], "%DataViewPrototype%": ["DataView", "prototype"], "%DatePrototype%": ["Date", "prototype"], "%ErrorPrototype%": ["Error", "prototype"], "%EvalErrorPrototype%": ["EvalError", "prototype"], "%Float32ArrayPrototype%": ["Float32Array", "prototype"], "%Float64ArrayPrototype%": ["Float64Array", "prototype"], "%FunctionPrototype%": ["Function", "prototype"], "%Generator%": ["GeneratorFunction", "prototype"], "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"], "%Int8ArrayPrototype%": ["Int8Array", "prototype"], "%Int16ArrayPrototype%": ["Int16Array", "prototype"], "%Int32ArrayPrototype%": ["Int32Array", "prototype"], "%JSONParse%": ["JSON", "parse"], "%JSONStringify%": ["JSON", "stringify"], "%MapPrototype%": ["Map", "prototype"], "%NumberPrototype%": ["Number", "prototype"], "%ObjectPrototype%": ["Object", "prototype"], "%ObjProto_toString%": ["Object", "prototype", "toString"], "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"], "%PromisePrototype%": ["Promise", "prototype"], "%PromiseProto_then%": ["Promise", "prototype", "then"], "%Promise_all%": ["Promise", "all"], "%Promise_reject%": ["Promise", "reject"], "%Promise_resolve%": ["Promise", "resolve"], "%RangeErrorPrototype%": ["RangeError", "prototype"], "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"], "%RegExpPrototype%": ["RegExp", "prototype"], "%SetPrototype%": ["Set", "prototype"], "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"], "%StringPrototype%": ["String", "prototype"], "%SymbolPrototype%": ["Symbol", "prototype"], "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"], "%TypedArrayPrototype%": ["TypedArray", "prototype"], "%TypeErrorPrototype%": ["TypeError", "prototype"], "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"], "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"], "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"], "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"], "%URIErrorPrototype%": ["URIError", "prototype"], "%WeakMapPrototype%": ["WeakMap", "prototype"], "%WeakSetPrototype%": ["WeakSet", "prototype"] }, U2 = r3(2354), C2 = r3(5994), F2 = U2.call(k2, Array.prototype.concat), L2 = U2.call(T2, Array.prototype.splice), V2 = U2.call(k2, String.prototype.replace), q2 = U2.call(k2, String.prototype.slice), J2 = U2.call(k2, RegExp.prototype.exec), z2 = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g, K2 = /\\(\\)?/g, H2 = /* @__PURE__ */ __name(function(t4, e4) {
          var r4, n3 = t4;
          if (C2(R2, n3) && (n3 = "%" + (r4 = R2[n3])[0] + "%"), C2(D2, n3)) {
            var o3 = D2[n3];
            if (o3 === N2 && (o3 = M2(n3)), void 0 === o3 && !e4)
              throw new f2("intrinsic " + t4 + " exists, but is not available. Please file an issue!");
            return { alias: r4, name: n3, value: o3 };
          }
          throw new l2("intrinsic " + t4 + " does not exist!");
        }, "H");
        t3.exports = function(t4, e4) {
          if ("string" != typeof t4 || 0 === t4.length)
            throw new f2("intrinsic name must be a non-empty string");
          if (arguments.length > 1 && "boolean" != typeof e4)
            throw new f2('"allowMissing" argument must be a boolean');
          if (null === J2(/^%?[^%]*%?$/, t4))
            throw new l2("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
          var r4 = function(t5) {
            var e5 = q2(t5, 0, 1), r5 = q2(t5, -1);
            if ("%" === e5 && "%" !== r5)
              throw new l2("invalid intrinsic syntax, expected closing `%`");
            if ("%" === r5 && "%" !== e5)
              throw new l2("invalid intrinsic syntax, expected opening `%`");
            var n4 = [];
            return V2(t5, z2, function(t6, e6, r6, o4) {
              n4[n4.length] = r6 ? V2(o4, K2, "$1") : e6 || t6;
            }), n4;
          }(t4), n3 = r4.length > 0 ? r4[0] : "", o3 = H2("%" + n3 + "%", e4), i3 = o3.name, s3 = o3.value, a3 = false, u3 = o3.alias;
          u3 && (n3 = u3[0], L2(r4, F2([0, 1], u3)));
          for (var c3 = 1, p3 = true; c3 < r4.length; c3 += 1) {
            var h3 = r4[c3], y3 = q2(h3, 0, 1), d3 = q2(h3, -1);
            if (('"' === y3 || "'" === y3 || "`" === y3 || '"' === d3 || "'" === d3 || "`" === d3) && y3 !== d3)
              throw new l2("property names with quotes must have matching quotes");
            if ("constructor" !== h3 && p3 || (a3 = true), C2(D2, i3 = "%" + (n3 += "." + h3) + "%"))
              s3 = D2[i3];
            else if (null != s3) {
              if (!(h3 in s3)) {
                if (!e4)
                  throw new f2("base intrinsic for " + t4 + " exists, but the property is not available.");
                return;
              }
              if (w2 && c3 + 1 >= r4.length) {
                var b3 = w2(s3, h3);
                s3 = (p3 = !!b3) && "get" in b3 && !("originalValue" in b3.get) ? b3.get : s3[h3];
              } else
                p3 = C2(s3, h3), s3 = s3[h3];
              p3 && !a3 && (D2[i3] = s3);
            }
          }
          return s3;
        };
      }, 6413: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        var s2 = r3(3609), a2 = r3(6426), u2 = r3(8953), c2 = r3(4327);
        function l2(t4, e4, r4, n3) {
          a2.call(this, t4, e4, "Boolean", n3);
        }
        __name(l2, "l");
        l2.schemaName = "Boolean", l2.defaultOptions = {}, l2.prototype = Object.create(a2.prototype), l2.prototype.constructor = l2, l2._cast = u2, l2.set = a2.set, l2.setters = [], l2.get = a2.get, l2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, l2._defaultCaster = function(t4) {
          if (null != t4 && "boolean" != typeof t4)
            throw new Error();
          return t4;
        }, l2._checkRequired = function(t4) {
          return true === t4 || false === t4;
        }, l2.checkRequired = a2.checkRequired, l2.prototype.checkRequired = function(t4) {
          return this.constructor._checkRequired(t4);
        }, Object.defineProperty(l2, "convertToTrue", { get: function() {
          return u2.convertToTrue;
        }, set: function(t4) {
          u2.convertToTrue = t4;
        } }), Object.defineProperty(l2, "convertToFalse", { get: function() {
          return u2.convertToFalse;
        }, set: function(t4) {
          u2.convertToFalse = t4;
        } }), l2.prototype.cast = function(t4) {
          var e4;
          e4 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : l2.cast();
          try {
            return e4(t4);
          } catch (e5) {
            throw new s2("Boolean", t4, this.path, e5, this);
          }
        };
        var f2 = function(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              i2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }({}, a2.prototype.$conditionalHandlers);
        Object.defineProperty(l2.prototype, "$conditionalHandlers", { enumerable: false, value: f2 }), l2.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4)
            return (n3 = this.$conditionalHandlers[t4]) ? n3.call(this, e4) : this.applySetters(e4, r4);
          try {
            return this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof s2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
        }, l2.prototype._castNullish = function(t4) {
          if (void 0 === t4)
            return t4;
          var e4 = "function" == typeof this.constructor.cast ? this.constructor.cast() : l2.cast();
          return null == e4 ? t4 : !(e4.convertToFalse instanceof Set && e4.convertToFalse.has(t4)) && (!!(e4.convertToTrue instanceof Set && e4.convertToTrue.has(t4)) || t4);
        }, l2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return c2("boolean", "bool", null == t4 ? void 0 : t4.useBsonType, e4);
        }, l2.prototype.autoEncryptionType = function() {
          return "bool";
        }, t3.exports = l2;
      }, 6426: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != s2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != s2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == s2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2(t4) {
          return s2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, s2(t4);
        }
        __name(s2, "s");
        var a2 = r3(3672), u2 = r3(8879), c2 = r3(8499), l2 = r3(2555), f2 = r3(4450), p2 = r3(8133), h2 = r3(9183), y2 = r3(6155), d2 = r3(2746), b2 = r3(7930).schemaTypeSymbol, m2 = r3(8768), v2 = r3(7930).validatorErrorSymbol, g2 = r3(7930).documentIsModified, _ = r3(7930).populateModelSymbol, O2 = a2.CastError, w2 = a2.ValidatorError, S2 = { _skipMarkModified: true };
        function $(t4, e4, r4, n3) {
          this[b2] = true, this.path = t4, this.instance = r4, this.schemaName = this.constructor.schemaName, this.validators = [], this.getters = Object.hasOwn(this.constructor, "getters") ? this.constructor.getters.slice() : [], this.setters = Object.hasOwn(this.constructor, "setters") ? this.constructor.setters.slice() : [], this.splitPath(), e4 = e4 || {};
          for (var o3 = this.constructor.defaultOptions || {}, i3 = 0, a3 = Object.keys(o3); i3 < a3.length; i3++) {
            var c3 = a3[i3];
            "validate" === c3 ? this.validate(o3.validate) : Object.hasOwn(o3, c3) && !Object.hasOwn(e4, c3) && (e4[c3] = o3[c3]);
          }
          null == e4.select && delete e4.select;
          var l3 = this.OptionsConstructor || u2;
          this.options = new l3(e4), this.parentSchema = n3, this._index = null, m2.hasUserDefinedProperty(this.options, "immutable") && (this.$immutable = this.options.immutable, p2(this));
          for (var f3 = 0, h3 = Object.keys(this.options); f3 < h3.length; f3++) {
            var y3 = h3[f3];
            if ("cast" !== y3) {
              if (m2.hasUserDefinedProperty(this.options, y3) && "function" == typeof this[y3]) {
                if ("index" === y3 && this._index) {
                  if (false === e4.index) {
                    var d3 = this._index;
                    if ("object" === s2(d3) && null != d3) {
                      if (d3.unique)
                        throw new Error('Path "' + this.path + '" may not have `index` set to false and `unique` set to true');
                      if (d3.sparse)
                        throw new Error('Path "' + this.path + '" may not have `index` set to false and `sparse` set to true');
                    }
                    this._index = false;
                  }
                  continue;
                }
                var v3 = e4[y3];
                if ("default" === y3) {
                  this.default(v3);
                  continue;
                }
                var g3 = Array.isArray(v3) ? v3 : [v3];
                this[y3].apply(this, g3);
              }
            } else
              Array.isArray(this.options[y3]) ? this.castFunction.apply(this, this.options[y3]) : this.castFunction(this.options[y3]);
          }
          Object.defineProperty(this, "$$context", { enumerable: false, configurable: false, writable: true, value: null });
        }
        __name($, "$");
        function j2(t4, e4) {
          if (void 0 !== t4 && !t4) {
            var r4 = new (e4.ErrorConstructor || w2)(e4);
            return r4[v2] = true, r4;
          }
        }
        __name(j2, "j");
        function P2(t4, e4) {
          return this.castForQuery(null, t4, e4);
        }
        __name(P2, "P");
        function A2(t4, e4) {
          var r4 = this;
          return Array.isArray(t4) ? t4.map(function(t5) {
            return Array.isArray(t5) && 0 === t5.length ? t5 : r4.castForQuery(null, t5, e4);
          }) : [this.castForQuery(null, t4, e4)];
        }
        __name(A2, "A");
        $.prototype.OptionsConstructor = u2, $.prototype.path, $.prototype.toJSON = function() {
          var t4 = function(t5) {
            for (var e4 = 1; e4 < arguments.length; e4++) {
              var r4 = null != arguments[e4] ? arguments[e4] : {};
              e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
                i2(t5, e5, r4[e5]);
              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
                Object.defineProperty(t5, e5, Object.getOwnPropertyDescriptor(r4, e5));
              });
            }
            return t5;
          }({}, this);
          return delete t4.parentSchema, t4;
        }, $.prototype.validators, $.prototype.isRequired, $.prototype.splitPath = function() {
          return null != this._presplitPath ? this._presplitPath : null != this.path ? (this._presplitPath = -1 === this.path.indexOf(".") ? [this.path] : this.path.split("."), this._presplitPath) : void 0;
        }, $.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = /* @__PURE__ */ __name(function(t5) {
            return t5;
          }, "t")), this._cast = t4), this._cast;
        }, $.prototype.castFunction = function(t4, e4) {
          return 0 === arguments.length ? this._castFunction : (false === t4 && (t4 = this.constructor._defaultCaster || function(t5) {
            return t5;
          }), "string" == typeof t4 ? (this._castErrorMessage = t4, this._castFunction) : (null != t4 && (this._castFunction = t4), null != e4 && (this._castErrorMessage = e4), this._castFunction));
        }, $.prototype.cast = function() {
          throw new Error("Base SchemaType class does not implement a `cast()` function");
        }, $.set = function(t4, e4) {
          Object.hasOwn(this, "defaultOptions") || (this.defaultOptions = Object.assign({}, this.defaultOptions)), this.defaultOptions[t4] = e4;
        }, $.get = function(t4) {
          this.getters = Object.hasOwn(this, "getters") ? this.getters : [], this.getters.push(t4);
        }, $.prototype.default = function(t4) {
          if (1 === arguments.length) {
            if (void 0 === t4)
              return void (this.defaultValue = void 0);
            if (null != t4 && t4.instanceOfSchema)
              throw new a2("Cannot set default value of path `" + this.path + "` to a mongoose Schema instance.");
            return this.defaultValue = t4, this.defaultValue;
          }
          return arguments.length > 1 && (this.defaultValue = Array.prototype.slice.call(arguments)), this.defaultValue;
        }, $.prototype.index = function(t4) {
          return this._index = t4, m2.expires(this._index), this;
        }, $.prototype.unique = function(t4, e4) {
          if (false === this._index) {
            if (!t4)
              return;
            throw new Error('Path "' + this.path + '" may not have `index` set to false and `unique` set to true');
          }
          return Object.hasOwn(this.options, "index") || false !== t4 ? (null == this._index || true === this._index ? this._index = {} : "string" == typeof this._index && (this._index = { type: this._index }), this._index.unique = !!t4, "string" == typeof e4 && (this._duplicateKeyErrorMessage = e4), this) : this;
        }, $.prototype.text = function(t4) {
          if (false === this._index) {
            if (!t4)
              return this;
            throw new Error('Path "' + this.path + '" may not have `index` set to false and `text` set to true');
          }
          return Object.hasOwn(this.options, "index") || false !== t4 ? (null === this._index || void 0 === this._index || "boolean" == typeof this._index ? this._index = {} : "string" == typeof this._index && (this._index = { type: this._index }), this._index.text = t4, this) : this;
        }, $.prototype.sparse = function(t4) {
          if (false === this._index) {
            if (!t4)
              return this;
            throw new Error('Path "' + this.path + '" may not have `index` set to false and `sparse` set to true');
          }
          return Object.hasOwn(this.options, "index") || false !== t4 ? (null == this._index || "boolean" == typeof this._index ? this._index = {} : "string" == typeof this._index && (this._index = { type: this._index }), this._index.sparse = t4, this) : this;
        }, $.prototype.immutable = function(t4) {
          return this.$immutable = t4, p2(this), this;
        }, $.prototype.transform = function(t4) {
          return this.options.transform = t4, this;
        }, $.prototype.set = function(t4) {
          if ("function" != typeof t4)
            throw new TypeError("A setter must be a function.");
          return this.setters.push(t4), this;
        }, $.prototype.get = function(t4) {
          if ("function" != typeof t4)
            throw new TypeError("A getter must be a function.");
          return this.getters.push(t4), this;
        }, $.prototype.validateAll = function(t4) {
          for (var e4 = 0; e4 < t4.length; e4++)
            this.validate(t4[e4]);
          return this;
        }, $.prototype.validate = function(t4, e4, r4) {
          var n3, o3, i3, u3;
          if ("function" == typeof t4 || t4 && "RegExp" === m2.getFunctionName(t4.constructor))
            return "function" == typeof e4 ? (n3 = { validator: t4, message: e4 }).type = r4 || "user defined" : e4 instanceof Object && !r4 ? ((n3 = y2(e4) ? Object.assign({}, e4) : f2(e4)).message || (n3.message = n3.msg), n3.validator = t4, n3.type = n3.type || "user defined") : (null == e4 && (e4 = a2.messages.general.default), r4 || (r4 = "user defined"), n3 = { message: e4, type: r4, validator: t4 }), this.validators.push(n3), this;
          for (o3 = 0, i3 = arguments.length; o3 < i3; o3++) {
            if (u3 = arguments[o3], !m2.isPOJO(u3)) {
              var c3 = "Invalid validator. Received (" + s2(u3) + ") " + u3 + ". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";
              throw new Error(c3);
            }
            this.validate(u3.validator, u3);
          }
          return this;
        }, $.prototype.required = function(t4, e4) {
          var r4 = {};
          if (arguments.length > 0 && null == t4)
            return this.validators = this.validators.filter(function(t5) {
              return t5.validator !== this.requiredValidator;
            }, this), this.isRequired = false, delete this.originalRequiredValue, this;
          if ("object" === s2(t4) && (e4 = (r4 = t4).message || e4, t4 = t4.isRequired), false === t4)
            return this.validators = this.validators.filter(function(t5) {
              return t5.validator !== this.requiredValidator;
            }, this), this.isRequired = false, delete this.originalRequiredValue, this;
          var n3 = this;
          this.isRequired = true, this.requiredValidator = function(e5) {
            var r5 = this && this.$__ && this.$__.cachedRequired;
            if (null != r5 && !this.$__isSelected(n3.path) && !this[g2](n3.path))
              return true;
            if (null != r5 && n3.path in r5) {
              var o4 = !r5[n3.path] || n3.checkRequired(e5, this);
              return delete r5[n3.path], o4;
            }
            return "function" == typeof t4 && !t4.apply(this) || n3.checkRequired(e5, this);
          }, this.originalRequiredValue = t4, "string" == typeof t4 && (e4 = t4, t4 = void 0);
          var o3 = e4 || a2.messages.general.required;
          return this.validators.unshift(Object.assign({}, r4, { validator: this.requiredValidator, message: o3, type: "required" })), this;
        }, $.prototype.ref = function(t4) {
          return this.options.ref = t4, this;
        }, $.prototype.getDefault = function(t4, e4, r4) {
          var n3;
          if (null == this.defaultValue)
            return this.defaultValue;
          if (null != (n3 = "function" == typeof this.defaultValue ? this.defaultValue === Date.now || this.defaultValue === Array || "objectid" === this.defaultValue.name.toLowerCase() ? this.defaultValue.call(t4) : this.defaultValue.call(t4, t4) : this.defaultValue)) {
            if ("object" !== s2(n3) || this.options && this.options.shared || (n3 = f2(n3)), r4 && r4.skipCast)
              return this._applySetters(n3, t4);
            var o3 = this.applySetters(n3, t4, e4, void 0, S2);
            return o3 && !Array.isArray(o3) && o3.$isSingleNested && (o3.$__parent = t4), o3;
          }
          return n3;
        }, $.prototype._applySetters = function(t4, e4, r4, n3, o3) {
          var i3 = t4;
          if (r4)
            return i3;
          for (var s3 = this.setters, a3 = s3.length - 1; a3 >= 0; a3--)
            i3 = s3[a3].call(e4, i3, n3, this, o3);
          return i3;
        }, $.prototype._castNullish = function(t4) {
          return t4;
        }, $.prototype.applySetters = function(t4, e4, r4, n3, o3) {
          var i3 = this._applySetters(t4, e4, r4, n3, o3);
          return null == i3 ? this._castNullish(i3) : i3 = this.cast(i3, e4, r4, n3, o3);
        }, $.prototype.applyGetters = function(t4, e4) {
          var r4 = t4, n3 = this.getters, o3 = n3.length;
          if (0 === o3)
            return r4;
          for (var i3 = 0; i3 < o3; ++i3)
            r4 = n3[i3].call(e4, r4, this);
          return r4;
        }, $.prototype.select = function(t4) {
          return this.selected = !!t4, this;
        }, $.prototype.doValidate = function(t4, e4, r4, n3) {
          var o3 = this, i3 = false, a3 = this.path;
          if ("function" != typeof e4)
            throw new TypeError("Must pass callback function to doValidate(), got ".concat(s2(e4)));
          var u3 = this.validators.filter(function(t5) {
            return "object" === s2(t5) && null !== t5;
          }), c3 = u3.length;
          if (!c3)
            return e4(null);
          for (var l3 = function() {
            if (i3)
              return 0;
            var e5, s3 = u3[p3], c4 = s3.validator, l4 = y2(s3) ? Object.assign({}, s3) : f2(s3);
            if (l4.path = n3 && n3.path ? n3.path : a3, l4.fullPath = o3.$fullPath, l4.value = t4, "string" == typeof t4 && (l4.length = t4.length, l4.value.length > 30 && (l4.value = l4.value.slice(0, 30) + "...")), c4 instanceof RegExp)
              return b3(c4.test(t4), l4, r4), 1;
            if ("function" != typeof c4)
              return 1;
            if (void 0 === t4 && c4 !== o3.requiredValidator)
              return b3(true, l4, r4), 1;
            try {
              e5 = l4.propsParameter ? c4.call(r4, t4, l4) : c4.call(r4, t4);
            } catch (t5) {
              e5 = false, l4.reason = t5, t5.message && (l4.message = t5.message);
            }
            null != e5 && "function" == typeof e5.then ? e5.then(function(t5) {
              b3(t5, l4, r4);
            }, function(t5) {
              l4.reason = t5, l4.message = t5.message, b3(e5 = false, l4, r4);
            }) : b3(e5, l4, r4);
          }, p3 = 0, h3 = u3.length; p3 < h3 && 0 !== l3(); ++p3)
            ;
          function b3(t5, r5, n4) {
            if (!i3)
              if (void 0 === t5 || t5)
                --c3 <= 0 && d2(function() {
                  e4(null);
                });
              else {
                var o4 = r5.ErrorConstructor || w2;
                (i3 = new o4(r5, n4))[v2] = true, d2(function() {
                  e4(i3);
                });
              }
          }
          __name(b3, "b");
        }, $.prototype.doValidateSync = function(t4, e4, r4) {
          var n3 = this.path;
          if (!this.validators.length)
            return null;
          var o3 = this.validators;
          if (void 0 === t4) {
            if (0 === this.validators.length || "required" !== this.validators[0].type)
              return null;
            o3 = [this.validators[0]];
          }
          var i3 = null, a3 = 0, u3 = o3.length;
          for (a3 = 0; a3 < u3; ++a3) {
            var c3 = o3[a3];
            if (null !== c3 && "object" === s2(c3)) {
              var l3 = c3.validator, p3 = y2(c3) ? Object.assign({}, c3) : f2(c3);
              p3.path = r4 && r4.path ? r4.path : n3, p3.fullPath = this.$fullPath, p3.value = t4, "string" == typeof t4 && (p3.length = t4.length, p3.value.length > 30 && (p3.value = p3.value.slice(0, 30) + "..."));
              var d3 = false;
              if (!h2(l3)) {
                if (l3 instanceof RegExp)
                  i3 = j2(l3.test(t4), p3);
                else if ("function" == typeof l3) {
                  try {
                    d3 = p3.propsParameter ? l3.call(e4, t4, p3) : l3.call(e4, t4);
                  } catch (t5) {
                    d3 = false, p3.reason = t5;
                  }
                  if ((null == d3 || "function" != typeof d3.then) && (i3 = j2(d3, p3)))
                    break;
                }
              }
            }
          }
          return i3;
        }, $._isRef = function(t4, e4, r4, o3) {
          var i3 = o3 && t4.options && (t4.options.ref || t4.options.refPath);
          if (!i3 && r4 && null != r4.$__) {
            var s3 = r4.$__fullPath(t4.path, true), a3 = r4.ownerDocument();
            i3 = null != s3 && a3.$populated(s3) || r4.$populated(t4.path);
          }
          return !!i3 && (null == e4 || !(n2.isBuffer(e4) || "Binary" === e4._bsontype || !m2.isObject(e4)) || o3);
        }, $.prototype._castRef = function(t4, e4, r4, o3) {
          if (null == t4)
            return t4;
          if (null != t4.$__)
            return t4.$__.wasPopulated = t4.$__.wasPopulated || { value: t4._doc._id }, t4;
          if (n2.isBuffer(t4) || !m2.isObject(t4)) {
            if (r4)
              return t4;
            throw new O2(this.instance, t4, this.path, null, this);
          }
          var s3 = e4.$__fullPath(this.path, true), a3 = e4.ownerDocument().$populated(s3, true), u3 = t4;
          if (!(e4.$__.populated && e4.$__.populated[s3] && e4.$__.populated[s3].options && e4.$__.populated[s3].options.options && e4.$__.populated[s3].options.options.lean)) {
            var c3 = a3 ? a3.options[_] : e4.constructor.db.model(this.options.ref);
            (u3 = c3.hydrate(t4, null, o3)).$__.wasPopulated = { value: u3._doc._id, options: i2({}, _, c3) };
          }
          return u3;
        }, $.prototype.$conditionalHandlers = { $all: function(t4, e4) {
          var r4 = this;
          return Array.isArray(t4) ? t4.map(function(t5) {
            return r4.castForQuery(null, t5, e4);
          }) : [this.castForQuery(null, t4, e4)];
        }, $eq: P2, $in: A2, $ne: P2, $nin: A2, $exists: c2, $type: l2 }, $.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4) {
            if (!(n3 = this.$conditionalHandlers[t4]))
              throw new Error("Can't use " + t4);
            return n3.call(this, e4, r4);
          }
          try {
            return this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof O2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
        }, $.checkRequired = function(t4) {
          return 0 !== arguments.length && (this._checkRequired = t4), this._checkRequired;
        }, $.prototype.checkRequired = function(t4) {
          return null != t4;
        }, $.prototype.clone = function() {
          var t4 = Object.assign({}, this.options), e4 = new this.constructor(this.path, t4, this.instance, this.parentSchema);
          return e4.validators = this.validators.slice(), void 0 !== this.requiredValidator && (e4.requiredValidator = this.requiredValidator), void 0 !== this.defaultValue && (e4.defaultValue = this.defaultValue), void 0 !== this.$immutable && void 0 === this.options.immutable && (e4.$immutable = this.$immutable, p2(e4)), void 0 !== this._index && (e4._index = this._index), void 0 !== this.selected && (e4.selected = this.selected), void 0 !== this.isRequired && (e4.isRequired = this.isRequired), void 0 !== this.originalRequiredValue && (e4.originalRequiredValue = this.originalRequiredValue), e4.getters = this.getters.slice(), e4.setters = this.setters.slice(), e4;
        }, $.prototype.getEmbeddedSchemaType = function() {
          return this.$embeddedSchemaType;
        }, $.prototype._duplicateKeyErrorMessage = null, $.prototype.toJSONSchema = function(t4) {
          throw new Error("Converting unsupported SchemaType to JSON Schema: ".concat(this.instance, ' at path "').concat(this.path, '"'));
        }, $.prototype.autoEncryptionType = function() {
          return null;
        }, t3.exports = e3 = $, e3.CastError = O2, e3.ValidatorError = w2;
      }, 6451: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8768).isPOJO;
        t3.exports = /* @__PURE__ */ __name(function t4(e4) {
          for (var r4, o2, i2, s2 = Object.keys(e4), a2 = s2.length; a2--; )
            i2 = e4[o2 = s2[a2]], n2(i2) && (e4[o2] = t4(i2)), void 0 !== e4[o2] ? r4 = true : delete e4[o2];
          return r4 ? e4 : void 0;
        }, "t");
      }, 6511: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(o2, "o");
        function i2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(i2, "i");
        function s2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? i2(Object(r4), true).forEach(function(e5) {
              a2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : i2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(s2, "s");
        function a2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(a2, "a");
        r3(8768);
        var u2 = t3.exports = function() {
        };
        u2.ctor = function() {
          var t4 = Array.prototype.slice.call(arguments), e4 = /* @__PURE__ */ __name(function() {
            u2.apply(this, arguments), this.paths = {}, this.states = {};
          }, "e");
          return (e4.prototype = new u2()).constructor = e4, e4.prototype.stateNames = t4, t4.forEach(function(t5) {
            e4.prototype[t5] = function(e5) {
              this._changeState(e5, t5);
            };
          }), e4;
        }, u2.prototype._changeState = function(t4, e4) {
          var r4 = this.paths[t4];
          if (r4 !== e4) {
            var n3 = this.states[r4];
            n3 && delete n3[t4], this.paths[t4] = e4, this.states[e4] = this.states[e4] || {}, this.states[e4][t4] = true;
          }
        }, u2.prototype.clear = function(t4) {
          if (null != this.states[t4])
            for (var e4, r4 = Object.keys(this.states[t4]), n3 = r4.length; n3--; )
              e4 = r4[n3], delete this.states[t4][e4], delete this.paths[e4];
        }, u2.prototype.clearPath = function(t4) {
          var e4 = this.paths[t4];
          e4 && (delete this.paths[t4], delete this.states[e4][t4]);
        }, u2.prototype.getStatePaths = function(t4) {
          return null != this.states[t4] ? this.states[t4] : {};
        }, u2.prototype.some = function() {
          var t4 = this, e4 = arguments.length ? arguments : this.stateNames;
          return Array.prototype.some.call(e4, function(e5) {
            return null != t4.states[e5] && Object.keys(t4.states[e5]).length;
          });
        }, u2.prototype._iter = function(t4) {
          return function() {
            var e4 = Array.prototype.slice.call(arguments), r4 = e4.pop();
            e4.length || (e4 = this.stateNames);
            var n3 = this;
            return e4.reduce(function(t5, e5) {
              return null == n3.states[e5] ? t5 : t5.concat(Object.keys(n3.states[e5]));
            }, [])[t4](function(t5, e5, n4) {
              return r4(t5, e5, n4);
            });
          };
        }, u2.prototype.forEach = function() {
          return this.forEach = this._iter("forEach"), this.forEach.apply(this, arguments);
        }, u2.prototype.map = function() {
          return this.map = this._iter("map"), this.map.apply(this, arguments);
        }, u2.prototype.clone = function() {
          var t4 = new this.constructor();
          t4.paths = s2({}, this.paths);
          var e4, r4 = function(t5, e5) {
            var r5 = "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
            if (!r5) {
              if (Array.isArray(t5) || (r5 = function(t6, e6) {
                if (t6) {
                  if ("string" == typeof t6)
                    return o2(t6, e6);
                  var r6 = {}.toString.call(t6).slice(8, -1);
                  return "Object" === r6 && t6.constructor && (r6 = t6.constructor.name), "Map" === r6 || "Set" === r6 ? Array.from(t6) : "Arguments" === r6 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r6) ? o2(t6, e6) : void 0;
                }
              }(t5)) || e5 && t5 && "number" == typeof t5.length) {
                r5 && (t5 = r5);
                var n4 = 0, i3 = /* @__PURE__ */ __name(function() {
                }, "i");
                return { s: i3, n: function() {
                  return n4 >= t5.length ? { done: true } : { done: false, value: t5[n4++] };
                }, e: function(t6) {
                  throw t6;
                }, f: i3 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var s3, a3 = true, u3 = false;
            return { s: function() {
              r5 = r5.call(t5);
            }, n: function() {
              var t6 = r5.next();
              return a3 = t6.done, t6;
            }, e: function(t6) {
              u3 = true, s3 = t6;
            }, f: function() {
              try {
                a3 || null == r5.return || r5.return();
              } finally {
                if (u3)
                  throw s3;
              }
            } };
          }(this.stateNames);
          try {
            for (r4.s(); !(e4 = r4.n()).done; ) {
              var n3 = e4.value;
              n3 in this.states && (t4.states[n3] = null == this.states[n3] ? this.states[n3] : s2({}, this.states[n3]));
            }
          } catch (t5) {
            r4.e(t5);
          } finally {
            r4.f();
          }
          return t4;
        };
      }, 6544: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2;
        if (!Object.keys) {
          var i2 = Object.prototype.hasOwnProperty, s2 = Object.prototype.toString, a2 = r3(6312), u2 = Object.prototype.propertyIsEnumerable, c2 = !u2.call({ toString: null }, "toString"), l2 = u2.call(function() {
          }, "prototype"), f2 = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], p2 = /* @__PURE__ */ __name(function(t4) {
            var e4 = t4.constructor;
            return e4 && e4.prototype === t4;
          }, "p"), h2 = { $applicationCache: true, $console: true, $external: true, $frame: true, $frameElement: true, $frames: true, $innerHeight: true, $innerWidth: true, $onmozfullscreenchange: true, $onmozfullscreenerror: true, $outerHeight: true, $outerWidth: true, $pageXOffset: true, $pageYOffset: true, $parent: true, $scrollLeft: true, $scrollTop: true, $scrollX: true, $scrollY: true, $self: true, $webkitIndexedDB: true, $webkitStorageInfo: true, $window: true }, y2 = function() {
            if ("undefined" == typeof window)
              return false;
            for (var t4 in window)
              try {
                if (!h2["$" + t4] && i2.call(window, t4) && null !== window[t4] && "object" === n2(window[t4]))
                  try {
                    p2(window[t4]);
                  } catch (t5) {
                    return true;
                  }
              } catch (t5) {
                return true;
              }
            return false;
          }();
          o2 = /* @__PURE__ */ __name(function(t4) {
            var e4 = null !== t4 && "object" === n2(t4), r4 = "[object Function]" === s2.call(t4), o3 = a2(t4), u3 = e4 && "[object String]" === s2.call(t4), h3 = [];
            if (!e4 && !r4 && !o3)
              throw new TypeError("Object.keys called on a non-object");
            var d2 = l2 && r4;
            if (u3 && t4.length > 0 && !i2.call(t4, 0))
              for (var b2 = 0; b2 < t4.length; ++b2)
                h3.push(String(b2));
            if (o3 && t4.length > 0)
              for (var m2 = 0; m2 < t4.length; ++m2)
                h3.push(String(m2));
            else
              for (var v2 in t4)
                d2 && "prototype" === v2 || !i2.call(t4, v2) || h3.push(String(v2));
            if (c2)
              for (var g2 = function(t5) {
                if ("undefined" == typeof window || !y2)
                  return p2(t5);
                try {
                  return p2(t5);
                } catch (t6) {
                  return false;
                }
              }(t4), _ = 0; _ < f2.length; ++_)
                g2 && "constructor" === f2[_] || !i2.call(t4, f2[_]) || h3.push(f2[_]);
            return h3;
          }, "o");
        }
        t3.exports = o2;
      }, 6547: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(n2, "n");
        function o2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != i2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != i2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == i2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, i2(t4);
        }
        __name(i2, "i");
        var s2 = r3(3550).EventEmitter, a2 = r3(9380), u2 = r3(8768), c2 = r3(7930).documentArrayParent;
        function l2(t4, e4, r4, s3, l3) {
          var f3;
          u2.isMongooseDocumentArray(e4) ? (this.__parentArray = e4, this[c2] = e4.$parent()) : (this.__parentArray = void 0, this[c2] = void 0), this.$setIndex(l3), this.$__parent = this[c2], "object" === i2(r4) && null != r4 ? (f3 = function(t5) {
            for (var e5 = 1; e5 < arguments.length; e5++) {
              var r5 = null != arguments[e5] ? arguments[e5] : {};
              e5 % 2 ? n2(Object(r5), true).forEach(function(e6) {
                o2(t5, e6, r5[e6]);
              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(r5)) : n2(Object(r5)).forEach(function(e6) {
                Object.defineProperty(t5, e6, Object.getOwnPropertyDescriptor(r5, e6));
              });
            }
            return t5;
          }({ isNew: true }, r4), r4 = void 0) : f3 = { isNew: true }, a2.call(this, t4, s3, this[c2], r4, f3);
        }
        __name(l2, "l");
        for (var f2 in l2.prototype = Object.create(a2.prototype), l2.prototype.constructor = l2, Object.defineProperty(l2.prototype, "$isSingleNested", { configurable: false, writable: false, value: false }), Object.defineProperty(l2.prototype, "$isDocumentArrayElement", { configurable: false, writable: false, value: true }), s2.prototype)
          l2[f2] = s2.prototype[f2];
        l2.prototype.$setIndex = function(t4) {
          if (this.__index = t4, null != this.$__ && null != this.$__.validationError)
            for (var e4 = 0, r4 = Object.keys(this.$__.validationError.errors); e4 < r4.length; e4++) {
              var n3 = r4[e4];
              this.invalidate(n3, this.$__.validationError.errors[n3]);
            }
        }, l2.prototype.populate = function() {
          throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`');
        }, l2.prototype.$__removeFromParent = function() {
          var t4 = this._doc._id;
          if (!t4)
            throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");
          this.__parentArray.pull({ _id: t4 });
        }, l2.prototype.$__fullPath = function(t4, e4) {
          return null == this.__index ? null : (this.$__.fullPath || this.ownerDocument(), e4 ? t4 ? this.$__.fullPath + "." + t4 : this.$__.fullPath : t4 ? this.$__.fullPath + "." + this.__index + "." + t4 : this.$__.fullPath + "." + this.__index);
        }, l2.prototype.$__pathRelativeToParent = function(t4, e4) {
          return null != this.__index && this.__parentArray && this.__parentArray.$path ? e4 ? null == t4 ? this.__parentArray.$path() : this.__parentArray.$path() + "." + t4 : null == t4 ? this.__parentArray.$path() + "." + this.__index : this.__parentArray.$path() + "." + this.__index + "." + t4 : null;
        }, l2.prototype.$parent = function() {
          return this[c2];
        }, l2.prototype.parentArray = function() {
          return this.__parentArray;
        }, t3.exports = l2;
      }, 6583: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2, i2 = r3(8863), s2 = r3(1464);
        try {
          o2 = [].__proto__ === Array.prototype;
        } catch (t4) {
          if (!t4 || "object" !== n2(t4) || !("code" in t4) || "ERR_PROTO_ACCESS" !== t4.code)
            throw t4;
        }
        var a2 = !!o2 && s2 && s2(Object.prototype, "__proto__"), u2 = Object, c2 = u2.getPrototypeOf;
        t3.exports = a2 && "function" == typeof a2.get ? i2([a2.get]) : "function" == typeof c2 && function(t4) {
          return c2(null == t4 ? t4 : u2(t4));
        };
      }, 6665: (t3) => {
        "use strict";
        t3.exports = function(t4, e3) {
          for (var r3, n2, o2, i2 = e3.split("."), s2 = "", a2 = 0; a2 < i2.length; ++a2)
            if (t4[s2 += s2.length ? "." : "" + i2[a2]]) {
              for (o2 = (n2 = Object.keys(t4)).length, r3 = 0; r3 < o2; ++r3)
                0 !== n2[a2].indexOf(s2 + ".") || n2[a2].indexOf(e3);
              return true;
            }
          return false;
        };
      }, 6730: (t3) => {
        "use strict";
        var e3 = Object.prototype.toString, r3 = Math.max, n2 = /* @__PURE__ */ __name(function(t4, e4) {
          for (var r4 = [], n3 = 0; n3 < t4.length; n3 += 1)
            r4[n3] = t4[n3];
          for (var o2 = 0; o2 < e4.length; o2 += 1)
            r4[o2 + t4.length] = e4[o2];
          return r4;
        }, "n");
        t3.exports = function(t4) {
          var o2 = this;
          if ("function" != typeof o2 || "[object Function]" !== e3.apply(o2))
            throw new TypeError("Function.prototype.bind called on incompatible " + o2);
          for (var i2, s2 = function(t5) {
            for (var e4 = [], r4 = 1, n3 = 0; r4 < t5.length; r4 += 1, n3 += 1)
              e4[n3] = t5[r4];
            return e4;
          }(arguments), a2 = r3(0, o2.length - s2.length), u2 = [], c2 = 0; c2 < a2; c2++)
            u2[c2] = "$" + c2;
          if (i2 = Function("binder", "return function (" + function(t5) {
            for (var e4 = "", r4 = 0; r4 < t5.length; r4 += 1)
              e4 += t5[r4], r4 + 1 < t5.length && (e4 += ",");
            return e4;
          }(u2) + "){ return binder.apply(this,arguments); }")(function() {
            if (this instanceof i2) {
              var e4 = o2.apply(this, n2(s2, arguments));
              return Object(e4) === e4 ? e4 : this;
            }
            return o2.apply(t4, n2(s2, arguments));
          }), o2.prototype) {
            var l2 = /* @__PURE__ */ __name(function() {
            }, "l");
            l2.prototype = o2.prototype, i2.prototype = new l2(), l2.prototype = null;
          }
          return i2;
        };
      }, 6750: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(988), i2 = r3(9907), s2 = r3(2268), a2 = r3(1464);
        t3.exports = function(t4, e4, r4) {
          if (!t4 || "object" !== n2(t4) && "function" != typeof t4)
            throw new s2("`obj` must be an object or a function`");
          if ("string" != typeof e4 && "symbol" !== n2(e4))
            throw new s2("`property` must be a string or a symbol`");
          if (arguments.length > 3 && "boolean" != typeof arguments[3] && null !== arguments[3])
            throw new s2("`nonEnumerable`, if provided, must be a boolean or null");
          if (arguments.length > 4 && "boolean" != typeof arguments[4] && null !== arguments[4])
            throw new s2("`nonWritable`, if provided, must be a boolean or null");
          if (arguments.length > 5 && "boolean" != typeof arguments[5] && null !== arguments[5])
            throw new s2("`nonConfigurable`, if provided, must be a boolean or null");
          if (arguments.length > 6 && "boolean" != typeof arguments[6])
            throw new s2("`loose`, if provided, must be a boolean");
          var u2 = arguments.length > 3 ? arguments[3] : null, c2 = arguments.length > 4 ? arguments[4] : null, l2 = arguments.length > 5 ? arguments[5] : null, f2 = arguments.length > 6 && arguments[6], p2 = !!a2 && a2(t4, e4);
          if (o2)
            o2(t4, e4, { configurable: null === l2 && p2 ? p2.configurable : !l2, enumerable: null === u2 && p2 ? p2.enumerable : !u2, value: r4, writable: null === c2 && p2 ? p2.writable : !c2 });
          else {
            if (!f2 && (u2 || c2 || l2))
              throw new i2("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
            t4[e4] = r4;
          }
        };
      }, 6775: (t3, e3) => {
        "use strict";
        e3.byteLength = function(t4) {
          var e4 = a2(t4), r4 = e4[0], n3 = e4[1];
          return 3 * (r4 + n3) / 4 - n3;
        }, e3.toByteArray = function(t4) {
          var e4, r4, i3 = a2(t4), s3 = i3[0], u3 = i3[1], c3 = new o2(function(t5, e5, r5) {
            return 3 * (e5 + r5) / 4 - r5;
          }(0, s3, u3)), l2 = 0, f2 = u3 > 0 ? s3 - 4 : s3;
          for (r4 = 0; r4 < f2; r4 += 4)
            e4 = n2[t4.charCodeAt(r4)] << 18 | n2[t4.charCodeAt(r4 + 1)] << 12 | n2[t4.charCodeAt(r4 + 2)] << 6 | n2[t4.charCodeAt(r4 + 3)], c3[l2++] = e4 >> 16 & 255, c3[l2++] = e4 >> 8 & 255, c3[l2++] = 255 & e4;
          return 2 === u3 && (e4 = n2[t4.charCodeAt(r4)] << 2 | n2[t4.charCodeAt(r4 + 1)] >> 4, c3[l2++] = 255 & e4), 1 === u3 && (e4 = n2[t4.charCodeAt(r4)] << 10 | n2[t4.charCodeAt(r4 + 1)] << 4 | n2[t4.charCodeAt(r4 + 2)] >> 2, c3[l2++] = e4 >> 8 & 255, c3[l2++] = 255 & e4), c3;
        }, e3.fromByteArray = function(t4) {
          for (var e4, n3 = t4.length, o3 = n3 % 3, i3 = [], s3 = 16383, a3 = 0, u3 = n3 - o3; a3 < u3; a3 += s3)
            i3.push(c2(t4, a3, a3 + s3 > u3 ? u3 : a3 + s3));
          return 1 === o3 ? (e4 = t4[n3 - 1], i3.push(r3[e4 >> 2] + r3[e4 << 4 & 63] + "==")) : 2 === o3 && (e4 = (t4[n3 - 2] << 8) + t4[n3 - 1], i3.push(r3[e4 >> 10] + r3[e4 >> 4 & 63] + r3[e4 << 2 & 63] + "=")), i3.join("");
        };
        for (var r3 = [], n2 = [], o2 = "undefined" != typeof Uint8Array ? Uint8Array : Array, i2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s2 = 0; s2 < 64; ++s2)
          r3[s2] = i2[s2], n2[i2.charCodeAt(s2)] = s2;
        function a2(t4) {
          var e4 = t4.length;
          if (e4 % 4 > 0)
            throw new Error("Invalid string. Length must be a multiple of 4");
          var r4 = t4.indexOf("=");
          return -1 === r4 && (r4 = e4), [r4, r4 === e4 ? 0 : 4 - r4 % 4];
        }
        __name(a2, "a");
        function u2(t4) {
          return r3[t4 >> 18 & 63] + r3[t4 >> 12 & 63] + r3[t4 >> 6 & 63] + r3[63 & t4];
        }
        __name(u2, "u");
        function c2(t4, e4, r4) {
          for (var n3, o3 = [], i3 = e4; i3 < r4; i3 += 3)
            n3 = (t4[i3] << 16 & 16711680) + (t4[i3 + 1] << 8 & 65280) + (255 & t4[i3 + 2]), o3.push(u2(n3));
          return o3.join("");
        }
        __name(c2, "c");
        n2["-".charCodeAt(0)] = 62, n2["_".charCodeAt(0)] = 63;
      }, 6801: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5, r5) {
            var s3;
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), (s3 = function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, [r5 = r5 || "Cannot populate path `" + t5 + "` because it is not in your schema. Set the `strictPopulate` option to false to override."])).path = t5, s3;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "StrictPopulateError" }), t3.exports = a2;
      }, 6814: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          for (var e3 = {}, r3 = 0, n2 = Object.keys(t4); r3 < n2.length; r3++) {
            var o2 = n2[r3];
            if (-1 !== o2.indexOf("."))
              for (var i2 = o2.split("."), s2 = i2[0], a2 = 0; a2 < i2.length; ++a2)
                e3[s2] = 1, a2 + 1 < i2.length && (s2 = s2 + "." + i2[a2 + 1]);
            else
              e3[o2] = 1;
          }
          return e3;
        };
      }, 6867: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = c2(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        function a2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(a2, "a");
        function u2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, c2(n3.key), n3);
          }
        }
        __name(u2, "u");
        function c2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(c2, "c");
        function l2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (l2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "l"))();
        }
        __name(l2, "l");
        function f2() {
          return f2 = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t4, e4, r4) {
            var n3 = function(t5, e5) {
              for (; !{}.hasOwnProperty.call(t5, e5) && null !== (t5 = p2(t5)); )
                ;
              return t5;
            }(t4, e4);
            if (n3) {
              var o3 = Object.getOwnPropertyDescriptor(n3, e4);
              return o3.get ? o3.get.call(arguments.length < 3 ? t4 : r4) : o3.value;
            }
          }, f2.apply(null, arguments);
        }
        __name(f2, "f");
        function p2(t4) {
          return p2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, p2(t4);
        }
        __name(p2, "p");
        function h2(t4, e4) {
          return h2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, h2(t4, e4);
        }
        __name(h2, "h");
        var y2 = r3(2081), d2 = r3(241), b2 = r3(6426), m2 = r3(4327), v2 = r3(8213), g2 = r3(7058), _ = r3(8768), O2 = function(t4) {
          function e4(t5, r4, o4, i3) {
            var s4;
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), (s4 = function(t6, e5, r5) {
              return e5 = p2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, l2() ? Reflect.construct(e5, r5 || [], p2(t6).constructor) : e5.apply(t6, r5));
            }(this, e4, [t5, r4, "Map", i3])).$isSchemaMap = true, s4._createNestedSchemaType(i3, t5, r4, o4), s4;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && h2(t5, e5);
          }(e4, t4), o3 = e4, s3 = [{ key: "set", value: function(t5, e5) {
            return b2.set(t5, e5);
          } }, { key: "cast", value: function(t5, e5, n3, o4, s4) {
            if (t5 instanceof y2)
              return t5;
            var u3 = this.path;
            if (n3) {
              var c3 = new y2({}, u3, e5, this.$__schemaType, s4), l3 = null != c3.$__pathRelativeToParent ? c3.$__pathRelativeToParent : c3.$__path;
              if (t5 instanceof r3.g.Map) {
                var f3, p3 = function(t6, e6) {
                  var r4 = "undefined" != typeof Symbol && t6[Symbol.iterator] || t6["@@iterator"];
                  if (!r4) {
                    if (Array.isArray(t6) || (r4 = function(t7, e7) {
                      if (t7) {
                        if ("string" == typeof t7)
                          return a2(t7, e7);
                        var r5 = {}.toString.call(t7).slice(8, -1);
                        return "Object" === r5 && t7.constructor && (r5 = t7.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t7) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? a2(t7, e7) : void 0;
                      }
                    }(t6)) || e6 && t6 && "number" == typeof t6.length) {
                      r4 && (t6 = r4);
                      var n4 = 0, o5 = /* @__PURE__ */ __name(function() {
                      }, "o");
                      return { s: o5, n: function() {
                        return n4 >= t6.length ? { done: true } : { done: false, value: t6[n4++] };
                      }, e: function(t7) {
                        throw t7;
                      }, f: o5 };
                    }
                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                  }
                  var i3, s5 = true, u4 = false;
                  return { s: function() {
                    r4 = r4.call(t6);
                  }, n: function() {
                    var t7 = r4.next();
                    return s5 = t7.done, t7;
                  }, e: function(t7) {
                    u4 = true, i3 = t7;
                  }, f: function() {
                    try {
                      s5 || null == r4.return || r4.return();
                    } finally {
                      if (u4)
                        throw i3;
                    }
                  } };
                }(t5.keys());
                try {
                  for (p3.s(); !(f3 = p3.n()).done; ) {
                    var h3 = f3.value, d3 = t5.get(h3);
                    d3 = null == d3 ? c3.$__schemaType._castNullish(d3) : c3.$__schemaType.cast(d3, e5, true, null, i2(i2({}, s4), {}, { path: l3 + "." + h3 })), c3.$init(h3, d3);
                  }
                } catch (t6) {
                  p3.e(t6);
                } finally {
                  p3.f();
                }
              } else
                for (var b3 = 0, m3 = Object.keys(t5); b3 < m3.length; b3++) {
                  var v3 = m3[b3], g3 = t5[v3];
                  g3 = null == g3 ? c3.$__schemaType._castNullish(g3) : c3.$__schemaType.cast(g3, e5, true, null, i2(i2({}, s4), {}, { path: l3 + "." + v3 })), c3.$init(v3, g3);
                }
              return c3;
            }
            return new y2(t5, u3, e5, this.$__schemaType, s4);
          } }, { key: "clone", value: function() {
            var t5, r4, n3, o4 = (t5 = e4, r4 = this, "function" == typeof (n3 = f2(p2(1 & 3 ? t5.prototype : t5), "clone", r4)) ? function(t6) {
              return n3.apply(r4, t6);
            } : n3)([]);
            return null != this.$__schemaType && (o4.$__schemaType = this.$__schemaType.clone()), o4;
          } }, { key: "getEmbeddedSchemaType", value: function() {
            return this.$__schemaType;
          } }, { key: "toJSONSchema", value: function(t5) {
            var e5 = null == t5 ? void 0 : t5.useBsonType, r4 = this.getEmbeddedSchemaType(), n3 = this.options.required && "function" != typeof this.options.required, o4 = m2("object", "object", e5, n3);
            return o4.additionalProperties = r4.toJSONSchema(t5), o4;
          } }, { key: "autoEncryptionType", value: function() {
            return "object";
          } }], s3 && u2(o3.prototype, s3), Object.defineProperty(o3, "prototype", { writable: false }), o3;
          var o3, s3;
        }(b2);
        O2.schemaName = "Map", O2.prototype.OptionsConstructor = d2, O2.defaultOptions = {}, O2.prototype._createNestedSchemaType = function(t4, e4, r4, n3) {
          var o3 = e4 + ".$*", i3 = { type: {} };
          _.hasUserDefinedProperty(r4, "of") && ((i3 = _.isPOJO(r4.of) && Object.keys(r4.of).length > 0 && !_.hasUserDefinedProperty(r4.of, t4.options.typeKey) ? s2({}, t4.options.typeKey, new g2(r4.of)) : _.isPOJO(r4.of) ? Object.assign({}, r4.of) : s2({}, t4.options.typeKey, r4.of))[t4.options.typeKey] && i3[t4.options.typeKey].instanceOfSchema && i3[t4.options.typeKey].eachPath(function(t5, r5) {
            if (true === r5.options.select || false === r5.options.select)
              throw new v2('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "' + e4 + "." + t5 + '"');
          }), _.hasUserDefinedProperty(r4, "ref") && (i3.ref = r4.ref)), this.$__schemaType = t4.interpretAsType(o3, i3, n3);
        }, t3.exports = O2;
      }, 6948: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, s2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return e4 && o2(t4.prototype, e4), r4 && o2(t4, r4), Object.defineProperty(t4, "prototype", { writable: false }), t4;
        }
        __name(i2, "i");
        function s2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(s2, "s");
        var a2 = r3(4450), u2 = i2(/* @__PURE__ */ __name(function t4(e4) {
          if (function(t5, e5) {
            if (!(t5 instanceof e5))
              throw new TypeError("Cannot call a class as a function");
          }(this, t4), this._docs = {}, this._childDocs = [], null != e4 && (e4 = a2(e4), Object.assign(this, e4), "object" === n2(e4.subPopulate) && (this.populate = e4.subPopulate), null != e4.perDocumentLimit && null != e4.limit))
            throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `" + e4.path + "`.");
        }, "t"));
        t3.exports = u2;
      }, 6949: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, i2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(i2, "i");
        function s2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (s2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "s"))();
        }
        __name(s2, "s");
        function a2(t4) {
          return a2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, a2(t4);
        }
        __name(a2, "a");
        function u2(t4, e4) {
          return u2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, u2(t4, e4);
        }
        __name(u2, "u");
        var c2 = r3(8213), l2 = r3(8260), f2 = r3(7352), p2 = r3(1875), h2 = function(t4) {
          function e4(t5) {
            var r5, o3;
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), (r5 = function(t6, e5, r6) {
              return e5 = a2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, s2() ? Reflect.construct(e5, r6 || [], a2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, [o3 = "model" === l2(t5) ? t5.constructor.modelName + " validation failed" : "Validation failed"])).errors = {}, r5._message = o3, t5 && (t5.$errors = r5.errors), r5;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && u2(t5, e5);
          }(e4, t4), r4 = e4, (i3 = [{ key: "toString", value: function() {
            return this.name + ": " + p2(this);
          } }, { key: "inspect", value: function() {
            return Object.assign(new Error(this.message), this);
          } }, { key: "addError", value: function(t5, r5) {
            if (r5 instanceof e4)
              for (var n3 = r5.errors, o3 = 0, i4 = Object.keys(n3); o3 < i4.length; o3++) {
                var s3 = i4[o3];
                this.addError("".concat(t5, ".").concat(s3), n3[s3]);
              }
            else
              this.errors[t5] = r5, this.message = this._message + ": " + p2(this);
          } }]) && o2(r4.prototype, i3), Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4, i3;
        }(c2);
        f2.inspect.custom && (h2.prototype[f2.inspect.custom] = h2.prototype.inspect), Object.defineProperty(h2.prototype, "toJSON", { enumerable: false, writable: false, configurable: true, value: function() {
          return Object.assign({}, this, { name: this.name, message: this.message });
        } }), Object.defineProperty(h2.prototype, "name", { value: "ValidationError" }), t3.exports = h2;
      }, 6974: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "of", u2), t3.exports = a2;
      }, 6996: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5, r5, s3) {
            var a3;
            !function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4);
            var u2 = s3.join(", ");
            return (a3 = function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, ['No matching document found for id "' + t5._doc._id + '" version ' + r5 + ' modifiedPaths "' + u2 + '"'])).version = r5, a3.modifiedPaths = s3, a3;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "VersionError" }), t3.exports = a2;
      }, 7045: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2 = r3(6426), u2 = a2.CastError, c2 = r3(9553), l2 = r3(4327), f2 = r3(3305);
        function p2(t4, e4, r4, n3) {
          a2.call(this, t4, e4, "Decimal128", n3);
        }
        __name(p2, "p");
        function h2(t4) {
          return this.cast(t4);
        }
        __name(h2, "h");
        p2.schemaName = "Decimal128", p2.defaultOptions = {}, p2.prototype = Object.create(a2.prototype), p2.prototype.constructor = p2, p2._cast = c2, p2.set = a2.set, p2.setters = [], p2.get = a2.get, p2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, p2._defaultCaster = function(t4) {
          if (null != t4 && !f2(t4, "Decimal128"))
            throw new Error();
          return t4;
        }, p2._checkRequired = function(t4) {
          return f2(t4, "Decimal128");
        }, p2.checkRequired = a2.checkRequired, p2.prototype.checkRequired = function(t4, e4) {
          return a2._isRef(this, t4, e4, true) ? !!t4 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : p2.checkRequired())(t4);
        }, p2.prototype.cast = function(t4, e4, r4, n3, o3) {
          if (a2._isRef(this, t4, e4, r4))
            return f2(t4, "Decimal128") ? t4 : this._castRef(t4, e4, r4, o3);
          var i3;
          i3 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : p2.cast();
          try {
            return i3(t4);
          } catch (e5) {
            throw new u2("Decimal128", t4, this.path, e5, this);
          }
        };
        var y2 = i2(i2({}, a2.prototype.$conditionalHandlers), {}, { $gt: h2, $gte: h2, $lt: h2, $lte: h2 });
        Object.defineProperty(p2.prototype, "$conditionalHandlers", { enumerable: false, value: y2 }), p2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return l2("string", "decimal", null == t4 ? void 0 : t4.useBsonType, e4);
        }, p2.prototype.autoEncryptionType = function() {
          return "decimal";
        }, t3.exports = p2;
      }, 7058: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4) {
          return function(t5) {
            if (Array.isArray(t5))
              return p2(t5);
          }(t4) || function(t5) {
            if ("undefined" != typeof Symbol && null != t5[Symbol.iterator] || null != t5["@@iterator"])
              return Array.from(t5);
          }(t4) || f2(t4) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
        __name(o2, "o");
        function i2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(i2, "i");
        function s2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? i2(Object(r4), true).forEach(function(e5) {
              a2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : i2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(s2, "s");
        function a2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != u2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != u2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == u2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(a2, "a");
        function u2(t4) {
          return u2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, u2(t4);
        }
        __name(u2, "u");
        function c2(t4, e4) {
          return function(t5) {
            if (Array.isArray(t5))
              return t5;
          }(t4) || function(t5, e5) {
            var r4 = null == t5 ? null : "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
            if (null != r4) {
              var n3, o3, i3, s3, a3 = [], u3 = true, c3 = false;
              try {
                if (i3 = (r4 = r4.call(t5)).next, 0 === e5) {
                  if (Object(r4) !== r4)
                    return;
                  u3 = false;
                } else
                  for (; !(u3 = (n3 = i3.call(r4)).done) && (a3.push(n3.value), a3.length !== e5); u3 = true)
                    ;
              } catch (t6) {
                c3 = true, o3 = t6;
              } finally {
                try {
                  if (!u3 && null != r4.return && (s3 = r4.return(), Object(s3) !== s3))
                    return;
                } finally {
                  if (c3)
                    throw o3;
                }
              }
              return a3;
            }
          }(t4, e4) || f2(t4, e4) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
        __name(c2, "c");
        function l2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = f2(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var i3, s3 = true, a3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return s3 = t5.done, t5;
          }, e: function(t5) {
            a3 = true, i3 = t5;
          }, f: function() {
            try {
              s3 || null == r4.return || r4.return();
            } finally {
              if (a3)
                throw i3;
            }
          } };
        }
        __name(l2, "l");
        function f2(t4, e4) {
          if (t4) {
            if ("string" == typeof t4)
              return p2(t4, e4);
            var r4 = {}.toString.call(t4).slice(8, -1);
            return "Object" === r4 && t4.constructor && (r4 = t4.constructor.name), "Map" === r4 || "Set" === r4 ? Array.from(t4) : "Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? p2(t4, e4) : void 0;
          }
        }
        __name(f2, "f");
        function p2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(p2, "p");
        var h2, y2 = r3(3550).EventEmitter, d2 = r3(8297), b2 = r3(8213), m2 = r3(6426), v2 = r3(8879), g2 = r3(2069), _ = r3(622), O2 = r3(486), w2 = r3(4450), S2 = r3(3703), $ = r3(8260), j2 = r3(2003), P2 = r3(5289), A2 = r3(3381), E2 = r3(1199), x2 = r3(9539), T2 = r3(5678), k2 = r3(7834), N2 = r3(2097), I2 = r3(8768), D2 = r3(533), B2 = /\.\d+(\.|$)/, M2 = r3(1260).Ut, R2 = r3(4957).middlewareFunctions, U2 = M2.concat(R2).reduce(function(t4, e4) {
          return t4.add(e4);
        }, /* @__PURE__ */ new Set()), C2 = I2.isPOJO, F2 = 0, L2 = /^\d+$/;
        function V2(t4, e4) {
          if (!(this instanceof V2))
            return new V2(t4, e4);
          if (this.obj = t4, this.paths = {}, this.aliases = {}, this.subpaths = {}, this.virtuals = {}, this.singleNestedPaths = {}, this.nested = {}, this.inherits = {}, this.callQueue = [], this._indexes = [], this._searchIndexes = [], this.methods = e4 && e4.methods || {}, this.methodOptions = {}, this.statics = e4 && e4.statics || {}, this.tree = {}, this.query = e4 && e4.query || {}, this.childSchemas = [], this.plugins = [], this.$id = ++F2, this.mapPaths = [], this.encryptedFields = {}, this.s = { hooks: new d2() }, this.options = this.defaultOptions(e4), Array.isArray(t4)) {
            var r4, n3 = l2(t4);
            try {
              for (n3.s(); !(r4 = n3.n()).done; ) {
                var o3 = r4.value;
                this.add(o3);
              }
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
          } else
            t4 && this.add(t4);
          if (e4 && e4.virtuals)
            for (var i3 = e4.virtuals, s3 = 0, a3 = Object.keys(i3); s3 < a3.length; s3++) {
              var u3 = a3[s3], c3 = i3[u3].options ? i3[u3].options : void 0, f3 = this.virtual(u3, c3);
              i3[u3].get && f3.get(i3[u3].get), i3[u3].set && f3.set(i3[u3].set);
            }
          var p3 = t4 && t4._id && I2.isObject(t4._id);
          !this.paths._id && this.options._id && !p3 && O2(this), this.setupTimestamp(this.options.timestamps);
        }
        __name(V2, "V");
        function q2(t4, e4) {
          for (var r4 = 0, n3 = Object.keys(e4); r4 < n3.length; r4++) {
            var o3 = n3[r4], i3 = null;
            if (null != e4[o3])
              i3 = e4[o3];
            else {
              var s3 = S2(t4.paths[o3], "options");
              if (null == s3)
                continue;
              i3 = s3.alias;
            }
            if (i3) {
              var a3 = t4.paths[o3].path;
              if (Array.isArray(i3)) {
                var u3, c3 = l2(i3);
                try {
                  for (c3.s(); !(u3 = c3.n()).done; ) {
                    var f3 = u3.value;
                    if ("string" != typeof f3)
                      throw new Error("Invalid value for alias option on " + a3 + ", got " + f3);
                    t4.aliases[f3] = a3, t4.virtual(f3).get(function(t5) {
                      return function() {
                        return "function" == typeof this.get ? this.get(t5) : this[t5];
                      };
                    }(a3)).set(function(t5) {
                      return function(e5) {
                        return this.$set(t5, e5);
                      };
                    }(a3));
                  }
                } catch (t5) {
                  c3.e(t5);
                } finally {
                  c3.f();
                }
              } else {
                if ("string" != typeof i3)
                  throw new Error("Invalid value for alias option on " + a3 + ", got " + i3);
                t4.aliases[i3] = a3, t4.virtual(i3).get(function(t5) {
                  return function() {
                    return "function" == typeof this.get ? this.get(t5) : this[t5];
                  };
                }(a3)).set(function(t5) {
                  return function(e5) {
                    return this.$set(t5, e5);
                  };
                }(a3));
              }
            }
          }
        }
        __name(q2, "q");
        V2.prototype = Object.create(y2.prototype), V2.prototype.constructor = V2, V2.prototype.instanceOfSchema = true, Object.defineProperty(V2.prototype, "$schemaType", { configurable: false, enumerable: false, writable: true }), Object.defineProperty(V2.prototype, "childSchemas", { configurable: false, enumerable: true, writable: true }), Object.defineProperty(V2.prototype, "virtuals", { configurable: false, enumerable: true, writable: true }), V2.prototype.obj, V2.prototype.paths, V2.prototype.tree, V2.prototype.clone = function() {
          var t4 = this, e4 = this._clone();
          return e4.on("init", function(e5) {
            return t4.emit("init", e5);
          }), e4;
        }, V2.prototype._clone = function(t4) {
          var e4 = new (t4 = t4 || (null == this.base ? V2 : this.base.Schema))({}, this._userProvidedOptions);
          e4.base = this.base, e4.obj = this.obj, e4.options = w2(this.options), e4.callQueue = this.callQueue.map(function(t5) {
            return t5;
          }), e4.methods = w2(this.methods), e4.methodOptions = w2(this.methodOptions), e4.statics = w2(this.statics), e4.query = w2(this.query), e4.plugins = Array.prototype.slice.call(this.plugins), e4._indexes = w2(this._indexes), e4._searchIndexes = w2(this._searchIndexes), e4.s.hooks = this.s.hooks.clone(), e4.tree = w2(this.tree), e4.paths = Object.fromEntries(Object.entries(this.paths).map(function(t5) {
            var e5 = c2(t5, 2);
            return [e5[0], e5[1].clone()];
          })), e4.nested = w2(this.nested), e4.subpaths = w2(this.subpaths);
          for (var r4 = 0, n3 = Object.values(e4.paths); r4 < n3.length; r4++) {
            var o3 = n3[r4];
            if (o3.$isSingleNested) {
              for (var i3 = o3.path, s3 = 0, a3 = Object.keys(o3.schema.paths); s3 < a3.length; s3++) {
                var u3 = a3[s3];
                e4.singleNestedPaths[i3 + "." + u3] = o3.schema.paths[u3];
              }
              for (var l3 = 0, f3 = Object.keys(o3.schema.singleNestedPaths); l3 < f3.length; l3++) {
                var p3 = f3[l3];
                e4.singleNestedPaths[i3 + "." + p3] = o3.schema.singleNestedPaths[p3];
              }
              for (var h3 = 0, y3 = Object.keys(o3.schema.subpaths); h3 < y3.length; h3++) {
                var d3 = y3[h3];
                e4.singleNestedPaths[i3 + "." + d3] = o3.schema.subpaths[d3];
              }
              for (var b3 = 0, m3 = Object.keys(o3.schema.nested); b3 < m3.length; b3++) {
                var v3 = m3[b3];
                e4.singleNestedPaths[i3 + "." + v3] = "nested";
              }
            }
          }
          return e4._gatherChildSchemas(), e4.virtuals = w2(this.virtuals), e4.$globalPluginsApplied = this.$globalPluginsApplied, e4.$isRootDiscriminator = this.$isRootDiscriminator, e4.$implicitlyCreated = this.$implicitlyCreated, e4.$id = ++F2, e4.$originalSchemaId = this.$id, e4.mapPaths = [].concat(this.mapPaths), null != this.discriminatorMapping && (e4.discriminatorMapping = Object.assign({}, this.discriminatorMapping)), null != this.discriminators && (e4.discriminators = Object.assign({}, this.discriminators)), null != this._applyDiscriminators && (e4._applyDiscriminators = new Map(this._applyDiscriminators)), e4.aliases = Object.assign({}, this.aliases), e4.encryptedFields = w2(this.encryptedFields), e4;
        }, V2.prototype.pick = function(t4, e4) {
          var r4 = new V2({}, e4 || this.options);
          if (!Array.isArray(t4))
            throw new b2('Schema#pick() only accepts an array argument, got "' + u2(t4) + '"');
          var n3, o3 = l2(t4);
          try {
            for (o3.s(); !(n3 = o3.n()).done; ) {
              var i3 = n3.value;
              if (this._hasEncryptedField(i3)) {
                var s3 = this.encryptedFields[i3], c3 = this.path(i3);
                r4.add(a2({}, i3, a2({ encrypt: s3 }, this.options.typeKey, c3)));
              } else if (this.nested[i3])
                r4.add(a2({}, i3, S2(this.tree, i3)));
              else {
                var f3 = this.path(i3);
                if (null == f3)
                  throw new b2("Path `" + i3 + "` is not in the schema");
                r4.add(a2({}, i3, f3));
              }
            }
          } catch (t5) {
            o3.e(t5);
          } finally {
            o3.f();
          }
          return this._hasEncryptedFields() || (r4.options.encryptionType = null), r4;
        }, V2.prototype.omit = function(t4, e4) {
          var r4 = new V2(this, e4 || this.options);
          if (!Array.isArray(t4))
            throw new b2('Schema#omit() only accepts an array argument, got "' + u2(t4) + '"');
          for (var n3 in r4.remove(t4), r4.singleNestedPaths)
            t4.includes(n3) && delete r4.singleNestedPaths[n3];
          return r4;
        }, V2.prototype.defaultOptions = function(t4) {
          this._userProvidedOptions = null == t4 ? {} : w2(t4);
          var e4 = this.base && this.base.options || {};
          if ((t4 = s2({ strict: !("strict" in e4) || e4.strict, strictQuery: "strictQuery" in e4 && e4.strictQuery, bufferCommands: true, capped: false, versionKey: "__v", optimisticConcurrency: false, minimize: true, autoIndex: null, discriminatorKey: "__t", shardKey: null, read: null, validateBeforeSave: true, validateModifiedOnly: false, _id: true, id: !("id" in e4) || e4.id, typeKey: "type" }, t4)).versionKey && "string" != typeof t4.versionKey)
            throw new b2("`versionKey` must be falsy or string, got `" + u2(t4.versionKey) + "`");
          if ("string" == typeof t4.read ? t4.read = P2(t4.read) : Array.isArray(t4.read) && "string" == typeof t4.read[0] && (t4.read = { mode: P2(t4.read[0]), tags: t4.read[1] }), t4.optimisticConcurrency && !t4.versionKey)
            throw new b2("Must set `versionKey` if using `optimisticConcurrency`");
          return t4;
        }, V2.prototype.discriminator = function(t4, e4, r4) {
          return this._applyDiscriminators = this._applyDiscriminators || /* @__PURE__ */ new Map(), this._applyDiscriminators.set(t4, { schema: e4, options: r4 }), this;
        }, V2.prototype._defaultToObjectOptions = function(t4) {
          var e4 = t4 ? "toJSON" : "toObject";
          if (this._defaultToObjectOptionsMap && this._defaultToObjectOptionsMap[e4])
            return this._defaultToObjectOptionsMap[e4];
          var r4 = this.base && this.base.options && this.base.options[e4] || {}, n3 = this.options[e4] || {}, o3 = Object.assign({}, r4, n3);
          return this._defaultToObjectOptionsMap = this._defaultToObjectOptionsMap || {}, this._defaultToObjectOptionsMap[e4] = o3, o3;
        }, V2.prototype.encryptionType = function(t4) {
          if (0 === arguments.length)
            return this.options.encryptionType;
          if ("string" != typeof t4 && null !== t4)
            throw new Error("invalid `encryptionType`: ${encryptionType}");
          this.options.encryptionType = t4;
        }, V2.prototype.add = function(t4, e4) {
          if (t4 instanceof V2 || null != t4 && t4.instanceOfSchema)
            return x2(this, t4), this;
          if (false === t4._id && null == e4 && (this.options._id = false), "__proto__." === (e4 = e4 || "") || "constructor." === e4 || "prototype." === e4)
            return this;
          for (var r4 = Object.keys(t4), n3 = this.options.typeKey, o3 = 0, i3 = r4; o3 < i3.length; o3++) {
            var s3 = i3[o3];
            if (!I2.specialProperties.has(s3)) {
              var l3 = e4 + s3, f3 = t4[s3];
              if (null == f3)
                throw new TypeError("Invalid value for schema path `" + l3 + '`, got value "' + f3 + '"');
              if ("_id" !== s3 || false !== f3) {
                var p3 = false;
                if ("string" == typeof f3 && (p3 = null != (null != this.base ? this.base.Schema.Types : V2.Types)[f3.charAt(0).toUpperCase() + f3.substring(1)]), "_id" !== s3 && ("object" !== u2(f3) && "function" != typeof f3 && !p3 || null == f3))
                  throw new TypeError("Invalid schema configuration: `".concat(f3, "` is not ") + "a valid type at path `".concat(s3, "`. See ") + "https://bit.ly/mongoose-schematypes for a list of valid schema types.");
                if (f3 instanceof _ || "VirtualType" === (f3.constructor && f3.constructor.name || null))
                  this.virtual(f3);
                else {
                  if (Array.isArray(f3) && 1 === f3.length && null == f3[0])
                    throw new TypeError("Invalid value for schema Array path `" + l3 + '`, got value "' + f3[0] + '"');
                  if (C2(f3) || f3 instanceof v2)
                    if (Object.keys(f3).length < 1)
                      e4 && (this.nested[e4.substring(0, e4.length - 1)] = true), this.path(l3, f3);
                    else if (!f3[n3] || "type" === n3 && C2(f3.type) && f3.type.type)
                      this.nested[l3] = true, this.add(f3, l3 + ".");
                    else {
                      var h3 = f3[n3];
                      if (C2(h3) && Object.keys(h3).length > 0) {
                        e4 && (this.nested[e4.substring(0, e4.length - 1)] = true);
                        var y3 = {};
                        this._userProvidedOptions.typeKey && (y3.typeKey = this._userProvidedOptions.typeKey), null != this._userProvidedOptions.strict && (y3.strict = this._userProvidedOptions.strict), null != this._userProvidedOptions.toObject && (y3.toObject = I2.omit(this._userProvidedOptions.toObject, ["transform"])), null != this._userProvidedOptions.toJSON && (y3.toJSON = I2.omit(this._userProvidedOptions.toJSON, ["transform"]));
                        var d3 = new V2(h3, y3);
                        d3.$implicitlyCreated = true;
                        var b3 = Object.assign({}, f3, a2({}, n3, d3));
                        this.path(e4 + s3, b3);
                      } else if (e4 && (this.nested[e4.substring(0, e4.length - 1)] = true), this.path(e4 + s3, f3), null != f3 && !f3.instanceOfSchema && I2.isPOJO(f3.discriminators)) {
                        var m3 = this.path(e4 + s3);
                        for (var g3 in f3.discriminators)
                          m3.discriminator(g3, f3.discriminators[g3]);
                      }
                    }
                  else if (e4 && (this.nested[e4.substring(0, e4.length - 1)] = true), this.path(e4 + s3, f3), null != f3[0] && !f3[0].instanceOfSchema && I2.isPOJO(f3[0].discriminators)) {
                    var O3 = this.path(e4 + s3);
                    for (var w3 in f3[0].discriminators)
                      O3.discriminator(w3, f3[0].discriminators[w3]);
                  }
                  if (f3.instanceOfSchema && null != f3.encryptionType()) {
                    if (this.encryptionType() != f3.encryptionType())
                      throw new Error("encryptionType of a nested schema must match the encryption type of the parent schema.");
                    for (var S3 = 0, $2 = Object.entries(f3.encryptedFields); S3 < $2.length; S3++) {
                      var j3 = c2($2[S3], 2), P3 = j3[0], A3 = j3[1], E3 = l3 + "." + P3;
                      this._addEncryptedField(E3, A3);
                    }
                  } else if ("object" === u2(f3) && "encrypt" in f3) {
                    var T3 = f3.encrypt;
                    if (null == this.encryptionType())
                      throw new Error("encryptionType must be provided");
                    this._addEncryptedField(l3, T3);
                  } else
                    this._removeEncryptedField(l3);
                }
              }
            }
          }
          var k3 = Object.fromEntries(Object.entries(t4).map(function(t5) {
            var r5 = c2(t5, 1)[0];
            return [e4 + r5, null];
          }));
          return q2(this, k3), this;
        }, V2.prototype._addEncryptedField = function(t4, e4) {
          if (null == this.path(t4).autoEncryptionType())
            throw new Error("Invalid BSON type for FLE field: '".concat(t4, "'"));
          this.encryptedFields[t4] = w2(e4);
        }, V2.prototype._removeEncryptedField = function(t4) {
          delete this.encryptedFields[t4];
        }, V2.prototype._hasEncryptedFields = function() {
          return Object.keys(this.encryptedFields).length > 0;
        }, V2.prototype._hasEncryptedField = function(t4) {
          return t4 in this.encryptedFields;
        }, V2.prototype._buildEncryptedFields = function() {
          var t4 = this;
          return { fields: Object.entries(this.encryptedFields).map(function(e4) {
            var r4 = c2(e4, 2), n3 = r4[0], o3 = r4[1];
            return s2({ path: n3, bsonType: t4.path(n3).autoEncryptionType() }, o3);
          }) };
        }, V2.prototype._buildSchemaMap = function() {
          var t4 = this;
          return { bsonType: "object", properties: Object.entries(this.encryptedFields).reduce(function(e4, r4) {
            var n3 = c2(r4, 2), o3 = n3[0], i3 = n3[1], a3 = t4.path(o3).autoEncryptionType();
            return function(t5, e5, r5) {
              for (var n4 = 0, o4 = t5[n4]; n4 < t5.length - 1; o4 = t5[++n4])
                e5[o4] = null == e5[o4] ? { bsonType: "object", properties: {} } : e5[o4], e5 = e5[o4].properties;
              e5[o4] = r5;
            }(o3.split("."), e4, { encrypt: s2(s2({}, i3), {}, { bsonType: a3 }) }), e4;
          }, {}) };
        }, V2.prototype.alias = function(t4, e4) {
          return q2(this, a2({}, t4, e4)), this;
        }, V2.prototype.removeIndex = function(t4) {
          if (arguments.length > 1)
            throw new Error("removeIndex() takes only 1 argument");
          if ("object" !== u2(t4) && "string" != typeof t4)
            throw new Error("removeIndex() may only take either an object or a string as an argument");
          if ("object" === u2(t4))
            for (var e4 = this._indexes.length - 1; e4 >= 0; --e4)
              E2(this._indexes[e4][0], t4) && this._indexes.splice(e4, 1);
          else
            for (var r4 = this._indexes.length - 1; r4 >= 0; --r4)
              null != this._indexes[r4][1] && this._indexes[r4][1].name === t4 && this._indexes.splice(r4, 1);
          return this;
        }, V2.prototype.clearIndexes = function() {
          return this._indexes.length = 0, this;
        }, V2.prototype.searchIndex = function(t4) {
          return this._searchIndexes.push(t4), this;
        }, V2.reserved = /* @__PURE__ */ Object.create(null), V2.prototype.reserved = V2.reserved;
        var J2 = V2.reserved;
        function z2(t4) {
          return /\.\d+/.test(t4) ? t4.replace(/\.\d+\./g, ".$.").replace(/\.\d+$/, ".$") : t4;
        }
        __name(z2, "z");
        function K2(t4, e4) {
          if (0 === t4.mapPaths.length)
            return null;
          var r4, n3 = l2(t4.mapPaths);
          try {
            for (n3.s(); !(r4 = n3.n()).done; ) {
              var o3 = r4.value, i3 = o3.path.replace(/\.\$\*/g, "");
              if (e4 === i3 || e4.startsWith(i3 + ".") && -1 === e4.slice(i3.length + 1).indexOf("."))
                return o3;
              if (o3.schema && e4.startsWith(i3 + ".")) {
                var s3 = e4.slice(i3.length + 1);
                return s3 = s3.slice(s3.indexOf(".") + 1), o3.schema.paths[s3];
              }
              if (o3.$isSchemaMap && e4.startsWith(i3 + ".")) {
                var a3 = e4.slice(i3.length + 1);
                a3 = a3.slice(a3.indexOf(".") + 1);
                var u3 = o3.$__schemaType._presplitPath;
                if (-1 === a3.indexOf(".") && "$*" === u3[u3.length - 1])
                  return o3.$__schemaType;
                if (-1 !== a3.indexOf(".") && o3.$__schemaType.schema && "$*" === u3[u3.length - 1])
                  return o3.$__schemaType.schema.path(a3.slice(a3.indexOf(".") + 1));
              }
            }
          } catch (t5) {
            n3.e(t5);
          } finally {
            n3.f();
          }
          return null;
        }
        __name(K2, "K");
        function H2(t4, e4, r4) {
          var n3 = e4.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);
          if (n3.length < 2)
            return Object.hasOwn(t4.paths, n3[0]) ? t4.paths[n3[0]] : "adhocOrUndefined";
          var o3 = t4.path(n3[0]), i3 = false;
          if (!o3)
            return "adhocOrUndefined";
          for (var s3 = n3.length - 1, a3 = 1; a3 < n3.length; ++a3) {
            i3 = false;
            var u3 = n3[a3];
            if (a3 === s3 && o3 && !/\D/.test(u3)) {
              o3 = o3.$isMongooseDocumentArray ? o3.$embeddedSchemaType : o3 instanceof h2.Array ? o3.caster : void 0;
              break;
            }
            if (/\D/.test(u3)) {
              if (!o3 || !o3.schema) {
                o3 = void 0;
                break;
              }
              i3 = "nested" === o3.schema.pathType(u3), o3 = o3.schema.path(u3);
            } else
              o3 instanceof h2.Array && a3 !== s3 && (o3 = o3.caster);
          }
          return t4.subpaths[r4] = o3, o3 ? "real" : i3 ? "nested" : "adhocOrUndefined";
        }
        __name(H2, "H");
        function W2(t4, e4) {
          var r4, n3 = l2(t4.childSchemas);
          try {
            for (n3.s(); !(r4 = n3.n()).done; ) {
              var o3 = r4.value.schema;
              o3.$implicitlyCreated && (Object.assign(o3.options, e4), W2(o3, e4));
            }
          } catch (t5) {
            n3.e(t5);
          } finally {
            n3.f();
          }
        }
        __name(W2, "W");
        J2.prototype = J2.emit = J2.listeners = J2.removeListener = J2.collection = J2.errors = J2.get = J2.init = J2.isModified = J2.isNew = J2.populated = J2.remove = J2.save = J2.toObject = J2.validate = 1, J2.collection = 1, V2.prototype.path = function(t4, e4) {
          if (void 0 === e4) {
            if (null != this.paths[t4])
              return this.paths[t4];
            var r4 = z2(t4), n3 = function(t5, e5, r5) {
              if (Object.hasOwn(t5.paths, e5))
                return t5.paths[e5];
              if (Object.hasOwn(t5.subpaths, r5)) {
                var n4 = t5.subpaths[r5];
                if ("nested" === n4)
                  return;
                return n4;
              }
              if (Object.hasOwn(t5.singleNestedPaths, r5) && "object" === u2(t5.singleNestedPaths[r5])) {
                var o4 = t5.singleNestedPaths[r5];
                if ("nested" === o4)
                  return;
                return o4;
              }
              return null;
            }(this, t4, r4);
            if (null != n3)
              return n3;
            var o3 = K2(this, t4);
            return null != o3 ? o3 : null != (n3 = this.hasMixedParent(r4)) ? n3 : B2.test(t4) ? function(t5, e5, r5) {
              return H2(t5, e5, r5), t5.subpaths[r5];
            }(this, t4, r4) : void 0;
          }
          var i3 = t4.split(".")[0];
          if (J2[i3] && !this.options.suppressReservedKeysWarning) {
            var s3 = "`".concat(i3, "` is a reserved schema pathname and may break some functionality. ") + "You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";
            I2.warn(s3);
          }
          "object" === u2(e4) && I2.hasUserDefinedProperty(e4, "ref") && D2(e4.ref, t4);
          var a3, c3 = t4.split(/\./), f3 = c3.pop(), p3 = this.tree, h3 = "", y3 = l2(c3);
          try {
            for (y3.s(); !(a3 = y3.n()).done; ) {
              var d3 = a3.value;
              if (I2.specialProperties.has(d3))
                throw new Error("Cannot set special property `" + d3 + "` on a schema");
              if (h3 = h3 += (h3.length > 0 ? "." : "") + d3, p3[d3] || (this.nested[h3] = true, p3[d3] = {}), "object" !== u2(p3[d3])) {
                var b3 = "Cannot set nested path `" + t4 + "`. Parent path `" + h3 + "` already set to type " + p3[d3].name + ".";
                throw new Error(b3);
              }
              p3 = p3[d3];
            }
          } catch (t5) {
            y3.e(t5);
          } finally {
            y3.f();
          }
          p3[f3] = w2(e4), this.paths[t4] = this.interpretAsType(t4, e4, this.options);
          var v3 = this.paths[t4];
          if (this.childSchemas = this.childSchemas.filter(function(e5) {
            return e5.path !== t4;
          }), v3.$isSchemaMap) {
            var g3 = t4 + ".$*";
            this.paths[g3] = v3.$__schemaType, this.mapPaths.push(this.paths[g3]), v3.$__schemaType.$isSingleNested && this.childSchemas.push({ schema: v3.$__schemaType.schema, model: v3.$__schemaType.caster, path: t4 });
          }
          if (v3.$isSingleNested) {
            for (var _2 = 0, O3 = Object.keys(v3.schema.paths); _2 < O3.length; _2++) {
              var S3 = O3[_2];
              this.singleNestedPaths[t4 + "." + S3] = v3.schema.paths[S3];
            }
            for (var $2 = 0, j3 = Object.keys(v3.schema.singleNestedPaths); $2 < j3.length; $2++) {
              var P3 = j3[$2];
              this.singleNestedPaths[t4 + "." + P3] = v3.schema.singleNestedPaths[P3];
            }
            for (var A3 = 0, E3 = Object.keys(v3.schema.subpaths); A3 < E3.length; A3++) {
              var x3 = E3[A3];
              this.singleNestedPaths[t4 + "." + x3] = v3.schema.subpaths[x3];
            }
            for (var T3 = 0, k3 = Object.keys(v3.schema.nested); T3 < k3.length; T3++) {
              var N3 = k3[T3];
              this.singleNestedPaths[t4 + "." + N3] = "nested";
            }
            Object.defineProperty(v3.schema, "base", { configurable: true, enumerable: false, writable: false, value: this.base }), v3.caster.base = this.base, this.childSchemas.push({ schema: v3.schema, model: v3.caster, path: t4 });
          } else
            v3.$isMongooseDocumentArray && (Object.defineProperty(v3.schema, "base", { configurable: true, enumerable: false, writable: false, value: this.base }), v3.casterConstructor.base = this.base, this.childSchemas.push({ schema: v3.schema, model: v3.casterConstructor, path: t4 }));
          if (v3.$isMongooseArray && v3.caster instanceof m2) {
            for (var M3 = t4, R3 = v3; R3.$isMongooseArray; )
              M3 += ".$", R3.$isMongooseDocumentArray ? (R3.$embeddedSchemaType._arrayPath = M3, R3.$embeddedSchemaType._arrayParentPath = t4, R3 = R3.$embeddedSchemaType) : (R3.caster._arrayPath = M3, R3.caster._arrayParentPath = t4, R3 = R3.caster), this.subpaths[M3] = R3;
            for (var U3 = 0, C3 = []; U3 < C3.length; U3++) {
              var F3 = C3[U3];
              this.subpaths[F3.path] = F3;
            }
          }
          if (v3.$isMongooseDocumentArray) {
            for (var L3 = 0, V3 = Object.keys(v3.schema.paths); L3 < V3.length; L3++) {
              var q3 = V3[L3], W3 = v3.schema.paths[q3];
              this.subpaths[t4 + "." + q3] = W3, "object" === u2(W3) && null != W3 && null == W3.$parentSchemaDocArray && (W3.$parentSchemaDocArray = v3);
            }
            for (var G3 = 0, Q3 = Object.keys(v3.schema.subpaths); G3 < Q3.length; G3++) {
              var Y3 = Q3[G3], Z2 = v3.schema.subpaths[Y3];
              this.subpaths[t4 + "." + Y3] = Z2, "object" === u2(Z2) && null != Z2 && null == Z2.$parentSchemaDocArray && (Z2.$parentSchemaDocArray = v3);
            }
            for (var X2 = 0, tt = Object.keys(v3.schema.singleNestedPaths); X2 < tt.length; X2++) {
              var et = tt[X2], rt = v3.schema.singleNestedPaths[et];
              this.subpaths[t4 + "." + et] = rt, "object" === u2(rt) && null != rt && null == rt.$parentSchemaDocArray && (rt.$parentSchemaDocArray = v3);
            }
          }
          return this;
        }, V2.prototype._gatherChildSchemas = function() {
          for (var t4 = [], e4 = 0, r4 = Object.keys(this.paths); e4 < r4.length; e4++) {
            var n3 = r4[e4];
            if ("string" == typeof n3) {
              var o3 = this.paths[n3];
              o3.$isMongooseDocumentArray || o3.$isSingleNested ? t4.push({ schema: o3.schema, model: o3.caster, path: n3 }) : o3.$isSchemaMap && o3.$__schemaType.$isSingleNested && t4.push({ schema: o3.$__schemaType.schema, model: o3.$__schemaType.caster, path: n3 });
            }
          }
          return this.childSchemas = t4, t4;
        }, Object.defineProperty(V2.prototype, "base", { configurable: true, enumerable: false, writable: true, value: null }), V2.prototype.interpretAsType = function(t4, e4, o3) {
          if (e4 instanceof m2) {
            if (e4.path === t4)
              return e4;
            var i3 = e4.clone();
            return i3.path = t4, i3;
          }
          var s3 = null != this.base ? this.base.Schema.Types : V2.Types, a3 = null != this.base ? this.base.Types : r3(9600);
          if (!(I2.isPOJO(e4) || e4 instanceof v2) && "Object" !== I2.getFunctionName(e4.constructor)) {
            var c3 = e4;
            (e4 = {})[o3.typeKey] = c3;
          }
          var l3, f3 = e4[o3.typeKey] && (e4[o3.typeKey] instanceof Function || "type" !== o3.typeKey || !e4.type.type) ? e4[o3.typeKey] : {};
          if (f3 instanceof m2) {
            if (f3.path === t4)
              return f3;
            var p3 = f3.clone();
            return p3.path = t4, p3;
          }
          if (I2.isPOJO(f3) || "mixed" === f3)
            return new s3.Mixed(t4, e4, null, this);
          if (Array.isArray(f3) || f3 === Array || "array" === f3 || f3 === s3.Array) {
            var h3 = f3 === Array || "array" === f3 ? e4.cast || e4.of : f3[0];
            if (h3 && h3.instanceOfSchema) {
              if (!(h3 instanceof V2)) {
                if (!this.options._isMerging)
                  throw new TypeError("Schema for array path `" + t4 + "` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: " + "".concat(t4, ": new Schema(...)"));
                h3 = new V2(h3);
              }
              return new s3.DocumentArray(t4, h3, e4, null, this);
            }
            if (h3 && h3[o3.typeKey] && h3[o3.typeKey].instanceOfSchema) {
              if (!(h3[o3.typeKey] instanceof V2)) {
                if (!this.options._isMerging)
                  throw new TypeError("Schema for array path `" + t4 + "` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: " + "".concat(t4, ": new Schema(...)"));
                h3[o3.typeKey] = new V2(h3[o3.typeKey]);
              }
              return new s3.DocumentArray(t4, h3[o3.typeKey], e4, h3, this);
            }
            if (void 0 !== h3 && (Array.isArray(h3) || h3.type === Array || "Array" == h3.type))
              return h3 && "Array" == h3.type && (h3.type = Array), new s3.Array(t4, this.interpretAsType(t4, h3, o3), e4, null, this);
            var y3 = null == h3 || !h3[o3.typeKey] || "type" === o3.typeKey && h3.type.type ? h3 : h3[o3.typeKey];
            if ("string" == typeof h3)
              h3 = s3[h3.charAt(0).toUpperCase() + h3.substring(1)];
            else if (I2.isPOJO(y3)) {
              if (Object.keys(y3).length) {
                var d3 = { minimize: o3.minimize };
                o3.typeKey && (d3.typeKey = o3.typeKey), Object.hasOwn(o3, "strict") && (d3.strict = o3.strict), Object.hasOwn(o3, "strictQuery") && (d3.strictQuery = o3.strictQuery), Object.hasOwn(o3, "toObject") && (d3.toObject = I2.omit(o3.toObject, ["transform"])), Object.hasOwn(o3, "toJSON") && (d3.toJSON = I2.omit(o3.toJSON, ["transform"])), Object.hasOwn(this._userProvidedOptions, "_id") ? d3._id = this._userProvidedOptions._id : null != V2.Types.DocumentArray.defaultOptions._id && (d3._id = V2.Types.DocumentArray.defaultOptions._id);
                var b3 = new V2(y3, d3);
                return b3.$implicitlyCreated = true, new s3.DocumentArray(t4, b3, e4, null, this);
              }
              return new s3.Array(t4, s3.Mixed, e4, null, this);
            }
            if (h3) {
              if (f3 = !h3[o3.typeKey] || "type" === o3.typeKey && h3.type.type ? h3 : h3[o3.typeKey], Array.isArray(f3))
                return new s3.Array(t4, this.interpretAsType(t4, f3, o3), e4, null, this);
              if ("ClockDate" === (l3 = "string" == typeof f3 ? f3 : f3.schemaName || I2.getFunctionName(f3)) && (l3 = "Date"), void 0 === l3)
                throw new TypeError("Invalid schema configuration: " + "Could not determine the embedded type for array `".concat(t4, "`. ") + "See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");
              if (!Object.hasOwn(s3, l3))
                throw new TypeError("Invalid schema configuration: " + "`".concat(l3, "` is not a valid type within the array `").concat(t4, "`.") + "See https://bit.ly/mongoose-schematypes for a list of valid schema types.");
              "Union" === l3 && "object" === u2(h3) && (h3.parentSchema = this);
            }
            return new s3.Array(t4, h3 || s3.Mixed, e4, o3, this);
          }
          if (f3 && f3.instanceOfSchema)
            return new s3.Subdocument(f3, t4, e4, this);
          if ((l3 = n2.isBuffer(f3) ? "Buffer" : "function" == typeof f3 || "object" === u2(f3) ? f3.schemaName || I2.getFunctionName(f3) : f3 === a3.ObjectId ? "ObjectId" : f3 === a3.Decimal128 ? "Decimal128" : null == f3 ? "" + f3 : f3.toString()) && (l3 = l3.charAt(0).toUpperCase() + l3.substring(1)), "ObjectID" === l3 && (l3 = "ObjectId"), "ClockDate" === l3 && (l3 = "Date"), void 0 === l3)
            throw new TypeError("Invalid schema configuration: `".concat(t4, "` schematype definition is ") + "invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");
          if (null == s3[l3])
            throw new TypeError("Invalid schema configuration: `".concat(l3, "` is not ") + "a valid type at path `".concat(t4, "`. See ") + "https://bit.ly/mongoose-schematypes for a list of valid schema types.");
          return new s3[l3](t4, e4, o3, this);
        }, V2.prototype.eachPath = function(t4) {
          for (var e4 = Object.keys(this.paths), r4 = e4.length, n3 = 0; n3 < r4; ++n3)
            t4(e4[n3], this.paths[e4[n3]]);
          return this;
        }, V2.prototype.requiredPaths = function(t4) {
          if (this._requiredpaths && !t4)
            return this._requiredpaths;
          for (var e4 = Object.keys(this.paths), r4 = e4.length, n3 = []; r4--; ) {
            var o3 = e4[r4];
            this.paths[o3].isRequired && n3.push(o3);
          }
          return this._requiredpaths = n3, this._requiredpaths;
        }, V2.prototype.indexedPaths = function() {
          return this._indexedpaths || (this._indexedpaths = this.indexes()), this._indexedpaths;
        }, V2.prototype.pathType = function(t4) {
          if (Object.hasOwn(this.paths, t4))
            return "real";
          if (Object.hasOwn(this.virtuals, t4))
            return "virtual";
          if (Object.hasOwn(this.nested, t4))
            return "nested";
          var e4 = z2(t4);
          if (Object.hasOwn(this.subpaths, e4) || Object.hasOwn(this.subpaths, t4))
            return "real";
          var r4 = Object.hasOwn(this.singleNestedPaths, e4) || Object.hasOwn(this.singleNestedPaths, t4);
          return r4 ? "nested" === r4 ? "nested" : "real" : null != K2(this, t4) ? "real" : /\.\d+\.|\.\d+$/.test(t4) ? H2(this, t4, e4) : "adhocOrUndefined";
        }, V2.prototype.hasMixedParent = function(t4) {
          var e4 = t4.split(/\./g);
          t4 = "";
          for (var r4 = 0; r4 < e4.length; ++r4)
            if (t4 = r4 > 0 ? t4 + "." + e4[r4] : e4[r4], Object.hasOwn(this.paths, t4) && this.paths[t4] instanceof h2.Mixed)
              return this.paths[t4];
          return null;
        }, V2.prototype.setupTimestamp = function(t4) {
          return N2(this, t4);
        }, V2.prototype.queue = function(t4, e4) {
          return this.callQueue.push([t4, e4]), this;
        }, V2.prototype.pre = function(t4) {
          if (t4 instanceof RegExp) {
            var e4, r4 = Array.prototype.slice.call(arguments, 1), n3 = l2(U2);
            try {
              for (n3.s(); !(e4 = n3.n()).done; ) {
                var o3 = e4.value;
                t4.test(o3) && this.pre.apply(this, [o3].concat(r4));
              }
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
            return this;
          }
          if (Array.isArray(t4)) {
            var i3, s3 = Array.prototype.slice.call(arguments, 1), a3 = l2(t4);
            try {
              for (a3.s(); !(i3 = a3.n()).done; ) {
                var u3 = i3.value;
                this.pre.apply(this, [u3].concat(s3));
              }
            } catch (t5) {
              a3.e(t5);
            } finally {
              a3.f();
            }
            return this;
          }
          return this.s.hooks.pre.apply(this.s.hooks, arguments), this;
        }, V2.prototype.post = function(t4) {
          if (t4 instanceof RegExp) {
            var e4, r4 = Array.prototype.slice.call(arguments, 1), n3 = l2(U2);
            try {
              for (n3.s(); !(e4 = n3.n()).done; ) {
                var o3 = e4.value;
                t4.test(o3) && this.post.apply(this, [o3].concat(r4));
              }
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
            return this;
          }
          if (Array.isArray(t4)) {
            var i3, s3 = Array.prototype.slice.call(arguments, 1), a3 = l2(t4);
            try {
              for (a3.s(); !(i3 = a3.n()).done; ) {
                var u3 = i3.value;
                this.post.apply(this, [u3].concat(s3));
              }
            } catch (t5) {
              a3.e(t5);
            } finally {
              a3.f();
            }
            return this;
          }
          return this.s.hooks.post.apply(this.s.hooks, arguments), this;
        }, V2.prototype.plugin = function(t4, e4) {
          if ("function" != typeof t4)
            throw new Error('First param to `schema.plugin()` must be a function, got "' + u2(t4) + '"');
          if (e4 && e4.deduplicate) {
            var r4, n3 = l2(this.plugins);
            try {
              for (n3.s(); !(r4 = n3.n()).done; )
                if (r4.value.fn === t4)
                  return this;
            } catch (t5) {
              n3.e(t5);
            } finally {
              n3.f();
            }
          }
          return this.plugins.push({ fn: t4, opts: e4 }), t4(this, e4), this;
        }, V2.prototype.method = function(t4, e4, r4) {
          if ("string" != typeof t4)
            for (var n3 in t4)
              this.methods[n3] = t4[n3], this.methodOptions[n3] = w2(r4);
          else
            this.methods[t4] = e4, this.methodOptions[t4] = w2(r4);
          return this;
        }, V2.prototype.static = function(t4, e4) {
          if ("string" != typeof t4)
            for (var r4 in t4)
              this.statics[r4] = t4[r4];
          else
            this.statics[t4] = e4;
          return this;
        }, V2.prototype.index = function(t4, e4) {
          for (var r4 in t4 || (t4 = {}), e4 || (e4 = {}), e4.expires && I2.expires(e4), t4)
            this.aliases[r4] && (t4 = I2.renameObjKey(t4, r4, this.aliases[r4]));
          for (var n3 = 0, o3 = Object.keys(t4); n3 < o3.length; n3++) {
            var i3 = o3[n3];
            "ascending" === t4[i3] || "asc" === t4[i3] ? t4[i3] = 1 : "descending" !== t4[i3] && "desc" !== t4[i3] || (t4[i3] = -1);
          }
          var s3, a3 = l2(this.indexes());
          try {
            for (a3.s(); !(s3 = a3.n()).done; ) {
              var u3 = s3.value;
              null == e4.name && null == u3[1].name && E2(u3[0], t4) && I2.warn("Duplicate schema index on ".concat(JSON.stringify(t4), ' found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.'));
            }
          } catch (t5) {
            a3.e(t5);
          } finally {
            a3.f();
          }
          return this._indexes.push([t4, e4]), this;
        }, V2.prototype.set = function(t4, e4, r4) {
          if (1 === arguments.length)
            return this.options[t4];
          switch (t4) {
            case "read":
              "string" == typeof e4 ? this.options[t4] = { mode: P2(e4), tags: r4 } : Array.isArray(e4) && "string" == typeof e4[0] ? this.options[t4] = { mode: P2(e4[0]), tags: e4[1] } : this.options[t4] = e4, this._userProvidedOptions[t4] = this.options[t4];
              break;
            case "timestamps":
              this.setupTimestamp(e4), this.options[t4] = e4, this._userProvidedOptions[t4] = this.options[t4];
              break;
            case "_id":
              this.options[t4] = e4, this._userProvidedOptions[t4] = this.options[t4], e4 && !this.paths._id ? O2(this) : !e4 && null != this.paths._id && this.paths._id.auto && this.remove("_id");
              break;
            default:
              this.options[t4] = e4, this._userProvidedOptions[t4] = this.options[t4];
          }
          return "strict" === t4 && W2(this, { strict: e4 }), "strictQuery" === t4 && W2(this, { strictQuery: e4 }), "toObject" === t4 && (delete (e4 = s2({}, e4)).transform, W2(this, { toObject: e4 })), "toJSON" === t4 && (delete (e4 = s2({}, e4)).transform, W2(this, { toJSON: e4 })), this;
        }, V2.prototype.get = function(t4) {
          return this.options[t4];
        };
        var G2 = "2d 2dsphere hashed text".split(" ");
        function Q2(t4, e4) {
          var r4, n3 = e4.split("."), o3 = n3.pop(), i3 = t4.tree, s3 = l2(n3);
          try {
            for (s3.s(); !(r4 = s3.n()).done; )
              i3 = i3[r4.value];
          } catch (t5) {
            s3.e(t5);
          } finally {
            s3.f();
          }
          delete i3[o3];
        }
        __name(Q2, "Q");
        function Y2(t4) {
          return t4.startsWith("$[") && t4.endsWith("]");
        }
        __name(Y2, "Y");
        Object.defineProperty(V2, "indexTypes", { get: function() {
          return G2;
        }, set: function() {
          throw new Error("Cannot overwrite Schema.indexTypes");
        } }), V2.prototype.indexes = function() {
          return j2(this);
        }, V2.prototype.virtual = function(t4, e4) {
          if (t4 instanceof _ || "VirtualType" === $(t4))
            return this.virtual(t4.path, t4.options);
          if (e4 = new g2(e4), I2.hasUserDefinedProperty(e4, ["ref", "refPath"])) {
            if (null == e4.localField)
              throw new Error("Reference virtuals require `localField` option");
            if (null == e4.foreignField)
              throw new Error("Reference virtuals require `foreignField` option");
            var r4 = this.virtual(t4);
            r4.options = e4, this.pre("init", function(n4, o4) {
              if (T2.has(t4, n4)) {
                var i4 = T2.get(t4, n4);
                if (this.$$populatedVirtuals || (this.$$populatedVirtuals = {}), e4.justOne || e4.count ? this.$$populatedVirtuals[t4] = Array.isArray(i4) ? i4[0] : i4 : this.$$populatedVirtuals[t4] = Array.isArray(i4) ? i4 : null == i4 ? [] : [i4], null != o4 && o4.hydratedPopulatedDocs && !e4.count) {
                  var s4 = r4._getModelNamesForPopulate(this), a4 = this.$$populatedVirtuals[t4];
                  if (Array.isArray(a4) || a4.$__ || 1 !== (null == s4 ? void 0 : s4.length)) {
                    if (Array.isArray(a4) && 1 === (null == s4 ? void 0 : s4.length)) {
                      for (var u4 = this.db.model(s4[0]), c4 = 0; c4 < a4.length; ++c4)
                        a4[c4].$__ || (a4[c4] = u4.hydrate(a4[c4], null, { hydratedPopulatedDocs: true }));
                      var l4 = e4.foreignField;
                      this.$populated(t4, a4.map(function(t5) {
                        return null == t5 ? t5 : t5.get("function" == typeof l4 ? l4.call(t5, t5) : l4);
                      }), { populateModelSymbol: u4 });
                    }
                  } else {
                    var f3 = this.db.model(s4[0]);
                    this.$$populatedVirtuals[t4] = f3.hydrate(a4);
                  }
                }
                T2.unset(t4, n4);
              }
            }), r4.set(function(r5) {
              return this.$$populatedVirtuals || (this.$$populatedVirtuals = {}), k2(this.$$populatedVirtuals, t4, r5, e4);
            }), "function" == typeof e4.get && r4.get(e4.get);
            for (var n3 = t4.split("."), o3 = n3[0], i3 = 0; i3 < n3.length - 1; ++i3)
              if (null != this.paths[o3]) {
                if (this.paths[o3].$isMongooseDocumentArray || this.paths[o3].$isSingleNested) {
                  var s3 = n3.slice(i3 + 1).join(".");
                  this.paths[o3].schema.virtual(s3, e4);
                  break;
                }
                if (this.paths[o3].$isSchemaMap) {
                  var a3 = n3.slice(i3 + 2).join(".");
                  this.paths[o3].$__schemaType.schema.virtual(a3, e4);
                  break;
                }
                o3 += "." + n3[i3 + 1];
              }
            return r4;
          }
          var u3 = this.virtuals, c3 = t4.split(".");
          if ("real" === this.pathType(t4))
            throw new Error('Virtual path "' + t4 + '" conflicts with a real path in the schema');
          if (u3[t4] = c3.reduce(function(r5, n4, o4) {
            return r5[n4] || (r5[n4] = o4 === c3.length - 1 ? new _(e4, t4) : {}), r5[n4];
          }, this.tree), e4 && e4.applyToArray && c3.length > 1) {
            var l3 = this.path(c3.slice(0, -1).join("."));
            if (l3 && l3.$isMongooseArray)
              return l3.virtual(c3[c3.length - 1], e4);
            throw new b2('Path "'.concat(l3, '" is not an array'));
          }
          return u3[t4];
        }, V2.prototype.virtualpath = function(t4) {
          return Object.hasOwn(this.virtuals, t4) ? this.virtuals[t4] : null;
        }, V2.prototype.remove = function(t4) {
          return "string" == typeof t4 && (t4 = [t4]), Array.isArray(t4) && t4.forEach(function(t5) {
            if (null != this.path(t5) || this.nested[t5]) {
              if (this.nested[t5]) {
                var e4, r4 = l2(Object.keys(this.paths).concat(Object.keys(this.nested)));
                try {
                  for (r4.s(); !(e4 = r4.n()).done; ) {
                    var n3 = e4.value;
                    n3.startsWith(t5 + ".") && (delete this.paths[n3], delete this.nested[n3], Q2(this, n3));
                  }
                } catch (t6) {
                  r4.e(t6);
                } finally {
                  r4.f();
                }
                return delete this.nested[t5], void Q2(this, t5);
              }
              delete this.paths[t5], Q2(this, t5), this._removeEncryptedField(t5);
            }
          }, this), this;
        }, V2.prototype.removeVirtual = function(t4) {
          if ("string" == typeof t4 && (t4 = [t4]), Array.isArray(t4)) {
            var e4, r4 = l2(t4);
            try {
              for (r4.s(); !(e4 = r4.n()).done; ) {
                var n3 = e4.value;
                if (null == this.virtuals[n3])
                  throw new b2('Attempting to remove virtual "'.concat(n3, '" that does not exist.'));
              }
            } catch (t5) {
              r4.e(t5);
            } finally {
              r4.f();
            }
            var o3, i3 = l2(t4);
            try {
              for (i3.s(); !(o3 = i3.n()).done; ) {
                var s3 = o3.value;
                delete this.paths[s3], delete this.virtuals[s3], -1 !== s3.indexOf(".") ? T2.unset(s3, this.tree) : delete this.tree[s3];
              }
            } catch (t5) {
              i3.e(t5);
            } finally {
              i3.f();
            }
          }
          return this;
        }, V2.prototype.loadClass = function(t4, e4) {
          return t4 === Object.prototype || t4 === Function.prototype || Object.hasOwn(t4.prototype, "$isMongooseModelPrototype") || Object.hasOwn(t4.prototype, "$isMongooseDocumentPrototype") || (this.loadClass(Object.getPrototypeOf(t4), e4), e4 || Object.getOwnPropertyNames(t4).forEach(function(e5) {
            if (!e5.match(/^(length|name|prototype|constructor|__proto__)$/)) {
              var r4 = Object.getOwnPropertyDescriptor(t4, e5);
              Object.hasOwn(r4, "value") && this.static(e5, r4.value);
            }
          }, this), Object.getOwnPropertyNames(t4.prototype).forEach(function(r4) {
            if (!r4.match(/^(constructor)$/)) {
              var n3 = Object.getOwnPropertyDescriptor(t4.prototype, r4);
              e4 || "function" == typeof n3.value && this.method(r4, n3.value), "function" == typeof n3.get && (this.virtuals[r4] && (this.virtuals[r4].getters = []), this.virtual(r4).get(n3.get)), "function" == typeof n3.set && (this.virtuals[r4] && (this.virtuals[r4].setters = []), this.virtual(r4).set(n3.set));
            }
          }, this)), this;
        }, V2.prototype._getSchema = function(t4) {
          var e4 = this.path(t4), r4 = [];
          if (e4)
            return e4.$fullPath = t4, e4;
          for (var n3 = t4.split("."), o3 = 0; o3 < n3.length; ++o3)
            ("$" === n3[o3] || Y2(n3[o3])) && (n3[o3] = "0"), L2.test(n3[o3]) && (n3[o3] = "$");
          return (/* @__PURE__ */ __name(function t5(e5, n4) {
            for (var o4, i3, s3 = e5.length + 1; s3--; )
              if (i3 = e5.slice(0, s3).join("."), o4 = n4.path(i3)) {
                if (r4.push(i3), o4.caster) {
                  if (o4.caster instanceof h2.Mixed)
                    return o4.caster.$fullPath = r4.join("."), o4.caster;
                  if (s3 !== e5.length) {
                    if (s3 + 1 === e5.length && o4.$embeddedSchemaType && ("$" === e5[s3] || Y2(e5[s3])))
                      return o4.$embeddedSchemaType;
                    if (o4.schema) {
                      var a3 = void 0;
                      return "$" === e5[s3] || Y2(e5[s3]) ? s3 + 1 === e5.length ? o4.$embeddedSchemaType : ((a3 = t5(e5.slice(s3 + 1), o4.schema)) && (a3.$parentSchemaDocArray = a3.$parentSchemaDocArray || (o4.schema.$isSingleNested ? null : o4)), a3) : ((a3 = t5(e5.slice(s3), o4.schema)) && (a3.$parentSchemaDocArray = a3.$parentSchemaDocArray || (o4.schema.$isSingleNested ? null : o4)), a3);
                    }
                  }
                } else if (o4.$isSchemaMap) {
                  if (s3 >= e5.length)
                    return o4;
                  if (s3 + 1 >= e5.length)
                    return o4.$__schemaType;
                  if (o4.$__schemaType instanceof h2.Mixed)
                    return o4.$__schemaType;
                  if (null != o4.$__schemaType.schema)
                    return t5(e5.slice(s3 + 1), o4.$__schemaType.schema);
                }
                return o4.$fullPath = r4.join("."), o4;
              }
          }, "t"))(n3, this);
        }, V2.prototype._getPathType = function(t4) {
          return this.path(t4) ? "real" : (/* @__PURE__ */ __name(function t5(e4, r4) {
            for (var n3, o3, i3 = e4.length + 1; i3--; ) {
              if (o3 = e4.slice(0, i3).join("."), n3 = r4.path(o3))
                return n3.caster ? n3.caster instanceof h2.Mixed ? { schema: n3, pathType: "mixed" } : i3 !== e4.length && n3.schema ? "$" === e4[i3] || Y2(e4[i3]) ? i3 === e4.length - 1 ? { schema: n3, pathType: "nested" } : t5(e4.slice(i3 + 1), n3.schema) : t5(e4.slice(i3), n3.schema) : { schema: n3, pathType: n3.$isSingleNested ? "nested" : "array" } : { schema: n3, pathType: "real" };
              if (i3 === e4.length && r4.nested[o3])
                return { schema: r4, pathType: "nested" };
            }
            return { schema: n3 || r4, pathType: "undefined" };
          }, "t"))(t4.split("."), this);
        }, V2.prototype._transformDuplicateKeyError = function(t4) {
          if (!this._duplicateKeyErrorMessagesByPath)
            return t4;
          if (11e3 !== t4.code && 11001 !== t4.code)
            return t4;
          if (null != t4.keyPattern) {
            var e4 = t4.keyPattern, r4 = Object.keys(e4);
            if (1 !== r4.length)
              return t4;
            var n3 = r4[0];
            return Object.hasOwn(this._duplicateKeyErrorMessagesByPath, n3) ? new b2(this._duplicateKeyErrorMessagesByPath[n3], { cause: t4 }) : t4;
          }
          return t4;
        }, V2.prototype._preCompile = function() {
          this.plugin(A2, { deduplicate: true });
        }, V2.prototype.toJSONSchema = function(t4) {
          for (var e4, r4 = null !== (e4 = null == t4 ? void 0 : t4.useBsonType) && void 0 !== e4 && e4, n3 = r4 ? { required: [], properties: {} } : { type: "object", required: [], properties: {} }, i3 = 0, s3 = Object.keys(this.paths); i3 < s3.length; i3++) {
            var a3 = s3[i3], u3 = this.paths[a3];
            if (-1 === u3._presplitPath.indexOf("$*")) {
              var c3 = n3;
              if (u3._presplitPath.length > 1)
                for (var l3 = 0; l3 < u3._presplitPath.length - 1; ++l3) {
                  var f3 = u3._presplitPath[l3];
                  null == c3.properties[f3] && (c3.properties[f3] = r4 ? { bsonType: ["object", "null"], properties: {} } : { type: ["object", "null"], properties: {} }), c3 = c3.properties[f3];
                }
              var p3 = u3._presplitPath[u3._presplitPath.length - 1], h3 = false;
              "_id" === a3 ? (c3.required || (c3.required = []), c3.required.push("_id"), h3 = true) : u3.options.required && "function" != typeof u3.options.required && (c3.required || (c3.required = []), c3.required.push(p3), h3 = true), c3.properties[p3] = u3.toJSONSchema(t4), u3.options.enum && (c3.properties[p3].enum = h3 ? u3.options.enum : [].concat(o2(u3.options.enum), [null]));
            }
          }
          return 0 === n3.required.length && delete n3.required, n3;
        }, t3.exports = e3 = V2, V2.Types = h2 = r3(7953), e3.ObjectId = h2.ObjectId;
      }, 7160: (t3, e3) => {
        "use strict";
        e3.schemaMixedSymbol = Symbol.for("mongoose:schema_mixed"), e3.builtInMiddleware = Symbol.for("mongoose:built-in-middleware");
      }, 7219: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, i2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(i2, "i");
        function s2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (s2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "s"))();
        }
        __name(s2, "s");
        function a2(t4) {
          return a2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, a2(t4);
        }
        __name(a2, "a");
        function u2(t4, e4) {
          return u2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, u2(t4, e4);
        }
        __name(u2, "u");
        var c2 = r3(8213), l2 = r3(2900), f2 = r3(4070), p2 = r3(5497), h2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = a2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, s2() ? Reflect.construct(e5, r5 || [], a2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && u2(t5, e5);
          }(e4, t4), r4 = e4, (i3 = [{ key: "assimilateError", value: function(t5) {
            var e5 = t5.reason, r5 = f2(e5) && l2(e5) && -1 === t5.message.indexOf("bad auth") && -1 === t5.message.indexOf("Authentication failed");
            for (var n3 in r5 ? this.message = "Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/" : p2(e5) ? this.message = "Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html" : this.message = t5.message, t5)
              "name" !== n3 && (this[n3] = t5[n3]);
            return this.cause = e5, this;
          } }]) && o2(r4.prototype, i3), Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4, i3;
        }(c2);
        Object.defineProperty(h2.prototype, "name", { value: "MongooseServerSelectionError" }), t3.exports = h2;
      }, 7236: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          if (null == t4 || "object" !== e3(t4))
            return t4;
          if (Array.isArray(t4))
            for (var r3 = t4.length - 1; r3 >= 0; --r3)
              void 0 === t4[r3] && t4.splice(r3, 1);
          for (var n2 = 0, o2 = Object.keys(t4); n2 < o2.length; n2++) {
            var i2 = o2[n2];
            void 0 === t4[i2] && delete t4[i2];
          }
          return t4;
        };
      }, 7291: (t3, e3) => {
        "use strict";
        function r3(t4) {
          return r3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, r3(t4);
        }
        __name(r3, "r");
        var n2 = Symbol("mongoose#trustedSymbol");
        e3.trustedSymbol = n2, e3.trusted = function(t4) {
          return null == t4 || "object" !== r3(t4) || (t4[n2] = true), t4;
        };
      }, 7300: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          return null == t4 || "object" !== e3(t4) || !("$meta" in t4) && !("$slice" in t4);
        };
      }, 7352: (t3, e3, r3) => {
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = Object.getOwnPropertyDescriptors || function(t4) {
          for (var e4 = Object.keys(t4), r4 = {}, n3 = 0; n3 < e4.length; n3++)
            r4[e4[n3]] = Object.getOwnPropertyDescriptor(t4, e4[n3]);
          return r4;
        }, i2 = /%[sdj%]/g;
        e3.format = function(t4) {
          if (!g2(t4)) {
            for (var e4 = [], r4 = 0; r4 < arguments.length; r4++)
              e4.push(c2(arguments[r4]));
            return e4.join(" ");
          }
          r4 = 1;
          for (var n3 = arguments, o3 = n3.length, s3 = String(t4).replace(i2, function(t5) {
            if ("%%" === t5)
              return "%";
            if (r4 >= o3)
              return t5;
            switch (t5) {
              case "%s":
                return String(n3[r4++]);
              case "%d":
                return Number(n3[r4++]);
              case "%j":
                try {
                  return JSON.stringify(n3[r4++]);
                } catch (t6) {
                  return "[Circular]";
                }
              default:
                return t5;
            }
          }), a3 = n3[r4]; r4 < o3; a3 = n3[++r4])
            m2(a3) || !w2(a3) ? s3 += " " + a3 : s3 += " " + c2(a3);
          return s3;
        }, e3.deprecate = function(t4, e4) {
          if (true === { env: {} }.noDeprecation)
            return t4;
          var r4 = false;
          return function() {
            if (!r4) {
              if ({ env: {} }.throwDeprecation)
                throw new Error(e4);
              !{ env: {} }.traceDeprecation ? console.error(e4) : console.trace(e4), r4 = true;
            }
            return t4.apply(this, arguments);
          };
        };
        var s2 = {}, a2 = /^$/;
        if ({}.NODE_DEBUG) {
          var u2 = {}.NODE_DEBUG;
          u2 = u2.replace(/[|\\{}()[\]^$+?.]/g, "\\$&").replace(/\*/g, ".*").replace(/,/g, "$|^").toUpperCase(), a2 = new RegExp("^" + u2 + "$", "i");
        }
        function c2(t4, r4) {
          var n3 = { seen: [], stylize: f2 };
          return arguments.length >= 3 && (n3.depth = arguments[2]), arguments.length >= 4 && (n3.colors = arguments[3]), b2(r4) ? n3.showHidden = r4 : r4 && e3._extend(n3, r4), _(n3.showHidden) && (n3.showHidden = false), _(n3.depth) && (n3.depth = 2), _(n3.colors) && (n3.colors = false), _(n3.customInspect) && (n3.customInspect = true), n3.colors && (n3.stylize = l2), p2(n3, t4, n3.depth);
        }
        __name(c2, "c");
        function l2(t4, e4) {
          var r4 = c2.styles[e4];
          return r4 ? "\x1B[" + c2.colors[r4][0] + "m" + t4 + "\x1B[" + c2.colors[r4][1] + "m" : t4;
        }
        __name(l2, "l");
        function f2(t4, e4) {
          return t4;
        }
        __name(f2, "f");
        function p2(t4, r4, n3) {
          if (t4.customInspect && r4 && j2(r4.inspect) && r4.inspect !== e3.inspect && (!r4.constructor || r4.constructor.prototype !== r4)) {
            var o3 = r4.inspect(n3, t4);
            return g2(o3) || (o3 = p2(t4, o3, n3)), o3;
          }
          var i3 = function(t5, e4) {
            if (_(e4))
              return t5.stylize("undefined", "undefined");
            if (g2(e4)) {
              var r5 = "'" + JSON.stringify(e4).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
              return t5.stylize(r5, "string");
            }
            return v2(e4) ? t5.stylize("" + e4, "number") : b2(e4) ? t5.stylize("" + e4, "boolean") : m2(e4) ? t5.stylize("null", "null") : void 0;
          }(t4, r4);
          if (i3)
            return i3;
          var s3 = Object.keys(r4), a3 = function(t5) {
            var e4 = {};
            return t5.forEach(function(t6, r5) {
              e4[t6] = true;
            }), e4;
          }(s3);
          if (t4.showHidden && (s3 = Object.getOwnPropertyNames(r4)), $(r4) && (s3.indexOf("message") >= 0 || s3.indexOf("description") >= 0))
            return h2(r4);
          if (0 === s3.length) {
            if (j2(r4)) {
              var u3 = r4.name ? ": " + r4.name : "";
              return t4.stylize("[Function" + u3 + "]", "special");
            }
            if (O2(r4))
              return t4.stylize(RegExp.prototype.toString.call(r4), "regexp");
            if (S2(r4))
              return t4.stylize(Date.prototype.toString.call(r4), "date");
            if ($(r4))
              return h2(r4);
          }
          var c3, l3 = "", f3 = false, w3 = ["{", "}"];
          return d2(r4) && (f3 = true, w3 = ["[", "]"]), j2(r4) && (l3 = " [Function" + (r4.name ? ": " + r4.name : "") + "]"), O2(r4) && (l3 = " " + RegExp.prototype.toString.call(r4)), S2(r4) && (l3 = " " + Date.prototype.toUTCString.call(r4)), $(r4) && (l3 = " " + h2(r4)), 0 !== s3.length || f3 && 0 != r4.length ? n3 < 0 ? O2(r4) ? t4.stylize(RegExp.prototype.toString.call(r4), "regexp") : t4.stylize("[Object]", "special") : (t4.seen.push(r4), c3 = f3 ? function(t5, e4, r5, n4, o4) {
            for (var i4 = [], s4 = 0, a4 = e4.length; s4 < a4; ++s4)
              x2(e4, String(s4)) ? i4.push(y2(t5, e4, r5, n4, String(s4), true)) : i4.push("");
            return o4.forEach(function(o5) {
              o5.match(/^\d+$/) || i4.push(y2(t5, e4, r5, n4, o5, true));
            }), i4;
          }(t4, r4, n3, a3, s3) : s3.map(function(e4) {
            return y2(t4, r4, n3, a3, e4, f3);
          }), t4.seen.pop(), function(t5, e4, r5) {
            return t5.reduce(function(t6, e5) {
              return e5.indexOf("\n"), t6 + e5.replace(/\u001b\[\d\d?m/g, "").length + 1;
            }, 0) > 60 ? r5[0] + ("" === e4 ? "" : e4 + "\n ") + " " + t5.join(",\n  ") + " " + r5[1] : r5[0] + e4 + " " + t5.join(", ") + " " + r5[1];
          }(c3, l3, w3)) : w3[0] + l3 + w3[1];
        }
        __name(p2, "p");
        function h2(t4) {
          return "[" + Error.prototype.toString.call(t4) + "]";
        }
        __name(h2, "h");
        function y2(t4, e4, r4, n3, o3, i3) {
          var s3, a3, u3;
          if ((u3 = Object.getOwnPropertyDescriptor(e4, o3) || { value: e4[o3] }).get ? a3 = u3.set ? t4.stylize("[Getter/Setter]", "special") : t4.stylize("[Getter]", "special") : u3.set && (a3 = t4.stylize("[Setter]", "special")), x2(n3, o3) || (s3 = "[" + o3 + "]"), a3 || (t4.seen.indexOf(u3.value) < 0 ? (a3 = m2(r4) ? p2(t4, u3.value, null) : p2(t4, u3.value, r4 - 1)).indexOf("\n") > -1 && (a3 = i3 ? a3.split("\n").map(function(t5) {
            return "  " + t5;
          }).join("\n").slice(2) : "\n" + a3.split("\n").map(function(t5) {
            return "   " + t5;
          }).join("\n")) : a3 = t4.stylize("[Circular]", "special")), _(s3)) {
            if (i3 && o3.match(/^\d+$/))
              return a3;
            (s3 = JSON.stringify("" + o3)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (s3 = s3.slice(1, -1), s3 = t4.stylize(s3, "name")) : (s3 = s3.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"), s3 = t4.stylize(s3, "string"));
          }
          return s3 + ": " + a3;
        }
        __name(y2, "y");
        function d2(t4) {
          return Array.isArray(t4);
        }
        __name(d2, "d");
        function b2(t4) {
          return "boolean" == typeof t4;
        }
        __name(b2, "b");
        function m2(t4) {
          return null === t4;
        }
        __name(m2, "m");
        function v2(t4) {
          return "number" == typeof t4;
        }
        __name(v2, "v");
        function g2(t4) {
          return "string" == typeof t4;
        }
        __name(g2, "g");
        function _(t4) {
          return void 0 === t4;
        }
        __name(_, "_");
        function O2(t4) {
          return w2(t4) && "[object RegExp]" === P2(t4);
        }
        __name(O2, "O");
        function w2(t4) {
          return "object" === n2(t4) && null !== t4;
        }
        __name(w2, "w");
        function S2(t4) {
          return w2(t4) && "[object Date]" === P2(t4);
        }
        __name(S2, "S");
        function $(t4) {
          return w2(t4) && ("[object Error]" === P2(t4) || t4 instanceof Error);
        }
        __name($, "$");
        function j2(t4) {
          return "function" == typeof t4;
        }
        __name(j2, "j");
        function P2(t4) {
          return Object.prototype.toString.call(t4);
        }
        __name(P2, "P");
        function A2(t4) {
          return t4 < 10 ? "0" + t4.toString(10) : t4.toString(10);
        }
        __name(A2, "A");
        e3.debuglog = function(t4) {
          if (t4 = t4.toUpperCase(), !s2[t4])
            if (a2.test(t4)) {
              var r4 = { env: {} }.pid;
              s2[t4] = function() {
                var n3 = e3.format.apply(e3, arguments);
                console.error("%s %d: %s", t4, r4, n3);
              };
            } else
              s2[t4] = function() {
              };
          return s2[t4];
        }, e3.inspect = c2, c2.colors = { bold: [1, 22], italic: [3, 23], underline: [4, 24], inverse: [7, 27], white: [37, 39], grey: [90, 39], black: [30, 39], blue: [34, 39], cyan: [36, 39], green: [32, 39], magenta: [35, 39], red: [31, 39], yellow: [33, 39] }, c2.styles = { special: "cyan", number: "yellow", boolean: "yellow", undefined: "grey", null: "bold", string: "green", date: "magenta", regexp: "red" }, e3.types = r3(7595), e3.isArray = d2, e3.isBoolean = b2, e3.isNull = m2, e3.isNullOrUndefined = function(t4) {
          return null == t4;
        }, e3.isNumber = v2, e3.isString = g2, e3.isSymbol = function(t4) {
          return "symbol" === n2(t4);
        }, e3.isUndefined = _, e3.isRegExp = O2, e3.types.isRegExp = O2, e3.isObject = w2, e3.isDate = S2, e3.types.isDate = S2, e3.isError = $, e3.types.isNativeError = $, e3.isFunction = j2, e3.isPrimitive = function(t4) {
          return null === t4 || "boolean" == typeof t4 || "number" == typeof t4 || "string" == typeof t4 || "symbol" === n2(t4) || void 0 === t4;
        }, e3.isBuffer = r3(7944);
        var E2 = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        function x2(t4, e4) {
          return Object.prototype.hasOwnProperty.call(t4, e4);
        }
        __name(x2, "x");
        e3.log = function() {
          var t4, r4;
          console.log("%s - %s", (r4 = [A2((t4 = /* @__PURE__ */ new Date()).getHours()), A2(t4.getMinutes()), A2(t4.getSeconds())].join(":"), [t4.getDate(), E2[t4.getMonth()], r4].join(" ")), e3.format.apply(e3, arguments));
        }, e3.inherits = r3(1679), e3._extend = function(t4, e4) {
          if (!e4 || !w2(e4))
            return t4;
          for (var r4 = Object.keys(e4), n3 = r4.length; n3--; )
            t4[r4[n3]] = e4[r4[n3]];
          return t4;
        };
        var T2 = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;
        function k2(t4, e4) {
          if (!t4) {
            var r4 = new Error("Promise was rejected with a falsy value");
            r4.reason = t4, t4 = r4;
          }
          return e4(t4);
        }
        __name(k2, "k");
        e3.promisify = function(t4) {
          if ("function" != typeof t4)
            throw new TypeError('The "original" argument must be of type Function');
          if (T2 && t4[T2]) {
            var e4;
            if ("function" != typeof (e4 = t4[T2]))
              throw new TypeError('The "util.promisify.custom" argument must be of type Function');
            return Object.defineProperty(e4, T2, { value: e4, enumerable: false, writable: false, configurable: true }), e4;
          }
          function e4() {
            for (var e5, r4, n3 = new Promise(function(t5, n4) {
              e5 = t5, r4 = n4;
            }), o3 = [], i3 = 0; i3 < arguments.length; i3++)
              o3.push(arguments[i3]);
            o3.push(function(t5, n4) {
              t5 ? r4(t5) : e5(n4);
            });
            try {
              t4.apply(this, o3);
            } catch (t5) {
              r4(t5);
            }
            return n3;
          }
          __name(e4, "e");
          return Object.setPrototypeOf(e4, Object.getPrototypeOf(t4)), T2 && Object.defineProperty(e4, T2, { value: e4, enumerable: false, writable: false, configurable: true }), Object.defineProperties(e4, o2(t4));
        }, e3.promisify.custom = T2, e3.callbackify = function(t4) {
          if ("function" != typeof t4)
            throw new TypeError('The "original" argument must be of type Function');
          function e4() {
            for (var e5 = [], r4 = 0; r4 < arguments.length; r4++)
              e5.push(arguments[r4]);
            var n3 = e5.pop();
            if ("function" != typeof n3)
              throw new TypeError("The last argument must be of type Function");
            var o3 = this, i3 = /* @__PURE__ */ __name(function() {
              return n3.apply(o3, arguments);
            }, "i");
            t4.apply(this, e5).then(function(t5) {
              ({ env: {} }).nextTick(i3.bind(null, null, t5));
            }, function(t5) {
              ({ env: {} }).nextTick(k2.bind(null, t5, i3));
            });
          }
          __name(e4, "e");
          return Object.setPrototypeOf(e4, Object.getPrototypeOf(t4)), Object.defineProperties(e4, o2(t4)), e4;
        };
      }, 7425: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2696);
        t3.exports = function(t4, e4) {
          if (null == t4 || null == t4.discriminators)
            return null;
          for (var r4 = 0, o2 = Object.keys(t4.discriminators); r4 < o2.length; r4++) {
            var i2 = o2[r4], s2 = t4.discriminators[i2];
            if (null != s2.discriminatorMapping && n2(s2.discriminatorMapping.value, e4))
              return s2;
          }
          return null;
        };
      }, 7430: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4) {
          return o2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, o2(t4);
        }
        __name(o2, "o");
        var i2 = r3(6353).Binary, s2 = r3(3305), a2 = r3(2497);
        r3(3672), r3(7352);
        function u2(t4) {
          return t4 && "object" === o2(t4) && !(t4 instanceof Date) && !s2(t4, "ObjectId") && (!Array.isArray(t4) || 0 !== t4.length) && !(t4 instanceof n2) && !s2(t4, "Decimal128") && !(t4 instanceof i2);
        }
        __name(u2, "u");
        e3.B = /* @__PURE__ */ __name(function t4(e4, r4, o3, i3) {
          var s3, c2 = (s3 = e4 && a2(e4) && !n2.isBuffer(e4) ? Object.keys(e4.toObject({ transform: false, virtuals: false }) || {}) : Object.keys(e4 || {})).length, l2 = {};
          r4 = r4 ? r4 + "." : "";
          for (var f2 = 0; f2 < c2; ++f2) {
            var p2 = s3[f2], h2 = e4[p2];
            l2[r4 + p2] = h2;
            var y2 = i3 && i3.path && i3.path(r4 + p2), d2 = i3 && i3.nested && i3.nested[r4 + p2];
            if (!y2 || "Mixed" !== y2.instance) {
              if (u2(h2)) {
                if (o3 && o3.skipArrays && Array.isArray(h2))
                  continue;
                var b2 = t4(h2, r4 + p2, o3, i3);
                for (var m2 in b2)
                  l2[m2] = b2[m2];
                Array.isArray(h2) && (l2[r4 + p2] = h2);
              }
              if (d2)
                for (var v2 = 0, g2 = Object.keys(i3.paths); v2 < g2.length; v2++) {
                  var _ = g2[v2];
                  _.startsWith(r4 + p2 + ".") && !Object.hasOwn(l2, _) && (l2[_] = void 0);
                }
            }
          }
          return l2;
        }, "t");
      }, 7494: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "_id", u2), Object.defineProperty(a2.prototype, "minimize", u2), t3.exports = a2;
      }, 7557: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(o2, "o");
        var i2 = r3(8920), s2 = r3(7930).arrayAtomicsSymbol, a2 = r3(7930).arrayAtomicsBackupSymbol, u2 = r3(7930).arrayParentSymbol, c2 = r3(7930).arrayPathSymbol, l2 = r3(7930).arraySchemaSymbol, f2 = Array.prototype.push, p2 = /^\d+$/;
        t3.exports = function(t4, e4, r4, n3) {
          var h2;
          if (Array.isArray(t4)) {
            var y2 = t4.length;
            if (0 === y2)
              h2 = new Array();
            else if (1 === y2)
              (h2 = new Array(1))[0] = t4[0];
            else if (y2 < 1e4)
              h2 = new Array(), f2.apply(h2, t4);
            else {
              h2 = new Array();
              for (var d2 = 0; d2 < y2; ++d2)
                f2.call(h2, t4[d2]);
            }
          } else
            h2 = [];
          var b2 = o2(o2(o2(o2(o2(o2(o2(o2({}, s2, {}), a2, void 0), c2, e4), l2, n3), u2, void 0), "isMongooseArray", true), "isMongooseArrayProxy", true), "__array", h2);
          t4 && null != t4[s2] && (b2[s2] = t4[s2]), null != r4 && r4.$__ && (b2[u2] = r4, b2[l2] = n3 || r4.schema.path(e4));
          var m2 = new Proxy(h2, { get: function(t5, e5) {
            return Object.hasOwn(b2, e5) ? b2[e5] : Object.hasOwn(i2, e5) ? i2[e5] : n3 && n3.virtuals && Object.hasOwn(n3.virtuals, e5) ? n3.virtuals[e5].applyGetters(void 0, t5) : "string" == typeof e5 && p2.test(e5) && null != (null == n3 ? void 0 : n3.$embeddedSchemaType) ? n3.$embeddedSchemaType.applyGetters(h2[e5], r4) : h2[e5];
          }, set: function(t5, e5, r5) {
            return "string" == typeof e5 && p2.test(e5) ? i2.set.call(m2, e5, r5, false) : Object.hasOwn(b2, e5) ? b2[e5] = r5 : null != n3 && n3.virtuals && Object.hasOwn(n3.virtuals, e5) ? n3.virtuals[e5].applySetters(r5, t5) : h2[e5] = r5, true;
          } });
          return m2;
        };
      }, 7591: (t3) => {
        "use strict";
        var e3 = null;
        t3.exports.get = function() {
          return e3;
        }, t3.exports.set = function(t4) {
          e3 = t4;
        };
      }, 7595: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(5899), i2 = r3(1905), s2 = r3(9834), a2 = r3(7911);
        function u2(t4) {
          return t4.call.bind(t4);
        }
        __name(u2, "u");
        var c2 = "undefined" != typeof BigInt, l2 = "undefined" != typeof Symbol, f2 = u2(Object.prototype.toString), p2 = u2(Number.prototype.valueOf), h2 = u2(String.prototype.valueOf), y2 = u2(Boolean.prototype.valueOf);
        if (c2)
          var d2 = u2(BigInt.prototype.valueOf);
        if (l2)
          var b2 = u2(Symbol.prototype.valueOf);
        function m2(t4, e4) {
          if ("object" !== n2(t4))
            return false;
          try {
            return e4(t4), true;
          } catch (t5) {
            return false;
          }
        }
        __name(m2, "m");
        function v2(t4) {
          return "[object Map]" === f2(t4);
        }
        __name(v2, "v");
        function g2(t4) {
          return "[object Set]" === f2(t4);
        }
        __name(g2, "g");
        function _(t4) {
          return "[object WeakMap]" === f2(t4);
        }
        __name(_, "_");
        function O2(t4) {
          return "[object WeakSet]" === f2(t4);
        }
        __name(O2, "O");
        function w2(t4) {
          return "[object ArrayBuffer]" === f2(t4);
        }
        __name(w2, "w");
        function S2(t4) {
          return "undefined" != typeof ArrayBuffer && (w2.working ? w2(t4) : t4 instanceof ArrayBuffer);
        }
        __name(S2, "S");
        function $(t4) {
          return "[object DataView]" === f2(t4);
        }
        __name($, "$");
        function j2(t4) {
          return "undefined" != typeof DataView && ($.working ? $(t4) : t4 instanceof DataView);
        }
        __name(j2, "j");
        e3.isArgumentsObject = o2, e3.isGeneratorFunction = i2, e3.isTypedArray = a2, e3.isPromise = function(t4) {
          return "undefined" != typeof Promise && t4 instanceof Promise || null !== t4 && "object" === n2(t4) && "function" == typeof t4.then && "function" == typeof t4.catch;
        }, e3.isArrayBufferView = function(t4) {
          return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(t4) : a2(t4) || j2(t4);
        }, e3.isUint8Array = function(t4) {
          return "Uint8Array" === s2(t4);
        }, e3.isUint8ClampedArray = function(t4) {
          return "Uint8ClampedArray" === s2(t4);
        }, e3.isUint16Array = function(t4) {
          return "Uint16Array" === s2(t4);
        }, e3.isUint32Array = function(t4) {
          return "Uint32Array" === s2(t4);
        }, e3.isInt8Array = function(t4) {
          return "Int8Array" === s2(t4);
        }, e3.isInt16Array = function(t4) {
          return "Int16Array" === s2(t4);
        }, e3.isInt32Array = function(t4) {
          return "Int32Array" === s2(t4);
        }, e3.isFloat32Array = function(t4) {
          return "Float32Array" === s2(t4);
        }, e3.isFloat64Array = function(t4) {
          return "Float64Array" === s2(t4);
        }, e3.isBigInt64Array = function(t4) {
          return "BigInt64Array" === s2(t4);
        }, e3.isBigUint64Array = function(t4) {
          return "BigUint64Array" === s2(t4);
        }, v2.working = "undefined" != typeof Map && v2(/* @__PURE__ */ new Map()), e3.isMap = function(t4) {
          return "undefined" != typeof Map && (v2.working ? v2(t4) : t4 instanceof Map);
        }, g2.working = "undefined" != typeof Set && g2(/* @__PURE__ */ new Set()), e3.isSet = function(t4) {
          return "undefined" != typeof Set && (g2.working ? g2(t4) : t4 instanceof Set);
        }, _.working = "undefined" != typeof WeakMap && _(/* @__PURE__ */ new WeakMap()), e3.isWeakMap = function(t4) {
          return "undefined" != typeof WeakMap && (_.working ? _(t4) : t4 instanceof WeakMap);
        }, O2.working = "undefined" != typeof WeakSet && O2(/* @__PURE__ */ new WeakSet()), e3.isWeakSet = function(t4) {
          return O2(t4);
        }, w2.working = "undefined" != typeof ArrayBuffer && w2(new ArrayBuffer()), e3.isArrayBuffer = S2, $.working = "undefined" != typeof ArrayBuffer && "undefined" != typeof DataView && $(new DataView(new ArrayBuffer(1), 0, 1)), e3.isDataView = j2;
        var P2 = "undefined" != typeof SharedArrayBuffer ? SharedArrayBuffer : void 0;
        function A2(t4) {
          return "[object SharedArrayBuffer]" === f2(t4);
        }
        __name(A2, "A");
        function E2(t4) {
          return void 0 !== P2 && (void 0 === A2.working && (A2.working = A2(new P2())), A2.working ? A2(t4) : t4 instanceof P2);
        }
        __name(E2, "E");
        function x2(t4) {
          return m2(t4, p2);
        }
        __name(x2, "x");
        function T2(t4) {
          return m2(t4, h2);
        }
        __name(T2, "T");
        function k2(t4) {
          return m2(t4, y2);
        }
        __name(k2, "k");
        function N2(t4) {
          return c2 && m2(t4, d2);
        }
        __name(N2, "N");
        function I2(t4) {
          return l2 && m2(t4, b2);
        }
        __name(I2, "I");
        e3.isSharedArrayBuffer = E2, e3.isAsyncFunction = function(t4) {
          return "[object AsyncFunction]" === f2(t4);
        }, e3.isMapIterator = function(t4) {
          return "[object Map Iterator]" === f2(t4);
        }, e3.isSetIterator = function(t4) {
          return "[object Set Iterator]" === f2(t4);
        }, e3.isGeneratorObject = function(t4) {
          return "[object Generator]" === f2(t4);
        }, e3.isWebAssemblyCompiledModule = function(t4) {
          return "[object WebAssembly.Module]" === f2(t4);
        }, e3.isNumberObject = x2, e3.isStringObject = T2, e3.isBooleanObject = k2, e3.isBigIntObject = N2, e3.isSymbolObject = I2, e3.isBoxedPrimitive = function(t4) {
          return x2(t4) || T2(t4) || k2(t4) || N2(t4) || I2(t4);
        }, e3.isAnyArrayBuffer = function(t4) {
          return "undefined" != typeof Uint8Array && (S2(t4) || E2(t4));
        }, ["isProxy", "isExternal", "isModuleNamespaceObject"].forEach(function(t4) {
          Object.defineProperty(e3, t4, { enumerable: false, value: function() {
            throw new Error(t4 + " is not supported in userland");
          } });
        });
      }, 7760: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(n2, "n");
        function o2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? n2(Object(r4), true).forEach(function(e5) {
              i2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : n2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != a2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != a2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == a2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(s2, "s");
        function a2(t4) {
          return a2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, a2(t4);
        }
        __name(a2, "a");
        var u2, c2, l2 = r3(8499), f2 = r3(2555), p2 = r3(8213), h2 = r3(4592), y2 = r3(6426), d2 = y2.CastError, b2 = r3(5022), m2 = r3(2069), v2 = r3(622), g2 = r3(2073), _ = r3(7982), O2 = r3(4450), w2 = r3(8260), S2 = r3(5110), $ = r3(7352), j2 = r3(8768), P2 = r3(5558).G, A2 = r3(4327), E2 = r3(9604), x2 = r3(1058), T2 = Symbol("mongoose#isNestedArray"), k2 = Object.freeze({});
        function N2(t4, e4, n3, o3, i3) {
          c2 || (c2 = r3(9600).Embedded);
          var s3, a3, u3 = "type";
          if (o3 && o3.typeKey && (u3 = o3.typeKey), this.schemaOptions = o3, e4) {
            var l3 = {};
            j2.isPOJO(e4) && (e4[u3] ? (delete (l3 = O2(e4))[u3], e4 = e4[u3]) : e4 = b2), null != n3 && null != n3.ref && null == l3.ref && (l3.ref = n3.ref), e4 === Object && (e4 = b2);
            var f3 = "string" == typeof e4 ? e4 : j2.getFunctionName(e4), p3 = r3(7953), h3 = Object.hasOwn(p3, f3) ? p3[f3] : e4;
            if (this.casterConstructor = h3, this.casterConstructor instanceof N2 && (this.casterConstructor[T2] = true), "function" != typeof h3 || h3.$isArraySubdocument || h3.$isSchemaMap)
              this.caster = h3, this.caster instanceof c2 || (this.caster.path = t4);
            else {
              var d3 = this.caster instanceof c2 ? null : t4;
              this.caster = h3 === N2 ? new h3(d3, l3, o3, null, i3) : new h3(d3, l3, o3, i3);
            }
            this.$embeddedSchemaType = this.caster;
          }
          if (this.$isMongooseArray = true, y2.call(this, t4, n3, "Array", i3), null != this.defaultValue && (s3 = this.defaultValue, a3 = "function" == typeof s3), !("defaultValue" in this) || null != this.defaultValue) {
            var m3 = /* @__PURE__ */ __name(function() {
              return a3 ? s3.call(this) : null != s3 ? [].concat(s3) : [];
            }, "m");
            m3.$runBeforeSetters = !a3, this.default(m3);
          }
        }
        __name(N2, "N");
        N2.schemaName = "Array", N2.options = { castNonArrays: true }, N2.defaultOptions = {}, N2.set = y2.set, N2.setters = [], N2.get = y2.get, N2.prototype = Object.create(y2.prototype), N2.prototype.constructor = N2, N2.prototype.OptionsConstructor = h2, N2._checkRequired = y2.prototype.checkRequired, N2.checkRequired = y2.checkRequired, N2.prototype.virtuals = null, N2.prototype.checkRequired = function(t4, e4) {
          return "object" === a2(t4) && y2._isRef(this, t4, e4, true) ? !!t4 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : N2.checkRequired())(t4);
        }, N2.prototype.enum = function() {
          for (var t4 = this; ; ) {
            var e4 = t4 && t4.caster && t4.caster.instance;
            if ("Array" !== e4) {
              if ("String" !== e4 && "Number" !== e4)
                throw new Error("`enum` can only be set on an array of strings or numbers , not " + e4);
              break;
            }
            t4 = t4.caster;
          }
          var r4 = arguments;
          return !Array.isArray(arguments) && j2.isObject(arguments) && (r4 = j2.object.vals(r4)), t4.caster.enum.apply(t4.caster, r4), this;
        }, N2.prototype.applyGetters = function(t4, e4) {
          return null != e4 && null != e4.$__ && e4.$populated(this.path) ? t4 : y2.prototype.applyGetters.call(this, t4, e4);
        }, N2.prototype._applySetters = function(t4, e4, r4, n3) {
          if (this.casterConstructor.$isMongooseArray && N2.options.castNonArrays && !this[T2]) {
            for (var o3 = 0, i3 = this; null != i3 && i3.$isMongooseArray && !i3.$isMongooseDocumentArray; )
              ++o3, i3 = i3.casterConstructor;
            if (null != t4 && 0 !== t4.length) {
              var s3 = g2(t4);
              if (s3.min === s3.max && s3.max < o3 && s3.containsNonArrayItem)
                for (var a3 = s3.max; a3 < o3; ++a3)
                  t4 = [t4];
            }
          }
          return y2.prototype._applySetters.call(this, t4, e4, r4, n3);
        }, N2.prototype.cast = function(t4, e4, n3, o3, i3) {
          var s3, a3;
          if (u2 || (u2 = r3(9600).Array), Array.isArray(t4)) {
            if (!t4.length && e4) {
              var c3 = e4.schema.indexedPaths(), l3 = this.path;
              for (s3 = 0, a3 = c3.length; s3 < a3; ++s3) {
                var f3 = c3[s3][0][l3];
                if ("2dsphere" === f3 || "2d" === f3)
                  return;
              }
              var p3 = this.path.endsWith(".coordinates") ? this.path.substring(0, this.path.lastIndexOf(".")) : null;
              if (null != p3) {
                for (s3 = 0, a3 = c3.length; s3 < a3; ++s3)
                  if ("2dsphere" === c3[s3][0][p3])
                    return;
              }
            }
            i3 = i3 || k2;
            var h3 = j2.isMongooseArray(t4) ? t4.__array : t4, y3 = i3.path || this.path;
            if (null != i3.arrayPathIndex && (y3 += "." + i3.arrayPathIndex), h3 = (t4 = u2(h3, y3, e4, this)).__array, n3 && null != e4 && null != e4.$__ && e4.$populated(this.path))
              return t4;
            var m3 = this.caster, v3 = m3.$isMongooseArray;
            if (m3 && this.casterConstructor !== b2)
              try {
                var g3 = h3.length;
                for (s3 = 0; s3 < g3; s3++) {
                  var _2 = {};
                  v3 && (null != i3.arrayPath || null != m3._arrayParentPath) && (_2.arrayPathIndex = s3), i3.hydratedPopulatedDocs && (_2.hydratedPopulatedDocs = i3.hydratedPopulatedDocs), h3[s3] = m3.applySetters(h3[s3], e4, n3, void 0, _2);
                }
              } catch (e5) {
                throw new d2("[" + e5.kind + "]", $.inspect(t4), this.path + "." + s3, e5, this);
              }
            return t4;
          }
          var O3 = null != this.options.castNonArrays ? this.options.castNonArrays : N2.options.castNonArrays;
          if (n3 || O3)
            return e4 && n3 && e4.markModified(this.path), this.cast([t4], e4, n3);
          throw new d2("Array", $.inspect(t4), this.path, null, this);
        }, N2.prototype._castForPopulate = function(t4, e4) {
          if (u2 || (u2 = r3(9600).Array), Array.isArray(t4)) {
            var n3, o3 = t4.__array ? t4.__array : t4, i3 = o3.length, s3 = this.caster;
            if (s3 && this.casterConstructor !== b2)
              try {
                for (n3 = 0; n3 < i3; n3++) {
                  var a3 = {};
                  s3.$isMongooseArray && null != s3._arrayParentPath && (a3.arrayPathIndex = n3), o3[n3] = s3.cast(o3[n3], e4, false, void 0, a3);
                }
              } catch (e5) {
                throw new d2("[" + e5.kind + "]", $.inspect(t4), this.path + "." + n3, e5, this);
              }
            return t4;
          }
          throw new d2("Array", $.inspect(t4), this.path, null, this);
        }, N2.prototype.$toObject = N2.prototype.toObject, N2.prototype.discriminator = function() {
          for (var t4, e4 = this; e4.$isMongooseArray && !e4.$isMongooseDocumentArray; )
            if (null == (e4 = e4.casterConstructor) || "function" == typeof e4)
              throw new p2("You can only add an embedded discriminator on a document array, " + this.path + " is a plain array");
          return (t4 = e4).discriminator.apply(t4, arguments);
        }, N2.prototype.clone = function() {
          var t4 = Object.assign({}, this.options), e4 = new this.constructor(this.path, this.caster, t4, this.schemaOptions, this.parentSchema);
          return e4.validators = this.validators.slice(), void 0 !== this.requiredValidator && (e4.requiredValidator = this.requiredValidator), e4;
        }, N2.prototype._castForQuery = function(t4, e4) {
          var r4 = this, n3 = this.casterConstructor;
          if (t4 && n3.discriminators && n3.schema && n3.schema.options && n3.schema.options.discriminatorKey)
            if ("string" == typeof t4[n3.schema.options.discriminatorKey] && n3.discriminators[t4[n3.schema.options.discriminatorKey]])
              n3 = n3.discriminators[t4[n3.schema.options.discriminatorKey]];
            else {
              var o3 = x2(n3.discriminators, t4[n3.schema.options.discriminatorKey]);
              o3 && (n3 = o3);
            }
          var i3 = this.casterConstructor.prototype, s3 = i3 && i3.castForQuery, a3 = i3 && i3.cast, u3 = n3.castForQuery, c3 = this.caster;
          return Array.isArray(t4) ? (this.setters.reverse().forEach(function(e5) {
            t4 = e5.call(r4, t4, r4);
          }), t4 = t4.map(function(t5) {
            return j2.isObject(t5) && t5.$elemMatch ? t5 : s3 ? t5 = s3.call(c3, null, t5, e4) : a3 ? t5 = a3.call(c3, t5) : u3 ? t5 = u3.call(c3, null, t5, e4) : null != t5 ? t5 = new n3(t5) : t5;
          })) : s3 ? t4 = s3.call(c3, null, t4, e4) : a3 ? t4 = a3.call(c3, t4) : u3 ? t4 = u3.call(c3, null, t4, e4) : null != t4 && (t4 = new n3(t4)), t4;
        }, N2.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4) {
            if (!(n3 = this.$conditionalHandlers[t4]))
              throw new Error("Can't use " + t4 + " with Array.");
            return n3.call(this, e4, r4);
          }
          return this._castForQuery(e4, r4);
        }, N2.prototype.virtual = function(t4, e4) {
          if (t4 instanceof v2 || "VirtualType" === w2(t4))
            return this.virtual(t4.path, t4.options);
          if (e4 = new m2(e4), j2.hasUserDefinedProperty(e4, ["ref", "refPath"]))
            throw new p2("Cannot set populate virtual as a property of an array");
          var r4 = new v2(e4, t4);
          return null === this.virtuals && (this.virtuals = {}), this.virtuals[t4] = r4, r4;
        };
        var I2 = N2.prototype.$conditionalHandlers = {};
        function D2(t4) {
          return function(e4, r4) {
            if (!Array.isArray(e4))
              throw new TypeError("conditional " + t4 + " requires an array");
            var n3, o3 = [], i3 = function(t5, e5) {
              var r5 = "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
              if (!r5) {
                if (Array.isArray(t5) || (r5 = function(t6, e6) {
                  if (t6) {
                    if ("string" == typeof t6)
                      return s2(t6, e6);
                    var r6 = {}.toString.call(t6).slice(8, -1);
                    return "Object" === r6 && t6.constructor && (r6 = t6.constructor.name), "Map" === r6 || "Set" === r6 ? Array.from(t6) : "Arguments" === r6 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r6) ? s2(t6, e6) : void 0;
                  }
                }(t5)) || e5 && t5 && "number" == typeof t5.length) {
                  r5 && (t5 = r5);
                  var n4 = 0, o4 = /* @__PURE__ */ __name(function() {
                  }, "o");
                  return { s: o4, n: function() {
                    return n4 >= t5.length ? { done: true } : { done: false, value: t5[n4++] };
                  }, e: function(t6) {
                    throw t6;
                  }, f: o4 };
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }
              var i4, a4 = true, u4 = false;
              return { s: function() {
                r5 = r5.call(t5);
              }, n: function() {
                var t6 = r5.next();
                return a4 = t6.done, t6;
              }, e: function(t6) {
                u4 = true, i4 = t6;
              }, f: function() {
                try {
                  a4 || null == r5.return || r5.return();
                } finally {
                  if (u4)
                    throw i4;
                }
              } };
            }(e4);
            try {
              for (i3.s(); !(n3 = i3.n()).done; ) {
                var a3, u3 = n3.value;
                o3.push(_(null !== (a3 = this.casterConstructor.schema) && void 0 !== a3 ? a3 : r4.schema, u3, null, this && this.$$context));
              }
            } catch (t5) {
              i3.e(t5);
            } finally {
              i3.f();
            }
            return o3;
          };
        }
        __name(D2, "D");
        I2.$all = function(t4, e4) {
          var r4 = this;
          return Array.isArray(t4) || (t4 = [t4]), t4 = t4.map(function(t5) {
            if (!j2.isObject(t5))
              return t5;
            if (null != t5.$elemMatch)
              return { $elemMatch: _(r4.casterConstructor.schema, t5.$elemMatch, null, r4 && r4.$$context) };
            var e5 = {};
            return e5[r4.path] = t5, _(r4.casterConstructor.schema, e5, null, r4 && r4.$$context)[r4.path];
          }, this), this.castForQuery(null, t4, e4);
        }, I2.$options = String, I2.$elemMatch = function(t4, e4) {
          for (var r4 = Object.keys(t4), n3 = r4.length, o3 = 0; o3 < n3; ++o3) {
            var i3 = r4[o3], s3 = t4[i3];
            S2(i3) && null != s3 && (t4[i3] = this.castForQuery(i3, s3, e4));
          }
          return t4;
        }, I2.$geoIntersects = E2.cast$geoIntersects, I2.$or = D2("$or"), I2.$and = D2("$and"), I2.$nor = D2("$nor"), I2.$near = I2.$nearSphere = E2.cast$near, I2.$within = I2.$geoWithin = E2.cast$within, I2.$size = I2.$minDistance = I2.$maxDistance = P2, I2.$exists = l2, I2.$type = f2, I2.$eq = I2.$gt = I2.$gte = I2.$lt = I2.$lte = I2.$not = I2.$regex = I2.$ne = N2.prototype._castForQuery, I2.$nin = y2.prototype.$conditionalHandlers.$nin, I2.$in = y2.prototype.$conditionalHandlers.$in, N2.prototype.toJSONSchema = function(t4) {
          var e4 = this.getEmbeddedSchemaType(), r4 = this.options.required && "function" != typeof this.options.required;
          return o2(o2({}, A2("array", "array", null == t4 ? void 0 : t4.useBsonType, r4)), {}, { items: e4.toJSONSchema(t4) });
        }, N2.prototype.autoEncryptionType = function() {
          return "array";
        }, t3.exports = N2;
      }, 7768: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2402);
        t3.exports = function(t4) {
          return null == t4 ? t4 : "" === t4 ? null : ("string" != typeof t4 && "boolean" != typeof t4 || (t4 = Number(t4)), n2.ok(!isNaN(t4)), t4 instanceof Number ? t4.valueOf() : "number" == typeof t4 ? t4 : Array.isArray(t4) || "function" != typeof t4.valueOf ? t4.toString && !Array.isArray(t4) && t4.toString() == Number(t4) ? Number(t4) : void n2.ok(false) : Number(t4.valueOf()));
        };
      }, 7834: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4, r3, n2, o2) {
          return o2.justOne || o2.count ? (t4[r3] = Array.isArray(n2) ? n2[0] : n2, "object" !== e3(t4[r3]) && (t4[r3] = o2.count ? n2 : null)) : (t4[r3] = Array.isArray(n2) ? n2 : null == n2 ? [] : [n2], t4[r3] = t4[r3].filter(function(t5) {
            return t5 && "object" === e3(t5);
          })), t4[r3];
        };
      }, 7860: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          for (var e3 = [], r3 = "", n2 = "DEFAULT", o2 = 0; o2 < t4.length; ++o2)
            "IN_SQUARE_BRACKETS" !== n2 || /\d/.test(t4[o2]) || "]" === t4[o2] || (n2 = "DEFAULT", r3 = e3[e3.length - 1] + "[" + r3, e3.splice(e3.length - 1, 1)), "[" === t4[o2] ? ("IMMEDIATELY_AFTER_SQUARE_BRACKETS" !== n2 && (e3.push(r3), r3 = ""), n2 = "IN_SQUARE_BRACKETS") : "]" === t4[o2] ? "IN_SQUARE_BRACKETS" === n2 ? (n2 = "IMMEDIATELY_AFTER_SQUARE_BRACKETS", e3.push(r3), r3 = "") : (n2 = "DEFAULT", r3 += t4[o2]) : "." === t4[o2] ? ("IMMEDIATELY_AFTER_SQUARE_BRACKETS" !== n2 && (e3.push(r3), r3 = ""), n2 = "DEFAULT") : r3 += t4[o2];
          return "IMMEDIATELY_AFTER_SQUARE_BRACKETS" !== n2 && e3.push(r3), e3;
        };
      }, 7878: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2273), o2 = r3(4183);
        t3.exports = function() {
          var t4 = o2();
          return n2(Number, { isNaN: t4 }, { isNaN: function() {
            return Number.isNaN !== t4;
          } }), t4;
        };
      }, 7910: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(1058);
        t3.exports = function(t4, e4, r4) {
          var o2 = t4.schema.options.discriminatorKey, i2 = null != e4 && e4[o2];
          if (null == i2 && (i2 = r4), t4.discriminators && null != i2)
            if (t4.discriminators[i2])
              t4 = t4.discriminators[i2];
            else {
              var s2 = n2(t4.discriminators, i2);
              s2 && (t4 = s2);
            }
          return t4;
        };
      }, 7911: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(9834);
        t3.exports = function(t4) {
          return !!n2(t4);
        };
      }, 7930: (t3, e3) => {
        "use strict";
        e3.arrayAtomicsBackupSymbol = Symbol("mongoose#Array#atomicsBackup"), e3.arrayAtomicsSymbol = Symbol("mongoose#Array#_atomics"), e3.arrayParentSymbol = Symbol("mongoose#Array#_parent"), e3.arrayPathSymbol = Symbol("mongoose#Array#_path"), e3.arraySchemaSymbol = Symbol("mongoose#Array#_schema"), e3.documentArrayParent = Symbol("mongoose#documentArrayParent"), e3.documentIsSelected = Symbol("mongoose#Document#isSelected"), e3.documentIsModified = Symbol("mongoose#Document#isModified"), e3.documentModifiedPaths = Symbol("mongoose#Document#modifiedPaths"), e3.documentSchemaSymbol = Symbol("mongoose#Document#schema"), e3.getSymbol = Symbol("mongoose#Document#get"), e3.modelSymbol = Symbol("mongoose#Model"), e3.objectIdSymbol = Symbol("mongoose#ObjectId"), e3.populateModelSymbol = Symbol("mongoose#PopulateOptions#Model"), e3.schemaTypeSymbol = Symbol("mongoose#schemaType"), e3.sessionNewDocuments = Symbol("mongoose#ClientSession#newDocuments"), e3.scopeSymbol = Symbol("mongoose#Document#scope"), e3.validatorErrorSymbol = Symbol("mongoose#validatorError");
      }, 7944: (t3) => {
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          return t4 && "object" === e3(t4) && "function" == typeof t4.copy && "function" == typeof t4.fill && "function" == typeof t4.readUInt8;
        };
      }, 7953: (t3, e3, r3) => {
        "use strict";
        e3.Array = r3(7760), e3.BigInt = r3(3318), e3.Boolean = r3(6413), e3.Buffer = r3(2307), e3.Date = r3(2345), e3.Decimal128 = e3.Decimal = r3(7045), e3.DocumentArray = r3(9123), e3.Double = r3(1732), e3.Int32 = r3(433), e3.Map = r3(6867), e3.Mixed = r3(5022), e3.Number = r3(3660), e3.ObjectId = r3(3091), e3.String = r3(8728), e3.Subdocument = r3(5098), e3.UUID = r3(2134), e3.Union = r3(8866), e3.Oid = e3.ObjectId, e3.Object = e3.Mixed, e3.Bool = e3.Boolean, e3.ObjectID = e3.ObjectId;
      }, 7982: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return o2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? o2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, i3 = /* @__PURE__ */ __name(function() {
              }, "i");
              return { s: i3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: i3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(n2, "n");
        function o2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, i2(t4);
        }
        __name(i2, "i");
        var s2 = r3(3609), a2 = r3(8995), u2 = r3(7953), c2 = r3(170), l2 = r3(1244), f2 = r3(9064), p2 = r3(3703), h2 = r3(7425), y2 = r3(5110), d2 = r3(7352), b2 = r3(608), m2 = r3(2497), v2 = r3(8768), g2 = ["Polygon", "MultiPolygon"];
        function _(t4, e4, r4) {
          if (Array.isArray(t4))
            t4.forEach(function(n4, o4) {
              if (Array.isArray(n4) || b2(n4))
                return _(n4, e4, r4);
              t4[o4] = e4.castForQuery(null, n4, r4);
            });
          else
            for (var n3 = Object.keys(t4), o3 = n3.length; o3--; ) {
              var i3 = n3[o3], s3 = t4[i3];
              Array.isArray(s3) || b2(s3) ? (_(s3, e4, r4), t4[i3] = s3) : t4[i3] = e4.castForQuery({ val: s3, context: r4 });
            }
        }
        __name(_, "_");
        function O2(t4, e4, r4, n3) {
          if ("strictQuery" in t4)
            return t4.strictQuery;
          if ("strictQuery" in e4)
            return e4.strictQuery;
          var o3 = n3 && n3.mongooseCollection && n3.mongooseCollection.conn && n3.mongooseCollection.conn.base && n3.mongooseCollection.conn.base.options;
          return o3 && "strictQuery" in o3 ? o3.strictQuery : r4.strictQuery;
        }
        __name(O2, "O");
        t3.exports = /* @__PURE__ */ __name(function t4(e4, r4, o3, w2) {
          if (Array.isArray(r4))
            throw new Error("Query filter must be an object, got an array ", d2.inspect(r4));
          if (null == r4)
            return r4;
          null != e4 && null != e4.discriminators && null != r4[e4.options.discriminatorKey] && (e4 = h2(e4, r4[e4.options.discriminatorKey]) || e4);
          var S2, $, j2, P2, A2, E2, x2 = Object.keys(r4), T2 = x2.length;
          for (o3 = o3 || {}; T2--; )
            if (E2 = r4[P2 = x2[T2]], "$or" === P2 || "$nor" === P2 || "$and" === P2) {
              if (!Array.isArray(E2))
                throw new s2("Array", E2, P2);
              for (var k2 = E2.length - 1; k2 >= 0; k2--) {
                if (null == E2[k2] || "object" !== i2(E2[k2]))
                  throw new s2("Object", E2[k2], P2 + "." + k2);
                var N2 = Object.keys(E2[k2]).length, I2 = E2[k2][e4.options.discriminatorKey];
                if (null == I2)
                  E2[k2] = t4(e4, E2[k2], o3, w2);
                else {
                  var D2 = h2(w2.schema, I2);
                  E2[k2] = t4(D2 || e4, E2[k2], o3, w2);
                }
                0 === Object.keys(E2[k2]).length && 0 !== N2 && E2.splice(k2, 1);
              }
              0 === E2.length && delete r4[P2];
            } else {
              if ("$where" === P2) {
                if ("string" !== (A2 = i2(E2)) && "function" !== A2)
                  throw new Error("Must have a string or function for $where");
                "function" === A2 && (r4[P2] = E2.toString());
                continue;
              }
              if ("$expr" === P2) {
                E2 = c2(E2, e4);
                continue;
              }
              if ("$elemMatch" === P2)
                E2 = t4(e4, E2, o3, w2);
              else if ("$text" === P2)
                E2 = f2(E2, P2);
              else if ("$comment" !== P2 || Object.hasOwn(e4.paths, "$comment")) {
                if (!e4)
                  continue;
                if (!($ = e4.path(P2)))
                  for (var B2 = P2.split("."), M2 = B2.length; M2--; ) {
                    var R2 = B2.slice(0, M2).join("."), U2 = B2.slice(M2).join("."), C2 = e4.path(R2), F2 = C2 && C2.schema && C2.schema.options && C2.schema.options.discriminatorKey;
                    if (null != C2 && null != (C2.schema && C2.schema.discriminators) && null != F2 && U2 !== F2) {
                      var L2 = p2(r4, R2 + "." + F2), V2 = C2.schema.discriminators;
                      "string" == typeof L2 && null != V2[L2] ? $ = V2[L2].path(U2) : null != L2 && 1 === Object.keys(L2).length && Array.isArray(L2.$in) && 1 === L2.$in.length && "string" == typeof L2.$in[0] && null != V2[L2.$in[0]] && ($ = V2[L2.$in[0]].path(U2));
                    }
                  }
                if ($) {
                  if (null == E2)
                    continue;
                  if (v2.isPOJO(E2))
                    if (Object.keys(E2).some(y2))
                      for (var q2 = Object.keys(E2), J2 = void 0, z2 = q2.length; z2--; )
                        if (j2 = E2[J2 = q2[z2]], "$elemMatch" === J2)
                          j2 && null != $ && null != $.schema ? t4($.schema, j2, o3, w2) : j2 && null != $ && $.$isMongooseArray && (v2.isPOJO(j2) && null != j2.$not ? t4(e4, j2, o3, w2) : E2[J2] = $.castForQuery(J2, j2, w2));
                        else if ("$not" === J2) {
                          if (j2 && $) {
                            if ((S2 = Object.keys(j2)).length && y2(S2[0]))
                              for (var K2 in j2)
                                j2[K2] = $.castForQuery(K2, j2[K2], w2);
                            else
                              E2[J2] = $.castForQuery(J2, j2, w2);
                            continue;
                          }
                        } else
                          E2[J2] = $.castForQuery(J2, j2, w2);
                    else
                      r4[P2] = $.castForQuery(null, E2, w2);
                  else if (Array.isArray(E2) && -1 === ["Buffer", "Array"].indexOf($.instance) && !o3.sanitizeFilter) {
                    var H2, W2 = [], G2 = n2(E2);
                    try {
                      for (G2.s(); !(H2 = G2.n()).done; ) {
                        var Q2 = H2.value;
                        W2.push($.castForQuery(null, Q2, w2));
                      }
                    } catch (t5) {
                      G2.e(t5);
                    } finally {
                      G2.f();
                    }
                    r4[P2] = { $in: W2 };
                  } else
                    r4[P2] = $.castForQuery(null, E2, w2);
                } else {
                  for (var Y2 = P2.split("."), Z2 = Y2.length, X2 = void 0, tt = void 0, et = void 0; Z2-- && (X2 = Y2.slice(0, Z2).join("."), !($ = e4.path(X2))); )
                    ;
                  if ($) {
                    if ($.caster && $.caster.schema) {
                      (et = {})[tt = Y2.slice(Z2).join(".")] = E2;
                      var rt = t4($.caster.schema, et, o3, w2)[tt];
                      void 0 === rt ? delete r4[P2] : r4[P2] = rt;
                    } else
                      r4[P2] = E2;
                    continue;
                  }
                  if (b2(E2)) {
                    var nt = "";
                    if (E2.$near ? nt = "$near" : E2.$nearSphere ? nt = "$nearSphere" : E2.$within ? nt = "$within" : E2.$geoIntersects ? nt = "$geoIntersects" : E2.$geoWithin && (nt = "$geoWithin"), nt) {
                      var ot = new u2.Number("__QueryCasting__", null, null, e4), it = E2[nt];
                      if (null != E2.$maxDistance && (E2.$maxDistance = ot.castForQuery(null, E2.$maxDistance, w2)), null != E2.$minDistance && (E2.$minDistance = ot.castForQuery(null, E2.$minDistance, w2)), "$within" === nt) {
                        var st = it.$center || it.$centerSphere || it.$box || it.$polygon;
                        if (!st)
                          throw new Error("Bad $within parameter: " + JSON.stringify(E2));
                        it = st;
                      } else if ("$near" === nt && "string" == typeof it.type && Array.isArray(it.coordinates))
                        it = it.coordinates;
                      else if (("$near" === nt || "$nearSphere" === nt || "$geoIntersects" === nt) && it.$geometry && "string" == typeof it.$geometry.type && Array.isArray(it.$geometry.coordinates))
                        null != it.$maxDistance && (it.$maxDistance = ot.castForQuery(null, it.$maxDistance, w2)), null != it.$minDistance && (it.$minDistance = ot.castForQuery(null, it.$minDistance, w2)), m2(it.$geometry) && (it.$geometry = it.$geometry.toObject({ transform: false, virtuals: false })), it = it.$geometry.coordinates;
                      else if ("$geoWithin" === nt)
                        if (it.$geometry) {
                          m2(it.$geometry) && (it.$geometry = it.$geometry.toObject({ virtuals: false }));
                          var at2 = it.$geometry.type;
                          if (-1 === g2.indexOf(at2))
                            throw new Error('Invalid geoJSON type for $geoWithin "' + at2 + '", must be "Polygon" or "MultiPolygon"');
                          it = it.$geometry.coordinates;
                        } else
                          it = it.$box || it.$polygon || it.$center || it.$centerSphere, m2(it) && (it = it.toObject({ virtuals: false }));
                      _(it, ot, w2);
                      continue;
                    }
                  }
                  if (e4.nested[P2])
                    continue;
                  var ut = "strict" in o3 ? o3.strict : e4.options.strict, ct2 = O2(o3, e4._userProvidedOptions, e4.options, w2);
                  if (o3.upsert && ut) {
                    if ("throw" === ut)
                      throw new a2(P2);
                    throw new a2(P2, 'Path "' + P2 + '" is not in schema, strict mode is `true`, and upsert is `true`.');
                  }
                  if ("throw" === ct2)
                    throw new a2(P2, 'Path "' + P2 + `" is not in schema and strictQuery is 'throw'.`);
                  ct2 && delete r4[P2];
                }
              } else
                E2 = l2(E2, P2), r4[P2] = E2;
            }
          return r4;
        }, "t");
      }, 8063: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5) {
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t6, e5, r5) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r5 || [], i2(t6).constructor) : e5.apply(t6, r5));
            }(this, e4, [`Schema hasn't been registered for model "` + t5 + '".\nUse mongoose.model(name, schema)']);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "MissingSchemaError" }), t3.exports = a2;
      }, 8093: (t3) => {
        "use strict";
        t3.exports = Object;
      }, 8133: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8995);
        t3.exports = function(t4) {
          var e4, r4;
          t4.$immutable ? (t4.$immutableSetter = (e4 = t4.path, r4 = t4.options.immutable, function(t5, o2, i2, s2) {
            if (null == this || null == this.$__)
              return t5;
            if (this.isNew)
              return t5;
            if (s2 && s2.overwriteImmutable)
              return t5;
            if (!("function" == typeof r4 ? r4.call(this, this) : r4))
              return t5;
            var a2 = null != this.$__.priorDoc ? this.$__.priorDoc.$__getValue(e4) : this.$__getValue(e4);
            if ("throw" === this.$__.strictMode && t5 !== a2)
              throw new n2(e4, "Path `" + e4 + "` is immutable and strict mode is set to throw.", true);
            return a2;
          }), t4.set(t4.$immutableSetter)) : t4.$immutableSetter && (t4.setters = t4.setters.filter(function(e5) {
            return e5 !== t4.$immutableSetter;
          }), delete t4.$immutableSetter);
        };
      }, 8188: (t3) => {
        "use strict";
        t3.exports = URIError;
      }, 8213: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        function r3(t4) {
          var e4 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
          return r3 = /* @__PURE__ */ __name(function(t5) {
            if (null === t5 || !function(t6) {
              try {
                return -1 !== Function.toString.call(t6).indexOf("[native code]");
              } catch (e5) {
                return "function" == typeof t6;
              }
            }(t5))
              return t5;
            if ("function" != typeof t5)
              throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== e4) {
              if (e4.has(t5))
                return e4.get(t5);
              e4.set(t5, r4);
            }
            function r4() {
              return function(t6, e5, r5) {
                if (n2())
                  return Reflect.construct.apply(null, arguments);
                var i3 = [null];
                i3.push.apply(i3, e5);
                var s3 = new (t6.bind.apply(t6, i3))();
                return r5 && o2(s3, r5.prototype), s3;
              }(t5, arguments, i2(this).constructor);
            }
            __name(r4, "r");
            return r4.prototype = Object.create(t5.prototype, { constructor: { value: r4, enumerable: false, writable: true, configurable: true } }), o2(r4, t5);
          }, "r"), r3(t4);
        }
        __name(r3, "r");
        function n2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (n2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "n"))();
        }
        __name(n2, "n");
        function o2(t4, e4) {
          return o2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, o2(t4, e4);
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        var s2 = function(t4) {
          function r4() {
            return function(t5, e4) {
              if (!(t5 instanceof e4))
                throw new TypeError("Cannot call a class as a function");
            }(this, r4), function(t5, r5, o3) {
              return r5 = i2(r5), function(t6, r6) {
                if (r6 && ("object" == e3(r6) || "function" == typeof r6))
                  return r6;
                if (void 0 !== r6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, n2() ? Reflect.construct(r5, o3 || [], i2(t5).constructor) : r5.apply(t5, o3));
            }(this, r4, arguments);
          }
          __name(r4, "r");
          return function(t5, e4) {
            if ("function" != typeof e4 && null !== e4)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e4 && e4.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e4 && o2(t5, e4);
          }(r4, t4), s3 = r4, Object.defineProperty(s3, "prototype", { writable: false }), s3;
          var s3;
        }(r3(Error));
        Object.defineProperty(s2.prototype, "name", { value: "MongooseError" }), t3.exports = s2;
      }, 8235: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8213), o2 = r3(6426), i2 = r3(5098), s2 = r3(7910);
        function a2(t4, e4, r4, i3) {
          if (this.$parentSchemaType = e4 && e4.$parentSchemaType, !this.$parentSchemaType)
            throw new n2("Cannot create DocumentArrayElement schematype without a parent");
          delete e4.$parentSchemaType, o2.call(this, t4, e4, "DocumentArrayElement", i3), this.$isMongooseDocumentArrayElement = true;
        }
        __name(a2, "a");
        a2.schemaName = "DocumentArrayElement", a2.defaultOptions = {}, a2.prototype = Object.create(o2.prototype), a2.prototype.constructor = a2, a2.prototype.cast = function() {
          var t4;
          return (t4 = this.$parentSchemaType).cast.apply(t4, arguments)[0];
        }, a2.prototype.doValidate = function(t4, e4, r4, n3) {
          var o3 = s2(this.caster, t4);
          return !t4 || t4 instanceof o3 || (t4 = new o3(t4, r4, null, null, n3 && null != n3.index ? n3.index : null)), i2.prototype.doValidate.call(this, t4, e4, r4, n3);
        }, a2.prototype.clone = function() {
          this.options.$parentSchemaType = this.$parentSchemaType;
          var t4 = o2.prototype.clone.apply(this, arguments);
          return delete this.options.$parentSchemaType, t4.caster = this.caster, t4.schema = this.schema, t4;
        }, t3.exports = a2;
      }, 8250: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp, o2 = r3(6365), i2 = /[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i, s2 = o2.Binary;
        function a2(t4) {
          "string" != typeof t4 && (t4 = "");
          var e4, r4 = null != (e4 = t4.replace(/[{}-]/g, "")) && n2.from(e4, "hex"), i3 = new o2(r4);
          return i3._subtype = 4, i3;
        }
        __name(a2, "a");
        t3.exports = function(t4) {
          if (null == t4)
            return t4;
          function e4(t5) {
            var e5 = new o2(t5);
            return e5._subtype = 4, e5;
          }
          __name(e4, "e");
          if ("string" == typeof t4) {
            if (i2.test(t4))
              return a2(t4);
            throw new Error('"'.concat(t4, '" is not a valid UUID string'));
          }
          if (n2.isBuffer(t4))
            return e4(t4);
          if (t4 instanceof s2)
            return e4(t4.value(true));
          if (t4.toString && t4.toString !== Object.prototype.toString && i2.test(t4.toString()))
            return a2(t4.toString());
          throw new Error('"'.concat(t4, '" cannot be casted to a UUID'));
        }, t3.exports.UUID_FORMAT = i2;
      }, 8260: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          if (null != t4 && "function" == typeof t4.constructor)
            return t4.constructor.name;
        };
      }, 8285: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2400), o2 = r3(2580), i2 = false;
        t3.exports = function() {
          return i2 ? o2 : n2;
        }, t3.exports.setBrowser = function(t4) {
          i2 = t4;
        };
      }, 8297: (t3) => {
        "use strict";
        function e3(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = n2(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var o3 = 0, i3 = /* @__PURE__ */ __name(function() {
              }, "i");
              return { s: i3, n: function() {
                return o3 >= t4.length ? { done: true } : { done: false, value: t4[o3++] };
              }, e: function(t5) {
                throw t5;
              }, f: i3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(e3, "e");
        function r3(t4) {
          return r3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, r3(t4);
        }
        __name(r3, "r");
        function n2(t4, e4) {
          if (t4) {
            if ("string" == typeof t4)
              return o2(t4, e4);
            var r4 = {}.toString.call(t4).slice(8, -1);
            return "Object" === r4 && t4.constructor && (r4 = t4.constructor.name), "Map" === r4 || "Set" === r4 ? Array.from(t4) : "Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? o2(t4, e4) : void 0;
          }
        }
        __name(n2, "n");
        function o2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          if (a2())
            return Reflect.construct.apply(null, arguments);
          var n3 = [null];
          n3.push.apply(n3, e4);
          var o3 = new (t4.bind.apply(t4, n3))();
          return r4 && s2(o3, r4.prototype), o3;
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        function a2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (a2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "a"))();
        }
        __name(a2, "a");
        function u2() {
          this._pres = /* @__PURE__ */ new Map(), this._posts = /* @__PURE__ */ new Map();
        }
        __name(u2, "u");
        function c2(t4, e4, r4, n3, o3, i3, s3) {
          return i3.useErrorHandlers ? t4.execPost(r4, n3, o3, { error: e4 }, function(t5) {
            return "function" == typeof s3 && s3(t5);
          }) : "function" == typeof s3 && s3(e4);
        }
        __name(c2, "c");
        function l2(t4, e4, r4, n3) {
          var o3;
          try {
            o3 = t4.apply(e4, r4);
          } catch (t5) {
            return n3(t5);
          }
          f2(o3) && o3.then(function() {
            return n3();
          }, function(t5) {
            return n3(t5);
          });
        }
        __name(l2, "l");
        function f2(t4) {
          return "object" === r3(t4) && null !== t4 && "function" == typeof t4.then;
        }
        __name(f2, "f");
        function p2(t4) {
          var e4 = false, r4 = this;
          return function() {
            var n3 = arguments;
            if (!e4)
              return e4 = true, h2(function() {
                return t4.apply(r4, n3);
              });
          };
        }
        __name(p2, "p");
        u2.skipWrappedFunction = function() {
          if (!(this instanceof u2.skipWrappedFunction))
            return i2(u2.skipWrappedFunction, Array.prototype.slice.call(arguments));
          this.args = Array.prototype.slice.call(arguments);
        }, u2.overwriteResult = function() {
          if (!(this instanceof u2.overwriteResult))
            return i2(u2.overwriteResult, Array.prototype.slice.call(arguments));
          this.args = Array.prototype.slice.call(arguments);
        }, u2.prototype.execPre = function(t4, e4, r4, n3) {
          3 === arguments.length && (n3 = r4, r4 = []);
          var o3 = this._pres.get(t4) || [], i3 = o3.length, s3 = o3.numAsync || 0, a3 = 0, c3 = s3, y3 = false, d2 = r4, b2 = null;
          if (!i3)
            return h2(function() {
              n3(null);
            });
          function m2() {
            if (!(a3 >= i3)) {
              var t5 = o3[a3];
              if (t5.isAsync) {
                var r5 = [p2(v2), p2(function(t6) {
                  if (t6) {
                    if (y3)
                      return;
                    if (!(t6 instanceof u2.skipWrappedFunction))
                      return y3 = true, n3(t6);
                    b2 = t6;
                  }
                  if (0 === --c3 && a3 >= i3)
                    return n3(b2);
                })];
                l2(t5.fn, e4, r5, r5[0]);
              } else if (t5.fn.length > 0) {
                for (var s4 = [p2(v2)], g2 = arguments.length >= 2 ? arguments : [null].concat(d2), _ = 1; _ < g2.length; ++_)
                  _ === g2.length - 1 && "function" == typeof g2[_] || s4.push(g2[_]);
                l2(t5.fn, e4, s4, s4[0]);
              } else {
                var O2 = null;
                try {
                  O2 = t5.fn.call(e4);
                } catch (t6) {
                  if (null != t6)
                    return n3(t6);
                }
                if (f2(O2))
                  O2.then(function() {
                    return v2();
                  }, function(t6) {
                    return v2(t6);
                  });
                else {
                  if (++a3 >= i3)
                    return c3 > 0 ? void 0 : h2(function() {
                      n3(b2);
                    });
                  m2();
                }
              }
            }
          }
          __name(m2, "m");
          function v2(t5) {
            if (t5) {
              if (y3)
                return;
              if (!(t5 instanceof u2.skipWrappedFunction))
                return y3 = true, n3(t5);
              b2 = t5;
            }
            if (++a3 >= i3)
              return c3 > 0 ? void 0 : n3(b2);
            m2.apply(e4, arguments);
          }
          __name(v2, "v");
          m2.apply(null, [null].concat(r4));
        }, u2.prototype.execPreSync = function(t4, e4, r4) {
          for (var n3 = this._pres.get(t4) || [], o3 = n3.length, i3 = 0; i3 < o3; ++i3)
            n3[i3].fn.apply(e4, r4 || []);
        }, u2.prototype.execPost = function(t4, e4, r4, n3, o3) {
          arguments.length < 5 && (o3 = n3, n3 = null);
          var i3 = this._posts.get(t4) || [], s3 = i3.length, a3 = 0, c3 = null;
          if (n3 && n3.error && (c3 = n3.error), !s3)
            return h2(function() {
              o3.apply(null, [c3].concat(r4));
            });
          !(/* @__PURE__ */ __name(function t5() {
            for (var n4 = i3[a3].fn, h3 = 0, d2 = r4.length, b2 = [], m2 = 0; m2 < d2; ++m2)
              h3 += r4[m2] && r4[m2]._kareemIgnore ? 0 : 1, r4[m2] && r4[m2]._kareemIgnore || b2.push(r4[m2]);
            if (c3)
              if (y2(i3[a3], h3)) {
                var v2 = p2(function(e5) {
                  if (e5) {
                    if (e5 instanceof u2.overwriteResult)
                      return r4 = e5.args, ++a3 >= s3 ? o3.call(null, c3) : t5();
                    c3 = e5;
                  }
                  if (++a3 >= s3)
                    return o3.call(null, c3);
                  t5();
                });
                l2(n4, e4, [c3].concat(b2).concat([v2]), v2);
              } else {
                if (++a3 >= s3)
                  return o3.call(null, c3);
                t5();
              }
            else {
              var g2 = p2(function(e5) {
                return e5 ? e5 instanceof u2.overwriteResult ? (r4 = e5.args, ++a3 >= s3 ? o3.apply(null, [null].concat(r4)) : t5()) : (c3 = e5, t5()) : ++a3 >= s3 ? o3.apply(null, [null].concat(r4)) : void t5();
              });
              if (y2(i3[a3], h3))
                return ++a3 >= s3 ? o3.apply(null, [null].concat(r4)) : t5();
              if (n4.length === h3 + 1)
                l2(n4, e4, b2.concat([g2]), g2);
              else {
                var _, O2;
                try {
                  O2 = n4.apply(e4, b2);
                } catch (t6) {
                  _ = t6, c3 = t6;
                }
                if (f2(O2))
                  return O2.then(function(t6) {
                    g2(t6 instanceof u2.overwriteResult ? t6 : null);
                  }, function(t6) {
                    return g2(t6);
                  });
                if (O2 instanceof u2.overwriteResult && (r4 = O2.args), ++a3 >= s3)
                  return o3.apply(null, [_].concat(r4));
                t5();
              }
            }
          }, "t"))();
        }, u2.prototype.execPostSync = function(t4, e4, r4) {
          for (var n3 = this._posts.get(t4) || [], o3 = n3.length, i3 = 0; i3 < o3; ++i3) {
            var s3 = n3[i3].fn.apply(e4, r4 || []);
            s3 instanceof u2.overwriteResult && (r4 = s3.args);
          }
          return r4;
        }, u2.prototype.createWrapperSync = function(t4, e4) {
          var r4 = this;
          return function() {
            r4.execPreSync(t4, this, arguments);
            var n3 = e4.apply(this, arguments);
            return r4.execPostSync(t4, this, [n3])[0];
          };
        }, u2.prototype.wrap = function(t4, e4, r4, i3, s3) {
          var a3 = i3.length > 0 ? i3[i3.length - 1] : null, l3 = Array.from(i3);
          "function" == typeof a3 && l3.pop();
          var p3 = this, h3 = (s3 = s3 || {}).checkForPromise;
          this.execPre(t4, r4, i3, function(i4) {
            if (i4 && !(i4 instanceof u2.skipWrappedFunction)) {
              for (var y3 = s3.numCallbackParams || 0, d2 = s3.contextParameter ? [r4] : [], b2 = d2.length; b2 < y3; ++b2)
                d2.push(null);
              return c2(p3, i4, t4, r4, d2, s3, a3);
            }
            var m2, v2, g2 = e4.length;
            if (i4 instanceof u2.skipWrappedFunction)
              return m2 = i4.args[0], _.apply(void 0, [null].concat(function(t5) {
                if (Array.isArray(t5))
                  return o2(t5);
              }(v2 = i4.args) || function(t5) {
                if ("undefined" != typeof Symbol && null != t5[Symbol.iterator] || null != t5["@@iterator"])
                  return Array.from(t5);
              }(v2) || n2(v2) || function() {
                throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
              }()));
            try {
              m2 = e4.apply(r4, l3.concat(_));
            } catch (t5) {
              return _(t5);
            }
            if (h3) {
              if (f2(m2))
                return m2.then(function(t5) {
                  return _(null, t5);
                }, function(t5) {
                  return _(t5);
                });
              if (g2 < l3.length + 1)
                return _(null, m2);
            }
            function _() {
              var e5 = Array.from(arguments);
              if (e5.shift(), s3.nullResultByDefault && 0 === e5.length && e5.push(null), arguments[0])
                return c2(p3, arguments[0], t4, r4, e5, s3, a3);
              p3.execPost(t4, r4, e5, function() {
                null !== a3 && (arguments[0] ? a3(arguments[0]) : a3.apply(r4, arguments));
              });
            }
            __name(_, "_");
          });
        }, u2.prototype.filter = function(t4) {
          for (var e4 = this, r4 = this.clone(), n3 = Array.from(r4._pres.keys()), o3 = function() {
            var n4 = s3[i3], o4 = e4._pres.get(n4).map(function(t5) {
              return Object.assign({}, t5, { name: n4 });
            }).filter(t4);
            if (0 === o4.length)
              return r4._pres.delete(n4), 1;
            o4.numAsync = o4.filter(function(t5) {
              return t5.isAsync;
            }).length, r4._pres.set(n4, o4);
          }, i3 = 0, s3 = n3; i3 < s3.length; i3++)
            o3();
          for (var a3 = Array.from(r4._posts.keys()), u3 = function() {
            var n4 = l3[c3], o4 = e4._posts.get(n4).map(function(t5) {
              return Object.assign({}, t5, { name: n4 });
            }).filter(t4);
            if (0 === o4.length)
              return r4._posts.delete(n4), 1;
            r4._posts.set(n4, o4);
          }, c3 = 0, l3 = a3; c3 < l3.length; c3++)
            u3();
          return r4;
        }, u2.prototype.hasHooks = function(t4) {
          return this._pres.has(t4) || this._posts.has(t4);
        }, u2.prototype.createWrapper = function(t4, e4, r4, n3) {
          var o3 = this;
          return this.hasHooks(t4) ? function() {
            var i3 = r4 || this;
            o3.wrap(t4, e4, i3, Array.from(arguments), n3);
          } : function() {
            var t5 = arguments, r5 = this;
            h2(function() {
              return e4.apply(r5, t5);
            });
          };
        }, u2.prototype.pre = function(t4, e4, n3, o3, i3) {
          var s3 = {};
          "object" === r3(e4) && null !== e4 ? e4 = (s3 = e4).isAsync : "boolean" != typeof arguments[1] && (n3 = e4, e4 = false);
          var a3 = this._pres.get(t4) || [];
          if (this._pres.set(t4, a3), e4 && (a3.numAsync = a3.numAsync || 0, ++a3.numAsync), "function" != typeof n3)
            throw new Error('pre() requires a function, got "' + r3(n3) + '"');
          return i3 ? a3.unshift(Object.assign({}, s3, { fn: n3, isAsync: e4 })) : a3.push(Object.assign({}, s3, { fn: n3, isAsync: e4 })), this;
        }, u2.prototype.post = function(t4, e4, n3, o3) {
          var i3 = this._posts.get(t4) || [];
          if ("function" == typeof e4 && (o3 = !!n3, n3 = e4, e4 = {}), "function" != typeof n3)
            throw new Error('post() requires a function, got "' + r3(n3) + '"');
          return o3 ? i3.unshift(Object.assign({}, e4, { fn: n3 })) : i3.push(Object.assign({}, e4, { fn: n3 })), this._posts.set(t4, i3), this;
        }, u2.prototype.clone = function() {
          var t4, r4 = new u2(), n3 = e3(this._pres.keys());
          try {
            for (n3.s(); !(t4 = n3.n()).done; ) {
              var o3 = t4.value, i3 = this._pres.get(o3).slice();
              i3.numAsync = this._pres.get(o3).numAsync, r4._pres.set(o3, i3);
            }
          } catch (t5) {
            n3.e(t5);
          } finally {
            n3.f();
          }
          var s3, a3 = e3(this._posts.keys());
          try {
            for (a3.s(); !(s3 = a3.n()).done; ) {
              var c3 = s3.value;
              r4._posts.set(c3, this._posts.get(c3).slice());
            }
          } catch (t5) {
            a3.e(t5);
          } finally {
            a3.f();
          }
          return r4;
        }, u2.prototype.merge = function(t4, r4) {
          var n3, o3 = (r4 = 1 === arguments.length || r4) ? this.clone() : this, i3 = e3(t4._pres.keys());
          try {
            var s3 = /* @__PURE__ */ __name(function() {
              var e4 = n3.value, r5 = o3._pres.get(e4) || [], i4 = t4._pres.get(e4).filter(function(t5) {
                return -1 === r5.map(function(t6) {
                  return t6.fn;
                }).indexOf(t5.fn);
              }), s4 = r5.concat(i4);
              s4.numAsync = r5.numAsync || 0, s4.numAsync += i4.filter(function(t5) {
                return t5.isAsync;
              }).length, o3._pres.set(e4, s4);
            }, "s");
            for (i3.s(); !(n3 = i3.n()).done; )
              s3();
          } catch (t5) {
            i3.e(t5);
          } finally {
            i3.f();
          }
          var a3, u3 = e3(t4._posts.keys());
          try {
            var c3 = /* @__PURE__ */ __name(function() {
              var e4 = a3.value, r5 = o3._posts.get(e4) || [], n4 = t4._posts.get(e4).filter(function(t5) {
                return -1 === r5.indexOf(t5);
              });
              o3._posts.set(e4, r5.concat(n4));
            }, "c");
            for (u3.s(); !(a3 = u3.n()).done; )
              c3();
          } catch (t5) {
            u3.e(t5);
          } finally {
            u3.f();
          }
          return o3;
        };
        var h2 = "object" === r3({ env: {} }) && null !== { env: {} } && { env: {} }.nextTick || function(t4) {
          setTimeout(t4, 0);
        };
        function y2(t4, e4) {
          return !!t4.errorHandler || t4.fn.length === e4 + 2;
        }
        __name(y2, "y");
        t3.exports = u2;
      }, 8435: (t3) => {
        "use strict";
        t3.exports = Math.min;
      }, 8442: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(1898);
        t3.exports = function(t4) {
          for (var e4 = 0, r4 = Object.values(n2); e4 < r4.length; e4++)
            (0, r4[e4])(t4, { deduplicate: true });
          t4.plugins = Object.values(n2).map(function(t5) {
            return { fn: t5, opts: { deduplicate: true } };
          }).concat(t4.plugins);
        };
      }, 8499: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(8953);
        t3.exports = function(t4) {
          var e4 = null != this ? this.path : null;
          return n2(t4, e4);
        };
      }, 8517: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5, r5, s3) {
            var a3, u2, c2;
            !function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4);
            var l2 = null !== (a3 = null == s3 ? void 0 : s3.matchedCount) && void 0 !== a3 ? a3 : 0, f2 = null !== (u2 = null == s3 ? void 0 : s3.insertedCount) && void 0 !== u2 ? u2 : 0, p2 = r5.map(function(t6) {
              return t6._id;
            }).join(", ");
            p2.length > 100 && (p2 = p2.slice(0, 100) + "...");
            var h2 = r5.length - l2 - f2;
            return (c2 = function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, ["".concat(t5, ".bulkSave() was not able to update ").concat(h2, " of the given documents due to incorrect version or optimistic concurrency, document ids: ").concat(p2)])).modelName = t5, c2.documents = r5, c2.bulkWriteResult = s3, c2.numDocumentsNotUpdated = h2, c2;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "MongooseBulkSaveIncompleteError" }), t3.exports = a2;
      }, 8533: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4) {
          return o2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, o2(t4);
        }
        __name(o2, "o");
        function i2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (i2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "i"))();
        }
        __name(i2, "i");
        function s2(t4) {
          return s2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, s2(t4);
        }
        __name(s2, "s");
        function a2(t4, e4) {
          return a2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, a2(t4, e4);
        }
        __name(a2, "a");
        r3(7591).set(r3(4026));
        var u2 = r3(8285);
        u2.setBrowser(true), e3.Error = r3(3672), e3.Schema = r3(7058), e3.Types = r3(9600), e3.VirtualType = r3(622), e3.SchemaType = r3(6426), e3.SchemaTypeOptions = r3(8879), e3.utils = r3(8768), e3.Document = u2(), e3.model = function(t4, r4) {
          var n3 = function(t5) {
            function e4(t6, n5) {
              return function(t7, e5) {
                if (!(t7 instanceof e5))
                  throw new TypeError("Cannot call a class as a function");
              }(this, e4), function(t7, e5, r5) {
                return e5 = s2(e5), function(t8, e6) {
                  if (e6 && ("object" == o2(e6) || "function" == typeof e6))
                    return e6;
                  if (void 0 !== e6)
                    throw new TypeError("Derived constructors may only return object or undefined");
                  return function(t9) {
                    if (void 0 === t9)
                      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return t9;
                  }(t8);
                }(t7, i2() ? Reflect.construct(e5, r5 || [], s2(t7).constructor) : e5.apply(t7, r5));
              }(this, e4, [t6, r4, n5]);
            }
            __name(e4, "e");
            return function(t6, e5) {
              if ("function" != typeof e5 && null !== e5)
                throw new TypeError("Super expression must either be null or a function");
              t6.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t6, writable: true, configurable: true } }), Object.defineProperty(t6, "prototype", { writable: false }), e5 && a2(t6, e5);
            }(e4, t5), n4 = e4, Object.defineProperty(n4, "prototype", { writable: false }), n4;
            var n4;
          }(e3.Document);
          return n3.modelName = t4, n3;
        }, "undefined" != typeof window && (window.mongoose = t3.exports, window.Buffer = n2);
      }, 8633: (t3) => {
        "use strict";
        t3.exports = Math.pow;
      }, 8690: (t3) => {
        "use strict";
        function e3() {
          var t4, n3, o2 = "function" == typeof Symbol ? Symbol : {}, i2 = o2.iterator || "@@iterator", s2 = o2.toStringTag || "@@toStringTag";
          function a2(e4, o3, i3, s3) {
            var a3 = o3 && o3.prototype instanceof c2 ? o3 : c2, l3 = Object.create(a3.prototype);
            return r3(l3, "_invoke", function(e5, r4, o4) {
              var i4, s4, a4, c3 = 0, l4 = o4 || [], f3 = false, p3 = { p: 0, n: 0, v: t4, a: h3, f: h3.bind(t4, 4), d: function(e6, r5) {
                return i4 = e6, s4 = 0, a4 = t4, p3.n = r5, u2;
              } };
              function h3(e6, r5) {
                for (s4 = e6, a4 = r5, n3 = 0; !f3 && c3 && !o5 && n3 < l4.length; n3++) {
                  var o5, i5 = l4[n3], h4 = p3.p, y3 = i5[2];
                  e6 > 3 ? (o5 = y3 === r5) && (a4 = i5[(s4 = i5[4]) ? 5 : (s4 = 3, 3)], i5[4] = i5[5] = t4) : i5[0] <= h4 && ((o5 = e6 < 2 && h4 < i5[1]) ? (s4 = 0, p3.v = r5, p3.n = i5[1]) : h4 < y3 && (o5 = e6 < 3 || i5[0] > r5 || r5 > y3) && (i5[4] = e6, i5[5] = r5, p3.n = y3, s4 = 0));
                }
                if (o5 || e6 > 1)
                  return u2;
                throw f3 = true, r5;
              }
              __name(h3, "h");
              return function(o5, l5, y3) {
                if (c3 > 1)
                  throw TypeError("Generator is already running");
                for (f3 && 1 === l5 && h3(l5, y3), s4 = l5, a4 = y3; (n3 = s4 < 2 ? t4 : a4) || !f3; ) {
                  i4 || (s4 ? s4 < 3 ? (s4 > 1 && (p3.n = -1), h3(s4, a4)) : p3.n = a4 : p3.v = a4);
                  try {
                    if (c3 = 2, i4) {
                      if (s4 || (o5 = "next"), n3 = i4[o5]) {
                        if (!(n3 = n3.call(i4, a4)))
                          throw TypeError("iterator result is not an object");
                        if (!n3.done)
                          return n3;
                        a4 = n3.value, s4 < 2 && (s4 = 0);
                      } else
                        1 === s4 && (n3 = i4.return) && n3.call(i4), s4 < 2 && (a4 = TypeError("The iterator does not provide a '" + o5 + "' method"), s4 = 1);
                      i4 = t4;
                    } else if ((n3 = (f3 = p3.n < 0) ? a4 : e5.call(r4, p3)) !== u2)
                      break;
                  } catch (e6) {
                    i4 = t4, s4 = 1, a4 = e6;
                  } finally {
                    c3 = 1;
                  }
                }
                return { value: n3, done: f3 };
              };
            }(e4, i3, s3), true), l3;
          }
          __name(a2, "a");
          var u2 = {};
          function c2() {
          }
          __name(c2, "c");
          function l2() {
          }
          __name(l2, "l");
          function f2() {
          }
          __name(f2, "f");
          n3 = Object.getPrototypeOf;
          var p2 = [][i2] ? n3(n3([][i2]())) : (r3(n3 = {}, i2, function() {
            return this;
          }), n3), h2 = f2.prototype = c2.prototype = Object.create(p2);
          function y2(t5) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t5, f2) : (t5.__proto__ = f2, r3(t5, s2, "GeneratorFunction")), t5.prototype = Object.create(h2), t5;
          }
          __name(y2, "y");
          return l2.prototype = f2, r3(h2, "constructor", f2), r3(f2, "constructor", l2), l2.displayName = "GeneratorFunction", r3(f2, s2, "GeneratorFunction"), r3(h2), r3(h2, s2, "Generator"), r3(h2, i2, function() {
            return this;
          }), r3(h2, "toString", function() {
            return "[object Generator]";
          }), (e3 = /* @__PURE__ */ __name(function() {
            return { w: a2, m: y2 };
          }, "e"))();
        }
        __name(e3, "e");
        function r3(t4, e4, n3, o2) {
          var i2 = Object.defineProperty;
          try {
            i2({}, "", {});
          } catch (t5) {
            i2 = 0;
          }
          r3 = /* @__PURE__ */ __name(function(t5, e5, n4, o3) {
            function s2(e6, n5) {
              r3(t5, e6, function(t6) {
                return this._invoke(e6, n5, t6);
              });
            }
            __name(s2, "s");
            e5 ? i2 ? i2(t5, e5, { value: n4, enumerable: !o3, configurable: !o3, writable: !o3 }) : t5[e5] = n4 : (s2("next", 0), s2("throw", 1), s2("return", 2));
          }, "r"), r3(t4, e4, n3, o2);
        }
        __name(r3, "r");
        var n2 = e3().m(/* @__PURE__ */ __name(function t4() {
          return e3().w(function(t5) {
            for (; ; )
              if (0 === t5.n)
                return t5.a(2);
          }, t4);
        }, "t")).constructor;
        t3.exports = function() {
          return n2;
        };
      }, 8728: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(n2, "n");
        function o2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? n2(Object(r4), true).forEach(function(e5) {
              i2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : n2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != s2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != s2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == s2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2(t4) {
          return s2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, s2(t4);
        }
        __name(s2, "s");
        function a2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(a2, "a");
        var u2 = r3(6426), c2 = r3(3672), l2 = r3(9528), f2 = r3(1244), p2 = r3(4327), h2 = r3(8768), y2 = r3(3305), d2 = u2.CastError;
        function b2(t4, e4, r4, n3) {
          this.enumValues = [], this.regExp = null, u2.call(this, t4, e4, "String", n3);
        }
        __name(b2, "b");
        function m2(t4, e4) {
          return this.castForQuery(null, t4, e4);
        }
        __name(m2, "m");
        function v2(t4) {
          return null == t4 ? this._castNullish(t4) : this.cast(t4, this);
        }
        __name(v2, "v");
        b2.schemaName = "String", b2.defaultOptions = {}, b2.prototype = Object.create(u2.prototype), b2.prototype.constructor = b2, Object.defineProperty(b2.prototype, "OptionsConstructor", { configurable: false, enumerable: false, writable: false, value: l2 }), b2._cast = f2, b2.cast = function(t4) {
          return 0 === arguments.length || (false === t4 && (t4 = this._defaultCaster), this._cast = t4), this._cast;
        }, b2._defaultCaster = function(t4) {
          if (null != t4 && "string" != typeof t4)
            throw new Error();
          return t4;
        }, b2.get = u2.get, b2.set = u2.set, b2.setters = [], b2._checkRequired = function(t4) {
          return (t4 instanceof String || "string" == typeof t4) && t4.length;
        }, b2.checkRequired = u2.checkRequired, b2.prototype.enum = function() {
          if (this.enumValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.enumValidator;
          }, this), this.enumValidator = false), void 0 === arguments[0] || false === arguments[0])
            return this;
          var t4, e4;
          h2.isObject(arguments[0]) ? Array.isArray(arguments[0].values) ? (t4 = arguments[0].values, e4 = arguments[0].message) : (t4 = h2.object.vals(arguments[0]), e4 = c2.messages.String.enum) : (t4 = arguments, e4 = c2.messages.String.enum);
          var r4, n3 = function(t5, e5) {
            var r5 = "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
            if (!r5) {
              if (Array.isArray(t5) || (r5 = function(t6, e6) {
                if (t6) {
                  if ("string" == typeof t6)
                    return a2(t6, e6);
                  var r6 = {}.toString.call(t6).slice(8, -1);
                  return "Object" === r6 && t6.constructor && (r6 = t6.constructor.name), "Map" === r6 || "Set" === r6 ? Array.from(t6) : "Arguments" === r6 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r6) ? a2(t6, e6) : void 0;
                }
              }(t5)) || e5 && t5 && "number" == typeof t5.length) {
                r5 && (t5 = r5);
                var n4 = 0, o4 = /* @__PURE__ */ __name(function() {
                }, "o");
                return { s: o4, n: function() {
                  return n4 >= t5.length ? { done: true } : { done: false, value: t5[n4++] };
                }, e: function(t6) {
                  throw t6;
                }, f: o4 };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var i4, s3 = true, u3 = false;
            return { s: function() {
              r5 = r5.call(t5);
            }, n: function() {
              var t6 = r5.next();
              return s3 = t6.done, t6;
            }, e: function(t6) {
              u3 = true, i4 = t6;
            }, f: function() {
              try {
                s3 || null == r5.return || r5.return();
              } finally {
                if (u3)
                  throw i4;
              }
            } };
          }(t4);
          try {
            for (n3.s(); !(r4 = n3.n()).done; ) {
              var o3 = r4.value;
              void 0 !== o3 && this.enumValues.push(this.cast(o3));
            }
          } catch (t5) {
            n3.e(t5);
          } finally {
            n3.f();
          }
          var i3 = this.enumValues;
          return this.enumValidator = function(t5) {
            return null == t5 || ~i3.indexOf(t5);
          }, this.validators.push({ validator: this.enumValidator, message: e4, type: "enum", enumValues: i3 }), this;
        }, b2.prototype.lowercase = function(t4) {
          var e4 = this;
          return arguments.length > 0 && !t4 ? this : this.set(function(t5) {
            return "string" != typeof t5 && (t5 = e4.cast(t5)), t5 ? t5.toLowerCase() : t5;
          });
        }, b2.prototype.uppercase = function(t4) {
          var e4 = this;
          return arguments.length > 0 && !t4 ? this : this.set(function(t5) {
            return "string" != typeof t5 && (t5 = e4.cast(t5)), t5 ? t5.toUpperCase() : t5;
          });
        }, b2.prototype.trim = function(t4) {
          var e4 = this;
          return arguments.length > 0 && !t4 ? this : this.set(function(t5) {
            return "string" != typeof t5 && (t5 = e4.cast(t5)), t5 ? t5.trim() : t5;
          });
        }, b2.prototype.minlength = function(t4, e4) {
          if (this.minlengthValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.minlengthValidator;
          }, this)), null != t4) {
            var r4 = e4 || c2.messages.String.minlength;
            r4 = r4.replace(/{MINLENGTH}/, t4), this.validators.push({ validator: this.minlengthValidator = function(e5) {
              return null === e5 || e5.length >= t4;
            }, message: r4, type: "minlength", minlength: t4 });
          }
          return this;
        }, b2.prototype.minLength = b2.prototype.minlength, b2.prototype.maxlength = function(t4, e4) {
          if (this.maxlengthValidator && (this.validators = this.validators.filter(function(t5) {
            return t5.validator !== this.maxlengthValidator;
          }, this)), null != t4) {
            var r4 = e4 || c2.messages.String.maxlength;
            r4 = r4.replace(/{MAXLENGTH}/, t4), this.validators.push({ validator: this.maxlengthValidator = function(e5) {
              return null === e5 || e5.length <= t4;
            }, message: r4, type: "maxlength", maxlength: t4 });
          }
          return this;
        }, b2.prototype.maxLength = b2.prototype.maxlength, b2.prototype.match = function(t4, e4) {
          var r4 = e4 || c2.messages.String.match;
          return this.validators.push({ validator: function(e5) {
            return !!t4 && (t4.lastIndex = 0, null == e5 || "" === e5 || t4.test(e5));
          }, message: r4, type: "regexp", regexp: t4 }), this;
        }, b2.prototype.checkRequired = function(t4, e4) {
          return "object" === s2(t4) && u2._isRef(this, t4, e4, true) ? null != t4 : ("function" == typeof this.constructor.checkRequired ? this.constructor.checkRequired() : b2.checkRequired())(t4);
        }, b2.prototype.cast = function(t4, e4, r4, n3, o3) {
          if ("string" != typeof t4 && u2._isRef(this, t4, e4, r4))
            return this._castRef(t4, e4, r4, o3);
          var i3;
          i3 = "function" == typeof this._castFunction ? this._castFunction : "function" == typeof this.constructor.cast ? this.constructor.cast() : b2.cast();
          try {
            return i3(t4);
          } catch (e5) {
            throw new d2("string", t4, this.path, null, this);
          }
        };
        var g2 = o2(o2({}, u2.prototype.$conditionalHandlers), {}, { $all: function(t4, e4) {
          var r4 = this;
          return Array.isArray(t4) ? t4.map(function(t5) {
            return r4.castForQuery(null, t5, e4);
          }) : [this.castForQuery(null, t4, e4)];
        }, $gt: m2, $gte: m2, $lt: m2, $lte: m2, $options: v2, $regex: function(t4) {
          return "[object RegExp]" === Object.prototype.toString.call(t4) ? t4 : v2.call(this, t4);
        }, $not: m2 });
        Object.defineProperty(b2.prototype, "$conditionalHandlers", { enumerable: false, value: g2 }), b2.prototype.castForQuery = function(t4, e4, r4) {
          var n3;
          if (null != t4) {
            if (!(n3 = this.$conditionalHandlers[t4]))
              throw new Error("Can't use " + t4 + " with String.");
            return n3.call(this, e4, r4);
          }
          if ("[object RegExp]" === Object.prototype.toString.call(e4) || y2(e4, "BSONRegExp"))
            return e4;
          try {
            return this.applySetters(e4, r4);
          } catch (t5) {
            throw t5 instanceof d2 && t5.path === this.path && null != this.$fullPath && (t5.path = this.$fullPath), t5;
          }
        }, b2.prototype.toJSONSchema = function(t4) {
          var e4 = this.options.required && "function" != typeof this.options.required;
          return p2("string", "string", null == t4 ? void 0 : t4.useBsonType, e4);
        }, b2.prototype.autoEncryptionType = function() {
          return "string";
        }, t3.exports = b2;
      }, 8759: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          return t4.replace(/\.\$(\[[^\]]*\])?(?=\.)/g, ".0").replace(/\.\$(\[[^\]]*\])?$/g, ".0");
        };
      }, 8768: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != c2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != c2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == c2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(i2, "i");
        function s2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = a2(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var i3, s3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return s3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, i3 = t5;
          }, f: function() {
            try {
              s3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw i3;
            }
          } };
        }
        __name(s2, "s");
        function a2(t4, e4) {
          if (t4) {
            if ("string" == typeof t4)
              return u2(t4, e4);
            var r4 = {}.toString.call(t4).slice(8, -1);
            return "Object" === r4 && t4.constructor && (r4 = t4.constructor.name), "Map" === r4 || "Set" === r4 ? Array.from(t4) : "Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? u2(t4, e4) : void 0;
          }
        }
        __name(a2, "a");
        function u2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(u2, "u");
        function c2(t4) {
          return c2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, c2(t4);
        }
        __name(c2, "c");
        var l2, f2 = r3(6353).UUID, p2 = r3(354), h2 = r3(5678), y2 = r3(5549), d2 = r3(6948), b2 = r3(4450), m2 = r3(2746), v2 = r3(608), g2 = r3(1243), _ = r3(1347), O2 = r3(3305), w2 = r3(2789), S2 = r3(9696), $ = r3(2497), j2 = r3(5268), P2 = r3(9539), A2 = r3(2793), E2 = r3(7291).trustedSymbol;
        e3.specialProperties = A2, e3.isMongooseArray = g2.isMongooseArray, e3.isMongooseDocumentArray = _.isMongooseDocumentArray, e3.registerMongooseArray = g2.registerMongooseArray, e3.registerMongooseDocumentArray = _.registerMongooseDocumentArray;
        var x2 = /\s/, T2 = /\s+/;
        e3.toCollectionName = function(t4, e4) {
          if ("system.profile" === t4)
            return t4;
          if ("system.indexes" === t4)
            return t4;
          if ("function" == typeof e4) {
            if ("string" != typeof t4)
              throw new TypeError("Collection name must be a string");
            if (0 === t4.length)
              throw new TypeError("Collection name cannot be empty");
            return e4(t4);
          }
          return t4;
        }, e3.deepEqual = /* @__PURE__ */ __name(function t4(r4, o3) {
          if (r4 === o3)
            return true;
          if ("object" !== c2(r4) || "object" !== c2(o3))
            return r4 === o3;
          if (r4 instanceof Date && o3 instanceof Date)
            return r4.getTime() === o3.getTime();
          if (O2(r4, "ObjectId") && O2(o3, "ObjectId") || O2(r4, "Decimal128") && O2(o3, "Decimal128"))
            return r4.toString() === o3.toString();
          if (r4 instanceof RegExp && o3 instanceof RegExp)
            return r4.source === o3.source && r4.ignoreCase === o3.ignoreCase && r4.multiline === o3.multiline && r4.global === o3.global && r4.dotAll === o3.dotAll && r4.unicode === o3.unicode && r4.sticky === o3.sticky && r4.hasIndices === o3.hasIndices;
          if (null == r4 || null == o3)
            return false;
          if (r4.prototype !== o3.prototype)
            return false;
          if (r4 instanceof Map || o3 instanceof Map)
            return r4 instanceof Map && o3 instanceof Map && t4(Array.from(r4.keys()), Array.from(o3.keys())) && t4(Array.from(r4.values()), Array.from(o3.values()));
          if (r4 instanceof Number && o3 instanceof Number)
            return r4.valueOf() === o3.valueOf();
          if (n2.isBuffer(r4))
            return e3.buffer.areEqual(r4, o3);
          if (Array.isArray(r4) || Array.isArray(o3)) {
            if (!Array.isArray(r4) || !Array.isArray(o3))
              return false;
            var i3 = r4.length;
            if (i3 !== o3.length)
              return false;
            for (var s3 = 0; s3 < i3; ++s3)
              if (!t4(r4[s3], o3[s3]))
                return false;
            return true;
          }
          null != r4.$__ ? r4 = r4._doc : $(r4) && (r4 = r4.toObject()), null != o3.$__ ? o3 = o3._doc : $(o3) && (o3 = o3.toObject());
          var a3 = Object.keys(r4), u3 = Object.keys(o3), l3 = a3.length;
          if (l3 !== u3.length)
            return false;
          for (var f3 = l3 - 1; f3 >= 0; f3--)
            if (a3[f3] !== u3[f3])
              return false;
          for (var p3 = 0, h3 = a3; p3 < h3.length; p3++) {
            var y3 = h3[p3];
            if (!t4(r4[y3], o3[y3]))
              return false;
          }
          return true;
        }, "t"), e3.last = function(t4) {
          if (t4.length > 0)
            return t4[t4.length - 1];
        }, e3.promiseOrCallback = j2, e3.cloneArrays = function(t4) {
          return Array.isArray(t4) ? t4.map(function(t5) {
            return e3.cloneArrays(t5);
          }) : t4;
        }, e3.omit = function(t4, e4) {
          if (null == e4)
            return Object.assign({}, t4);
          Array.isArray(e4) || (e4 = [e4]);
          var r4, n3 = Object.assign({}, t4), o3 = s2(e4);
          try {
            for (o3.s(); !(r4 = o3.n()).done; )
              delete n3[r4.value];
          } catch (t5) {
            o3.e(t5);
          } finally {
            o3.f();
          }
          return n3;
        }, e3.clonePOJOsAndArrays = function(t4) {
          if (null == t4)
            return t4;
          if (null != t4.$__)
            return t4;
          if (w2(t4)) {
            t4 = function(t5) {
              for (var e4 = 1; e4 < arguments.length; e4++) {
                var r5 = null != arguments[e4] ? arguments[e4] : {};
                e4 % 2 ? o2(Object(r5), true).forEach(function(e5) {
                  i2(t5, e5, r5[e5]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(r5)) : o2(Object(r5)).forEach(function(e5) {
                  Object.defineProperty(t5, e5, Object.getOwnPropertyDescriptor(r5, e5));
                });
              }
              return t5;
            }({}, t4);
            for (var r4 = 0, n3 = Object.keys(t4); r4 < n3.length; r4++) {
              var s3 = n3[r4];
              t4[s3] = e3.clonePOJOsAndArrays(t4[s3]);
            }
            return t4;
          }
          if (Array.isArray(t4)) {
            t4 = function(t5) {
              if (Array.isArray(t5))
                return u2(t5);
            }(l3 = t4) || function(t5) {
              if ("undefined" != typeof Symbol && null != t5[Symbol.iterator] || null != t5["@@iterator"])
                return Array.from(t5);
            }(l3) || a2(l3) || function() {
              throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }();
            for (var c3 = 0; c3 < t4.length; ++c3)
              t4[c3] = e3.clonePOJOsAndArrays(t4[c3]);
            return t4;
          }
          var l3;
          return t4;
        }, e3.merge = /* @__PURE__ */ __name(function t4(r4, n3, o3, i3) {
          o3 = o3 || {};
          var s3, a3 = Object.keys(n3), u3 = 0, c3 = a3.length;
          n3[E2] && (r4[E2] = n3[E2]), i3 = i3 || "";
          for (var l3 = o3.omitNested || {}; u3 < c3; )
            if (s3 = a3[u3++], !(o3.omit && o3.omit[s3] || l3[i3] || A2.has(s3)))
              if (null == r4[s3])
                r4[s3] = e3.clonePOJOsAndArrays(n3[s3]);
              else if (e3.isObject(n3[s3])) {
                if (e3.isObject(r4[s3]) || (r4[s3] = {}), null != n3[s3]) {
                  if (o3.isDiscriminatorSchemaMerge && n3[s3].$isSingleNested && r4[s3].$isMongooseDocumentArray || n3[s3].$isMongooseDocumentArray && r4[s3].$isSingleNested)
                    continue;
                  if (n3[s3].instanceOfSchema) {
                    r4[s3].instanceOfSchema ? P2(r4[s3], n3[s3].clone(), o3.isDiscriminatorSchemaMerge) : r4[s3] = n3[s3].clone();
                    continue;
                  }
                  if (O2(n3[s3], "ObjectId")) {
                    r4[s3] = new y2(n3[s3]);
                    continue;
                  }
                }
                t4(r4[s3], n3[s3], o3, i3 ? i3 + "." + s3 : s3);
              } else
                o3.overwrite && (r4[s3] = n3[s3]);
          return r4;
        }, "t"), e3.toObject = /* @__PURE__ */ __name(function t4(n3) {
          var o3;
          if (l2 || (l2 = r3(2400)), null == n3)
            return n3;
          if (n3 instanceof l2)
            return n3.toObject();
          if (Array.isArray(n3)) {
            o3 = [];
            var i3, a3 = s2(n3);
            try {
              for (a3.s(); !(i3 = a3.n()).done; ) {
                var u3 = i3.value;
                o3.push(t4(u3));
              }
            } catch (t5) {
              a3.e(t5);
            } finally {
              a3.f();
            }
            return o3;
          }
          if (e3.isPOJO(n3)) {
            o3 = {}, n3[E2] && (o3[E2] = n3[E2]);
            for (var c3 = 0, f3 = Object.keys(n3); c3 < f3.length; c3++) {
              var p3 = f3[c3];
              A2.has(p3) || (o3[p3] = t4(n3[p3]));
            }
            return o3;
          }
          return n3;
        }, "t"), e3.isObject = v2, e3.isPOJO = r3(2789), e3.isNonBuiltinObject = function(t4) {
          return !("object" !== c2(t4) || e3.isNativeObject(t4) || e3.isMongooseType(t4) || t4 instanceof f2 || null == t4);
        }, e3.isNativeObject = function(t4) {
          return Array.isArray(t4) || t4 instanceof Date || t4 instanceof Boolean || t4 instanceof Number || t4 instanceof String;
        }, e3.isEmptyObject = function(t4) {
          return null != t4 && "object" === c2(t4) && 0 === Object.keys(t4).length;
        }, e3.hasKey = function(t4, r4) {
          for (var n3 = 0, o3 = Object.keys(t4); n3 < o3.length; n3++) {
            var i3 = o3[n3];
            if (i3 === r4)
              return true;
            if (e3.isPOJO(t4[i3]) && e3.hasKey(t4[i3], r4))
              return true;
          }
          return false;
        }, e3.tick = function(t4) {
          if ("function" == typeof t4)
            return function() {
              try {
                t4.apply(this, arguments);
              } catch (t5) {
                m2(function() {
                  throw t5;
                });
              }
            };
        }, e3.isMongooseType = function(t4) {
          return O2(t4, "ObjectId") || O2(t4, "Decimal128") || t4 instanceof n2;
        }, e3.isMongooseObject = $, e3.expires = function(t4) {
          t4 && "Object" === t4.constructor.name && "expires" in t4 && (t4.expireAfterSeconds = "string" != typeof t4.expires ? t4.expires : Math.round(p2(t4.expires) / 1e3), delete t4.expires);
        }, e3.populate = function(t4, r4, n3, o3, i3, a3, u3, l3) {
          var f3, p3 = null;
          if (1 === arguments.length) {
            if (t4 instanceof d2)
              return t4._docs = {}, t4._childDocs = [], [t4];
            if (Array.isArray(t4)) {
              var h3 = (f3 = [], t4.forEach(function(t5) {
                x2.test(t5.path) ? t5.path.split(T2).forEach(function(e4) {
                  var r5 = Object.assign({}, t5);
                  r5.path = e4, f3.push(r5);
                }) : f3.push(t5);
              }), f3);
              return h3.map(function(t5) {
                return e3.populate(t5)[0];
              });
            }
            p3 = e3.isObject(t4) ? Object.assign({}, t4) : { path: t4 };
          } else
            p3 = "object" === c2(n3) ? { path: t4, select: r4, match: n3, options: o3 } : { path: t4, select: r4, model: n3, match: o3, options: i3, populate: a3, justOne: u3, count: l3 };
          if (!("string" == typeof p3.path || Array.isArray(p3.path) && p3.path.every(function(t5) {
            return "string" == typeof t5;
          })))
            throw new TypeError("utils.populate: invalid path. Expected string or array of strings. Got typeof `" + c2(t4) + "`");
          return function(t5) {
            if (Array.isArray(t5.populate)) {
              var r5 = [];
              t5.populate.forEach(function(t6) {
                if (x2.test(t6.path)) {
                  var n5 = Object.assign({}, t6);
                  n5.path.split(T2).forEach(function(t7) {
                    n5.path = t7, r5.push(e3.populate(n5)[0]);
                  });
                } else
                  r5.push(e3.populate(t6)[0]);
              }), t5.populate = e3.populate(r5);
            } else
              null != t5.populate && "object" === c2(t5.populate) && (t5.populate = e3.populate(t5.populate));
            var n4 = [], o4 = x2.test(t5.path) ? t5.path.split(T2) : Array.isArray(t5.path) ? t5.path : [t5.path];
            null != t5.options && (t5.options = b2(t5.options));
            var i4, a4 = s2(o4);
            try {
              for (a4.s(); !(i4 = a4.n()).done; ) {
                var u4 = i4.value;
                n4.push(new d2(Object.assign({}, t5, { path: u4 })));
              }
            } catch (t6) {
              a4.e(t6);
            } finally {
              a4.f();
            }
            return n4;
          }(p3);
        }, e3.getValue = function(t4, e4, r4) {
          return h2.get(t4, e4, N2, r4);
        };
        var k2 = Object.freeze({ getters: false });
        function N2(t4, e4) {
          if ("$*" === e4 && t4 instanceof Map)
            return t4;
          var r4 = (null == t4 ? void 0 : t4._doc) || t4;
          return null != r4 && r4.isMongooseArrayProxy && (r4 = r4.__array), r4 instanceof Map ? r4.get(e4, k2) : r4[e4];
        }
        __name(N2, "N");
        e3.setValue = function(t4, e4, r4, n3, o3) {
          h2.set(t4, e4, r4, "_doc", n3, o3);
        }, e3.object = {}, e3.object.vals = function(t4) {
          for (var e4 = Object.keys(t4), r4 = e4.length, n3 = []; r4--; )
            n3.push(t4[e4[r4]]);
          return n3;
        }, e3.isNullOrUndefined = function(t4) {
          return null == t4;
        }, e3.array = {}, e3.array.flatten = /* @__PURE__ */ __name(function t4(e4, r4, n3) {
          return n3 || (n3 = []), e4.forEach(function(e5) {
            Array.isArray(e5) ? t4(e5, r4, n3) : r4 && !r4(e5) || n3.push(e5);
          }), n3;
        }, "t"), e3.hasUserDefinedProperty = function(t4, r4) {
          if (null == t4)
            return false;
          if (Array.isArray(r4)) {
            var n3, o3 = s2(r4);
            try {
              for (o3.s(); !(n3 = o3.n()).done; ) {
                var i3 = n3.value;
                if (e3.hasUserDefinedProperty(t4, i3))
                  return true;
              }
            } catch (t5) {
              o3.e(t5);
            } finally {
              o3.f();
            }
            return false;
          }
          if (Object.hasOwn(t4, r4))
            return true;
          if ("object" === c2(t4) && r4 in t4) {
            var a3 = t4[r4];
            return a3 !== Object.prototype[r4] && a3 !== Array.prototype[r4];
          }
          return false;
        };
        var I2 = Math.pow(2, 32) - 1;
        e3.isArrayIndex = function(t4) {
          return "number" == typeof t4 ? t4 >= 0 && t4 <= I2 : "string" == typeof t4 && !!/^\d+$/.test(t4) && (t4 = +t4) >= 0 && t4 <= I2;
        }, e3.array.unique = function(t4) {
          var e4, r4 = /* @__PURE__ */ new Set(), n3 = /* @__PURE__ */ new Set(), o3 = [], i3 = s2(t4);
          try {
            for (i3.s(); !(e4 = i3.n()).done; ) {
              var a3 = e4.value;
              if ("number" == typeof a3 || "string" == typeof a3 || null == a3) {
                if (r4.has(a3))
                  continue;
                o3.push(a3), r4.add(a3);
              } else if (O2(a3, "ObjectId")) {
                if (n3.has(a3.toString()))
                  continue;
                o3.push(a3), n3.add(a3.toString());
              } else
                o3.push(a3);
            }
          } catch (t5) {
            i3.e(t5);
          } finally {
            i3.f();
          }
          return o3;
        }, e3.buffer = {}, e3.buffer.areEqual = function(t4, e4) {
          if (!n2.isBuffer(t4))
            return false;
          if (!n2.isBuffer(e4))
            return false;
          if (t4.length !== e4.length)
            return false;
          for (var r4 = 0, o3 = t4.length; r4 < o3; ++r4)
            if (t4[r4] !== e4[r4])
              return false;
          return true;
        }, e3.getFunctionName = S2, e3.decorate = function(t4, e4) {
          for (var r4 in e4)
            A2.has(r4) || (t4[r4] = e4[r4]);
        }, e3.mergeClone = function(t4, r4) {
          $(r4) && (r4 = r4.toObject({ transform: false, virtuals: false, depopulate: true, getters: false, flattenDecimals: false }));
          for (var o3, i3 = Object.keys(r4), s3 = i3.length, a3 = 0; a3 < s3; )
            if (o3 = i3[a3++], !A2.has(o3))
              if (void 0 === t4[o3])
                t4[o3] = b2(r4[o3], { transform: false, virtuals: false, depopulate: true, getters: false, flattenDecimals: false });
              else {
                var u3 = r4[o3];
                if (null == u3 || !u3.valueOf || u3 instanceof Date || (u3 = u3.valueOf()), e3.isObject(u3)) {
                  var c3 = u3;
                  $(u3) && !u3.isMongooseBuffer && (c3 = c3.toObject({ transform: false, virtuals: false, depopulate: true, getters: false, flattenDecimals: false })), u3.isMongooseBuffer && (c3 = n2.from(c3)), e3.mergeClone(t4[o3], c3);
                } else
                  t4[o3] = b2(u3, { flattenDecimals: false });
              }
        }, e3.each = function(t4, e4) {
          var r4, n3 = s2(t4);
          try {
            for (n3.s(); !(r4 = n3.n()).done; )
              e4(r4.value);
          } catch (t5) {
            n3.e(t5);
          } finally {
            n3.f();
          }
        }, e3.renameObjKey = function(t4, e4, r4) {
          return Object.keys(t4).reduce(function(n3, o3) {
            return o3 === e4 ? n3[r4] = t4[e4] : n3[o3] = t4[o3], n3;
          }, {});
        }, e3.getOption = function(t4) {
          var e4, r4 = s2(Array.prototype.slice.call(arguments, 1));
          try {
            for (r4.s(); !(e4 = r4.n()).done; ) {
              var n3 = e4.value;
              if (null != n3 && null != n3[t4])
                return n3[t4];
            }
          } catch (t5) {
            r4.e(t5);
          } finally {
            r4.f();
          }
          return null;
        }, e3.noop = function() {
        }, e3.errorToPOJO = function(t4) {
          if (!(t4 instanceof Error))
            throw new Error("`error` must be `instanceof Error`.");
          var e4, r4 = {}, n3 = s2(Object.getOwnPropertyNames(t4));
          try {
            for (n3.s(); !(e4 = n3.n()).done; ) {
              var o3 = e4.value;
              r4[o3] = t4[o3];
            }
          } catch (t5) {
            n3.e(t5);
          } finally {
            n3.f();
          }
          return r4;
        }, e3.warn = function(t4) {
          return { env: {} }.emitWarning(t4, { code: "MONGOOSE" });
        }, e3.injectTimestampsOption = function(t4, e4) {
          null != e4 && (t4.timestamps = e4);
        };
      }, 8863: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2354), o2 = r3(2268), i2 = r3(3123), s2 = r3(5477);
        t3.exports = function(t4) {
          if (t4.length < 1 || "function" != typeof t4[0])
            throw new o2("a function is required");
          return s2(n2, i2, t4);
        };
      }, 8866: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, i2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(i2, "i");
        function s2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (s2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "s"))();
        }
        __name(s2, "s");
        function a2() {
          return a2 = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t4, e4, r4) {
            var n3 = function(t5, e5) {
              for (; !{}.hasOwnProperty.call(t5, e5) && null !== (t5 = u2(t5)); )
                ;
              return t5;
            }(t4, e4);
            if (n3) {
              var o3 = Object.getOwnPropertyDescriptor(n3, e4);
              return o3.get ? o3.get.call(arguments.length < 3 ? t4 : r4) : o3.value;
            }
          }, a2.apply(null, arguments);
        }
        __name(a2, "a");
        function u2(t4) {
          return u2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, u2(t4);
        }
        __name(u2, "u");
        function c2(t4, e4) {
          return c2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, c2(t4, e4);
        }
        __name(c2, "c");
        var l2 = r3(6974), f2 = r3(6426), p2 = Symbol("firstValue"), h2 = function(t4) {
          function e4(t5, r5, o3, i4) {
            var a3;
            if (function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), a3 = function(t6, e5, r6) {
              return e5 = u2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, s2() ? Reflect.construct(e5, r6 || [], u2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, [t5, r5, "Union", i4]), !r5 || !Array.isArray(r5.of) || 0 === r5.of.length)
              throw new Error("Union schema type requires an array of types");
            return a3.schemaTypes = r5.of.map(function(e5) {
              return i4.interpretAsType(t5, e5, o3);
            }), a3;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && c2(t5, e5);
          }(e4, t4), r4 = e4, i3 = [{ key: "cast", value: function(t5, e5, r5, n3, o3) {
            for (var i4, s3 = p2, a3 = 0; a3 < this.schemaTypes.length; ++a3)
              try {
                var u3 = this.schemaTypes[a3].cast(t5, e5, r5, n3, o3);
                if (u3 === t5)
                  return u3;
                s3 === p2 && (s3 = u3);
              } catch (t6) {
                i4 = t6;
              }
            if (s3 !== p2)
              return s3;
            throw i4;
          } }, { key: "applySetters", value: function(t5, e5, r5, n3, o3) {
            for (var i4, s3 = p2, a3 = 0; a3 < this.schemaTypes.length; ++a3)
              try {
                var u3 = this.schemaTypes[a3]._applySetters(t5, e5, r5, n3, o3);
                if ((u3 = null == u3 ? this.schemaTypes[a3]._castNullish(u3) : this.schemaTypes[a3].cast(u3, e5, r5, n3, o3)) === t5)
                  return u3;
                s3 === p2 && (s3 = u3);
              } catch (t6) {
                i4 = t6;
              }
            if (s3 !== p2)
              return s3;
            throw i4;
          } }, { key: "clone", value: function() {
            var t5, r5, n3, o3 = (t5 = e4, r5 = this, "function" == typeof (n3 = a2(u2(1 & 3 ? t5.prototype : t5), "clone", r5)) ? function(t6) {
              return n3.apply(r5, t6);
            } : n3)([]);
            return o3.schemaTypes = this.schemaTypes.map(function(t6) {
              return t6.clone();
            }), o3;
          } }], i3 && o2(r4.prototype, i3), Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4, i3;
        }(f2);
        h2.schemaName = "Union", h2.defaultOptions = {}, h2.prototype.OptionsConstructor = l2, t3.exports = h2;
      }, 8879: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, s2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4, e4, r4) {
          return e4 && o2(t4.prototype, e4), r4 && o2(t4, r4), Object.defineProperty(t4, "prototype", { writable: false }), t4;
        }
        __name(i2, "i");
        function s2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(s2, "s");
        var a2 = r3(4450), u2 = i2(/* @__PURE__ */ __name(function t4(e4) {
          if (function(t5, e5) {
            if (!(t5 instanceof e5))
              throw new TypeError("Cannot call a class as a function");
          }(this, t4), null == e4)
            return this;
          Object.assign(this, a2(e4));
        }, "t")), c2 = r3(5761);
        Object.defineProperty(u2.prototype, "type", c2), Object.defineProperty(u2.prototype, "validate", c2), Object.defineProperty(u2.prototype, "cast", c2), Object.defineProperty(u2.prototype, "required", c2), Object.defineProperty(u2.prototype, "default", c2), Object.defineProperty(u2.prototype, "ref", c2), Object.defineProperty(u2.prototype, "refPath", c2), Object.defineProperty(u2.prototype, "select", c2), Object.defineProperty(u2.prototype, "index", c2), Object.defineProperty(u2.prototype, "unique", c2), Object.defineProperty(u2.prototype, "immutable", c2), Object.defineProperty(u2.prototype, "sparse", c2), Object.defineProperty(u2.prototype, "text", c2), Object.defineProperty(u2.prototype, "transform", c2), t3.exports = u2;
      }, 8920: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4) {
          return o2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, o2(t4);
        }
        __name(o2, "o");
        function i2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = s2(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, o3 = /* @__PURE__ */ __name(function() {
              }, "o");
              return { s: o3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: o3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var i3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, i3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw i3;
            }
          } };
        }
        __name(i2, "i");
        function s2(t4, e4) {
          if (t4) {
            if ("string" == typeof t4)
              return a2(t4, e4);
            var r4 = {}.toString.call(t4).slice(8, -1);
            return "Object" === r4 && t4.constructor && (r4 = t4.constructor.name), "Map" === r4 || "Set" === r4 ? Array.from(t4) : "Arguments" === r4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r4) ? a2(t4, e4) : void 0;
          }
        }
        __name(s2, "s");
        function a2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(a2, "a");
        var u2 = r3(2400), c2 = r3(6547), l2 = r3(8213), f2 = r3(4473), p2 = r3(4450), h2 = r3(3303)._, y2 = r3(5678), d2 = r3(8768), b2 = r3(3305), m2 = r3(7930).arrayAtomicsSymbol, v2 = r3(7930).arrayParentSymbol, g2 = r3(7930).arrayPathSymbol, _ = r3(7930).arraySchemaSymbol, O2 = r3(7930).populateModelSymbol, w2 = Symbol("mongoose#Array#sliced"), S2 = Array.prototype.push, $ = { $__getAtomics: function() {
          var t4 = [], e4 = Object.keys(this[m2] || {}), r4 = e4.length, n3 = Object.assign({}, h2, { _isNested: true });
          if (0 === r4)
            return t4[0] = ["$set", this.toObject(n3)], t4;
          for (; r4--; ) {
            var o3 = e4[r4], i3 = this[m2][o3];
            d2.isMongooseObject(i3) ? i3 = i3.toObject(n3) : Array.isArray(i3) ? i3 = this.toObject.call(i3, n3) : null != i3 && Array.isArray(i3.$each) ? i3.$each = this.toObject.call(i3.$each, n3) : null != i3 && "function" == typeof i3.valueOf && (i3 = i3.valueOf()), "$addToSet" === o3 && (i3 = { $each: i3 }), t4.push([o3, i3]);
          }
          return t4;
        }, $atomics: function() {
          return this[m2];
        }, $parent: function() {
          return this[v2];
        }, $path: function() {
          return this[g2];
        }, $schemaType: function() {
          return this[_];
        }, $shift: function() {
          this._registerAtomic("$pop", -1), this._markModified();
          var t4 = this.__array;
          if (!t4._shifted)
            return t4._shifted = true, [].shift.call(t4);
        }, $pop: function() {
          if (this._registerAtomic("$pop", 1), this._markModified(), !this._popped)
            return this._popped = true, [].pop.call(this);
        }, $schema: function() {
          return this[_];
        }, _cast: function(t4) {
          var e4, r4 = false, o3 = this[v2];
          if (o3 && (r4 = o3.$populated(this[g2], true)), r4 && null != t4) {
            if (null == (e4 = r4.options[O2]))
              throw new l2("No populated model found for path `" + this[g2] + "`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");
            return (n2.isBuffer(t4) || b2(t4, "ObjectId") || !d2.isObject(t4)) && (t4 = { _id: t4 }), t4.schema && t4.schema.discriminatorMapping && void 0 !== t4.schema.discriminatorMapping.key || (t4 = new e4(t4)), this[_].caster.applySetters(t4, o3, true);
          }
          return this[_].caster.applySetters(t4, o3, false);
        }, _mapCast: function(t4, e4) {
          return this._cast(t4, this.length + e4);
        }, _markModified: function(t4) {
          var e4, r4 = this[v2];
          if (r4) {
            if (e4 = this[g2], arguments.length && (e4 = e4 + "." + t4), null != e4 && e4.endsWith(".$"))
              return this;
            r4.markModified(e4, 0 !== arguments.length ? t4 : r4);
          }
          return this;
        }, _registerAtomic: function(t4, e4) {
          if (!this[w2]) {
            if ("$set" === t4)
              return this[m2] = { $set: e4 }, f2(this[v2], this[g2]), this._markModified(), this;
            var r4, n3 = this[m2];
            if ("$pop" === t4 && !("$pop" in n3)) {
              var o3 = this;
              this[v2].once("save", function() {
                o3._popped = o3._shifted = null;
              });
            }
            if (n3.$set || Object.keys(n3).length && !(t4 in n3))
              return this[m2] = { $set: this }, this;
            if ("$pullAll" === t4 || "$addToSet" === t4)
              n3[t4] || (n3[t4] = []), n3[t4] = n3[t4].concat(e4);
            else if ("$pullDocs" === t4) {
              var u3 = n3.$pull || (n3.$pull = {});
              e4[0] instanceof c2 ? (r4 = u3.$or || (u3.$or = []), Array.prototype.push.apply(r4, e4.map(function(t5) {
                return t5.toObject({ transform: function(e5, r5) {
                  return null == t5 || null == t5.$__ || Object.keys(t5.$__.activePaths.getStatePaths("default")).forEach(function(t6) {
                    y2.unset(t6, r5), j2(r5, t6);
                  }), r5;
                }, virtuals: false });
              }))) : (r4 = u3._id || (u3._id = { $in: [] })).$in = r4.$in.concat(e4);
            } else if ("$push" === t4)
              if (n3.$push = n3.$push || { $each: [] }, null != e4 && d2.hasUserDefinedProperty(e4, "$each"))
                n3.$push = e4;
              else if (1 === e4.length)
                n3.$push.$each.push(e4[0]);
              else if (e4.length < 1e4) {
                var l3;
                (l3 = n3.$push.$each).push.apply(l3, function(t5) {
                  if (Array.isArray(t5))
                    return a2(t5);
                }(_2 = e4) || function(t5) {
                  if ("undefined" != typeof Symbol && null != t5[Symbol.iterator] || null != t5["@@iterator"])
                    return Array.from(t5);
                }(_2) || s2(_2) || function() {
                  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                }());
              } else {
                var p3, h3 = i2(e4);
                try {
                  for (h3.s(); !(p3 = h3.n()).done; ) {
                    var b3 = p3.value;
                    n3.$push.$each.push(b3);
                  }
                } catch (t5) {
                  h3.e(t5);
                } finally {
                  h3.f();
                }
              }
            else
              n3[t4] = e4;
            return this;
          }
          var _2;
        }, addToSet: function() {
          P2(this, arguments), A2(this, arguments);
          var t4 = [].map.call(arguments, this._mapCast, this), e4 = [], r4 = "";
          t4[0] instanceof c2 ? r4 = "doc" : t4[0] instanceof Date ? r4 = "date" : b2(t4[0], "ObjectId") && (r4 = "ObjectId");
          var n3 = d2.isMongooseArray(t4) ? t4.__array : t4, o3 = d2.isMongooseArray(this) ? this.__array : this;
          return n3.forEach(function(t5) {
            var n4, i3 = +t5;
            switch (r4) {
              case "doc":
                n4 = this.some(function(e5) {
                  return e5.equals(t5);
                });
                break;
              case "date":
                n4 = this.some(function(t6) {
                  return +t6 === i3;
                });
                break;
              case "ObjectId":
                n4 = this.find(function(e5) {
                  return e5.toString() === t5.toString();
                });
                break;
              default:
                n4 = ~this.indexOf(t5);
            }
            n4 || (this._markModified(), o3.push(t5), this._registerAtomic("$addToSet", t5), [].push.call(e4, t5));
          }, this), e4;
        }, hasAtomics: function() {
          return d2.isPOJO(this[m2]) ? Object.keys(this[m2]).length : 0;
        }, includes: function(t4, e4) {
          return -1 !== this.indexOf(t4, e4);
        }, indexOf: function(t4, e4) {
          b2(t4, "ObjectId") && (t4 = t4.toString()), e4 = null == e4 ? 0 : e4;
          for (var r4 = this.length, n3 = e4; n3 < r4; ++n3)
            if (t4 == this[n3])
              return n3;
          return -1;
        }, inspect: function() {
          return JSON.stringify(this);
        }, nonAtomicPush: function() {
          var t4 = [].map.call(arguments, this._mapCast, this);
          this._markModified();
          var e4 = [].push.apply(this, t4);
          return this._registerAtomic("$set", this), e4;
        }, pop: function() {
          this._markModified();
          var t4 = [].pop.call(this);
          return this._registerAtomic("$set", this), t4;
        }, pull: function() {
          var t4 = this, e4 = [].map.call(arguments, function(e5, r5) {
            return t4._cast(e5, r5, { defaults: false });
          }, this), r4 = this;
          d2.isMongooseArray(r4) && (r4 = r4.__array);
          var n3, o3 = r4.length;
          for (this._markModified(); o3--; )
            (n3 = r4[o3]) instanceof u2 ? e4.some(function(t5) {
              return n3.equals(t5);
            }) && r4.splice(o3, 1) : ~this.indexOf.call(e4, n3) && r4.splice(o3, 1);
          return e4[0] instanceof c2 ? this._registerAtomic("$pullDocs", e4.map(function(t5) {
            var e5 = t5.$__getValue("_id");
            return void 0 === e5 || t5.$isDefault("_id") ? t5 : e5;
          })) : this._registerAtomic("$pullAll", e4), f2(this[v2], this[g2]) > 0 && this._registerAtomic("$set", this), this;
        }, push: function() {
          var t4, e4 = arguments, r4 = e4, n3 = null != e4[0] && d2.hasUserDefinedProperty(e4[0], "$each"), o3 = d2.isMongooseArray(this) ? this.__array : this;
          if (n3 && (r4 = e4[0], e4 = e4[0].$each), null == this[_])
            return S2.apply(this, e4);
          P2(this, e4), A2(this, e4), e4 = [].map.call(e4, this._mapCast, this);
          var i3 = this[m2];
          return this._markModified(), n3 ? (r4.$each = e4, 0 !== (i3.$push && i3.$push.$each && i3.$push.$each.length || 0) && i3.$push.$position != r4.$position ? (null != r4.$position ? ([].splice.apply(o3, [r4.$position, 0].concat(e4)), t4 = o3.length) : t4 = [].push.apply(o3, e4), this._registerAtomic("$set", this)) : null != r4.$position ? ([].splice.apply(o3, [r4.$position, 0].concat(e4)), t4 = this.length) : t4 = [].push.apply(o3, e4)) : (r4 = e4, t4 = S2.apply(o3, e4)), this._registerAtomic("$push", r4), t4;
        }, remove: function() {
          return this.pull.apply(this, arguments);
        }, set: function(t4, e4, r4) {
          var n3 = this.__array;
          if (r4)
            return n3[t4] = e4, this;
          var o3 = $._cast.call(this, e4, t4);
          return $._markModified.call(this, t4), n3[t4] = o3, this;
        }, shift: function() {
          var t4 = d2.isMongooseArray(this) ? this.__array : this;
          this._markModified();
          var e4 = [].shift.call(t4);
          return this._registerAtomic("$set", this), e4;
        }, sort: function() {
          var t4 = d2.isMongooseArray(this) ? this.__array : this, e4 = [].sort.apply(t4, arguments);
          return this._registerAtomic("$set", this), e4;
        }, splice: function() {
          var t4, e4 = d2.isMongooseArray(this) ? this.__array : this;
          if (this._markModified(), P2(this, Array.prototype.slice.call(arguments, 2)), arguments.length) {
            var r4;
            if (null == this[_])
              r4 = arguments;
            else {
              r4 = [];
              for (var n3 = 0; n3 < arguments.length; ++n3)
                r4[n3] = n3 < 2 ? arguments[n3] : this._cast(arguments[n3], arguments[0] + (n3 - 2));
            }
            t4 = [].splice.apply(e4, r4), this._registerAtomic("$set", this);
          }
          return t4;
        }, toBSON: function() {
          return this.toObject(h2);
        }, toObject: function(t4) {
          var e4 = d2.isMongooseArray(this) ? this.__array : this;
          return t4 && t4.depopulate ? ((t4 = p2(t4))._isNested = true, [].concat(e4).map(function(e5) {
            return e5 instanceof u2 ? e5.toObject(t4) : e5;
          })) : [].concat(e4);
        }, $toObject: function() {
          return this.constructor.prototype.toObject.apply(this, arguments);
        }, unshift: function() {
          var t4;
          P2(this, arguments), t4 = null == this[_] ? arguments : [].map.call(arguments, this._cast, this);
          var e4 = d2.isMongooseArray(this) ? this.__array : this;
          return this._markModified(), [].unshift.apply(e4, t4), this._registerAtomic("$set", this), this.length;
        } };
        function j2(t4, e4, r4) {
          if ("string" == typeof e4) {
            if (-1 === e4.indexOf("."))
              return;
            e4 = y2.stringToParts(e4);
          }
          (r4 = r4 || 0) >= e4.length || null != t4 && "object" === o2(t4) && (j2(t4[e4[0]], e4, r4 + 1), null != t4[e4[0]] && "object" === o2(t4[e4[0]]) && 0 === Object.keys(t4[e4[0]]).length && delete t4[e4[0]]);
        }
        __name(j2, "j");
        function P2(t4, e4) {
          var r4, n3, s3, a3 = null == t4 ? null : t4[_] && t4[_].caster && t4[_].caster.options && t4[_].caster.options.ref || null;
          0 === t4.length && 0 !== e4.length && function(t5, e5) {
            if (!e5)
              return false;
            var r5, n4 = i2(t5);
            try {
              for (n4.s(); !(r5 = n4.n()).done; ) {
                var o3 = r5.value;
                if (null == o3)
                  return false;
                var s4 = o3.constructor;
                if (!(o3 instanceof u2) || s4.modelName !== e5 && s4.baseModelName !== e5)
                  return false;
              }
            } catch (t6) {
              n4.e(t6);
            } finally {
              n4.f();
            }
            return true;
          }(e4, a3) && t4[v2].$populated(t4[g2], [], (r4 = {}, n3 = O2, s3 = e4[0].constructor, (n3 = function(t5) {
            var e5 = function(t6) {
              if ("object" != o2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != o2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == o2(e5) ? e5 : e5 + "";
          }(n3)) in r4 ? Object.defineProperty(r4, n3, { value: s3, enumerable: true, configurable: true, writable: true }) : r4[n3] = s3, r4));
        }
        __name(P2, "P");
        function A2(t4, e4) {
          var r4 = null == t4 ? null : t4[_] && t4[_].caster && t4[_].caster.options && t4[_].caster.options.ref || null, s3 = t4[v2], a3 = t4[g2];
          if (r4 && s3.populated(a3)) {
            var u3, c3 = i2(e4);
            try {
              for (c3.s(); !(u3 = c3.n()).done; ) {
                var l3 = u3.value;
                if (null != l3 && ("object" !== o2(l3) || l3 instanceof String || l3 instanceof Number || l3 instanceof n2 || d2.isMongooseType(l3))) {
                  s3.depopulate(a3);
                  break;
                }
              }
            } catch (t5) {
              c3.e(t5);
            } finally {
              c3.f();
            }
          }
        }
        __name(A2, "A");
        for (var E2 = function() {
          var t4 = T2[x2];
          if (null == Array.prototype[t4])
            return 1;
          $[t4] = function() {
            var e4 = d2.isMongooseArray(this) ? this.__array : this, r4 = [].concat(e4);
            return r4[t4].apply(r4, arguments);
          };
        }, x2 = 0, T2 = ["filter", "flat", "flatMap", "map", "slice"]; x2 < T2.length; x2++)
          E2();
        t3.exports = $;
      }, 8953: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3609);
        t3.exports = function(e4, r4) {
          if (t3.exports.convertToTrue.has(e4))
            return true;
          if (t3.exports.convertToFalse.has(e4))
            return false;
          if (null == e4)
            return e4;
          throw new n2("boolean", e4, r4);
        }, t3.exports.convertToTrue = /* @__PURE__ */ new Set([true, "true", 1, "1", "yes"]), t3.exports.convertToFalse = /* @__PURE__ */ new Set([false, "false", 0, "0", "no"]);
      }, 8995: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4(t5, r5, s3) {
            var a3;
            return function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), (a3 = function(t6, e5, r6) {
              return e5 = i2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, o2() ? Reflect.construct(e5, r6 || [], i2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, [r5 = r5 || "Field `" + t5 + "` is not in schema and strict mode is set to throw."])).isImmutableError = !!s3, a3.path = t5, a3;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8213));
        Object.defineProperty(a2.prototype, "name", { value: "StrictModeError" }), t3.exports = a2;
      }, 9064: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(3609), i2 = r3(8953), s2 = r3(1244);
        t3.exports = function(t4, e4) {
          if (null == t4 || "object" !== n2(t4))
            throw new o2("$text", t4, e4);
          return null != t4.$search && (t4.$search = s2(t4.$search, e4 + ".$search")), null != t4.$language && (t4.$language = s2(t4.$language, e4 + ".$language")), null != t4.$caseSensitive && (t4.$caseSensitive = i2(t4.$caseSensitive, e4 + ".$castSensitive")), null != t4.$diacriticSensitive && (t4.$diacriticSensitive = i2(t4.$diacriticSensitive, e4 + ".$diacriticSensitive")), t4;
        };
      }, 9068: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4, r4) {
          return e4 in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(o2, "o");
        function i2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, n3.key, n3);
          }
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return !e4 || "object" !== p2(e4) && "function" != typeof e4 ? a2(t4) : e4;
        }
        __name(s2, "s");
        function a2(t4) {
          if (void 0 === t4)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t4;
        }
        __name(a2, "a");
        function u2(t4) {
          var e4 = "function" == typeof Map ? /* @__PURE__ */ new Map() : void 0;
          return u2 = /* @__PURE__ */ __name(function(t5) {
            if (null === t5 || (r4 = t5, -1 === Function.toString.call(r4).indexOf("[native code]")))
              return t5;
            var r4;
            if ("function" != typeof t5)
              throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== e4) {
              if (e4.has(t5))
                return e4.get(t5);
              e4.set(t5, n3);
            }
            function n3() {
              return c2(t5, arguments, f2(this).constructor);
            }
            __name(n3, "n");
            return n3.prototype = Object.create(t5.prototype, { constructor: { value: n3, enumerable: false, writable: true, configurable: true } }), l2(n3, t5);
          }, "u"), u2(t4);
        }
        __name(u2, "u");
        function c2(t4, e4, r4) {
          return c2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
              return false;
            if (Reflect.construct.sham)
              return false;
            if ("function" == typeof Proxy)
              return true;
            try {
              return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
              })), true;
            } catch (t5) {
              return false;
            }
          }() ? Reflect.construct : function(t5, e5, r5) {
            var n3 = [null];
            n3.push.apply(n3, e5);
            var o3 = new (Function.bind.apply(t5, n3))();
            return r5 && l2(o3, r5.prototype), o3;
          }, c2.apply(null, arguments);
        }
        __name(c2, "c");
        function l2(t4, e4) {
          return l2 = Object.setPrototypeOf || function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, l2(t4, e4);
        }
        __name(l2, "l");
        function f2(t4) {
          return f2 = Object.setPrototypeOf ? Object.getPrototypeOf : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, f2(t4);
        }
        __name(f2, "f");
        function p2(t4) {
          return p2 = "function" == typeof Symbol && "symbol" === n2(Symbol.iterator) ? function(t5) {
            return n2(t5);
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : n2(t5);
          }, p2(t4);
        }
        __name(p2, "p");
        var h2 = r3(7352).inspect, y2 = r3(3743).codes.ERR_INVALID_ARG_TYPE;
        function d2(t4, e4, r4) {
          return (void 0 === r4 || r4 > t4.length) && (r4 = t4.length), t4.substring(r4 - e4.length, r4) === e4;
        }
        __name(d2, "d");
        var b2 = "", m2 = "", v2 = "", g2 = "", _ = { deepStrictEqual: "Expected values to be strictly deep-equal:", strictEqual: "Expected values to be strictly equal:", strictEqualObject: 'Expected "actual" to be reference-equal to "expected":', deepEqual: "Expected values to be loosely deep-equal:", equal: "Expected values to be loosely equal:", notDeepStrictEqual: 'Expected "actual" not to be strictly deep-equal to:', notStrictEqual: 'Expected "actual" to be strictly unequal to:', notStrictEqualObject: 'Expected "actual" not to be reference-equal to "expected":', notDeepEqual: 'Expected "actual" not to be loosely deep-equal to:', notEqual: 'Expected "actual" to be loosely unequal to:', notIdentical: "Values identical but not reference-equal:" };
        function O2(t4) {
          var e4 = Object.keys(t4), r4 = Object.create(Object.getPrototypeOf(t4));
          return e4.forEach(function(e5) {
            r4[e5] = t4[e5];
          }), Object.defineProperty(r4, "message", { value: t4.message }), r4;
        }
        __name(O2, "O");
        function w2(t4) {
          return h2(t4, { compact: false, customInspect: false, depth: 1e3, maxArrayLength: 1 / 0, showHidden: false, breakLength: 1 / 0, showProxy: false, sorted: true, getters: true });
        }
        __name(w2, "w");
        var S2 = function(t4) {
          function e4(t5) {
            var r5;
            if (function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), "object" !== p2(t5) || null === t5)
              throw new y2("options", "Object", t5);
            var n4 = t5.message, o3 = t5.operator, i3 = t5.stackStartFn, u3 = t5.actual, c3 = t5.expected, l3 = Error.stackTraceLimit;
            if (Error.stackTraceLimit = 0, null != n4)
              r5 = s2(this, f2(e4).call(this, String(n4)));
            else if ({ env: {} }.stderr && { env: {} }.stderr.isTTY && ({ env: {} }.stderr && { env: {} }.stderr.getColorDepth && 1 !== { env: {} }.stderr.getColorDepth() ? (b2 = "\x1B[34m", m2 = "\x1B[32m", g2 = "\x1B[39m", v2 = "\x1B[31m") : (b2 = "", m2 = "", g2 = "", v2 = "")), "object" === p2(u3) && null !== u3 && "object" === p2(c3) && null !== c3 && "stack" in u3 && u3 instanceof Error && "stack" in c3 && c3 instanceof Error && (u3 = O2(u3), c3 = O2(c3)), "deepStrictEqual" === o3 || "strictEqual" === o3)
              r5 = s2(this, f2(e4).call(this, function(t6, e5, r6) {
                var n5 = "", o4 = "", i4 = 0, s3 = "", a3 = false, u4 = w2(t6), c4 = u4.split("\n"), l4 = w2(e5).split("\n"), f3 = 0, h4 = "";
                if ("strictEqual" === r6 && "object" === p2(t6) && "object" === p2(e5) && null !== t6 && null !== e5 && (r6 = "strictEqualObject"), 1 === c4.length && 1 === l4.length && c4[0] !== l4[0]) {
                  var y3 = c4[0].length + l4[0].length;
                  if (y3 <= 10) {
                    if (!("object" === p2(t6) && null !== t6 || "object" === p2(e5) && null !== e5 || 0 === t6 && 0 === e5))
                      return "".concat(_[r6], "\n\n") + "".concat(c4[0], " !== ").concat(l4[0], "\n");
                  } else if ("strictEqualObject" !== r6 && y3 < ({ env: {} }.stderr && { env: {} }.stderr.isTTY ? { env: {} }.stderr.columns : 80)) {
                    for (; c4[0][f3] === l4[0][f3]; )
                      f3++;
                    f3 > 2 && (h4 = "\n  ".concat(function(t7, e6) {
                      if (e6 = Math.floor(e6), 0 == t7.length || 0 == e6)
                        return "";
                      var r7 = t7.length * e6;
                      for (e6 = Math.floor(Math.log(e6) / Math.log(2)); e6; )
                        t7 += t7, e6--;
                      return t7 + t7.substring(0, r7 - t7.length);
                    }(" ", f3), "^"), f3 = 0);
                  }
                }
                for (var O3 = c4[c4.length - 1], S4 = l4[l4.length - 1]; O3 === S4 && (f3++ < 2 ? s3 = "\n  ".concat(O3).concat(s3) : n5 = O3, c4.pop(), l4.pop(), 0 !== c4.length && 0 !== l4.length); )
                  O3 = c4[c4.length - 1], S4 = l4[l4.length - 1];
                var $2 = Math.max(c4.length, l4.length);
                if (0 === $2) {
                  var j3 = u4.split("\n");
                  if (j3.length > 30)
                    for (j3[26] = "".concat(b2, "...").concat(g2); j3.length > 27; )
                      j3.pop();
                  return "".concat(_.notIdentical, "\n\n").concat(j3.join("\n"), "\n");
                }
                f3 > 3 && (s3 = "\n".concat(b2, "...").concat(g2).concat(s3), a3 = true), "" !== n5 && (s3 = "\n  ".concat(n5).concat(s3), n5 = "");
                var P3 = 0, A2 = _[r6] + "\n".concat(m2, "+ actual").concat(g2, " ").concat(v2, "- expected").concat(g2), E2 = " ".concat(b2, "...").concat(g2, " Lines skipped");
                for (f3 = 0; f3 < $2; f3++) {
                  var x2 = f3 - i4;
                  if (c4.length < f3 + 1)
                    x2 > 1 && f3 > 2 && (x2 > 4 ? (o4 += "\n".concat(b2, "...").concat(g2), a3 = true) : x2 > 3 && (o4 += "\n  ".concat(l4[f3 - 2]), P3++), o4 += "\n  ".concat(l4[f3 - 1]), P3++), i4 = f3, n5 += "\n".concat(v2, "-").concat(g2, " ").concat(l4[f3]), P3++;
                  else if (l4.length < f3 + 1)
                    x2 > 1 && f3 > 2 && (x2 > 4 ? (o4 += "\n".concat(b2, "...").concat(g2), a3 = true) : x2 > 3 && (o4 += "\n  ".concat(c4[f3 - 2]), P3++), o4 += "\n  ".concat(c4[f3 - 1]), P3++), i4 = f3, o4 += "\n".concat(m2, "+").concat(g2, " ").concat(c4[f3]), P3++;
                  else {
                    var T2 = l4[f3], k2 = c4[f3], N2 = k2 !== T2 && (!d2(k2, ",") || k2.slice(0, -1) !== T2);
                    N2 && d2(T2, ",") && T2.slice(0, -1) === k2 && (N2 = false, k2 += ","), N2 ? (x2 > 1 && f3 > 2 && (x2 > 4 ? (o4 += "\n".concat(b2, "...").concat(g2), a3 = true) : x2 > 3 && (o4 += "\n  ".concat(c4[f3 - 2]), P3++), o4 += "\n  ".concat(c4[f3 - 1]), P3++), i4 = f3, o4 += "\n".concat(m2, "+").concat(g2, " ").concat(k2), n5 += "\n".concat(v2, "-").concat(g2, " ").concat(T2), P3 += 2) : (o4 += n5, n5 = "", 1 !== x2 && 0 !== f3 || (o4 += "\n  ".concat(k2), P3++));
                  }
                  if (P3 > 20 && f3 < $2 - 2)
                    return "".concat(A2).concat(E2, "\n").concat(o4, "\n").concat(b2, "...").concat(g2).concat(n5, "\n") + "".concat(b2, "...").concat(g2);
                }
                return "".concat(A2).concat(a3 ? E2 : "", "\n").concat(o4).concat(n5).concat(s3).concat(h4);
              }(u3, c3, o3)));
            else if ("notDeepStrictEqual" === o3 || "notStrictEqual" === o3) {
              var h3 = _[o3], S3 = w2(u3).split("\n");
              if ("notStrictEqual" === o3 && "object" === p2(u3) && null !== u3 && (h3 = _.notStrictEqualObject), S3.length > 30)
                for (S3[26] = "".concat(b2, "...").concat(g2); S3.length > 27; )
                  S3.pop();
              r5 = 1 === S3.length ? s2(this, f2(e4).call(this, "".concat(h3, " ").concat(S3[0]))) : s2(this, f2(e4).call(this, "".concat(h3, "\n\n").concat(S3.join("\n"), "\n")));
            } else {
              var $ = w2(u3), j2 = "", P2 = _[o3];
              "notDeepEqual" === o3 || "notEqual" === o3 ? ($ = "".concat(_[o3], "\n\n").concat($)).length > 1024 && ($ = "".concat($.slice(0, 1021), "...")) : (j2 = "".concat(w2(c3)), $.length > 512 && ($ = "".concat($.slice(0, 509), "...")), j2.length > 512 && (j2 = "".concat(j2.slice(0, 509), "...")), "deepEqual" === o3 || "equal" === o3 ? $ = "".concat(P2, "\n\n").concat($, "\n\nshould equal\n\n") : j2 = " ".concat(o3, " ").concat(j2)), r5 = s2(this, f2(e4).call(this, "".concat($).concat(j2)));
            }
            return Error.stackTraceLimit = l3, r5.generatedMessage = !n4, Object.defineProperty(a2(r5), "name", { value: "AssertionError [ERR_ASSERTION]", enumerable: false, writable: true, configurable: true }), r5.code = "ERR_ASSERTION", r5.actual = u3, r5.expected = c3, r5.operator = o3, Error.captureStackTrace && Error.captureStackTrace(a2(r5), i3), r5.stack, r5.name = "AssertionError", s2(r5);
          }
          __name(e4, "e");
          var r4, n3;
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), e5 && l2(t5, e5);
          }(e4, t4), r4 = e4, n3 = [{ key: "toString", value: function() {
            return "".concat(this.name, " [").concat(this.code, "]: ").concat(this.message);
          } }, { key: h2.custom, value: function(t5, e5) {
            return h2(this, function(t6) {
              for (var e6 = 1; e6 < arguments.length; e6++) {
                var r5 = null != arguments[e6] ? arguments[e6] : {}, n4 = Object.keys(r5);
                "function" == typeof Object.getOwnPropertySymbols && (n4 = n4.concat(Object.getOwnPropertySymbols(r5).filter(function(t7) {
                  return Object.getOwnPropertyDescriptor(r5, t7).enumerable;
                }))), n4.forEach(function(e7) {
                  o2(t6, e7, r5[e7]);
                });
              }
              return t6;
            }({}, e5, { customInspect: false, depth: 0 }));
          } }], n3 && i2(r4.prototype, n3), e4;
        }(u2(Error));
        t3.exports = S2;
      }, 9122: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(3900), o2 = r3(988), i2 = r3(8863), s2 = r3(5804);
        t3.exports = function(t4) {
          var e4 = i2(arguments), r4 = t4.length - (arguments.length - 1);
          return n2(e4, 1 + (r4 > 0 ? r4 : 0), true);
        }, o2 ? o2(t3.exports, "apply", { value: s2 }) : t3.exports.apply = s2;
      }, 9123: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          var r4 = Object.keys(t4);
          if (Object.getOwnPropertySymbols) {
            var n3 = Object.getOwnPropertySymbols(t4);
            e4 && (n3 = n3.filter(function(e5) {
              return Object.getOwnPropertyDescriptor(t4, e5).enumerable;
            })), r4.push.apply(r4, n3);
          }
          return r4;
        }
        __name(o2, "o");
        function i2(t4) {
          for (var e4 = 1; e4 < arguments.length; e4++) {
            var r4 = null != arguments[e4] ? arguments[e4] : {};
            e4 % 2 ? o2(Object(r4), true).forEach(function(e5) {
              s2(t4, e5, r4[e5]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(r4)) : o2(Object(r4)).forEach(function(e5) {
              Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(r4, e5));
            });
          }
          return t4;
        }
        __name(i2, "i");
        function s2(t4, e4, r4) {
          return (e4 = function(t5) {
            var e5 = function(t6) {
              if ("object" != n2(t6) || !t6)
                return t6;
              var e6 = t6[Symbol.toPrimitive];
              if (void 0 !== e6) {
                var r5 = e6.call(t6, "string");
                if ("object" != n2(r5))
                  return r5;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return String(t6);
            }(t5);
            return "symbol" == n2(e5) ? e5 : e5 + "";
          }(e4)) in t4 ? Object.defineProperty(t4, e4, { value: r4, enumerable: true, configurable: true, writable: true }) : t4[e4] = r4, t4;
        }
        __name(s2, "s");
        var a2, u2, c2 = r3(3609), l2 = r3(8235), f2 = r3(3550).EventEmitter, p2 = r3(7760), h2 = r3(4561), y2 = r3(6426), d2 = r3(7982), b2 = r3(4327), m2 = r3(1469), v2 = r3(1313), g2 = r3(3216), _ = r3(5110), O2 = r3(8768), w2 = r3(7910), S2 = r3(5537), $ = r3(7930).arrayAtomicsSymbol, j2 = r3(7930).arrayPathSymbol, P2 = r3(7930).documentArrayParent;
        function A2(t4, e4, r4, n3, o3) {
          if (e4.options && e4.options.timeseries)
            throw new S2(t4, "timeseries");
          var s3 = A2.defaultOptions && A2.defaultOptions._id;
          null != s3 && ((n3 = n3 || {})._id = s3), null != n3 && null != n3._id ? e4 = v2(e4, n3) : null != r4 && null != r4._id && (e4 = v2(e4, r4));
          var a3 = E2(e4, r4);
          a3.prototype.$basePath = t4, p2.call(this, t4, a3, r4, null, o3), this.schema = e4, this.schemaOptions = n3 || {}, this.$isMongooseDocumentArray = true, this.Constructor = a3, a3.base = e4.base;
          var u3 = this.defaultValue;
          "defaultValue" in this && null == u3 || this.default(function() {
            var t5 = u3.call(this);
            return null == t5 || Array.isArray(t5) || (t5 = [t5]), t5;
          }), this.$embeddedSchemaType = new l2(t4 + ".$", i2(i2({}, n3 || {}), {}, { $parentSchemaType: this }), n3, o3), this.$embeddedSchemaType.caster = this.Constructor, this.$embeddedSchemaType.schema = this.schema;
        }
        __name(A2, "A");
        function E2(t4, e4, n3) {
          function o3() {
            u2.apply(this, arguments), null != this.__parentArray && null != this.__parentArray.getArrayParent() && this.$session(this.__parentArray.getArrayParent().$session());
          }
          __name(o3, "o");
          u2 || (u2 = r3(6547)), t4._preCompile();
          var i3 = null != n3 ? n3.prototype : u2.prototype;
          for (var s3 in o3.prototype = Object.create(i3), o3.prototype.$__setSchema(t4), o3.schema = t4, o3.prototype.constructor = o3, o3.$isArraySubdocument = true, o3.events = new f2(), o3.base = t4.base, t4.methods)
            o3.prototype[s3] = t4.methods[s3];
          for (var a3 in t4.statics)
            o3[a3] = t4.statics[a3];
          for (var c3 in f2.prototype)
            o3[c3] = f2.prototype[c3];
          return o3.options = e4, o3;
        }
        __name(E2, "E");
        A2.schemaName = "DocumentArray", A2.options = { castNonArrays: true }, A2.prototype = Object.create(p2.prototype), A2.prototype.constructor = A2, A2.prototype.OptionsConstructor = h2, Object.defineProperty(A2.prototype, "$conditionalHandlers", { enumerable: false, value: i2({}, p2.prototype.$conditionalHandlers) }), A2.prototype.discriminator = function(t4, e4, r4) {
          var n3;
          "function" == typeof t4 && (t4 = O2.getFunctionName(t4)), r4 = r4 || {};
          var o3 = O2.isPOJO(r4) ? r4.value : r4, i3 = "boolean" != typeof r4.clone || r4.clone;
          e4.instanceOfSchema && i3 && (e4 = e4.clone());
          var s3 = E2(e4 = m2(this.casterConstructor, t4, e4, o3, null, null, null === (n3 = r4) || void 0 === n3 ? void 0 : n3.overwriteExisting), null, this.casterConstructor);
          s3.baseCasterConstructor = this.casterConstructor;
          try {
            Object.defineProperty(s3, "name", { value: t4 });
          } catch (t5) {
          }
          return this.casterConstructor.discriminators[t4] = s3, this.casterConstructor.discriminators[t4];
        }, A2.prototype.doValidate = function(t4, e4, n3, o3) {
          a2 || (a2 = r3(4878));
          var i3 = this;
          try {
            y2.prototype.doValidate.call(this, t4, function(r4) {
              if (r4)
                return e4(r4);
              var s3, c3 = t4 && t4.length;
              if (!c3)
                return e4();
              if (o3 && o3.updateValidator)
                return e4();
              function l3(t5) {
                null != t5 && (s3 = t5), --c3 || e4(s3);
              }
              __name(l3, "l");
              O2.isMongooseDocumentArray(t4) || (t4 = new a2(t4, i3.path, n3));
              for (var f3 = 0, p3 = c3; f3 < p3; ++f3) {
                var h3 = t4[f3];
                if (null != h3) {
                  if (!(h3 instanceof u2)) {
                    var y3 = w2(i3.casterConstructor, t4[f3]);
                    h3 = t4[f3] = new y3(h3, t4, void 0, void 0, f3);
                  }
                  null == o3 || !o3.validateModifiedOnly || h3.$isModified() ? h3.$__validate(null, o3, l3) : --c3 || e4(s3);
                } else
                  --c3 || e4(s3);
              }
            }, n3);
          } catch (t5) {
            return e4(t5);
          }
        }, A2.prototype.doValidateSync = function(t4, e4, r4) {
          var n3 = y2.prototype.doValidateSync.call(this, t4, e4);
          if (null != n3)
            return n3;
          var o3 = t4 && t4.length, i3 = null;
          if (o3) {
            for (var s3 = 0, a3 = o3; s3 < a3; ++s3) {
              var c3 = t4[s3];
              if (c3) {
                if (!(c3 instanceof u2)) {
                  var l3 = w2(this.casterConstructor, t4[s3]);
                  c3 = t4[s3] = new l3(c3, t4, void 0, void 0, s3);
                }
                if (null == r4 || !r4.validateModifiedOnly || c3.$isModified()) {
                  var f3 = c3.validateSync(r4);
                  f3 && null == i3 && (i3 = f3);
                }
              }
            }
            return i3;
          }
        }, A2.prototype.getDefault = function(t4, e4, n3) {
          var o3 = "function" == typeof this.defaultValue ? this.defaultValue.call(t4) : this.defaultValue;
          if (null == o3)
            return o3;
          if (n3 && n3.skipCast)
            return o3;
          a2 || (a2 = r3(4878)), Array.isArray(o3) || (o3 = [o3]), o3 = new a2(o3, this.path, t4);
          for (var i3 = 0; i3 < o3.length; ++i3) {
            var s3 = new (w2(this.casterConstructor, o3[i3]))({}, o3, void 0, void 0, i3);
            s3.$init(o3[i3]), s3.isNew = true, Object.assign(s3.$__.activePaths.default, s3.$__.activePaths.init), s3.$__.activePaths.init = {}, o3[i3] = s3;
          }
          return o3;
        };
        var x2 = Object.freeze({ transform: false, virtuals: false }), T2 = Object.freeze({ skipId: false, willInit: true });
        function k2(t4, e4, r4) {
          if (r4 && e4) {
            for (var n3, o3, i3, s3 = t4.path + ".", a3 = Object.keys(e4), u3 = a3.length, c3 = {}; u3--; )
              if ((o3 = a3[u3]).startsWith(s3)) {
                if ("$" === (i3 = o3.substring(s3.length)))
                  continue;
                i3.startsWith("$.") && (i3 = i3.substring(2)), n3 || (n3 = true), c3[i3] = e4[o3];
              }
            return n3 && c3 || void 0;
          }
        }
        __name(k2, "k");
        A2.prototype.cast = function(t4, e4, n3, o3, i3) {
          if (a2 || (a2 = r3(4878)), null != t4 && null != t4[j2] && t4 === o3)
            return t4;
          var s3, l3, f3 = (i3 = i3 || {}).path || this.path;
          if (!Array.isArray(t4)) {
            if (!n3 && !A2.options.castNonArrays)
              throw new c2("DocumentArray", t4, this.path, null, this);
            return e4 && n3 && e4.markModified(f3), this.cast([t4], e4, n3, o3, i3);
          }
          i3.skipDocumentArrayCast && !O2.isMongooseDocumentArray(t4) || (t4 = new a2(t4, f3, e4, this)), null != o3 && (t4[$] = o3[$] || {}), null != i3.arrayPathIndex && (t4[j2] = f3 + "." + i3.arrayPathIndex);
          for (var p3 = O2.isMongooseDocumentArray(t4) ? t4.__array : t4, h3 = p3.length, y3 = 0; y3 < h3; ++y3)
            if (p3[y3]) {
              var d3 = w2(this.casterConstructor, p3[y3]), b3 = g2(p3[y3], true);
              if (p3[y3] !== b3 && (p3[y3] = b3), p3[y3] instanceof u2) {
                if (p3[y3][P2] !== e4)
                  if (n3) {
                    var m3 = new d3(null, t4, T2, s3, y3);
                    p3[y3] = m3.$init(p3[y3]);
                  } else {
                    var v3 = new d3(p3[y3], t4, void 0, void 0, y3);
                    p3[y3] = v3;
                  }
                null == p3[y3].__index && p3[y3].$setIndex(y3);
              } else if (null != p3[y3])
                if (n3)
                  e4 ? s3 || (s3 = k2(this, e4.$__.selected, n3)) : s3 = true, l3 = new d3(null, t4, T2, s3, y3), p3[y3] = l3.$init(p3[y3], i3);
                else if (o3 && "function" == typeof o3.id && (l3 = o3.id(p3[y3]._id)), o3 && l3 && O2.deepEqual(l3.toObject(x2), p3[y3]))
                  l3.set(p3[y3]), p3[y3] = l3;
                else
                  try {
                    l3 = new d3(p3[y3], t4, void 0, void 0, y3), p3[y3] = l3;
                  } catch (e5) {
                    throw new c2("embedded", p3[y3], t4[j2], e5, this);
                  }
            }
          return t4;
        }, A2.prototype.clone = function() {
          var t4 = Object.assign({}, this.options), e4 = new this.constructor(this.path, this.schema, t4, this.schemaOptions, this.parentSchema);
          return e4.validators = this.validators.slice(), void 0 !== this.requiredValidator && (e4.requiredValidator = this.requiredValidator), e4.Constructor.discriminators = Object.assign({}, this.Constructor.discriminators), e4._appliedDiscriminators = this._appliedDiscriminators, e4;
        }, A2.prototype.applyGetters = function(t4, e4) {
          return y2.prototype.applyGetters.call(this, t4, e4);
        }, A2.defaultOptions = {}, A2.set = y2.set, A2.setters = [], A2.get = y2.get, A2.prototype.$conditionalHandlers.$elemMatch = function(t4, e4) {
          for (var r4, n3 = Object.keys(t4), o3 = n3.length, i3 = 0; i3 < o3; ++i3) {
            var s3 = n3[i3], a3 = t4[s3];
            _(s3) && null != a3 && (t4[s3] = this.castForQuery(s3, a3, e4));
          }
          var u3 = this && this.casterConstructor && this.casterConstructor.schema && this.casterConstructor.schema.options && this.casterConstructor.schema.options.discriminatorKey, c3 = this && this.casterConstructor && this.casterConstructor.schema && this.casterConstructor.schema.discriminators || {};
          if (null != u3 && null != t4[u3] && null != c3[t4[u3]])
            return d2(c3[t4[u3]], t4, null, this && this.$$context);
          var l3 = null !== (r4 = this.casterConstructor.schema) && void 0 !== r4 ? r4 : e4.schema;
          return d2(l3, t4, null, this && this.$$context);
        }, A2.prototype.toJSONSchema = function(t4) {
          var e4 = b2("object", "object", null == t4 ? void 0 : t4.useBsonType, false), r4 = this.options.required && "function" != typeof this.options.required;
          return i2(i2({}, b2("array", "array", null == t4 ? void 0 : t4.useBsonType, r4)), {}, { items: i2(i2({}, e4), this.schema.toJSONSchema(t4)) });
        }, t3.exports = A2;
      }, 9166: (t3, e3, r3) => {
        "use strict";
        function n2(t4, e4) {
          var r4 = "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
          if (!r4) {
            if (Array.isArray(t4) || (r4 = function(t5, e5) {
              if (t5) {
                if ("string" == typeof t5)
                  return o2(t5, e5);
                var r5 = {}.toString.call(t5).slice(8, -1);
                return "Object" === r5 && t5.constructor && (r5 = t5.constructor.name), "Map" === r5 || "Set" === r5 ? Array.from(t5) : "Arguments" === r5 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r5) ? o2(t5, e5) : void 0;
              }
            }(t4)) || e4 && t4 && "number" == typeof t4.length) {
              r4 && (t4 = r4);
              var n3 = 0, i3 = /* @__PURE__ */ __name(function() {
              }, "i");
              return { s: i3, n: function() {
                return n3 >= t4.length ? { done: true } : { done: false, value: t4[n3++] };
              }, e: function(t5) {
                throw t5;
              }, f: i3 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var s3, a3 = true, u3 = false;
          return { s: function() {
            r4 = r4.call(t4);
          }, n: function() {
            var t5 = r4.next();
            return a3 = t5.done, t5;
          }, e: function(t5) {
            u3 = true, s3 = t5;
          }, f: function() {
            try {
              a3 || null == r4.return || r4.return();
            } finally {
              if (u3)
                throw s3;
            }
          } };
        }
        __name(n2, "n");
        function o2(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n3 = Array(e4); r4 < e4; r4++)
            n3[r4] = t4[r4];
          return n3;
        }
        __name(o2, "o");
        var i2 = r3(8759), s2 = r3(3696);
        function a2(t4, e4, r4) {
          if (null != e4) {
            var o3 = Object.keys(e4).some(function(t5) {
              return "$" === t5[0];
            });
            if (o3) {
              if (e4.$push && v2(e4.$push), e4.$addToSet && v2(e4.$addToSet), null != e4.$set)
                for (var i3 = 0, c2 = Object.keys(e4.$set); i3 < c2.length; i3++) {
                  var l2 = c2[i3];
                  u2(r4, l2, e4.$set, t4);
                }
              if (null != e4.$setOnInsert)
                for (var f2 = 0, p2 = Object.keys(e4.$setOnInsert); f2 < p2.length; f2++) {
                  var h2 = p2[f2];
                  u2(r4, h2, e4.$setOnInsert, t4);
                }
            }
            var y2, d2 = Object.keys(e4).filter(function(t5) {
              return "$" !== t5[0];
            }), b2 = n2(d2);
            try {
              for (b2.s(); !(y2 = b2.n()).done; ) {
                var m2 = y2.value;
                u2(r4, m2, e4, t4);
              }
            } catch (t5) {
              b2.e(t5);
            } finally {
              b2.f();
            }
          }
          function v2(e5) {
            for (var n3 = function() {
              var n4 = i4[o4], u3 = r4.path(n4.replace(/\.\$\./i, ".").replace(/.\$$/, ""));
              if (e5[n4] && u3 && u3.$isMongooseDocumentArray && u3.schema.options.timestamps) {
                var c3 = u3.schema.options.timestamps, l3 = s2(c3, "createdAt"), f3 = s2(c3, "updatedAt");
                e5[n4].$each ? e5[n4].$each.forEach(function(e6) {
                  null != f3 && (e6[f3] = t4), null != l3 && (e6[l3] = t4), a2(t4, e6, u3.schema);
                }) : (null != f3 && (e5[n4][f3] = t4), null != l3 && (e5[n4][l3] = t4), a2(t4, e5[n4], u3.schema));
              }
            }, o4 = 0, i4 = Object.keys(e5); o4 < i4.length; o4++)
              n3();
          }
          __name(v2, "v");
        }
        __name(a2, "a");
        function u2(t4, e4, r4, o3) {
          var u3 = i2(e4), c2 = t4.path(u3);
          if (c2) {
            for (var l2 = [], f2 = u3.split("."), p2 = f2.length - 1; p2 > 0; --p2) {
              var h2 = t4.path(f2.slice(0, p2).join("."));
              null != h2 && (h2.$isMongooseDocumentArray || h2.$isSingleNested) && l2.push({ parentPath: e4.split(".").slice(0, p2).join("."), parentSchemaType: h2 });
            }
            if (Array.isArray(r4[e4]) && c2.$isMongooseDocumentArray)
              !function(t5, e5, r5) {
                var n3 = e5.schema.options.timestamps, o4 = t5.length;
                if (n3)
                  for (var i3 = s2(n3, "createdAt"), u4 = s2(n3, "updatedAt"), c3 = 0; c3 < o4; ++c3)
                    null != u4 && (t5[c3][u4] = r5), null != i3 && (t5[c3][i3] = r5), a2(r5, t5[c3], e5.schema);
                else
                  for (var l3 = 0; l3 < o4; ++l3)
                    a2(r5, t5[l3], e5.schema);
              }(r4[e4], c2, o3);
            else if (r4[e4] && c2.$isSingleNested)
              !function(t5, e5, r5) {
                var n3 = e5.schema.options.timestamps;
                if (n3) {
                  var o4 = s2(n3, "createdAt"), i3 = s2(n3, "updatedAt");
                  null != i3 && (t5[i3] = r5), null != o4 && (t5[o4] = r5), a2(r5, t5, e5.schema);
                } else
                  a2(r5, t5, e5.schema);
              }(r4[e4], c2, o3);
            else if (l2.length > 0) {
              var y2, d2 = n2(l2);
              try {
                for (d2.s(); !(y2 = d2.n()).done; ) {
                  var b2 = y2.value, m2 = b2.parentPath, v2 = b2.parentSchemaType, g2 = v2.schema.options.timestamps, _ = s2(g2, "updatedAt");
                  if (g2 && null != _) {
                    if (v2.$isSingleNested)
                      r4[m2 + "." + _] = o3;
                    else if (v2.$isMongooseDocumentArray) {
                      var O2 = e4.substring(m2.length + 1);
                      if (/^\d+$/.test(O2)) {
                        r4[m2 + "." + O2][_] = o3;
                        continue;
                      }
                      var w2 = O2.indexOf(".");
                      r4[m2 + "." + (O2 = -1 !== w2 ? O2.substring(0, w2) : O2) + "." + _] = o3;
                    }
                  }
                }
              } catch (t5) {
                d2.e(t5);
              } finally {
                d2.f();
              }
            } else if (null != c2.schema && c2.schema != t4 && r4[e4]) {
              var S2 = c2.schema.options.timestamps, $ = s2(S2, "createdAt"), j2 = s2(S2, "updatedAt");
              if (!S2)
                return;
              null != j2 && (r4[e4][j2] = o3), null != $ && (r4[e4][$] = o3);
            }
          }
        }
        __name(u2, "u");
        t3.exports = a2;
      }, 9183: (t3) => {
        "use strict";
        t3.exports = function(t4) {
          return "function" == typeof t4 && t4.constructor && "AsyncFunction" === t4.constructor.name;
        };
      }, 9206: (t3) => {
        "use strict";
        t3.exports = EvalError;
      }, 9247: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(2481), o2 = r3(2273);
        t3.exports = function() {
          var t4 = n2();
          return o2(Object, { is: t4 }, { is: function() {
            return Object.is !== t4;
          } }), t4;
        };
      }, 9344: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2, i2 = r3(3071), s2 = r3(953)(), a2 = r3(5994), u2 = r3(1464);
        if (s2) {
          var c2 = i2("RegExp.prototype.exec"), l2 = {}, f2 = /* @__PURE__ */ __name(function() {
            throw l2;
          }, "f"), p2 = { toString: f2, valueOf: f2 };
          "symbol" === n2(Symbol.toPrimitive) && (p2[Symbol.toPrimitive] = f2), o2 = /* @__PURE__ */ __name(function(t4) {
            if (!t4 || "object" !== n2(t4))
              return false;
            var e4 = u2(t4, "lastIndex");
            if (!e4 || !a2(e4, "value"))
              return false;
            try {
              c2(t4, p2);
            } catch (t5) {
              return t5 === l2;
            }
          }, "o");
        } else {
          var h2 = i2("Object.prototype.toString");
          o2 = /* @__PURE__ */ __name(function(t4) {
            return !(!t4 || "object" !== n2(t4) && "function" != typeof t4) && "[object RegExp]" === h2(t4);
          }, "o");
        }
        t3.exports = o2;
      }, 9380: (t3, e3, r3) => {
        "use strict";
        function n2() {
          var t4, e4, r4 = "function" == typeof Symbol ? Symbol : {}, i3 = r4.iterator || "@@iterator", s3 = r4.toStringTag || "@@toStringTag";
          function a3(r5, n3, i4, s4) {
            var a4 = n3 && n3.prototype instanceof c3 ? n3 : c3, l4 = Object.create(a4.prototype);
            return o2(l4, "_invoke", function(r6, n4, o3) {
              var i5, s5, a5, c4 = 0, l5 = o3 || [], f4 = false, p4 = { p: 0, n: 0, v: t4, a: h3, f: h3.bind(t4, 4), d: function(e5, r7) {
                return i5 = e5, s5 = 0, a5 = t4, p4.n = r7, u3;
              } };
              function h3(r7, n5) {
                for (s5 = r7, a5 = n5, e4 = 0; !f4 && c4 && !o4 && e4 < l5.length; e4++) {
                  var o4, i6 = l5[e4], h4 = p4.p, y3 = i6[2];
                  r7 > 3 ? (o4 = y3 === n5) && (a5 = i6[(s5 = i6[4]) ? 5 : (s5 = 3, 3)], i6[4] = i6[5] = t4) : i6[0] <= h4 && ((o4 = r7 < 2 && h4 < i6[1]) ? (s5 = 0, p4.v = n5, p4.n = i6[1]) : h4 < y3 && (o4 = r7 < 3 || i6[0] > n5 || n5 > y3) && (i6[4] = r7, i6[5] = n5, p4.n = y3, s5 = 0));
                }
                if (o4 || r7 > 1)
                  return u3;
                throw f4 = true, n5;
              }
              __name(h3, "h");
              return function(o4, l6, y3) {
                if (c4 > 1)
                  throw TypeError("Generator is already running");
                for (f4 && 1 === l6 && h3(l6, y3), s5 = l6, a5 = y3; (e4 = s5 < 2 ? t4 : a5) || !f4; ) {
                  i5 || (s5 ? s5 < 3 ? (s5 > 1 && (p4.n = -1), h3(s5, a5)) : p4.n = a5 : p4.v = a5);
                  try {
                    if (c4 = 2, i5) {
                      if (s5 || (o4 = "next"), e4 = i5[o4]) {
                        if (!(e4 = e4.call(i5, a5)))
                          throw TypeError("iterator result is not an object");
                        if (!e4.done)
                          return e4;
                        a5 = e4.value, s5 < 2 && (s5 = 0);
                      } else
                        1 === s5 && (e4 = i5.return) && e4.call(i5), s5 < 2 && (a5 = TypeError("The iterator does not provide a '" + o4 + "' method"), s5 = 1);
                      i5 = t4;
                    } else if ((e4 = (f4 = p4.n < 0) ? a5 : r6.call(n4, p4)) !== u3)
                      break;
                  } catch (e5) {
                    i5 = t4, s5 = 1, a5 = e5;
                  } finally {
                    c4 = 1;
                  }
                }
                return { value: e4, done: f4 };
              };
            }(r5, i4, s4), true), l4;
          }
          __name(a3, "a");
          var u3 = {};
          function c3() {
          }
          __name(c3, "c");
          function l3() {
          }
          __name(l3, "l");
          function f3() {
          }
          __name(f3, "f");
          e4 = Object.getPrototypeOf;
          var p3 = [][i3] ? e4(e4([][i3]())) : (o2(e4 = {}, i3, function() {
            return this;
          }), e4), h2 = f3.prototype = c3.prototype = Object.create(p3);
          function y2(t5) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t5, f3) : (t5.__proto__ = f3, o2(t5, s3, "GeneratorFunction")), t5.prototype = Object.create(h2), t5;
          }
          __name(y2, "y");
          return l3.prototype = f3, o2(h2, "constructor", f3), o2(f3, "constructor", l3), l3.displayName = "GeneratorFunction", o2(f3, s3, "GeneratorFunction"), o2(h2), o2(h2, s3, "Generator"), o2(h2, i3, function() {
            return this;
          }), o2(h2, "toString", function() {
            return "[object Generator]";
          }), (n2 = /* @__PURE__ */ __name(function() {
            return { w: a3, m: y2 };
          }, "n"))();
        }
        __name(n2, "n");
        function o2(t4, e4, r4, n3) {
          var i3 = Object.defineProperty;
          try {
            i3({}, "", {});
          } catch (t5) {
            i3 = 0;
          }
          o2 = /* @__PURE__ */ __name(function(t5, e5, r5, n4) {
            function s3(e6, r6) {
              o2(t5, e6, function(t6) {
                return this._invoke(e6, r6, t6);
              });
            }
            __name(s3, "s");
            e5 ? i3 ? i3(t5, e5, { value: r5, enumerable: !n4, configurable: !n4, writable: !n4 }) : t5[e5] = r5 : (s3("next", 0), s3("throw", 1), s3("return", 2));
          }, "o"), o2(t4, e4, r4, n3);
        }
        __name(o2, "o");
        function i2(t4, e4, r4, n3, o3, i3, s3) {
          try {
            var a3 = t4[i3](s3), u3 = a3.value;
          } catch (t5) {
            return void r4(t5);
          }
          a3.done ? e4(u3) : Promise.resolve(u3).then(n3, o3);
        }
        __name(i2, "i");
        function s2(t4) {
          return s2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, s2(t4);
        }
        __name(s2, "s");
        var a2 = r3(2400), u2 = r3(2746), c2 = r3(3303)._, l2 = r3(7352), f2 = r3(8768);
        function p2(t4, e4, r4, n3, o3) {
          if ("object" === s2(n3) && null != n3 && null == o3 && (o3 = n3, n3 = void 0), null != r4) {
            var i3 = { isNew: r4.isNew };
            "defaults" in r4.$__ && (i3.defaults = r4.$__.defaults), o3 = Object.assign(i3, o3);
          }
          null != o3 && null != o3.path && (this.$basePath = o3.path), null != o3 && null != o3.pathRelativeToParent && (this.$pathRelativeToParent = o3.pathRelativeToParent);
          var u3 = o3;
          null != o3 && null != o3.path && delete (u3 = Object.assign({}, o3)).path, a2.call(this, t4, e4, n3, u3), delete this.$__.priorDoc;
        }
        __name(p2, "p");
        t3.exports = p2, p2.prototype = Object.create(a2.prototype), Object.defineProperty(p2.prototype, "$isSubdocument", { configurable: false, writable: false, value: true }), Object.defineProperty(p2.prototype, "$isSingleNested", { configurable: false, writable: false, value: true }), p2.prototype.toBSON = function() {
          return this.toObject(c2);
        }, p2.prototype.save = function() {
          var t4, e4 = (t4 = n2().m(/* @__PURE__ */ __name(function t5(e5) {
            var r4 = this;
            return n2().w(function(t6) {
              for (; ; )
                if (0 === t6.n)
                  return (e5 = e5 || {}).suppressWarning || f2.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."), t6.a(2, new Promise(function(t7, e6) {
                    r4.$__save(function(n3) {
                      if (null != n3)
                        return e6(n3);
                      t7(r4);
                    });
                  }));
            }, t5);
          }, "t")), function() {
            var e5 = this, r4 = arguments;
            return new Promise(function(n3, o3) {
              var s3 = t4.apply(e5, r4);
              function a3(t5) {
                i2(s3, n3, o3, a3, u3, "next", t5);
              }
              __name(a3, "a");
              function u3(t5) {
                i2(s3, n3, o3, a3, u3, "throw", t5);
              }
              __name(u3, "u");
              a3(void 0);
            });
          });
          return function(t5) {
            return e4.apply(this, arguments);
          };
        }(), p2.prototype.$__fullPath = function(t4) {
          return this.$__.fullPath || this.ownerDocument(), t4 ? this.$__.fullPath + "." + t4 : this.$__.fullPath;
        }, p2.prototype.$__pathRelativeToParent = function(t4) {
          return null != this.$pathRelativeToParent ? null == t4 ? this.$pathRelativeToParent : this.$pathRelativeToParent + "." + t4 : null == t4 ? this.$basePath : this.$basePath ? [this.$basePath, t4].join(".") : t4;
        }, p2.prototype.$__save = function(t4) {
          var e4 = this;
          return u2(function() {
            return t4(null, e4);
          });
        }, p2.prototype.$isValid = function(t4) {
          var e4 = this.$parent(), r4 = this.$__pathRelativeToParent(t4);
          return null != e4 && null != r4 ? e4.$isValid(r4) : a2.prototype.$isValid.call(this, t4);
        }, p2.prototype.markModified = function(t4) {
          a2.prototype.markModified.call(this, t4);
          var e4 = this.$parent();
          if (null != e4) {
            var r4 = this.$__pathRelativeToParent(t4);
            if (null != r4) {
              var n3 = this.$__pathRelativeToParent().replace(/\.$/, "");
              e4.isDirectModified(n3) || this.isNew || this.$__parent.markModified(r4, this);
            }
          }
        }, p2.prototype.isModified = function(t4, e4, r4) {
          var n3 = this, o3 = this.$parent();
          return null != o3 ? (Array.isArray(t4) || "string" == typeof t4 ? t4 = (t4 = Array.isArray(t4) ? t4 : t4.split(" ")).map(function(t5) {
            return n3.$__pathRelativeToParent(t5);
          }).filter(function(t5) {
            return null != t5;
          }) : t4 || (t4 = this.$__pathRelativeToParent()), o3.$isModified(t4, e4, r4)) : a2.prototype.isModified.call(this, t4, e4, r4);
        }, p2.prototype.$markValid = function(t4) {
          a2.prototype.$markValid.call(this, t4);
          var e4 = this.$parent(), r4 = this.$__pathRelativeToParent(t4);
          null != e4 && null != r4 && e4.$markValid(r4);
        }, p2.prototype.invalidate = function(t4, e4, r4) {
          a2.prototype.invalidate.call(this, t4, e4, r4);
          var n3 = this.$parent(), o3 = this.$__pathRelativeToParent(t4);
          if (null != n3 && null != o3)
            n3.invalidate(o3, e4, r4);
          else if ("cast" === e4.kind || "CastError" === e4.name || null == o3)
            throw e4;
          return this.ownerDocument().$__.validationError;
        }, p2.prototype.$ignore = function(t4) {
          a2.prototype.$ignore.call(this, t4);
          var e4 = this.$parent(), r4 = this.$__pathRelativeToParent(t4);
          null != e4 && null != r4 && e4.$ignore(r4);
        }, p2.prototype.ownerDocument = function() {
          if (this.$__.ownerDocument)
            return this.$__.ownerDocument;
          for (var t4 = this, e4 = [], r4 = /* @__PURE__ */ new Set([t4]); "function" == typeof t4.$__pathRelativeToParent; ) {
            e4.unshift(t4.$__pathRelativeToParent(void 0, true));
            var n3 = t4.$parent();
            if (null == n3)
              break;
            if (t4 = n3, r4.has(t4))
              throw new Error("Infinite subdocument loop: subdoc with _id " + t4._id + " is a parent of itself");
            r4.add(t4);
          }
          return this.$__.fullPath = e4.join("."), this.$__.ownerDocument = t4, this.$__.ownerDocument;
        }, p2.prototype.$__fullPathWithIndexes = function() {
          for (var t4 = this, e4 = [], r4 = /* @__PURE__ */ new Set([t4]); "function" == typeof t4.$__pathRelativeToParent; ) {
            e4.unshift(t4.$__pathRelativeToParent(void 0, false));
            var n3 = t4.$parent();
            if (null == n3)
              break;
            if (t4 = n3, r4.has(t4))
              throw new Error("Infinite subdocument loop: subdoc with _id " + t4._id + " is a parent of itself");
            r4.add(t4);
          }
          return e4.join(".");
        }, p2.prototype.parent = function() {
          return this.$__parent;
        }, p2.prototype.$parent = p2.prototype.parent, p2.prototype.$__deleteOne = function(t4) {
          if (null != t4)
            return t4(null, this);
        }, p2.prototype.$__removeFromParent = function() {
          this.$__parent.set(this.$basePath, null);
        }, p2.prototype.deleteOne = function(t4, e4) {
          if ("function" == typeof t4 && (e4 = t4, t4 = null), function(t5) {
            var e5 = t5.ownerDocument();
            function r5() {
              e5.$removeListener("save", r5), e5.$removeListener("deleteOne", r5), t5.emit("deleteOne", t5), t5.constructor.emit("deleteOne", t5);
            }
            __name(r5, "r");
            e5.$on("save", r5), e5.$on("deleteOne", r5);
          }(this), !t4 || !t4.noop) {
            this.$__removeFromParent();
            var r4 = this.ownerDocument();
            r4.$__.removedSubdocs = r4.$__.removedSubdocs || [], r4.$__.removedSubdocs.push(this);
          }
          return this.$__deleteOne(e4);
        }, p2.prototype.populate = function() {
          throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`');
        }, p2.prototype.inspect = function() {
          return this.toObject();
        }, l2.inspect.custom && (p2.prototype[l2.inspect.custom] = p2.prototype.inspect), p2.prototype.$toObject = function(t4, e4) {
          var r4, n3, o3, i3, s3 = a2.prototype.$toObject.call(this, t4, e4);
          if (0 !== Object.keys(s3).length || null == (null == t4 ? void 0 : t4._calledWithOptions) || !(null !== (r4 = null !== (n3 = null === (o3 = t4._calledWithOptions) || void 0 === o3 ? void 0 : o3.minimize) && void 0 !== n3 ? n3 : null == this || null === (i3 = this.$__schemaTypeOptions) || void 0 === i3 ? void 0 : i3.minimize) && void 0 !== r4 ? r4 : t4.minimize) || this.constructor.$__required)
            return s3;
        };
      }, 9460: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp, o2 = r3(3609);
        function i2(t4, e4) {
          var r4 = Number(e4);
          if (isNaN(r4))
            throw new o2("number", e4, t4);
          return r4;
        }
        __name(i2, "i");
        t3.exports = function(t4) {
          var e4 = this;
          return Array.isArray(t4) ? t4.map(function(t5) {
            return i2(e4.path, t5);
          }) : n2.isBuffer(t4) ? t4 : i2(e4.path, t4);
        };
      }, 9471: (t3) => {
        "use strict";
        t3.exports = Math.abs;
      }, 9528: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (o2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "o"))();
        }
        __name(o2, "o");
        function i2(t4) {
          return i2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, i2(t4);
        }
        __name(i2, "i");
        function s2(t4, e4) {
          return s2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, s2(t4, e4);
        }
        __name(s2, "s");
        var a2 = function(t4) {
          function e4() {
            return function(t5, e5) {
              if (!(t5 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), function(t5, e5, r5) {
              return e5 = i2(e5), function(t6, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t7) {
                  if (void 0 === t7)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t7;
                }(t6);
              }(t5, o2() ? Reflect.construct(e5, r5 || [], i2(t5).constructor) : e5.apply(t5, r5));
            }(this, e4, arguments);
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && s2(t5, e5);
          }(e4, t4), r4 = e4, Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4;
        }(r3(8879)), u2 = r3(5761);
        Object.defineProperty(a2.prototype, "enum", u2), Object.defineProperty(a2.prototype, "match", u2), Object.defineProperty(a2.prototype, "lowercase", u2), Object.defineProperty(a2.prototype, "trim", u2), Object.defineProperty(a2.prototype, "uppercase", u2), Object.defineProperty(a2.prototype, "minLength", u2), Object.defineProperty(a2.prototype, "minlength", u2), Object.defineProperty(a2.prototype, "maxLength", u2), Object.defineProperty(a2.prototype, "maxlength", u2), Object.defineProperty(a2.prototype, "populate", u2), t3.exports = a2;
      }, 9538: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        function o2(t4, e4) {
          for (var r4 = 0; r4 < e4.length; r4++) {
            var n3 = e4[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(t4, i2(n3.key), n3);
          }
        }
        __name(o2, "o");
        function i2(t4) {
          var e4 = function(t5) {
            if ("object" != n2(t5) || !t5)
              return t5;
            var e5 = t5[Symbol.toPrimitive];
            if (void 0 !== e5) {
              var r4 = e5.call(t5, "string");
              if ("object" != n2(r4))
                return r4;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(t5);
          }(t4);
          return "symbol" == n2(e4) ? e4 : e4 + "";
        }
        __name(i2, "i");
        function s2() {
          try {
            var t4 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            }));
          } catch (t5) {
          }
          return (s2 = /* @__PURE__ */ __name(function() {
            return !!t4;
          }, "s"))();
        }
        __name(s2, "s");
        function a2(t4) {
          return a2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t5) {
            return t5.__proto__ || Object.getPrototypeOf(t5);
          }, a2(t4);
        }
        __name(a2, "a");
        function u2(t4, e4) {
          return u2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t5, e5) {
            return t5.__proto__ = e5, t5;
          }, u2(t4, e4);
        }
        __name(u2, "u");
        var c2 = r3(8213), l2 = function(t4) {
          function e4(t5, r5) {
            var o3;
            !function(t6, e5) {
              if (!(t6 instanceof e5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4);
            var i4 = t5.message;
            i4 || (i4 = c2.messages.general.default);
            var u3 = f2(i4, t5, r5);
            return o3 = function(t6, e5, r6) {
              return e5 = a2(e5), function(t7, e6) {
                if (e6 && ("object" == n2(e6) || "function" == typeof e6))
                  return e6;
                if (void 0 !== e6)
                  throw new TypeError("Derived constructors may only return object or undefined");
                return function(t8) {
                  if (void 0 === t8)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                  return t8;
                }(t7);
              }(t6, s2() ? Reflect.construct(e5, r6 || [], a2(t6).constructor) : e5.apply(t6, r6));
            }(this, e4, [u3]), t5 = Object.assign({}, t5, { message: u3 }), o3.properties = t5, o3.kind = t5.type, o3.path = t5.path, o3.value = t5.value, o3.reason = t5.reason, o3;
          }
          __name(e4, "e");
          return function(t5, e5) {
            if ("function" != typeof e5 && null !== e5)
              throw new TypeError("Super expression must either be null or a function");
            t5.prototype = Object.create(e5 && e5.prototype, { constructor: { value: t5, writable: true, configurable: true } }), Object.defineProperty(t5, "prototype", { writable: false }), e5 && u2(t5, e5);
          }(e4, t4), r4 = e4, (i3 = [{ key: "toString", value: function() {
            return this.message;
          } }, { key: "toJSON", value: function() {
            return Object.assign({ name: this.name, message: this.message }, this);
          } }]) && o2(r4.prototype, i3), Object.defineProperty(r4, "prototype", { writable: false }), r4;
          var r4, i3;
        }(c2);
        function f2(t4, e4, r4) {
          if ("function" == typeof t4)
            return t4(e4, r4);
          for (var n3 = 0, o3 = Object.keys(e4); n3 < o3.length; n3++) {
            var i3 = o3[n3];
            "message" !== i3 && (t4 = t4.replace("{" + i3.toUpperCase() + "}", e4[i3]));
          }
          return t4;
        }
        __name(f2, "f");
        Object.defineProperty(l2.prototype, "name", { value: "ValidatorError" }), Object.defineProperty(l2.prototype, "properties", { enumerable: false, writable: true, value: null }), l2.prototype.formatMessage = f2, t3.exports = l2;
      }, 9539: (t3) => {
        "use strict";
        function e3(t4, e4) {
          return function(t5) {
            if (Array.isArray(t5))
              return t5;
          }(t4) || function(t5, e5) {
            var r4 = null == t5 ? null : "undefined" != typeof Symbol && t5[Symbol.iterator] || t5["@@iterator"];
            if (null != r4) {
              var n2, o2, i2, s2, a2 = [], u2 = true, c2 = false;
              try {
                if (i2 = (r4 = r4.call(t5)).next, 0 === e5) {
                  if (Object(r4) !== r4)
                    return;
                  u2 = false;
                } else
                  for (; !(u2 = (n2 = i2.call(r4)).done) && (a2.push(n2.value), a2.length !== e5); u2 = true)
                    ;
              } catch (t6) {
                c2 = true, o2 = t6;
              } finally {
                try {
                  if (!u2 && null != r4.return && (s2 = r4.return(), Object(s2) !== s2))
                    return;
                } finally {
                  if (c2)
                    throw o2;
                }
              }
              return a2;
            }
          }(t4, e4) || function(t5, e5) {
            if (t5) {
              if ("string" == typeof t5)
                return r3(t5, e5);
              var n2 = {}.toString.call(t5).slice(8, -1);
              return "Object" === n2 && t5.constructor && (n2 = t5.constructor.name), "Map" === n2 || "Set" === n2 ? Array.from(t5) : "Arguments" === n2 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2) ? r3(t5, e5) : void 0;
            }
          }(t4, e4) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
        __name(e3, "e");
        function r3(t4, e4) {
          (null == e4 || e4 > t4.length) && (e4 = t4.length);
          for (var r4 = 0, n2 = Array(e4); r4 < e4; r4++)
            n2[r4] = t4[r4];
          return n2;
        }
        __name(r3, "r");
        t3.exports = function(t4, r4, n2) {
          for (var o2 = {}, i2 = 0, s2 = Object.keys(r4.tree); i2 < s2.length; i2++) {
            var a2 = s2[i2];
            n2 && (t4.paths[a2] || t4.nested[a2] || t4.singleNestedPaths[a2]) || (o2[a2] = r4.tree[a2]);
          }
          t4.options._isMerging = true, t4.add(o2, null), delete t4.options._isMerging, t4.callQueue = t4.callQueue.concat(r4.callQueue), t4.method(r4.methods), t4.static(r4.statics);
          for (var u2 = 0, c2 = Object.entries(r4._userProvidedOptions); u2 < c2.length; u2++) {
            var l2 = e3(c2[u2], 2), f2 = l2[0], p2 = l2[1];
            f2 in t4._userProvidedOptions || t4.set(f2, p2);
          }
          for (var h2 in r4.query)
            t4.query[h2] = r4.query[h2];
          for (var y2 in r4.virtuals)
            t4.virtuals[y2] = r4.virtuals[y2].clone();
          t4._indexes = t4._indexes.concat(r4._indexes || []), t4.s.hooks.merge(r4.s.hooks, false);
        };
      }, 9553: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5832).hp;
        function o2(t4) {
          return o2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, o2(t4);
        }
        __name(o2, "o");
        var i2 = r3(9639), s2 = r3(2402);
        t3.exports = function(t4) {
          return null == t4 ? t4 : "object" === o2(t4) && "string" == typeof t4.$numberDecimal ? i2.fromString(t4.$numberDecimal) : t4 instanceof i2 ? t4 : "string" == typeof t4 ? i2.fromString(t4) : "function" == typeof n2 && n2.isBuffer(t4) || "function" == typeof Uint8Array && t4 instanceof Uint8Array ? new i2(t4) : "number" == typeof t4 ? i2.fromString(String(t4)) : "function" == typeof t4.valueOf && "string" == typeof t4.valueOf() ? i2.fromString(t4.valueOf()) : void s2.ok(false);
        };
      }, 9600: (t3, e3, r3) => {
        "use strict";
        e3.Array = r3(7557), e3.Buffer = r3(6365), e3.Document = e3.Embedded = r3(6547), e3.DocumentArray = r3(4878), e3.Double = r3(2822), e3.Decimal128 = r3(9639), e3.ObjectId = r3(5549), e3.Map = r3(2081), e3.Subdocument = r3(9380), e3.UUID = r3(1344);
      }, 9604: (t3, e3, r3) => {
        "use strict";
        var n2 = r3(5558).p, o2 = r3(5558).G;
        function i2(t4, e4) {
          switch (t4.$geometry.type) {
            case "Polygon":
            case "LineString":
            case "Point":
              n2(t4.$geometry.coordinates, e4);
          }
          return s2(e4, t4), t4;
        }
        __name(i2, "i");
        function s2(t4, e4) {
          e4.$maxDistance && (e4.$maxDistance = o2.call(t4, e4.$maxDistance)), e4.$minDistance && (e4.$minDistance = o2.call(t4, e4.$minDistance));
        }
        __name(s2, "s");
        e3.cast$geoIntersects = function(t4) {
          if (t4.$geometry)
            return i2(t4, this), t4;
        }, e3.cast$near = function(t4) {
          var e4 = r3(7760);
          if (Array.isArray(t4))
            return n2(t4, this), t4;
          if (s2(this, t4), t4 && t4.$geometry)
            return i2(t4, this);
          if (!Array.isArray(t4))
            throw new TypeError("$near must be either an array or an object with a $geometry property");
          return e4.prototype.castForQuery.call(this, null, t4);
        }, e3.cast$within = function(t4) {
          var e4 = this;
          if (s2(this, t4), t4.$box || t4.$polygon) {
            var r4 = t4.$box ? "$box" : "$polygon";
            t4[r4].forEach(function(t5) {
              if (!Array.isArray(t5))
                throw new TypeError("Invalid $within $box argument. Expected an array, received " + t5);
              t5.forEach(function(r5, n4) {
                t5[n4] = o2.call(e4, r5);
              });
            });
          } else if (t4.$center || t4.$centerSphere) {
            var n3 = t4.$center ? "$center" : "$centerSphere";
            t4[n3].forEach(function(r5, i3) {
              Array.isArray(r5) ? r5.forEach(function(t5, n4) {
                r5[n4] = o2.call(e4, t5);
              }) : t4[n3][i3] = o2.call(e4, r5);
            });
          } else
            t4.$geometry && i2(t4, this);
          return t4;
        };
      }, 9639: (t3, e3, r3) => {
        "use strict";
        t3.exports = r3(6353).Decimal128;
      }, 9696: (t3) => {
        "use strict";
        var e3 = /^function\s*([^\s(]+)/;
        t3.exports = function(t4) {
          return t4.name || (t4.toString().trim().match(e3) || [])[1];
        };
      }, 9809: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        var r3, n2, o2 = Function.prototype.toString, i2 = "object" === ("undefined" == typeof Reflect ? "undefined" : e3(Reflect)) && null !== Reflect && Reflect.apply;
        if ("function" == typeof i2 && "function" == typeof Object.defineProperty)
          try {
            r3 = Object.defineProperty({}, "length", { get: function() {
              throw n2;
            } }), n2 = {}, i2(function() {
              throw 42;
            }, null, r3);
          } catch (t4) {
            t4 !== n2 && (i2 = null);
          }
        else
          i2 = null;
        var s2 = /^\s*class\b/, a2 = /* @__PURE__ */ __name(function(t4) {
          try {
            var e4 = o2.call(t4);
            return s2.test(e4);
          } catch (t5) {
            return false;
          }
        }, "a"), u2 = /* @__PURE__ */ __name(function(t4) {
          try {
            return !a2(t4) && (o2.call(t4), true);
          } catch (t5) {
            return false;
          }
        }, "u"), c2 = Object.prototype.toString, l2 = "function" == typeof Symbol && !!Symbol.toStringTag, f2 = !(0 in [,]), p2 = /* @__PURE__ */ __name(function() {
          return false;
        }, "p");
        if ("object" === ("undefined" == typeof document ? "undefined" : e3(document))) {
          var h2 = document.all;
          c2.call(h2) === c2.call(document.all) && (p2 = /* @__PURE__ */ __name(function(t4) {
            if ((f2 || !t4) && (void 0 === t4 || "object" === e3(t4)))
              try {
                var r4 = c2.call(t4);
                return ("[object HTMLAllCollection]" === r4 || "[object HTML document.all class]" === r4 || "[object HTMLCollection]" === r4 || "[object Object]" === r4) && null == t4("");
              } catch (t5) {
              }
            return false;
          }, "p"));
        }
        t3.exports = i2 ? function(t4) {
          if (p2(t4))
            return true;
          if (!t4)
            return false;
          if ("function" != typeof t4 && "object" !== e3(t4))
            return false;
          try {
            i2(t4, null, r3);
          } catch (t5) {
            if (t5 !== n2)
              return false;
          }
          return !a2(t4) && u2(t4);
        } : function(t4) {
          if (p2(t4))
            return true;
          if (!t4)
            return false;
          if ("function" != typeof t4 && "object" !== e3(t4))
            return false;
          if (l2)
            return u2(t4);
          if (a2(t4))
            return false;
          var r4 = c2.call(t4);
          return !("[object Function]" !== r4 && "[object GeneratorFunction]" !== r4 && !/^\[object HTML/.test(r4)) && u2(t4);
        };
      }, 9834: (t3, e3, r3) => {
        "use strict";
        function n2(t4) {
          return n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, n2(t4);
        }
        __name(n2, "n");
        var o2 = r3(3777), i2 = r3(3426), s2 = r3(9122), a2 = r3(3071), u2 = r3(1464), c2 = r3(209), l2 = a2("Object.prototype.toString"), f2 = r3(953)(), p2 = "undefined" == typeof globalThis ? r3.g : globalThis, h2 = i2(), y2 = a2("String.prototype.slice"), d2 = a2("Array.prototype.indexOf", true) || function(t4, e4) {
          for (var r4 = 0; r4 < t4.length; r4 += 1)
            if (t4[r4] === e4)
              return r4;
          return -1;
        }, b2 = { __proto__: null };
        o2(h2, f2 && u2 && c2 ? function(t4) {
          var e4 = new p2[t4]();
          if (Symbol.toStringTag in e4 && c2) {
            var r4 = c2(e4), n3 = u2(r4, Symbol.toStringTag);
            if (!n3 && r4) {
              var o3 = c2(r4);
              n3 = u2(o3, Symbol.toStringTag);
            }
            b2["$" + t4] = s2(n3.get);
          }
        } : function(t4) {
          var e4 = new p2[t4](), r4 = e4.slice || e4.set;
          r4 && (b2["$" + t4] = s2(r4));
        }), t3.exports = function(t4) {
          if (!t4 || "object" !== n2(t4))
            return false;
          if (!f2) {
            var e4 = y2(l2(t4), 8, -1);
            return d2(h2, e4) > -1 ? e4 : "Object" === e4 && function(t5) {
              var e5 = false;
              return o2(b2, function(r4, n3) {
                if (!e5)
                  try {
                    r4(t5), e5 = y2(n3, 1);
                  } catch (t6) {
                  }
              }), e5;
            }(t4);
          }
          return u2 ? function(t5) {
            var e5 = false;
            return o2(b2, function(r4, n3) {
              if (!e5)
                try {
                  "$" + r4(t5) === n3 && (e5 = y2(n3, 1));
                } catch (t6) {
                }
            }), e5;
          }(t4) : null;
        };
      }, 9848: (t3) => {
        "use strict";
        function e3(t4) {
          return e3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
            return typeof t5;
          } : function(t5) {
            return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
          }, e3(t4);
        }
        __name(e3, "e");
        t3.exports = function(t4) {
          t4.pre("save", false, function(t5, r3) {
            var n2 = this, o2 = this;
            if (this.$isSubdocument)
              return t5();
            if (r3 && "object" === e3(r3) && "validateBeforeSave" in r3 ? r3.validateBeforeSave : this.$__schema.options.validateBeforeSave) {
              var i2 = r3 && "object" === e3(r3) && "validateModifiedOnly" in r3 ? { validateModifiedOnly: r3.validateModifiedOnly } : null;
              this.$validate(i2).then(function() {
                n2.$op = "save", t5();
              }, function(e4) {
                o2.$__schema.s.hooks.execPost("save:error", o2, [o2], { error: e4 }, function(e5) {
                  o2.$op = "save", t5(e5);
                });
              });
            } else
              t5();
          }, null, true);
        };
      }, 9870: (t3) => {
        "use strict";
        t3.exports = Error;
      }, 9907: (t3) => {
        "use strict";
        t3.exports = SyntaxError;
      }, 9939: (t3) => {
        "use strict";
        t3.exports = RangeError;
      } }, e2 = {};
      function r2(n2) {
        var o2 = e2[n2];
        if (void 0 !== o2)
          return o2.exports;
        var i2 = e2[n2] = { exports: {} };
        return t2[n2](i2, i2.exports, r2), i2.exports;
      }
      __name(r2, "r");
      return r2.d = (t3, e3) => {
        for (var n2 in e3)
          r2.o(e3, n2) && !r2.o(t3, n2) && Object.defineProperty(t3, n2, { enumerable: true, get: e3[n2] });
      }, r2.g = function() {
        if ("object" == typeof globalThis)
          return globalThis;
        try {
          return this || new Function("return this")();
        } catch (t3) {
          if ("object" == typeof window)
            return window;
        }
      }(), r2.o = (t3, e3) => Object.prototype.hasOwnProperty.call(t3, e3), r2.r = (t3) => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t3, "__esModule", { value: true });
      }, r2(4829);
    })());
  }
});

// node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js
var fromUtf8;
var init_fromUtf8_browser = __esm({
  "node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js"() {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
    fromUtf8 = /* @__PURE__ */ __name((input) => new TextEncoder().encode(input), "fromUtf8");
  }
});

// node_modules/@smithy/util-utf8/dist-es/toUint8Array.js
var toUint8Array;
var init_toUint8Array = __esm({
  "node_modules/@smithy/util-utf8/dist-es/toUint8Array.js"() {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
    init_fromUtf8_browser();
    toUint8Array = /* @__PURE__ */ __name((data) => {
      if (typeof data === "string") {
        return fromUtf8(data);
      }
      if (ArrayBuffer.isView(data)) {
        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);
      }
      return new Uint8Array(data);
    }, "toUint8Array");
  }
});

// node_modules/@smithy/util-utf8/dist-es/toUtf8.browser.js
var toUtf8;
var init_toUtf8_browser = __esm({
  "node_modules/@smithy/util-utf8/dist-es/toUtf8.browser.js"() {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
    toUtf8 = /* @__PURE__ */ __name((input) => {
      if (typeof input === "string") {
        return input;
      }
      if (typeof input !== "object" || typeof input.byteOffset !== "number" || typeof input.byteLength !== "number") {
        throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");
      }
      return new TextDecoder("utf-8").decode(input);
    }, "toUtf8");
  }
});

// node_modules/@smithy/util-utf8/dist-es/index.js
var init_dist_es = __esm({
  "node_modules/@smithy/util-utf8/dist-es/index.js"() {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
    init_fromUtf8_browser();
    init_toUint8Array();
    init_toUtf8_browser();
  }
});

// node_modules/@smithy/core/dist-es/submodules/event-streams/EventStreamSerde.js
var EventStreamSerde;
var init_EventStreamSerde = __esm({
  "node_modules/@smithy/core/dist-es/submodules/event-streams/EventStreamSerde.js"() {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
    init_dist_es();
    EventStreamSerde = class {
      marshaller;
      serializer;
      deserializer;
      serdeContext;
      defaultContentType;
      constructor({ marshaller, serializer, deserializer, serdeContext, defaultContentType }) {
        this.marshaller = marshaller;
        this.serializer = serializer;
        this.deserializer = deserializer;
        this.serdeContext = serdeContext;
        this.defaultContentType = defaultContentType;
      }
      async serializeEventStream({ eventStream, requestSchema, initialRequest }) {
        const marshaller = this.marshaller;
        const eventStreamMember = requestSchema.getEventStreamMember();
        const unionSchema = requestSchema.getMemberSchema(eventStreamMember);
        const serializer = this.serializer;
        const defaultContentType = this.defaultContentType;
        const initialRequestMarker = Symbol("initialRequestMarker");
        const eventStreamIterable = {
          async *[Symbol.asyncIterator]() {
            if (initialRequest) {
              const headers = {
                ":event-type": { type: "string", value: "initial-request" },
                ":message-type": { type: "string", value: "event" },
                ":content-type": { type: "string", value: defaultContentType }
              };
              serializer.write(requestSchema, initialRequest);
              const body = serializer.flush();
              yield {
                [initialRequestMarker]: true,
                headers,
                body
              };
            }
            for await (const page of eventStream) {
              yield page;
            }
          }
        };
        return marshaller.serialize(eventStreamIterable, (event) => {
          if (event[initialRequestMarker]) {
            return {
              headers: event.headers,
              body: event.body
            };
          }
          const unionMember = Object.keys(event).find((key) => {
            return key !== "__type";
          }) ?? "";
          const { additionalHeaders, body, eventType, explicitPayloadContentType } = this.writeEventBody(unionMember, unionSchema, event);
          const headers = {
            ":event-type": { type: "string", value: eventType },
            ":message-type": { type: "string", value: "event" },
            ":content-type": { type: "string", value: explicitPayloadContentType ?? defaultContentType },
            ...additionalHeaders
          };
          return {
            headers,
            body
          };
        });
      }
      async deserializeEventStream({ response, responseSchema, initialResponseContainer }) {
        const marshaller = this.marshaller;
        const eventStreamMember = responseSchema.getEventStreamMember();
        const unionSchema = responseSchema.getMemberSchema(eventStreamMember);
        const memberSchemas = unionSchema.getMemberSchemas();
        const initialResponseMarker = Symbol("initialResponseMarker");
        const asyncIterable = marshaller.deserialize(response.body, async (event) => {
          const unionMember = Object.keys(event).find((key) => {
            return key !== "__type";
          }) ?? "";
          const body = event[unionMember].body;
          if (unionMember === "initial-response") {
            const dataObject = await this.deserializer.read(responseSchema, body);
            delete dataObject[eventStreamMember];
            return {
              [initialResponseMarker]: true,
              ...dataObject
            };
          } else if (unionMember in memberSchemas) {
            const eventStreamSchema = memberSchemas[unionMember];
            if (eventStreamSchema.isStructSchema()) {
              const out = {};
              let hasBindings = false;
              for (const [name, member2] of eventStreamSchema.structIterator()) {
                const { eventHeader, eventPayload } = member2.getMergedTraits();
                hasBindings = hasBindings || Boolean(eventHeader || eventPayload);
                if (eventPayload) {
                  if (member2.isBlobSchema()) {
                    out[name] = body;
                  } else if (member2.isStringSchema()) {
                    out[name] = (this.serdeContext?.utf8Encoder ?? toUtf8)(body);
                  } else if (member2.isStructSchema()) {
                    out[name] = await this.deserializer.read(member2, body);
                  }
                } else if (eventHeader) {
                  const value = event[unionMember].headers[name]?.value;
                  if (value != null) {
                    if (member2.isNumericSchema()) {
                      if (value && typeof value === "object" && "bytes" in value) {
                        out[name] = BigInt(value.toString());
                      } else {
                        out[name] = Number(value);
                      }
                    } else {
                      out[name] = value;
                    }
                  }
                }
              }
              if (hasBindings) {
                return {
                  [unionMember]: out
                };
              }
            }
            return {
              [unionMember]: await this.deserializer.read(eventStreamSchema, body)
            };
          } else {
            return {
              $unknown: event
            };
          }
        });
        const asyncIterator = asyncIterable[Symbol.asyncIterator]();
        const firstEvent = await asyncIterator.next();
        if (firstEvent.done) {
          return asyncIterable;
        }
        if (firstEvent.value?.[initialResponseMarker]) {
          if (!responseSchema) {
            throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");
          }
          for (const [key, value] of Object.entries(firstEvent.value)) {
            initialResponseContainer[key] = value;
          }
        }
        return {
          async *[Symbol.asyncIterator]() {
            if (!firstEvent?.value?.[initialResponseMarker]) {
              yield firstEvent.value;
            }
            while (true) {
              const { done, value } = await asyncIterator.next();
              if (done) {
                break;
              }
              yield value;
            }
          }
        };
      }
      writeEventBody(unionMember, unionSchema, event) {
        const serializer = this.serializer;
        let eventType = unionMember;
        let explicitPayloadMember = null;
        let explicitPayloadContentType;
        const isKnownSchema = (() => {
          const struct = unionSchema.getSchema();
          return struct[4].includes(unionMember);
        })();
        const additionalHeaders = {};
        if (!isKnownSchema) {
          const [type, value] = event[unionMember];
          eventType = type;
          serializer.write(15, value);
        } else {
          const eventSchema = unionSchema.getMemberSchema(unionMember);
          if (eventSchema.isStructSchema()) {
            for (const [memberName, memberSchema] of eventSchema.structIterator()) {
              const { eventHeader, eventPayload } = memberSchema.getMergedTraits();
              if (eventPayload) {
                explicitPayloadMember = memberName;
              } else if (eventHeader) {
                const value = event[unionMember][memberName];
                let type = "binary";
                if (memberSchema.isNumericSchema()) {
                  if ((-2) ** 31 <= value && value <= 2 ** 31 - 1) {
                    type = "integer";
                  } else {
                    type = "long";
                  }
                } else if (memberSchema.isTimestampSchema()) {
                  type = "timestamp";
                } else if (memberSchema.isStringSchema()) {
                  type = "string";
                } else if (memberSchema.isBooleanSchema()) {
                  type = "boolean";
                }
                if (value != null) {
                  additionalHeaders[memberName] = {
                    type,
                    value
                  };
                  delete event[unionMember][memberName];
                }
              }
            }
            if (explicitPayloadMember !== null) {
              const payloadSchema = eventSchema.getMemberSchema(explicitPayloadMember);
              if (payloadSchema.isBlobSchema()) {
                explicitPayloadContentType = "application/octet-stream";
              } else if (payloadSchema.isStringSchema()) {
                explicitPayloadContentType = "text/plain";
              }
              serializer.write(payloadSchema, event[unionMember][explicitPayloadMember]);
            } else {
              serializer.write(eventSchema, event[unionMember]);
            }
          } else {
            throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.");
          }
        }
        const messageSerialization = serializer.flush();
        const body = typeof messageSerialization === "string" ? (this.serdeContext?.utf8Decoder ?? fromUtf8)(messageSerialization) : messageSerialization;
        return {
          body,
          eventType,
          explicitPayloadContentType,
          additionalHeaders
        };
      }
    };
    __name(EventStreamSerde, "EventStreamSerde");
  }
});

// node_modules/@smithy/core/dist-es/submodules/event-streams/index.js
var event_streams_exports = {};
__export(event_streams_exports, {
  EventStreamSerde: () => EventStreamSerde
});
var init_event_streams = __esm({
  "node_modules/@smithy/core/dist-es/submodules/event-streams/index.js"() {
    init_checked_fetch();
    init_strip_cf_connecting_ip_header();
    init_modules_watch_stub();
    init_EventStreamSerde();
  }
});

// .wrangler/tmp/bundle-KuYVt0/middleware-loader.entry.ts
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// .wrangler/tmp/bundle-KuYVt0/middleware-insertion-facade.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// src/index.ts
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/hono.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/hono-base.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/compose.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var compose = /* @__PURE__ */ __name((middleware, onError, onNotFound) => {
  return (context, next) => {
    let index = -1;
    return dispatch(0);
    async function dispatch(i2) {
      if (i2 <= index) {
        throw new Error("next() called multiple times");
      }
      index = i2;
      let res;
      let isError = false;
      let handler;
      if (middleware[i2]) {
        handler = middleware[i2][0][0];
        context.req.routeIndex = i2;
      } else {
        handler = i2 === middleware.length && next || void 0;
      }
      if (handler) {
        try {
          res = await handler(context, () => dispatch(i2 + 1));
        } catch (err) {
          if (err instanceof Error && onError) {
            context.error = err;
            res = await onError(err, context);
            isError = true;
          } else {
            throw err;
          }
        }
      } else {
        if (context.finalized === false && onNotFound) {
          res = await onNotFound(context);
        }
      }
      if (res && (context.finalized === false || isError)) {
        context.res = res;
      }
      return context;
    }
    __name(dispatch, "dispatch");
  };
}, "compose");

// node_modules/hono/dist/context.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/request.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/http-exception.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/request/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var GET_MATCH_RESULT = /* @__PURE__ */ Symbol();

// node_modules/hono/dist/utils/body.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var parseBody = /* @__PURE__ */ __name(async (request, options = /* @__PURE__ */ Object.create(null)) => {
  const { all = false, dot = false } = options;
  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;
  const contentType = headers.get("Content-Type");
  if (contentType?.startsWith("multipart/form-data") || contentType?.startsWith("application/x-www-form-urlencoded")) {
    return parseFormData(request, { all, dot });
  }
  return {};
}, "parseBody");
async function parseFormData(request, options) {
  const formData = await request.formData();
  if (formData) {
    return convertFormDataToBodyData(formData, options);
  }
  return {};
}
__name(parseFormData, "parseFormData");
function convertFormDataToBodyData(formData, options) {
  const form = /* @__PURE__ */ Object.create(null);
  formData.forEach((value, key) => {
    const shouldParseAllValues = options.all || key.endsWith("[]");
    if (!shouldParseAllValues) {
      form[key] = value;
    } else {
      handleParsingAllValues(form, key, value);
    }
  });
  if (options.dot) {
    Object.entries(form).forEach(([key, value]) => {
      const shouldParseDotValues = key.includes(".");
      if (shouldParseDotValues) {
        handleParsingNestedValues(form, key, value);
        delete form[key];
      }
    });
  }
  return form;
}
__name(convertFormDataToBodyData, "convertFormDataToBodyData");
var handleParsingAllValues = /* @__PURE__ */ __name((form, key, value) => {
  if (form[key] !== void 0) {
    if (Array.isArray(form[key])) {
      ;
      form[key].push(value);
    } else {
      form[key] = [form[key], value];
    }
  } else {
    if (!key.endsWith("[]")) {
      form[key] = value;
    } else {
      form[key] = [value];
    }
  }
}, "handleParsingAllValues");
var handleParsingNestedValues = /* @__PURE__ */ __name((form, key, value) => {
  let nestedForm = form;
  const keys = key.split(".");
  keys.forEach((key2, index) => {
    if (index === keys.length - 1) {
      nestedForm[key2] = value;
    } else {
      if (!nestedForm[key2] || typeof nestedForm[key2] !== "object" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {
        nestedForm[key2] = /* @__PURE__ */ Object.create(null);
      }
      nestedForm = nestedForm[key2];
    }
  });
}, "handleParsingNestedValues");

// node_modules/hono/dist/utils/url.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var splitPath = /* @__PURE__ */ __name((path) => {
  const paths = path.split("/");
  if (paths[0] === "") {
    paths.shift();
  }
  return paths;
}, "splitPath");
var splitRoutingPath = /* @__PURE__ */ __name((routePath) => {
  const { groups, path } = extractGroupsFromPath(routePath);
  const paths = splitPath(path);
  return replaceGroupMarks(paths, groups);
}, "splitRoutingPath");
var extractGroupsFromPath = /* @__PURE__ */ __name((path) => {
  const groups = [];
  path = path.replace(/\{[^}]+\}/g, (match2, index) => {
    const mark = `@${index}`;
    groups.push([mark, match2]);
    return mark;
  });
  return { groups, path };
}, "extractGroupsFromPath");
var replaceGroupMarks = /* @__PURE__ */ __name((paths, groups) => {
  for (let i2 = groups.length - 1; i2 >= 0; i2--) {
    const [mark] = groups[i2];
    for (let j2 = paths.length - 1; j2 >= 0; j2--) {
      if (paths[j2].includes(mark)) {
        paths[j2] = paths[j2].replace(mark, groups[i2][1]);
        break;
      }
    }
  }
  return paths;
}, "replaceGroupMarks");
var patternCache = {};
var getPattern = /* @__PURE__ */ __name((label, next) => {
  if (label === "*") {
    return "*";
  }
  const match2 = label.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);
  if (match2) {
    const cacheKey = `${label}#${next}`;
    if (!patternCache[cacheKey]) {
      if (match2[2]) {
        patternCache[cacheKey] = next && next[0] !== ":" && next[0] !== "*" ? [cacheKey, match2[1], new RegExp(`^${match2[2]}(?=/${next})`)] : [label, match2[1], new RegExp(`^${match2[2]}$`)];
      } else {
        patternCache[cacheKey] = [label, match2[1], true];
      }
    }
    return patternCache[cacheKey];
  }
  return null;
}, "getPattern");
var tryDecode = /* @__PURE__ */ __name((str, decoder) => {
  try {
    return decoder(str);
  } catch {
    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match2) => {
      try {
        return decoder(match2);
      } catch {
        return match2;
      }
    });
  }
}, "tryDecode");
var tryDecodeURI = /* @__PURE__ */ __name((str) => tryDecode(str, decodeURI), "tryDecodeURI");
var getPath = /* @__PURE__ */ __name((request) => {
  const url = request.url;
  const start = url.indexOf("/", url.indexOf(":") + 4);
  let i2 = start;
  for (; i2 < url.length; i2++) {
    const charCode = url.charCodeAt(i2);
    if (charCode === 37) {
      const queryIndex = url.indexOf("?", i2);
      const path = url.slice(start, queryIndex === -1 ? void 0 : queryIndex);
      return tryDecodeURI(path.includes("%25") ? path.replace(/%25/g, "%2525") : path);
    } else if (charCode === 63) {
      break;
    }
  }
  return url.slice(start, i2);
}, "getPath");
var getPathNoStrict = /* @__PURE__ */ __name((request) => {
  const result = getPath(request);
  return result.length > 1 && result.at(-1) === "/" ? result.slice(0, -1) : result;
}, "getPathNoStrict");
var mergePath = /* @__PURE__ */ __name((base, sub, ...rest) => {
  if (rest.length) {
    sub = mergePath(sub, ...rest);
  }
  return `${base?.[0] === "/" ? "" : "/"}${base}${sub === "/" ? "" : `${base?.at(-1) === "/" ? "" : "/"}${sub?.[0] === "/" ? sub.slice(1) : sub}`}`;
}, "mergePath");
var checkOptionalParameter = /* @__PURE__ */ __name((path) => {
  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(":")) {
    return null;
  }
  const segments = path.split("/");
  const results = [];
  let basePath = "";
  segments.forEach((segment) => {
    if (segment !== "" && !/\:/.test(segment)) {
      basePath += "/" + segment;
    } else if (/\:/.test(segment)) {
      if (/\?/.test(segment)) {
        if (results.length === 0 && basePath === "") {
          results.push("/");
        } else {
          results.push(basePath);
        }
        const optionalSegment = segment.replace("?", "");
        basePath += "/" + optionalSegment;
        results.push(basePath);
      } else {
        basePath += "/" + segment;
      }
    }
  });
  return results.filter((v2, i2, a2) => a2.indexOf(v2) === i2);
}, "checkOptionalParameter");
var _decodeURI = /* @__PURE__ */ __name((value) => {
  if (!/[%+]/.test(value)) {
    return value;
  }
  if (value.indexOf("+") !== -1) {
    value = value.replace(/\+/g, " ");
  }
  return value.indexOf("%") !== -1 ? tryDecode(value, decodeURIComponent_) : value;
}, "_decodeURI");
var _getQueryParam = /* @__PURE__ */ __name((url, key, multiple) => {
  let encoded;
  if (!multiple && key && !/[%+]/.test(key)) {
    let keyIndex2 = url.indexOf("?", 8);
    if (keyIndex2 === -1) {
      return void 0;
    }
    if (!url.startsWith(key, keyIndex2 + 1)) {
      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);
    }
    while (keyIndex2 !== -1) {
      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);
      if (trailingKeyCode === 61) {
        const valueIndex = keyIndex2 + key.length + 2;
        const endIndex = url.indexOf("&", valueIndex);
        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? void 0 : endIndex));
      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {
        return "";
      }
      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);
    }
    encoded = /[%+]/.test(url);
    if (!encoded) {
      return void 0;
    }
  }
  const results = {};
  encoded ??= /[%+]/.test(url);
  let keyIndex = url.indexOf("?", 8);
  while (keyIndex !== -1) {
    const nextKeyIndex = url.indexOf("&", keyIndex + 1);
    let valueIndex = url.indexOf("=", keyIndex);
    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {
      valueIndex = -1;
    }
    let name = url.slice(
      keyIndex + 1,
      valueIndex === -1 ? nextKeyIndex === -1 ? void 0 : nextKeyIndex : valueIndex
    );
    if (encoded) {
      name = _decodeURI(name);
    }
    keyIndex = nextKeyIndex;
    if (name === "") {
      continue;
    }
    let value;
    if (valueIndex === -1) {
      value = "";
    } else {
      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? void 0 : nextKeyIndex);
      if (encoded) {
        value = _decodeURI(value);
      }
    }
    if (multiple) {
      if (!(results[name] && Array.isArray(results[name]))) {
        results[name] = [];
      }
      ;
      results[name].push(value);
    } else {
      results[name] ??= value;
    }
  }
  return key ? results[key] : results;
}, "_getQueryParam");
var getQueryParam = _getQueryParam;
var getQueryParams = /* @__PURE__ */ __name((url, key) => {
  return _getQueryParam(url, key, true);
}, "getQueryParams");
var decodeURIComponent_ = decodeURIComponent;

// node_modules/hono/dist/request.js
var tryDecodeURIComponent = /* @__PURE__ */ __name((str) => tryDecode(str, decodeURIComponent_), "tryDecodeURIComponent");
var HonoRequest = /* @__PURE__ */ __name(class {
  /**
   * `.raw` can get the raw Request object.
   *
   * @see {@link https://hono.dev/docs/api/request#raw}
   *
   * @example
   * ```ts
   * // For Cloudflare Workers
   * app.post('/', async (c) => {
   *   const metadata = c.req.raw.cf?.hostMetadata?
   *   ...
   * })
   * ```
   */
  raw;
  #validatedData;
  // Short name of validatedData
  #matchResult;
  routeIndex = 0;
  /**
   * `.path` can get the pathname of the request.
   *
   * @see {@link https://hono.dev/docs/api/request#path}
   *
   * @example
   * ```ts
   * app.get('/about/me', (c) => {
   *   const pathname = c.req.path // `/about/me`
   * })
   * ```
   */
  path;
  bodyCache = {};
  constructor(request, path = "/", matchResult = [[]]) {
    this.raw = request;
    this.path = path;
    this.#matchResult = matchResult;
    this.#validatedData = {};
  }
  param(key) {
    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();
  }
  #getDecodedParam(key) {
    const paramKey = this.#matchResult[0][this.routeIndex][1][key];
    const param = this.#getParamValue(paramKey);
    return param && /\%/.test(param) ? tryDecodeURIComponent(param) : param;
  }
  #getAllDecodedParams() {
    const decoded = {};
    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);
    for (const key of keys) {
      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);
      if (value !== void 0) {
        decoded[key] = /\%/.test(value) ? tryDecodeURIComponent(value) : value;
      }
    }
    return decoded;
  }
  #getParamValue(paramKey) {
    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;
  }
  query(key) {
    return getQueryParam(this.url, key);
  }
  queries(key) {
    return getQueryParams(this.url, key);
  }
  header(name) {
    if (name) {
      return this.raw.headers.get(name) ?? void 0;
    }
    const headerData = {};
    this.raw.headers.forEach((value, key) => {
      headerData[key] = value;
    });
    return headerData;
  }
  async parseBody(options) {
    return this.bodyCache.parsedBody ??= await parseBody(this, options);
  }
  #cachedBody = (key) => {
    const { bodyCache, raw: raw2 } = this;
    const cachedBody = bodyCache[key];
    if (cachedBody) {
      return cachedBody;
    }
    const anyCachedKey = Object.keys(bodyCache)[0];
    if (anyCachedKey) {
      return bodyCache[anyCachedKey].then((body) => {
        if (anyCachedKey === "json") {
          body = JSON.stringify(body);
        }
        return new Response(body)[key]();
      });
    }
    return bodyCache[key] = raw2[key]();
  };
  /**
   * `.json()` can parse Request body of type `application/json`
   *
   * @see {@link https://hono.dev/docs/api/request#json}
   *
   * @example
   * ```ts
   * app.post('/entry', async (c) => {
   *   const body = await c.req.json()
   * })
   * ```
   */
  json() {
    return this.#cachedBody("text").then((text) => JSON.parse(text));
  }
  /**
   * `.text()` can parse Request body of type `text/plain`
   *
   * @see {@link https://hono.dev/docs/api/request#text}
   *
   * @example
   * ```ts
   * app.post('/entry', async (c) => {
   *   const body = await c.req.text()
   * })
   * ```
   */
  text() {
    return this.#cachedBody("text");
  }
  /**
   * `.arrayBuffer()` parse Request body as an `ArrayBuffer`
   *
   * @see {@link https://hono.dev/docs/api/request#arraybuffer}
   *
   * @example
   * ```ts
   * app.post('/entry', async (c) => {
   *   const body = await c.req.arrayBuffer()
   * })
   * ```
   */
  arrayBuffer() {
    return this.#cachedBody("arrayBuffer");
  }
  /**
   * Parses the request body as a `Blob`.
   * @example
   * ```ts
   * app.post('/entry', async (c) => {
   *   const body = await c.req.blob();
   * });
   * ```
   * @see https://hono.dev/docs/api/request#blob
   */
  blob() {
    return this.#cachedBody("blob");
  }
  /**
   * Parses the request body as `FormData`.
   * @example
   * ```ts
   * app.post('/entry', async (c) => {
   *   const body = await c.req.formData();
   * });
   * ```
   * @see https://hono.dev/docs/api/request#formdata
   */
  formData() {
    return this.#cachedBody("formData");
  }
  /**
   * Adds validated data to the request.
   *
   * @param target - The target of the validation.
   * @param data - The validated data to add.
   */
  addValidatedData(target, data) {
    this.#validatedData[target] = data;
  }
  valid(target) {
    return this.#validatedData[target];
  }
  /**
   * `.url()` can get the request url strings.
   *
   * @see {@link https://hono.dev/docs/api/request#url}
   *
   * @example
   * ```ts
   * app.get('/about/me', (c) => {
   *   const url = c.req.url // `http://localhost:8787/about/me`
   *   ...
   * })
   * ```
   */
  get url() {
    return this.raw.url;
  }
  /**
   * `.method()` can get the method name of the request.
   *
   * @see {@link https://hono.dev/docs/api/request#method}
   *
   * @example
   * ```ts
   * app.get('/about/me', (c) => {
   *   const method = c.req.method // `GET`
   * })
   * ```
   */
  get method() {
    return this.raw.method;
  }
  get [GET_MATCH_RESULT]() {
    return this.#matchResult;
  }
  /**
   * `.matchedRoutes()` can return a matched route in the handler
   *
   * @deprecated
   *
   * Use matchedRoutes helper defined in "hono/route" instead.
   *
   * @see {@link https://hono.dev/docs/api/request#matchedroutes}
   *
   * @example
   * ```ts
   * app.use('*', async function logger(c, next) {
   *   await next()
   *   c.req.matchedRoutes.forEach(({ handler, method, path }, i) => {
   *     const name = handler.name || (handler.length < 2 ? '[handler]' : '[middleware]')
   *     console.log(
   *       method,
   *       ' ',
   *       path,
   *       ' '.repeat(Math.max(10 - path.length, 0)),
   *       name,
   *       i === c.req.routeIndex ? '<- respond from here' : ''
   *     )
   *   })
   * })
   * ```
   */
  get matchedRoutes() {
    return this.#matchResult[0].map(([[, route]]) => route);
  }
  /**
   * `routePath()` can retrieve the path registered within the handler
   *
   * @deprecated
   *
   * Use routePath helper defined in "hono/route" instead.
   *
   * @see {@link https://hono.dev/docs/api/request#routepath}
   *
   * @example
   * ```ts
   * app.get('/posts/:id', (c) => {
   *   return c.json({ path: c.req.routePath })
   * })
   * ```
   */
  get routePath() {
    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;
  }
}, "HonoRequest");

// node_modules/hono/dist/utils/html.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var HtmlEscapedCallbackPhase = {
  Stringify: 1,
  BeforeStream: 2,
  Stream: 3
};
var raw = /* @__PURE__ */ __name((value, callbacks) => {
  const escapedString = new String(value);
  escapedString.isEscaped = true;
  escapedString.callbacks = callbacks;
  return escapedString;
}, "raw");
var resolveCallback = /* @__PURE__ */ __name(async (str, phase, preserveCallbacks, context, buffer) => {
  if (typeof str === "object" && !(str instanceof String)) {
    if (!(str instanceof Promise)) {
      str = str.toString();
    }
    if (str instanceof Promise) {
      str = await str;
    }
  }
  const callbacks = str.callbacks;
  if (!callbacks?.length) {
    return Promise.resolve(str);
  }
  if (buffer) {
    buffer[0] += str;
  } else {
    buffer = [str];
  }
  const resStr = Promise.all(callbacks.map((c2) => c2({ phase, buffer, context }))).then(
    (res) => Promise.all(
      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))
    ).then(() => buffer[0])
  );
  if (preserveCallbacks) {
    return raw(await resStr, callbacks);
  } else {
    return resStr;
  }
}, "resolveCallback");

// node_modules/hono/dist/context.js
var TEXT_PLAIN = "text/plain; charset=UTF-8";
var setDefaultContentType = /* @__PURE__ */ __name((contentType, headers) => {
  return {
    "Content-Type": contentType,
    ...headers
  };
}, "setDefaultContentType");
var Context = /* @__PURE__ */ __name(class {
  #rawRequest;
  #req;
  /**
   * `.env` can get bindings (environment variables, secrets, KV namespaces, D1 database, R2 bucket etc.) in Cloudflare Workers.
   *
   * @see {@link https://hono.dev/docs/api/context#env}
   *
   * @example
   * ```ts
   * // Environment object for Cloudflare Workers
   * app.get('*', async c => {
   *   const counter = c.env.COUNTER
   * })
   * ```
   */
  env = {};
  #var;
  finalized = false;
  /**
   * `.error` can get the error object from the middleware if the Handler throws an error.
   *
   * @see {@link https://hono.dev/docs/api/context#error}
   *
   * @example
   * ```ts
   * app.use('*', async (c, next) => {
   *   await next()
   *   if (c.error) {
   *     // do something...
   *   }
   * })
   * ```
   */
  error;
  #status;
  #executionCtx;
  #res;
  #layout;
  #renderer;
  #notFoundHandler;
  #preparedHeaders;
  #matchResult;
  #path;
  /**
   * Creates an instance of the Context class.
   *
   * @param req - The Request object.
   * @param options - Optional configuration options for the context.
   */
  constructor(req, options) {
    this.#rawRequest = req;
    if (options) {
      this.#executionCtx = options.executionCtx;
      this.env = options.env;
      this.#notFoundHandler = options.notFoundHandler;
      this.#path = options.path;
      this.#matchResult = options.matchResult;
    }
  }
  /**
   * `.req` is the instance of {@link HonoRequest}.
   */
  get req() {
    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);
    return this.#req;
  }
  /**
   * @see {@link https://hono.dev/docs/api/context#event}
   * The FetchEvent associated with the current request.
   *
   * @throws Will throw an error if the context does not have a FetchEvent.
   */
  get event() {
    if (this.#executionCtx && "respondWith" in this.#executionCtx) {
      return this.#executionCtx;
    } else {
      throw Error("This context has no FetchEvent");
    }
  }
  /**
   * @see {@link https://hono.dev/docs/api/context#executionctx}
   * The ExecutionContext associated with the current request.
   *
   * @throws Will throw an error if the context does not have an ExecutionContext.
   */
  get executionCtx() {
    if (this.#executionCtx) {
      return this.#executionCtx;
    } else {
      throw Error("This context has no ExecutionContext");
    }
  }
  /**
   * @see {@link https://hono.dev/docs/api/context#res}
   * The Response object for the current request.
   */
  get res() {
    return this.#res ||= new Response(null, {
      headers: this.#preparedHeaders ??= new Headers()
    });
  }
  /**
   * Sets the Response object for the current request.
   *
   * @param _res - The Response object to set.
   */
  set res(_res) {
    if (this.#res && _res) {
      _res = new Response(_res.body, _res);
      for (const [k2, v2] of this.#res.headers.entries()) {
        if (k2 === "content-type") {
          continue;
        }
        if (k2 === "set-cookie") {
          const cookies = this.#res.headers.getSetCookie();
          _res.headers.delete("set-cookie");
          for (const cookie of cookies) {
            _res.headers.append("set-cookie", cookie);
          }
        } else {
          _res.headers.set(k2, v2);
        }
      }
    }
    this.#res = _res;
    this.finalized = true;
  }
  /**
   * `.render()` can create a response within a layout.
   *
   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}
   *
   * @example
   * ```ts
   * app.get('/', (c) => {
   *   return c.render('Hello!')
   * })
   * ```
   */
  render = (...args) => {
    this.#renderer ??= (content) => this.html(content);
    return this.#renderer(...args);
  };
  /**
   * Sets the layout for the response.
   *
   * @param layout - The layout to set.
   * @returns The layout function.
   */
  setLayout = (layout) => this.#layout = layout;
  /**
   * Gets the current layout for the response.
   *
   * @returns The current layout function.
   */
  getLayout = () => this.#layout;
  /**
   * `.setRenderer()` can set the layout in the custom middleware.
   *
   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}
   *
   * @example
   * ```tsx
   * app.use('*', async (c, next) => {
   *   c.setRenderer((content) => {
   *     return c.html(
   *       <html>
   *         <body>
   *           <p>{content}</p>
   *         </body>
   *       </html>
   *     )
   *   })
   *   await next()
   * })
   * ```
   */
  setRenderer = (renderer) => {
    this.#renderer = renderer;
  };
  /**
   * `.header()` can set headers.
   *
   * @see {@link https://hono.dev/docs/api/context#header}
   *
   * @example
   * ```ts
   * app.get('/welcome', (c) => {
   *   // Set headers
   *   c.header('X-Message', 'Hello!')
   *   c.header('Content-Type', 'text/plain')
   *
   *   return c.body('Thank you for coming')
   * })
   * ```
   */
  header = (name, value, options) => {
    if (this.finalized) {
      this.#res = new Response(this.#res.body, this.#res);
    }
    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers();
    if (value === void 0) {
      headers.delete(name);
    } else if (options?.append) {
      headers.append(name, value);
    } else {
      headers.set(name, value);
    }
  };
  status = (status) => {
    this.#status = status;
  };
  /**
   * `.set()` can set the value specified by the key.
   *
   * @see {@link https://hono.dev/docs/api/context#set-get}
   *
   * @example
   * ```ts
   * app.use('*', async (c, next) => {
   *   c.set('message', 'Hono is hot!!')
   *   await next()
   * })
   * ```
   */
  set = (key, value) => {
    this.#var ??= /* @__PURE__ */ new Map();
    this.#var.set(key, value);
  };
  /**
   * `.get()` can use the value specified by the key.
   *
   * @see {@link https://hono.dev/docs/api/context#set-get}
   *
   * @example
   * ```ts
   * app.get('/', (c) => {
   *   const message = c.get('message')
   *   return c.text(`The message is "${message}"`)
   * })
   * ```
   */
  get = (key) => {
    return this.#var ? this.#var.get(key) : void 0;
  };
  /**
   * `.var` can access the value of a variable.
   *
   * @see {@link https://hono.dev/docs/api/context#var}
   *
   * @example
   * ```ts
   * const result = c.var.client.oneMethod()
   * ```
   */
  // c.var.propName is a read-only
  get var() {
    if (!this.#var) {
      return {};
    }
    return Object.fromEntries(this.#var);
  }
  #newResponse(data, arg, headers) {
    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers();
    if (typeof arg === "object" && "headers" in arg) {
      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);
      for (const [key, value] of argHeaders) {
        if (key.toLowerCase() === "set-cookie") {
          responseHeaders.append(key, value);
        } else {
          responseHeaders.set(key, value);
        }
      }
    }
    if (headers) {
      for (const [k2, v2] of Object.entries(headers)) {
        if (typeof v2 === "string") {
          responseHeaders.set(k2, v2);
        } else {
          responseHeaders.delete(k2);
          for (const v22 of v2) {
            responseHeaders.append(k2, v22);
          }
        }
      }
    }
    const status = typeof arg === "number" ? arg : arg?.status ?? this.#status;
    return new Response(data, { status, headers: responseHeaders });
  }
  newResponse = (...args) => this.#newResponse(...args);
  /**
   * `.body()` can return the HTTP response.
   * You can set headers with `.header()` and set HTTP status code with `.status`.
   * This can also be set in `.text()`, `.json()` and so on.
   *
   * @see {@link https://hono.dev/docs/api/context#body}
   *
   * @example
   * ```ts
   * app.get('/welcome', (c) => {
   *   // Set headers
   *   c.header('X-Message', 'Hello!')
   *   c.header('Content-Type', 'text/plain')
   *   // Set HTTP status code
   *   c.status(201)
   *
   *   // Return the response body
   *   return c.body('Thank you for coming')
   * })
   * ```
   */
  body = (data, arg, headers) => this.#newResponse(data, arg, headers);
  /**
   * `.text()` can render text as `Content-Type:text/plain`.
   *
   * @see {@link https://hono.dev/docs/api/context#text}
   *
   * @example
   * ```ts
   * app.get('/say', (c) => {
   *   return c.text('Hello!')
   * })
   * ```
   */
  text = (text, arg, headers) => {
    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(
      text,
      arg,
      setDefaultContentType(TEXT_PLAIN, headers)
    );
  };
  /**
   * `.json()` can render JSON as `Content-Type:application/json`.
   *
   * @see {@link https://hono.dev/docs/api/context#json}
   *
   * @example
   * ```ts
   * app.get('/api', (c) => {
   *   return c.json({ message: 'Hello!' })
   * })
   * ```
   */
  json = (object, arg, headers) => {
    return this.#newResponse(
      JSON.stringify(object),
      arg,
      setDefaultContentType("application/json", headers)
    );
  };
  html = (html, arg, headers) => {
    const res = /* @__PURE__ */ __name((html2) => this.#newResponse(html2, arg, setDefaultContentType("text/html; charset=UTF-8", headers)), "res");
    return typeof html === "object" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);
  };
  /**
   * `.redirect()` can Redirect, default status code is 302.
   *
   * @see {@link https://hono.dev/docs/api/context#redirect}
   *
   * @example
   * ```ts
   * app.get('/redirect', (c) => {
   *   return c.redirect('/')
   * })
   * app.get('/redirect-permanently', (c) => {
   *   return c.redirect('/', 301)
   * })
   * ```
   */
  redirect = (location, status) => {
    const locationString = String(location);
    this.header(
      "Location",
      // Multibyes should be encoded
      // eslint-disable-next-line no-control-regex
      !/[^\x00-\xFF]/.test(locationString) ? locationString : encodeURI(locationString)
    );
    return this.newResponse(null, status ?? 302);
  };
  /**
   * `.notFound()` can return the Not Found Response.
   *
   * @see {@link https://hono.dev/docs/api/context#notfound}
   *
   * @example
   * ```ts
   * app.get('/notfound', (c) => {
   *   return c.notFound()
   * })
   * ```
   */
  notFound = () => {
    this.#notFoundHandler ??= () => new Response();
    return this.#notFoundHandler(this);
  };
}, "Context");

// node_modules/hono/dist/router.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var METHOD_NAME_ALL = "ALL";
var METHOD_NAME_ALL_LOWERCASE = "all";
var METHODS = ["get", "post", "put", "delete", "options", "patch"];
var MESSAGE_MATCHER_IS_ALREADY_BUILT = "Can not add a route since the matcher is already built.";
var UnsupportedPathError = /* @__PURE__ */ __name(class extends Error {
}, "UnsupportedPathError");

// node_modules/hono/dist/utils/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var COMPOSED_HANDLER = "__COMPOSED_HANDLER";

// node_modules/hono/dist/hono-base.js
var notFoundHandler = /* @__PURE__ */ __name((c2) => {
  return c2.text("404 Not Found", 404);
}, "notFoundHandler");
var errorHandler = /* @__PURE__ */ __name((err, c2) => {
  if ("getResponse" in err) {
    const res = err.getResponse();
    return c2.newResponse(res.body, res);
  }
  console.error(err);
  return c2.text("Internal Server Error", 500);
}, "errorHandler");
var Hono = /* @__PURE__ */ __name(class _Hono {
  get;
  post;
  put;
  delete;
  options;
  patch;
  all;
  on;
  use;
  /*
    This class is like an abstract class and does not have a router.
    To use it, inherit the class and implement router in the constructor.
  */
  router;
  getPath;
  // Cannot use `#` because it requires visibility at JavaScript runtime.
  _basePath = "/";
  #path = "/";
  routes = [];
  constructor(options = {}) {
    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];
    allMethods.forEach((method) => {
      this[method] = (args1, ...args) => {
        if (typeof args1 === "string") {
          this.#path = args1;
        } else {
          this.#addRoute(method, this.#path, args1);
        }
        args.forEach((handler) => {
          this.#addRoute(method, this.#path, handler);
        });
        return this;
      };
    });
    this.on = (method, path, ...handlers) => {
      for (const p2 of [path].flat()) {
        this.#path = p2;
        for (const m2 of [method].flat()) {
          handlers.map((handler) => {
            this.#addRoute(m2.toUpperCase(), this.#path, handler);
          });
        }
      }
      return this;
    };
    this.use = (arg1, ...handlers) => {
      if (typeof arg1 === "string") {
        this.#path = arg1;
      } else {
        this.#path = "*";
        handlers.unshift(arg1);
      }
      handlers.forEach((handler) => {
        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);
      });
      return this;
    };
    const { strict, ...optionsWithoutStrict } = options;
    Object.assign(this, optionsWithoutStrict);
    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;
  }
  #clone() {
    const clone = new _Hono({
      router: this.router,
      getPath: this.getPath
    });
    clone.errorHandler = this.errorHandler;
    clone.#notFoundHandler = this.#notFoundHandler;
    clone.routes = this.routes;
    return clone;
  }
  #notFoundHandler = notFoundHandler;
  // Cannot use `#` because it requires visibility at JavaScript runtime.
  errorHandler = errorHandler;
  /**
   * `.route()` allows grouping other Hono instance in routes.
   *
   * @see {@link https://hono.dev/docs/api/routing#grouping}
   *
   * @param {string} path - base Path
   * @param {Hono} app - other Hono instance
   * @returns {Hono} routed Hono instance
   *
   * @example
   * ```ts
   * const app = new Hono()
   * const app2 = new Hono()
   *
   * app2.get("/user", (c) => c.text("user"))
   * app.route("/api", app2) // GET /api/user
   * ```
   */
  route(path, app2) {
    const subApp = this.basePath(path);
    app2.routes.map((r2) => {
      let handler;
      if (app2.errorHandler === errorHandler) {
        handler = r2.handler;
      } else {
        handler = /* @__PURE__ */ __name(async (c2, next) => (await compose([], app2.errorHandler)(c2, () => r2.handler(c2, next))).res, "handler");
        handler[COMPOSED_HANDLER] = r2.handler;
      }
      subApp.#addRoute(r2.method, r2.path, handler);
    });
    return this;
  }
  /**
   * `.basePath()` allows base paths to be specified.
   *
   * @see {@link https://hono.dev/docs/api/routing#base-path}
   *
   * @param {string} path - base Path
   * @returns {Hono} changed Hono instance
   *
   * @example
   * ```ts
   * const api = new Hono().basePath('/api')
   * ```
   */
  basePath(path) {
    const subApp = this.#clone();
    subApp._basePath = mergePath(this._basePath, path);
    return subApp;
  }
  /**
   * `.onError()` handles an error and returns a customized Response.
   *
   * @see {@link https://hono.dev/docs/api/hono#error-handling}
   *
   * @param {ErrorHandler} handler - request Handler for error
   * @returns {Hono} changed Hono instance
   *
   * @example
   * ```ts
   * app.onError((err, c) => {
   *   console.error(`${err}`)
   *   return c.text('Custom Error Message', 500)
   * })
   * ```
   */
  onError = (handler) => {
    this.errorHandler = handler;
    return this;
  };
  /**
   * `.notFound()` allows you to customize a Not Found Response.
   *
   * @see {@link https://hono.dev/docs/api/hono#not-found}
   *
   * @param {NotFoundHandler} handler - request handler for not-found
   * @returns {Hono} changed Hono instance
   *
   * @example
   * ```ts
   * app.notFound((c) => {
   *   return c.text('Custom 404 Message', 404)
   * })
   * ```
   */
  notFound = (handler) => {
    this.#notFoundHandler = handler;
    return this;
  };
  /**
   * `.mount()` allows you to mount applications built with other frameworks into your Hono application.
   *
   * @see {@link https://hono.dev/docs/api/hono#mount}
   *
   * @param {string} path - base Path
   * @param {Function} applicationHandler - other Request Handler
   * @param {MountOptions} [options] - options of `.mount()`
   * @returns {Hono} mounted Hono instance
   *
   * @example
   * ```ts
   * import { Router as IttyRouter } from 'itty-router'
   * import { Hono } from 'hono'
   * // Create itty-router application
   * const ittyRouter = IttyRouter()
   * // GET /itty-router/hello
   * ittyRouter.get('/hello', () => new Response('Hello from itty-router'))
   *
   * const app = new Hono()
   * app.mount('/itty-router', ittyRouter.handle)
   * ```
   *
   * @example
   * ```ts
   * const app = new Hono()
   * // Send the request to another application without modification.
   * app.mount('/app', anotherApp, {
   *   replaceRequest: (req) => req,
   * })
   * ```
   */
  mount(path, applicationHandler, options) {
    let replaceRequest;
    let optionHandler;
    if (options) {
      if (typeof options === "function") {
        optionHandler = options;
      } else {
        optionHandler = options.optionHandler;
        if (options.replaceRequest === false) {
          replaceRequest = /* @__PURE__ */ __name((request) => request, "replaceRequest");
        } else {
          replaceRequest = options.replaceRequest;
        }
      }
    }
    const getOptions = optionHandler ? (c2) => {
      const options2 = optionHandler(c2);
      return Array.isArray(options2) ? options2 : [options2];
    } : (c2) => {
      let executionContext = void 0;
      try {
        executionContext = c2.executionCtx;
      } catch {
      }
      return [c2.env, executionContext];
    };
    replaceRequest ||= (() => {
      const mergedPath = mergePath(this._basePath, path);
      const pathPrefixLength = mergedPath === "/" ? 0 : mergedPath.length;
      return (request) => {
        const url = new URL(request.url);
        url.pathname = url.pathname.slice(pathPrefixLength) || "/";
        return new Request(url, request);
      };
    })();
    const handler = /* @__PURE__ */ __name(async (c2, next) => {
      const res = await applicationHandler(replaceRequest(c2.req.raw), ...getOptions(c2));
      if (res) {
        return res;
      }
      await next();
    }, "handler");
    this.#addRoute(METHOD_NAME_ALL, mergePath(path, "*"), handler);
    return this;
  }
  #addRoute(method, path, handler) {
    method = method.toUpperCase();
    path = mergePath(this._basePath, path);
    const r2 = { basePath: this._basePath, path, method, handler };
    this.router.add(method, path, [handler, r2]);
    this.routes.push(r2);
  }
  #handleError(err, c2) {
    if (err instanceof Error) {
      return this.errorHandler(err, c2);
    }
    throw err;
  }
  #dispatch(request, executionCtx, env, method) {
    if (method === "HEAD") {
      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, "GET")))();
    }
    const path = this.getPath(request, { env });
    const matchResult = this.router.match(method, path);
    const c2 = new Context(request, {
      path,
      matchResult,
      env,
      executionCtx,
      notFoundHandler: this.#notFoundHandler
    });
    if (matchResult[0].length === 1) {
      let res;
      try {
        res = matchResult[0][0][0][0](c2, async () => {
          c2.res = await this.#notFoundHandler(c2);
        });
      } catch (err) {
        return this.#handleError(err, c2);
      }
      return res instanceof Promise ? res.then(
        (resolved) => resolved || (c2.finalized ? c2.res : this.#notFoundHandler(c2))
      ).catch((err) => this.#handleError(err, c2)) : res ?? this.#notFoundHandler(c2);
    }
    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);
    return (async () => {
      try {
        const context = await composed(c2);
        if (!context.finalized) {
          throw new Error(
            "Context is not finalized. Did you forget to return a Response object or `await next()`?"
          );
        }
        return context.res;
      } catch (err) {
        return this.#handleError(err, c2);
      }
    })();
  }
  /**
   * `.fetch()` will be entry point of your app.
   *
   * @see {@link https://hono.dev/docs/api/hono#fetch}
   *
   * @param {Request} request - request Object of request
   * @param {Env} Env - env Object
   * @param {ExecutionContext} - context of execution
   * @returns {Response | Promise<Response>} response of request
   *
   */
  fetch = (request, ...rest) => {
    return this.#dispatch(request, rest[1], rest[0], request.method);
  };
  /**
   * `.request()` is a useful method for testing.
   * You can pass a URL or pathname to send a GET request.
   * app will return a Response object.
   * ```ts
   * test('GET /hello is ok', async () => {
   *   const res = await app.request('/hello')
   *   expect(res.status).toBe(200)
   * })
   * ```
   * @see https://hono.dev/docs/api/hono#request
   */
  request = (input, requestInit, Env, executionCtx) => {
    if (input instanceof Request) {
      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);
    }
    input = input.toString();
    return this.fetch(
      new Request(
        /^https?:\/\//.test(input) ? input : `http://localhost${mergePath("/", input)}`,
        requestInit
      ),
      Env,
      executionCtx
    );
  };
  /**
   * `.fire()` automatically adds a global fetch event listener.
   * This can be useful for environments that adhere to the Service Worker API, such as non-ES module Cloudflare Workers.
   * @deprecated
   * Use `fire` from `hono/service-worker` instead.
   * ```ts
   * import { Hono } from 'hono'
   * import { fire } from 'hono/service-worker'
   *
   * const app = new Hono()
   * // ...
   * fire(app)
   * ```
   * @see https://hono.dev/docs/api/hono#fire
   * @see https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API
   * @see https://developers.cloudflare.com/workers/reference/migrate-to-module-workers/
   */
  fire = () => {
    addEventListener("fetch", (event) => {
      event.respondWith(this.#dispatch(event.request, event, void 0, event.request.method));
    });
  };
}, "_Hono");

// node_modules/hono/dist/router/reg-exp-router/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/router/reg-exp-router/router.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/router/reg-exp-router/matcher.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var emptyParam = [];
function match(method, path) {
  const matchers = this.buildAllMatchers();
  const match2 = /* @__PURE__ */ __name((method2, path2) => {
    const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];
    const staticMatch = matcher[2][path2];
    if (staticMatch) {
      return staticMatch;
    }
    const match3 = path2.match(matcher[0]);
    if (!match3) {
      return [[], emptyParam];
    }
    const index = match3.indexOf("", 1);
    return [matcher[1][index], match3];
  }, "match2");
  this.match = match2;
  return match2(method, path);
}
__name(match, "match");

// node_modules/hono/dist/router/reg-exp-router/node.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var LABEL_REG_EXP_STR = "[^/]+";
var ONLY_WILDCARD_REG_EXP_STR = ".*";
var TAIL_WILDCARD_REG_EXP_STR = "(?:|/.*)";
var PATH_ERROR = /* @__PURE__ */ Symbol();
var regExpMetaChars = new Set(".\\+*[^]$()");
function compareKey(a2, b2) {
  if (a2.length === 1) {
    return b2.length === 1 ? a2 < b2 ? -1 : 1 : -1;
  }
  if (b2.length === 1) {
    return 1;
  }
  if (a2 === ONLY_WILDCARD_REG_EXP_STR || a2 === TAIL_WILDCARD_REG_EXP_STR) {
    return 1;
  } else if (b2 === ONLY_WILDCARD_REG_EXP_STR || b2 === TAIL_WILDCARD_REG_EXP_STR) {
    return -1;
  }
  if (a2 === LABEL_REG_EXP_STR) {
    return 1;
  } else if (b2 === LABEL_REG_EXP_STR) {
    return -1;
  }
  return a2.length === b2.length ? a2 < b2 ? -1 : 1 : b2.length - a2.length;
}
__name(compareKey, "compareKey");
var Node2 = /* @__PURE__ */ __name(class _Node {
  #index;
  #varIndex;
  #children = /* @__PURE__ */ Object.create(null);
  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {
    if (tokens.length === 0) {
      if (this.#index !== void 0) {
        throw PATH_ERROR;
      }
      if (pathErrorCheckOnly) {
        return;
      }
      this.#index = index;
      return;
    }
    const [token, ...restTokens] = tokens;
    const pattern = token === "*" ? restTokens.length === 0 ? ["", "", ONLY_WILDCARD_REG_EXP_STR] : ["", "", LABEL_REG_EXP_STR] : token === "/*" ? ["", "", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);
    let node;
    if (pattern) {
      const name = pattern[1];
      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;
      if (name && pattern[2]) {
        if (regexpStr === ".*") {
          throw PATH_ERROR;
        }
        regexpStr = regexpStr.replace(/^\((?!\?:)(?=[^)]+\)$)/, "(?:");
        if (/\((?!\?:)/.test(regexpStr)) {
          throw PATH_ERROR;
        }
      }
      node = this.#children[regexpStr];
      if (!node) {
        if (Object.keys(this.#children).some(
          (k2) => k2 !== ONLY_WILDCARD_REG_EXP_STR && k2 !== TAIL_WILDCARD_REG_EXP_STR
        )) {
          throw PATH_ERROR;
        }
        if (pathErrorCheckOnly) {
          return;
        }
        node = this.#children[regexpStr] = new _Node();
        if (name !== "") {
          node.#varIndex = context.varIndex++;
        }
      }
      if (!pathErrorCheckOnly && name !== "") {
        paramMap.push([name, node.#varIndex]);
      }
    } else {
      node = this.#children[token];
      if (!node) {
        if (Object.keys(this.#children).some(
          (k2) => k2.length > 1 && k2 !== ONLY_WILDCARD_REG_EXP_STR && k2 !== TAIL_WILDCARD_REG_EXP_STR
        )) {
          throw PATH_ERROR;
        }
        if (pathErrorCheckOnly) {
          return;
        }
        node = this.#children[token] = new _Node();
      }
    }
    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);
  }
  buildRegExpStr() {
    const childKeys = Object.keys(this.#children).sort(compareKey);
    const strList = childKeys.map((k2) => {
      const c2 = this.#children[k2];
      return (typeof c2.#varIndex === "number" ? `(${k2})@${c2.#varIndex}` : regExpMetaChars.has(k2) ? `\\${k2}` : k2) + c2.buildRegExpStr();
    });
    if (typeof this.#index === "number") {
      strList.unshift(`#${this.#index}`);
    }
    if (strList.length === 0) {
      return "";
    }
    if (strList.length === 1) {
      return strList[0];
    }
    return "(?:" + strList.join("|") + ")";
  }
}, "_Node");

// node_modules/hono/dist/router/reg-exp-router/trie.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var Trie = /* @__PURE__ */ __name(class {
  #context = { varIndex: 0 };
  #root = new Node2();
  insert(path, index, pathErrorCheckOnly) {
    const paramAssoc = [];
    const groups = [];
    for (let i2 = 0; ; ) {
      let replaced = false;
      path = path.replace(/\{[^}]+\}/g, (m2) => {
        const mark = `@\\${i2}`;
        groups[i2] = [mark, m2];
        i2++;
        replaced = true;
        return mark;
      });
      if (!replaced) {
        break;
      }
    }
    const tokens = path.match(/(?::[^\/]+)|(?:\/\*$)|./g) || [];
    for (let i2 = groups.length - 1; i2 >= 0; i2--) {
      const [mark] = groups[i2];
      for (let j2 = tokens.length - 1; j2 >= 0; j2--) {
        if (tokens[j2].indexOf(mark) !== -1) {
          tokens[j2] = tokens[j2].replace(mark, groups[i2][1]);
          break;
        }
      }
    }
    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);
    return paramAssoc;
  }
  buildRegExp() {
    let regexp = this.#root.buildRegExpStr();
    if (regexp === "") {
      return [/^$/, [], []];
    }
    let captureIndex = 0;
    const indexReplacementMap = [];
    const paramReplacementMap = [];
    regexp = regexp.replace(/#(\d+)|@(\d+)|\.\*\$/g, (_, handlerIndex, paramIndex) => {
      if (handlerIndex !== void 0) {
        indexReplacementMap[++captureIndex] = Number(handlerIndex);
        return "$()";
      }
      if (paramIndex !== void 0) {
        paramReplacementMap[Number(paramIndex)] = ++captureIndex;
        return "";
      }
      return "";
    });
    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];
  }
}, "Trie");

// node_modules/hono/dist/router/reg-exp-router/router.js
var nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];
var wildcardRegExpCache = /* @__PURE__ */ Object.create(null);
function buildWildcardRegExp(path) {
  return wildcardRegExpCache[path] ??= new RegExp(
    path === "*" ? "" : `^${path.replace(
      /\/\*$|([.\\+*[^\]$()])/g,
      (_, metaChar) => metaChar ? `\\${metaChar}` : "(?:|/.*)"
    )}$`
  );
}
__name(buildWildcardRegExp, "buildWildcardRegExp");
function clearWildcardRegExpCache() {
  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);
}
__name(clearWildcardRegExpCache, "clearWildcardRegExpCache");
function buildMatcherFromPreprocessedRoutes(routes) {
  const trie = new Trie();
  const handlerData = [];
  if (routes.length === 0) {
    return nullMatcher;
  }
  const routesWithStaticPathFlag = routes.map(
    (route) => [!/\*|\/:/.test(route[0]), ...route]
  ).sort(
    ([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length
  );
  const staticMap = /* @__PURE__ */ Object.create(null);
  for (let i2 = 0, j2 = -1, len = routesWithStaticPathFlag.length; i2 < len; i2++) {
    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i2];
    if (pathErrorCheckOnly) {
      staticMap[path] = [handlers.map(([h2]) => [h2, /* @__PURE__ */ Object.create(null)]), emptyParam];
    } else {
      j2++;
    }
    let paramAssoc;
    try {
      paramAssoc = trie.insert(path, j2, pathErrorCheckOnly);
    } catch (e2) {
      throw e2 === PATH_ERROR ? new UnsupportedPathError(path) : e2;
    }
    if (pathErrorCheckOnly) {
      continue;
    }
    handlerData[j2] = handlers.map(([h2, paramCount]) => {
      const paramIndexMap = /* @__PURE__ */ Object.create(null);
      paramCount -= 1;
      for (; paramCount >= 0; paramCount--) {
        const [key, value] = paramAssoc[paramCount];
        paramIndexMap[key] = value;
      }
      return [h2, paramIndexMap];
    });
  }
  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();
  for (let i2 = 0, len = handlerData.length; i2 < len; i2++) {
    for (let j2 = 0, len2 = handlerData[i2].length; j2 < len2; j2++) {
      const map = handlerData[i2][j2]?.[1];
      if (!map) {
        continue;
      }
      const keys = Object.keys(map);
      for (let k2 = 0, len3 = keys.length; k2 < len3; k2++) {
        map[keys[k2]] = paramReplacementMap[map[keys[k2]]];
      }
    }
  }
  const handlerMap = [];
  for (const i2 in indexReplacementMap) {
    handlerMap[i2] = handlerData[indexReplacementMap[i2]];
  }
  return [regexp, handlerMap, staticMap];
}
__name(buildMatcherFromPreprocessedRoutes, "buildMatcherFromPreprocessedRoutes");
function findMiddleware(middleware, path) {
  if (!middleware) {
    return void 0;
  }
  for (const k2 of Object.keys(middleware).sort((a2, b2) => b2.length - a2.length)) {
    if (buildWildcardRegExp(k2).test(path)) {
      return [...middleware[k2]];
    }
  }
  return void 0;
}
__name(findMiddleware, "findMiddleware");
var RegExpRouter = /* @__PURE__ */ __name(class {
  name = "RegExpRouter";
  #middleware;
  #routes;
  constructor() {
    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };
    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };
  }
  add(method, path, handler) {
    const middleware = this.#middleware;
    const routes = this.#routes;
    if (!middleware || !routes) {
      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);
    }
    if (!middleware[method]) {
      ;
      [middleware, routes].forEach((handlerMap) => {
        handlerMap[method] = /* @__PURE__ */ Object.create(null);
        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p2) => {
          handlerMap[method][p2] = [...handlerMap[METHOD_NAME_ALL][p2]];
        });
      });
    }
    if (path === "/*") {
      path = "*";
    }
    const paramCount = (path.match(/\/:/g) || []).length;
    if (/\*$/.test(path)) {
      const re = buildWildcardRegExp(path);
      if (method === METHOD_NAME_ALL) {
        Object.keys(middleware).forEach((m2) => {
          middleware[m2][path] ||= findMiddleware(middleware[m2], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];
        });
      } else {
        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];
      }
      Object.keys(middleware).forEach((m2) => {
        if (method === METHOD_NAME_ALL || method === m2) {
          Object.keys(middleware[m2]).forEach((p2) => {
            re.test(p2) && middleware[m2][p2].push([handler, paramCount]);
          });
        }
      });
      Object.keys(routes).forEach((m2) => {
        if (method === METHOD_NAME_ALL || method === m2) {
          Object.keys(routes[m2]).forEach(
            (p2) => re.test(p2) && routes[m2][p2].push([handler, paramCount])
          );
        }
      });
      return;
    }
    const paths = checkOptionalParameter(path) || [path];
    for (let i2 = 0, len = paths.length; i2 < len; i2++) {
      const path2 = paths[i2];
      Object.keys(routes).forEach((m2) => {
        if (method === METHOD_NAME_ALL || method === m2) {
          routes[m2][path2] ||= [
            ...findMiddleware(middleware[m2], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []
          ];
          routes[m2][path2].push([handler, paramCount - len + i2 + 1]);
        }
      });
    }
  }
  match = match;
  buildAllMatchers() {
    const matchers = /* @__PURE__ */ Object.create(null);
    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {
      matchers[method] ||= this.#buildMatcher(method);
    });
    this.#middleware = this.#routes = void 0;
    clearWildcardRegExpCache();
    return matchers;
  }
  #buildMatcher(method) {
    const routes = [];
    let hasOwnRoute = method === METHOD_NAME_ALL;
    [this.#middleware, this.#routes].forEach((r2) => {
      const ownRoute = r2[method] ? Object.keys(r2[method]).map((path) => [path, r2[method][path]]) : [];
      if (ownRoute.length !== 0) {
        hasOwnRoute ||= true;
        routes.push(...ownRoute);
      } else if (method !== METHOD_NAME_ALL) {
        routes.push(
          ...Object.keys(r2[METHOD_NAME_ALL]).map((path) => [path, r2[METHOD_NAME_ALL][path]])
        );
      }
    });
    if (!hasOwnRoute) {
      return null;
    } else {
      return buildMatcherFromPreprocessedRoutes(routes);
    }
  }
}, "RegExpRouter");

// node_modules/hono/dist/router/reg-exp-router/prepared-router.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/router/smart-router/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/router/smart-router/router.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SmartRouter = /* @__PURE__ */ __name(class {
  name = "SmartRouter";
  #routers = [];
  #routes = [];
  constructor(init) {
    this.#routers = init.routers;
  }
  add(method, path, handler) {
    if (!this.#routes) {
      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);
    }
    this.#routes.push([method, path, handler]);
  }
  match(method, path) {
    if (!this.#routes) {
      throw new Error("Fatal error");
    }
    const routers = this.#routers;
    const routes = this.#routes;
    const len = routers.length;
    let i2 = 0;
    let res;
    for (; i2 < len; i2++) {
      const router = routers[i2];
      try {
        for (let i22 = 0, len2 = routes.length; i22 < len2; i22++) {
          router.add(...routes[i22]);
        }
        res = router.match(method, path);
      } catch (e2) {
        if (e2 instanceof UnsupportedPathError) {
          continue;
        }
        throw e2;
      }
      this.match = router.match.bind(router);
      this.#routers = [router];
      this.#routes = void 0;
      break;
    }
    if (i2 === len) {
      throw new Error("Fatal error");
    }
    this.name = `SmartRouter + ${this.activeRouter.name}`;
    return res;
  }
  get activeRouter() {
    if (this.#routes || this.#routers.length !== 1) {
      throw new Error("No active router has been determined yet.");
    }
    return this.#routers[0];
  }
}, "SmartRouter");

// node_modules/hono/dist/router/trie-router/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/router/trie-router/router.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/hono/dist/router/trie-router/node.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var emptyParams = /* @__PURE__ */ Object.create(null);
var Node3 = /* @__PURE__ */ __name(class _Node2 {
  #methods;
  #children;
  #patterns;
  #order = 0;
  #params = emptyParams;
  constructor(method, handler, children) {
    this.#children = children || /* @__PURE__ */ Object.create(null);
    this.#methods = [];
    if (method && handler) {
      const m2 = /* @__PURE__ */ Object.create(null);
      m2[method] = { handler, possibleKeys: [], score: 0 };
      this.#methods = [m2];
    }
    this.#patterns = [];
  }
  insert(method, path, handler) {
    this.#order = ++this.#order;
    let curNode = this;
    const parts = splitRoutingPath(path);
    const possibleKeys = [];
    for (let i2 = 0, len = parts.length; i2 < len; i2++) {
      const p2 = parts[i2];
      const nextP = parts[i2 + 1];
      const pattern = getPattern(p2, nextP);
      const key = Array.isArray(pattern) ? pattern[0] : p2;
      if (key in curNode.#children) {
        curNode = curNode.#children[key];
        if (pattern) {
          possibleKeys.push(pattern[1]);
        }
        continue;
      }
      curNode.#children[key] = new _Node2();
      if (pattern) {
        curNode.#patterns.push(pattern);
        possibleKeys.push(pattern[1]);
      }
      curNode = curNode.#children[key];
    }
    curNode.#methods.push({
      [method]: {
        handler,
        possibleKeys: possibleKeys.filter((v2, i2, a2) => a2.indexOf(v2) === i2),
        score: this.#order
      }
    });
    return curNode;
  }
  #getHandlerSets(node, method, nodeParams, params) {
    const handlerSets = [];
    for (let i2 = 0, len = node.#methods.length; i2 < len; i2++) {
      const m2 = node.#methods[i2];
      const handlerSet = m2[method] || m2[METHOD_NAME_ALL];
      const processedSet = {};
      if (handlerSet !== void 0) {
        handlerSet.params = /* @__PURE__ */ Object.create(null);
        handlerSets.push(handlerSet);
        if (nodeParams !== emptyParams || params && params !== emptyParams) {
          for (let i22 = 0, len2 = handlerSet.possibleKeys.length; i22 < len2; i22++) {
            const key = handlerSet.possibleKeys[i22];
            const processed = processedSet[handlerSet.score];
            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];
            processedSet[handlerSet.score] = true;
          }
        }
      }
    }
    return handlerSets;
  }
  search(method, path) {
    const handlerSets = [];
    this.#params = emptyParams;
    const curNode = this;
    let curNodes = [curNode];
    const parts = splitPath(path);
    const curNodesQueue = [];
    for (let i2 = 0, len = parts.length; i2 < len; i2++) {
      const part = parts[i2];
      const isLast = i2 === len - 1;
      const tempNodes = [];
      for (let j2 = 0, len2 = curNodes.length; j2 < len2; j2++) {
        const node = curNodes[j2];
        const nextNode = node.#children[part];
        if (nextNode) {
          nextNode.#params = node.#params;
          if (isLast) {
            if (nextNode.#children["*"]) {
              handlerSets.push(
                ...this.#getHandlerSets(nextNode.#children["*"], method, node.#params)
              );
            }
            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));
          } else {
            tempNodes.push(nextNode);
          }
        }
        for (let k2 = 0, len3 = node.#patterns.length; k2 < len3; k2++) {
          const pattern = node.#patterns[k2];
          const params = node.#params === emptyParams ? {} : { ...node.#params };
          if (pattern === "*") {
            const astNode = node.#children["*"];
            if (astNode) {
              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));
              astNode.#params = params;
              tempNodes.push(astNode);
            }
            continue;
          }
          const [key, name, matcher] = pattern;
          if (!part && !(matcher instanceof RegExp)) {
            continue;
          }
          const child = node.#children[key];
          const restPathString = parts.slice(i2).join("/");
          if (matcher instanceof RegExp) {
            const m2 = matcher.exec(restPathString);
            if (m2) {
              params[name] = m2[0];
              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));
              if (Object.keys(child.#children).length) {
                child.#params = params;
                const componentCount = m2[0].match(/\//)?.length ?? 0;
                const targetCurNodes = curNodesQueue[componentCount] ||= [];
                targetCurNodes.push(child);
              }
              continue;
            }
          }
          if (matcher === true || matcher.test(part)) {
            params[name] = part;
            if (isLast) {
              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));
              if (child.#children["*"]) {
                handlerSets.push(
                  ...this.#getHandlerSets(child.#children["*"], method, params, node.#params)
                );
              }
            } else {
              child.#params = params;
              tempNodes.push(child);
            }
          }
        }
      }
      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);
    }
    if (handlerSets.length > 1) {
      handlerSets.sort((a2, b2) => {
        return a2.score - b2.score;
      });
    }
    return [handlerSets.map(({ handler, params }) => [handler, params])];
  }
}, "_Node");

// node_modules/hono/dist/router/trie-router/router.js
var TrieRouter = /* @__PURE__ */ __name(class {
  name = "TrieRouter";
  #node;
  constructor() {
    this.#node = new Node3();
  }
  add(method, path, handler) {
    const results = checkOptionalParameter(path);
    if (results) {
      for (let i2 = 0, len = results.length; i2 < len; i2++) {
        this.#node.insert(method, results[i2], handler);
      }
      return;
    }
    this.#node.insert(method, path, handler);
  }
  match(method, path) {
    return this.#node.search(method, path);
  }
}, "TrieRouter");

// node_modules/hono/dist/hono.js
var Hono2 = /* @__PURE__ */ __name(class extends Hono {
  /**
   * Creates an instance of the Hono class.
   *
   * @param options - Optional configuration options for the Hono instance.
   */
  constructor(options = {}) {
    super(options);
    this.router = options.router ?? new SmartRouter({
      routers: [new RegExpRouter(), new TrieRouter()]
    });
  }
}, "Hono");

// node_modules/hono/dist/middleware/cors/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var cors = /* @__PURE__ */ __name((options) => {
  const defaults = {
    origin: "*",
    allowMethods: ["GET", "HEAD", "PUT", "POST", "DELETE", "PATCH"],
    allowHeaders: [],
    exposeHeaders: []
  };
  const opts = {
    ...defaults,
    ...options
  };
  const findAllowOrigin = ((optsOrigin) => {
    if (typeof optsOrigin === "string") {
      if (optsOrigin === "*") {
        return () => optsOrigin;
      } else {
        return (origin) => optsOrigin === origin ? origin : null;
      }
    } else if (typeof optsOrigin === "function") {
      return optsOrigin;
    } else {
      return (origin) => optsOrigin.includes(origin) ? origin : null;
    }
  })(opts.origin);
  const findAllowMethods = ((optsAllowMethods) => {
    if (typeof optsAllowMethods === "function") {
      return optsAllowMethods;
    } else if (Array.isArray(optsAllowMethods)) {
      return () => optsAllowMethods;
    } else {
      return () => [];
    }
  })(opts.allowMethods);
  return /* @__PURE__ */ __name(async function cors2(c2, next) {
    function set(key, value) {
      c2.res.headers.set(key, value);
    }
    __name(set, "set");
    const allowOrigin = await findAllowOrigin(c2.req.header("origin") || "", c2);
    if (allowOrigin) {
      set("Access-Control-Allow-Origin", allowOrigin);
    }
    if (opts.credentials) {
      set("Access-Control-Allow-Credentials", "true");
    }
    if (opts.exposeHeaders?.length) {
      set("Access-Control-Expose-Headers", opts.exposeHeaders.join(","));
    }
    if (c2.req.method === "OPTIONS") {
      if (opts.origin !== "*") {
        set("Vary", "Origin");
      }
      if (opts.maxAge != null) {
        set("Access-Control-Max-Age", opts.maxAge.toString());
      }
      const allowMethods = await findAllowMethods(c2.req.header("origin") || "", c2);
      if (allowMethods.length) {
        set("Access-Control-Allow-Methods", allowMethods.join(","));
      }
      let headers = opts.allowHeaders;
      if (!headers?.length) {
        const requestHeaders = c2.req.header("Access-Control-Request-Headers");
        if (requestHeaders) {
          headers = requestHeaders.split(/\s*,\s*/);
        }
      }
      if (headers?.length) {
        set("Access-Control-Allow-Headers", headers.join(","));
        c2.res.headers.append("Vary", "Access-Control-Request-Headers");
      }
      c2.res.headers.delete("Content-Length");
      c2.res.headers.delete("Content-Type");
      return new Response(null, {
        headers: c2.res.headers,
        status: 204,
        statusText: "No Content"
      });
    }
    await next();
    if (opts.origin !== "*") {
      c2.header("Vary", "Origin", { append: true });
    }
  }, "cors2");
}, "cors");

// src/index.ts
var import_mongoose = __toESM(require_browser_umd());

// node_modules/@aws-sdk/client-s3/dist-es/S3Client.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-expect-continue/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/protocol-http/dist-es/extensions/httpExtensionConfiguration.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getHttpHandlerExtensionConfiguration = /* @__PURE__ */ __name((runtimeConfig) => {
  return {
    setHttpHandler(handler) {
      runtimeConfig.httpHandler = handler;
    },
    httpHandler() {
      return runtimeConfig.httpHandler;
    },
    updateHttpClientConfig(key, value) {
      runtimeConfig.httpHandler?.updateHttpClientConfig(key, value);
    },
    httpHandlerConfigs() {
      return runtimeConfig.httpHandler.httpHandlerConfigs();
    }
  };
}, "getHttpHandlerExtensionConfiguration");
var resolveHttpHandlerRuntimeConfig = /* @__PURE__ */ __name((httpHandlerExtensionConfiguration) => {
  return {
    httpHandler: httpHandlerExtensionConfiguration.httpHandler()
  };
}, "resolveHttpHandlerRuntimeConfig");

// node_modules/@smithy/types/dist-es/endpoint.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var EndpointURLScheme;
(function(EndpointURLScheme2) {
  EndpointURLScheme2["HTTP"] = "http";
  EndpointURLScheme2["HTTPS"] = "https";
})(EndpointURLScheme || (EndpointURLScheme = {}));

// node_modules/@smithy/types/dist-es/extensions/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/types/dist-es/extensions/checksum.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var AlgorithmId;
(function(AlgorithmId2) {
  AlgorithmId2["MD5"] = "md5";
  AlgorithmId2["CRC32"] = "crc32";
  AlgorithmId2["CRC32C"] = "crc32c";
  AlgorithmId2["SHA1"] = "sha1";
  AlgorithmId2["SHA256"] = "sha256";
})(AlgorithmId || (AlgorithmId = {}));

// node_modules/@smithy/types/dist-es/middleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SMITHY_CONTEXT_KEY = "__smithy_context";

// node_modules/@smithy/protocol-http/dist-es/httpRequest.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var HttpRequest = class {
  method;
  protocol;
  hostname;
  port;
  path;
  query;
  headers;
  username;
  password;
  fragment;
  body;
  constructor(options) {
    this.method = options.method || "GET";
    this.hostname = options.hostname || "localhost";
    this.port = options.port;
    this.query = options.query || {};
    this.headers = options.headers || {};
    this.body = options.body;
    this.protocol = options.protocol ? options.protocol.slice(-1) !== ":" ? `${options.protocol}:` : options.protocol : "https:";
    this.path = options.path ? options.path.charAt(0) !== "/" ? `/${options.path}` : options.path : "/";
    this.username = options.username;
    this.password = options.password;
    this.fragment = options.fragment;
  }
  static clone(request) {
    const cloned = new HttpRequest({
      ...request,
      headers: { ...request.headers }
    });
    if (cloned.query) {
      cloned.query = cloneQuery(cloned.query);
    }
    return cloned;
  }
  static isInstance(request) {
    if (!request) {
      return false;
    }
    const req = request;
    return "method" in req && "protocol" in req && "hostname" in req && "path" in req && typeof req["query"] === "object" && typeof req["headers"] === "object";
  }
  clone() {
    return HttpRequest.clone(this);
  }
};
__name(HttpRequest, "HttpRequest");
function cloneQuery(query) {
  return Object.keys(query).reduce((carry, paramName) => {
    const param = query[paramName];
    return {
      ...carry,
      [paramName]: Array.isArray(param) ? [...param] : param
    };
  }, {});
}
__name(cloneQuery, "cloneQuery");

// node_modules/@smithy/protocol-http/dist-es/httpResponse.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var HttpResponse = class {
  statusCode;
  reason;
  headers;
  body;
  constructor(options) {
    this.statusCode = options.statusCode;
    this.reason = options.reason;
    this.headers = options.headers || {};
    this.body = options.body;
  }
  static isInstance(response) {
    if (!response)
      return false;
    const resp = response;
    return typeof resp.statusCode === "number" && typeof resp.headers === "object";
  }
};
__name(HttpResponse, "HttpResponse");

// node_modules/@aws-sdk/middleware-expect-continue/dist-es/index.js
function addExpectContinueMiddleware(options) {
  return (next) => async (args) => {
    const { request } = args;
    if (options.expectContinueHeader !== false && HttpRequest.isInstance(request) && request.body && options.runtime === "node" && options.requestHandler?.constructor?.name !== "FetchHttpHandler") {
      let sendHeader = true;
      if (typeof options.expectContinueHeader === "number") {
        try {
          const bodyLength = Number(request.headers?.["content-length"]) ?? options.bodyLengthChecker?.(request.body) ?? Infinity;
          sendHeader = bodyLength >= options.expectContinueHeader;
        } catch (e2) {
        }
      } else {
        sendHeader = !!options.expectContinueHeader;
      }
      if (sendHeader) {
        request.headers.Expect = "100-continue";
      }
    }
    return next({
      ...args,
      request
    });
  };
}
__name(addExpectContinueMiddleware, "addExpectContinueMiddleware");
var addExpectContinueMiddlewareOptions = {
  step: "build",
  tags: ["SET_EXPECT_HEADER", "EXPECT_HEADER"],
  name: "addExpectContinueMiddleware",
  override: true
};
var getAddExpectContinuePlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(addExpectContinueMiddleware(options), addExpectContinueMiddlewareOptions);
  }
}), "getAddExpectContinuePlugin");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var RequestChecksumCalculation = {
  WHEN_SUPPORTED: "WHEN_SUPPORTED",
  WHEN_REQUIRED: "WHEN_REQUIRED"
};
var DEFAULT_REQUEST_CHECKSUM_CALCULATION = RequestChecksumCalculation.WHEN_SUPPORTED;
var ResponseChecksumValidation = {
  WHEN_SUPPORTED: "WHEN_SUPPORTED",
  WHEN_REQUIRED: "WHEN_REQUIRED"
};
var DEFAULT_RESPONSE_CHECKSUM_VALIDATION = RequestChecksumCalculation.WHEN_SUPPORTED;
var ChecksumAlgorithm;
(function(ChecksumAlgorithm2) {
  ChecksumAlgorithm2["MD5"] = "MD5";
  ChecksumAlgorithm2["CRC32"] = "CRC32";
  ChecksumAlgorithm2["CRC32C"] = "CRC32C";
  ChecksumAlgorithm2["CRC64NVME"] = "CRC64NVME";
  ChecksumAlgorithm2["SHA1"] = "SHA1";
  ChecksumAlgorithm2["SHA256"] = "SHA256";
})(ChecksumAlgorithm || (ChecksumAlgorithm = {}));
var ChecksumLocation;
(function(ChecksumLocation2) {
  ChecksumLocation2["HEADER"] = "header";
  ChecksumLocation2["TRAILER"] = "trailer";
})(ChecksumLocation || (ChecksumLocation = {}));
var DEFAULT_CHECKSUM_ALGORITHM = ChecksumAlgorithm.CRC32;

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/crc64-nvme-crt-container.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var crc64NvmeCrtContainer = {
  CrtCrc64Nvme: null
};

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/flexibleChecksumsMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/core/dist-es/submodules/client/setCredentialFeature.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function setCredentialFeature(credentials, feature, value) {
  if (!credentials.$source) {
    credentials.$source = {};
  }
  credentials.$source[feature] = value;
  return credentials;
}
__name(setCredentialFeature, "setCredentialFeature");

// node_modules/@aws-sdk/core/dist-es/submodules/client/setFeature.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function setFeature(context, feature, value) {
  if (!context.__aws_sdk_context) {
    context.__aws_sdk_context = {
      features: {}
    };
  } else if (!context.__aws_sdk_context.features) {
    context.__aws_sdk_context.features = {};
  }
  context.__aws_sdk_context.features[feature] = value;
}
__name(setFeature, "setFeature");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4Signer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getDateHeader.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getDateHeader = /* @__PURE__ */ __name((response) => HttpResponse.isInstance(response) ? response.headers?.date ?? response.headers?.Date : void 0, "getDateHeader");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getSkewCorrectedDate.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getSkewCorrectedDate = /* @__PURE__ */ __name((systemClockOffset) => new Date(Date.now() + systemClockOffset), "getSkewCorrectedDate");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getUpdatedSystemClockOffset.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/isClockSkewed.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isClockSkewed = /* @__PURE__ */ __name((clockTime, systemClockOffset) => Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - clockTime) >= 3e5, "isClockSkewed");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getUpdatedSystemClockOffset.js
var getUpdatedSystemClockOffset = /* @__PURE__ */ __name((clockTime, currentSystemClockOffset) => {
  const clockTimeInMs = Date.parse(clockTime);
  if (isClockSkewed(clockTimeInMs, currentSystemClockOffset)) {
    return clockTimeInMs - Date.now();
  }
  return currentSystemClockOffset;
}, "getUpdatedSystemClockOffset");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4Signer.js
var throwSigningPropertyError = /* @__PURE__ */ __name((name, property) => {
  if (!property) {
    throw new Error(`Property \`${name}\` is not resolved for AWS SDK SigV4Auth`);
  }
  return property;
}, "throwSigningPropertyError");
var validateSigningProperties = /* @__PURE__ */ __name(async (signingProperties) => {
  const context = throwSigningPropertyError("context", signingProperties.context);
  const config = throwSigningPropertyError("config", signingProperties.config);
  const authScheme = context.endpointV2?.properties?.authSchemes?.[0];
  const signerFunction = throwSigningPropertyError("signer", config.signer);
  const signer = await signerFunction(authScheme);
  const signingRegion = signingProperties?.signingRegion;
  const signingRegionSet = signingProperties?.signingRegionSet;
  const signingName = signingProperties?.signingName;
  return {
    config,
    signer,
    signingRegion,
    signingRegionSet,
    signingName
  };
}, "validateSigningProperties");
var AwsSdkSigV4Signer = class {
  async sign(httpRequest, identity, signingProperties) {
    if (!HttpRequest.isInstance(httpRequest)) {
      throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");
    }
    const validatedProps = await validateSigningProperties(signingProperties);
    const { config, signer } = validatedProps;
    let { signingRegion, signingName } = validatedProps;
    const handlerExecutionContext = signingProperties.context;
    if (handlerExecutionContext?.authSchemes?.length ?? 0 > 1) {
      const [first, second] = handlerExecutionContext.authSchemes;
      if (first?.name === "sigv4a" && second?.name === "sigv4") {
        signingRegion = second?.signingRegion ?? signingRegion;
        signingName = second?.signingName ?? signingName;
      }
    }
    const signedRequest = await signer.sign(httpRequest, {
      signingDate: getSkewCorrectedDate(config.systemClockOffset),
      signingRegion,
      signingService: signingName
    });
    return signedRequest;
  }
  errorHandler(signingProperties) {
    return (error) => {
      const serverTime = error.ServerTime ?? getDateHeader(error.$response);
      if (serverTime) {
        const config = throwSigningPropertyError("config", signingProperties.config);
        const initialSystemClockOffset = config.systemClockOffset;
        config.systemClockOffset = getUpdatedSystemClockOffset(serverTime, config.systemClockOffset);
        const clockSkewCorrected = config.systemClockOffset !== initialSystemClockOffset;
        if (clockSkewCorrected && error.$metadata) {
          error.$metadata.clockSkewCorrected = true;
        }
      }
      throw error;
    };
  }
  successHandler(httpResponse, signingProperties) {
    const dateHeader = getDateHeader(httpResponse);
    if (dateHeader) {
      const config = throwSigningPropertyError("config", signingProperties.config);
      config.systemClockOffset = getUpdatedSystemClockOffset(dateHeader, config.systemClockOffset);
    }
  }
};
__name(AwsSdkSigV4Signer, "AwsSdkSigV4Signer");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4ASigner.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var AwsSdkSigV4ASigner = class extends AwsSdkSigV4Signer {
  async sign(httpRequest, identity, signingProperties) {
    if (!HttpRequest.isInstance(httpRequest)) {
      throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");
    }
    const { config, signer, signingRegion, signingRegionSet, signingName } = await validateSigningProperties(signingProperties);
    const configResolvedSigningRegionSet = await config.sigv4aSigningRegionSet?.();
    const multiRegionOverride = (configResolvedSigningRegionSet ?? signingRegionSet ?? [signingRegion]).join(",");
    const signedRequest = await signer.sign(httpRequest, {
      signingDate: getSkewCorrectedDate(config.systemClockOffset),
      signingRegion: multiRegionOverride,
      signingService: signingName
    });
    return signedRequest;
  }
};
__name(AwsSdkSigV4ASigner, "AwsSdkSigV4ASigner");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4AConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/httpAuthSchemeMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-middleware/dist-es/getSmithyContext.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getSmithyContext = /* @__PURE__ */ __name((context) => context[SMITHY_CONTEXT_KEY] || (context[SMITHY_CONTEXT_KEY] = {}), "getSmithyContext");

// node_modules/@smithy/util-middleware/dist-es/normalizeProvider.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var normalizeProvider = /* @__PURE__ */ __name((input) => {
  if (typeof input === "function")
    return input;
  const promisified = Promise.resolve(input);
  return () => promisified;
}, "normalizeProvider");

// node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/resolveAuthOptions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveAuthOptions = /* @__PURE__ */ __name((candidateAuthOptions, authSchemePreference) => {
  if (!authSchemePreference || authSchemePreference.length === 0) {
    return candidateAuthOptions;
  }
  const preferredAuthOptions = [];
  for (const preferredSchemeName of authSchemePreference) {
    for (const candidateAuthOption of candidateAuthOptions) {
      const candidateAuthSchemeName = candidateAuthOption.schemeId.split("#")[1];
      if (candidateAuthSchemeName === preferredSchemeName) {
        preferredAuthOptions.push(candidateAuthOption);
      }
    }
  }
  for (const candidateAuthOption of candidateAuthOptions) {
    if (!preferredAuthOptions.find(({ schemeId }) => schemeId === candidateAuthOption.schemeId)) {
      preferredAuthOptions.push(candidateAuthOption);
    }
  }
  return preferredAuthOptions;
}, "resolveAuthOptions");

// node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/httpAuthSchemeMiddleware.js
function convertHttpAuthSchemesToMap(httpAuthSchemes) {
  const map = /* @__PURE__ */ new Map();
  for (const scheme of httpAuthSchemes) {
    map.set(scheme.schemeId, scheme);
  }
  return map;
}
__name(convertHttpAuthSchemesToMap, "convertHttpAuthSchemesToMap");
var httpAuthSchemeMiddleware = /* @__PURE__ */ __name((config, mwOptions) => (next, context) => async (args) => {
  const options = config.httpAuthSchemeProvider(await mwOptions.httpAuthSchemeParametersProvider(config, context, args.input));
  const authSchemePreference = config.authSchemePreference ? await config.authSchemePreference() : [];
  const resolvedOptions = resolveAuthOptions(options, authSchemePreference);
  const authSchemes = convertHttpAuthSchemesToMap(config.httpAuthSchemes);
  const smithyContext = getSmithyContext(context);
  const failureReasons = [];
  for (const option of resolvedOptions) {
    const scheme = authSchemes.get(option.schemeId);
    if (!scheme) {
      failureReasons.push(`HttpAuthScheme \`${option.schemeId}\` was not enabled for this service.`);
      continue;
    }
    const identityProvider = scheme.identityProvider(await mwOptions.identityProviderConfigProvider(config));
    if (!identityProvider) {
      failureReasons.push(`HttpAuthScheme \`${option.schemeId}\` did not have an IdentityProvider configured.`);
      continue;
    }
    const { identityProperties = {}, signingProperties = {} } = option.propertiesExtractor?.(config, context) || {};
    option.identityProperties = Object.assign(option.identityProperties || {}, identityProperties);
    option.signingProperties = Object.assign(option.signingProperties || {}, signingProperties);
    smithyContext.selectedHttpAuthScheme = {
      httpAuthOption: option,
      identity: await identityProvider(option.identityProperties),
      signer: scheme.signer
    };
    break;
  }
  if (!smithyContext.selectedHttpAuthScheme) {
    throw new Error(failureReasons.join("\n"));
  }
  return next(args);
}, "httpAuthSchemeMiddleware");

// node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/getHttpAuthSchemeEndpointRuleSetPlugin.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var httpAuthSchemeEndpointRuleSetMiddlewareOptions = {
  step: "serialize",
  tags: ["HTTP_AUTH_SCHEME"],
  name: "httpAuthSchemeMiddleware",
  override: true,
  relation: "before",
  toMiddleware: "endpointV2Middleware"
};
var getHttpAuthSchemeEndpointRuleSetPlugin = /* @__PURE__ */ __name((config, { httpAuthSchemeParametersProvider, identityProviderConfigProvider }) => ({
  applyToStack: (clientStack) => {
    clientStack.addRelativeTo(httpAuthSchemeMiddleware(config, {
      httpAuthSchemeParametersProvider,
      identityProviderConfigProvider
    }), httpAuthSchemeEndpointRuleSetMiddlewareOptions);
  }
}), "getHttpAuthSchemeEndpointRuleSetPlugin");

// node_modules/@smithy/middleware-serde/dist-es/serdePlugin.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var serializerMiddlewareOption = {
  name: "serializerMiddleware",
  step: "serialize",
  tags: ["SERIALIZER"],
  override: true
};

// node_modules/@smithy/core/dist-es/middleware-http-signing/httpSigningMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var defaultErrorHandler = /* @__PURE__ */ __name((signingProperties) => (error) => {
  throw error;
}, "defaultErrorHandler");
var defaultSuccessHandler = /* @__PURE__ */ __name((httpResponse, signingProperties) => {
}, "defaultSuccessHandler");
var httpSigningMiddleware = /* @__PURE__ */ __name((config) => (next, context) => async (args) => {
  if (!HttpRequest.isInstance(args.request)) {
    return next(args);
  }
  const smithyContext = getSmithyContext(context);
  const scheme = smithyContext.selectedHttpAuthScheme;
  if (!scheme) {
    throw new Error(`No HttpAuthScheme was selected: unable to sign request`);
  }
  const { httpAuthOption: { signingProperties = {} }, identity, signer } = scheme;
  const output = await next({
    ...args,
    request: await signer.sign(args.request, identity, signingProperties)
  }).catch((signer.errorHandler || defaultErrorHandler)(signingProperties));
  (signer.successHandler || defaultSuccessHandler)(output.response, signingProperties);
  return output;
}, "httpSigningMiddleware");

// node_modules/@smithy/core/dist-es/middleware-http-signing/getHttpSigningMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var httpSigningMiddlewareOptions = {
  step: "finalizeRequest",
  tags: ["HTTP_SIGNING"],
  name: "httpSigningMiddleware",
  aliases: ["apiKeyMiddleware", "tokenMiddleware", "awsAuthMiddleware"],
  override: true,
  relation: "after",
  toMiddleware: "retryMiddleware"
};
var getHttpSigningPlugin = /* @__PURE__ */ __name((config) => ({
  applyToStack: (clientStack) => {
    clientStack.addRelativeTo(httpSigningMiddleware(config), httpSigningMiddlewareOptions);
  }
}), "getHttpSigningPlugin");

// node_modules/@smithy/core/dist-es/normalizeProvider.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var normalizeProvider2 = /* @__PURE__ */ __name((input) => {
  if (typeof input === "function")
    return input;
  const promisified = Promise.resolve(input);
  return () => promisified;
}, "normalizeProvider");

// node_modules/@smithy/core/dist-es/submodules/protocols/collect-stream-body.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-stream/dist-es/blob/Uint8ArrayBlobAdapter.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-base64/dist-es/fromBase64.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-base64/dist-es/constants.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var chars = `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`;
var alphabetByEncoding = Object.entries(chars).reduce((acc, [i2, c2]) => {
  acc[c2] = Number(i2);
  return acc;
}, {});
var alphabetByValue = chars.split("");
var bitsPerLetter = 6;
var bitsPerByte = 8;
var maxLetterValue = 63;

// node_modules/@smithy/util-base64/dist-es/fromBase64.browser.js
var fromBase64 = /* @__PURE__ */ __name((input) => {
  let totalByteLength = input.length / 4 * 3;
  if (input.slice(-2) === "==") {
    totalByteLength -= 2;
  } else if (input.slice(-1) === "=") {
    totalByteLength--;
  }
  const out = new ArrayBuffer(totalByteLength);
  const dataView = new DataView(out);
  for (let i2 = 0; i2 < input.length; i2 += 4) {
    let bits = 0;
    let bitLength = 0;
    for (let j2 = i2, limit = i2 + 3; j2 <= limit; j2++) {
      if (input[j2] !== "=") {
        if (!(input[j2] in alphabetByEncoding)) {
          throw new TypeError(`Invalid character ${input[j2]} in base64 string.`);
        }
        bits |= alphabetByEncoding[input[j2]] << (limit - j2) * bitsPerLetter;
        bitLength += bitsPerLetter;
      } else {
        bits >>= bitsPerLetter;
      }
    }
    const chunkOffset = i2 / 4 * 3;
    bits >>= bitLength % bitsPerByte;
    const byteLength = Math.floor(bitLength / bitsPerByte);
    for (let k2 = 0; k2 < byteLength; k2++) {
      const offset = (byteLength - k2 - 1) * bitsPerByte;
      dataView.setUint8(chunkOffset + k2, (bits & 255 << offset) >> offset);
    }
  }
  return new Uint8Array(out);
}, "fromBase64");

// node_modules/@smithy/util-base64/dist-es/toBase64.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();
function toBase64(_input) {
  let input;
  if (typeof _input === "string") {
    input = fromUtf8(_input);
  } else {
    input = _input;
  }
  const isArrayLike = typeof input === "object" && typeof input.length === "number";
  const isUint8Array = typeof input === "object" && typeof input.byteOffset === "number" && typeof input.byteLength === "number";
  if (!isArrayLike && !isUint8Array) {
    throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");
  }
  let str = "";
  for (let i2 = 0; i2 < input.length; i2 += 3) {
    let bits = 0;
    let bitLength = 0;
    for (let j2 = i2, limit = Math.min(i2 + 3, input.length); j2 < limit; j2++) {
      bits |= input[j2] << (limit - j2 - 1) * bitsPerByte;
      bitLength += bitsPerByte;
    }
    const bitClusterCount = Math.ceil(bitLength / bitsPerLetter);
    bits <<= bitClusterCount * bitsPerLetter - bitLength;
    for (let k2 = 1; k2 <= bitClusterCount; k2++) {
      const offset = (bitClusterCount - k2) * bitsPerLetter;
      str += alphabetByValue[(bits & maxLetterValue << offset) >> offset];
    }
    str += "==".slice(0, 4 - bitClusterCount);
  }
  return str;
}
__name(toBase64, "toBase64");

// node_modules/@smithy/util-stream/dist-es/blob/Uint8ArrayBlobAdapter.js
init_dist_es();
var Uint8ArrayBlobAdapter = class extends Uint8Array {
  static fromString(source, encoding = "utf-8") {
    if (typeof source === "string") {
      if (encoding === "base64") {
        return Uint8ArrayBlobAdapter.mutate(fromBase64(source));
      }
      return Uint8ArrayBlobAdapter.mutate(fromUtf8(source));
    }
    throw new Error(`Unsupported conversion from ${typeof source} to Uint8ArrayBlobAdapter.`);
  }
  static mutate(source) {
    Object.setPrototypeOf(source, Uint8ArrayBlobAdapter.prototype);
    return source;
  }
  transformToString(encoding = "utf-8") {
    if (encoding === "base64") {
      return toBase64(this);
    }
    return toUtf8(this);
  }
};
__name(Uint8ArrayBlobAdapter, "Uint8ArrayBlobAdapter");

// node_modules/@smithy/util-stream/dist-es/checksum/ChecksumStream.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ReadableStreamRef = typeof ReadableStream === "function" ? ReadableStream : function() {
};
var ChecksumStream = class extends ReadableStreamRef {
};
__name(ChecksumStream, "ChecksumStream");

// node_modules/@smithy/util-stream/dist-es/checksum/createChecksumStream.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-stream/dist-es/stream-type-check.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isReadableStream = /* @__PURE__ */ __name((stream) => typeof ReadableStream === "function" && (stream?.constructor?.name === ReadableStream.name || stream instanceof ReadableStream), "isReadableStream");

// node_modules/@smithy/util-stream/dist-es/checksum/createChecksumStream.browser.js
var createChecksumStream = /* @__PURE__ */ __name(({ expectedChecksum, checksum, source, checksumSourceLocation, base64Encoder }) => {
  if (!isReadableStream(source)) {
    throw new Error(`@smithy/util-stream: unsupported source type ${source?.constructor?.name ?? source} in ChecksumStream.`);
  }
  const encoder = base64Encoder ?? toBase64;
  if (typeof TransformStream !== "function") {
    throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");
  }
  const transform = new TransformStream({
    start() {
    },
    async transform(chunk, controller) {
      checksum.update(chunk);
      controller.enqueue(chunk);
    },
    async flush(controller) {
      const digest = await checksum.digest();
      const received = encoder(digest);
      if (expectedChecksum !== received) {
        const error = new Error(`Checksum mismatch: expected "${expectedChecksum}" but received "${received}" in response header "${checksumSourceLocation}".`);
        controller.error(error);
      } else {
        controller.terminate();
      }
    }
  });
  source.pipeThrough(transform);
  const readable = transform.readable;
  Object.setPrototypeOf(readable, ChecksumStream.prototype);
  return readable;
}, "createChecksumStream");

// node_modules/@smithy/util-stream/dist-es/createBufferedReadableStream.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-stream/dist-es/ByteArrayCollector.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ByteArrayCollector = class {
  allocByteArray;
  byteLength = 0;
  byteArrays = [];
  constructor(allocByteArray) {
    this.allocByteArray = allocByteArray;
  }
  push(byteArray) {
    this.byteArrays.push(byteArray);
    this.byteLength += byteArray.byteLength;
  }
  flush() {
    if (this.byteArrays.length === 1) {
      const bytes = this.byteArrays[0];
      this.reset();
      return bytes;
    }
    const aggregation = this.allocByteArray(this.byteLength);
    let cursor = 0;
    for (let i2 = 0; i2 < this.byteArrays.length; ++i2) {
      const bytes = this.byteArrays[i2];
      aggregation.set(bytes, cursor);
      cursor += bytes.byteLength;
    }
    this.reset();
    return aggregation;
  }
  reset() {
    this.byteArrays = [];
    this.byteLength = 0;
  }
};
__name(ByteArrayCollector, "ByteArrayCollector");

// node_modules/@smithy/util-stream/dist-es/createBufferedReadableStream.js
function createBufferedReadableStream(upstream, size, logger) {
  const reader = upstream.getReader();
  let streamBufferingLoggedWarning = false;
  let bytesSeen = 0;
  const buffers = ["", new ByteArrayCollector((size2) => new Uint8Array(size2))];
  let mode = -1;
  const pull = /* @__PURE__ */ __name(async (controller) => {
    const { value, done } = await reader.read();
    const chunk = value;
    if (done) {
      if (mode !== -1) {
        const remainder = flush(buffers, mode);
        if (sizeOf(remainder) > 0) {
          controller.enqueue(remainder);
        }
      }
      controller.close();
    } else {
      const chunkMode = modeOf(chunk, false);
      if (mode !== chunkMode) {
        if (mode >= 0) {
          controller.enqueue(flush(buffers, mode));
        }
        mode = chunkMode;
      }
      if (mode === -1) {
        controller.enqueue(chunk);
        return;
      }
      const chunkSize = sizeOf(chunk);
      bytesSeen += chunkSize;
      const bufferSize = sizeOf(buffers[mode]);
      if (chunkSize >= size && bufferSize === 0) {
        controller.enqueue(chunk);
      } else {
        const newSize = merge(buffers, mode, chunk);
        if (!streamBufferingLoggedWarning && bytesSeen > size * 2) {
          streamBufferingLoggedWarning = true;
          logger?.warn(`@smithy/util-stream - stream chunk size ${chunkSize} is below threshold of ${size}, automatically buffering.`);
        }
        if (newSize >= size) {
          controller.enqueue(flush(buffers, mode));
        } else {
          await pull(controller);
        }
      }
    }
  }, "pull");
  return new ReadableStream({
    pull
  });
}
__name(createBufferedReadableStream, "createBufferedReadableStream");
var createBufferedReadable = createBufferedReadableStream;
function merge(buffers, mode, chunk) {
  switch (mode) {
    case 0:
      buffers[0] += chunk;
      return sizeOf(buffers[0]);
    case 1:
    case 2:
      buffers[mode].push(chunk);
      return sizeOf(buffers[mode]);
  }
}
__name(merge, "merge");
function flush(buffers, mode) {
  switch (mode) {
    case 0:
      const s2 = buffers[0];
      buffers[0] = "";
      return s2;
    case 1:
    case 2:
      return buffers[mode].flush();
  }
  throw new Error(`@smithy/util-stream - invalid index ${mode} given to flush()`);
}
__name(flush, "flush");
function sizeOf(chunk) {
  return chunk?.byteLength ?? chunk?.length ?? 0;
}
__name(sizeOf, "sizeOf");
function modeOf(chunk, allowBuffer = true) {
  if (allowBuffer && typeof Buffer !== "undefined" && chunk instanceof Buffer) {
    return 2;
  }
  if (chunk instanceof Uint8Array) {
    return 1;
  }
  if (typeof chunk === "string") {
    return 0;
  }
  return -1;
}
__name(modeOf, "modeOf");

// node_modules/@smithy/util-stream/dist-es/getAwsChunkedEncodingStream.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getAwsChunkedEncodingStream = /* @__PURE__ */ __name((readableStream, options) => {
  const { base64Encoder, bodyLengthChecker, checksumAlgorithmFn, checksumLocationName, streamHasher } = options;
  const checksumRequired = base64Encoder !== void 0 && bodyLengthChecker !== void 0 && checksumAlgorithmFn !== void 0 && checksumLocationName !== void 0 && streamHasher !== void 0;
  const digest = checksumRequired ? streamHasher(checksumAlgorithmFn, readableStream) : void 0;
  const reader = readableStream.getReader();
  return new ReadableStream({
    async pull(controller) {
      const { value, done } = await reader.read();
      if (done) {
        controller.enqueue(`0\r
`);
        if (checksumRequired) {
          const checksum = base64Encoder(await digest);
          controller.enqueue(`${checksumLocationName}:${checksum}\r
`);
          controller.enqueue(`\r
`);
        }
        controller.close();
      } else {
        controller.enqueue(`${(bodyLengthChecker(value) || 0).toString(16)}\r
${value}\r
`);
      }
    }
  });
}, "getAwsChunkedEncodingStream");

// node_modules/@smithy/util-stream/dist-es/headStream.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
async function headStream(stream, bytes) {
  let byteLengthCounter = 0;
  const chunks = [];
  const reader = stream.getReader();
  let isDone = false;
  while (!isDone) {
    const { done, value } = await reader.read();
    if (value) {
      chunks.push(value);
      byteLengthCounter += value?.byteLength ?? 0;
    }
    if (byteLengthCounter >= bytes) {
      break;
    }
    isDone = done;
  }
  reader.releaseLock();
  const collected = new Uint8Array(Math.min(bytes, byteLengthCounter));
  let offset = 0;
  for (const chunk of chunks) {
    if (chunk.byteLength > collected.byteLength - offset) {
      collected.set(chunk.subarray(0, collected.byteLength - offset), offset);
      break;
    } else {
      collected.set(chunk, offset);
    }
    offset += chunk.length;
  }
  return collected;
}
__name(headStream, "headStream");

// node_modules/@smithy/util-stream/dist-es/sdk-stream-mixin.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/fetch-http-handler/dist-es/fetch-http-handler.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/querystring-builder/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-uri-escape/dist-es/escape-uri.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var escapeUri = /* @__PURE__ */ __name((uri) => encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode), "escapeUri");
var hexEncode = /* @__PURE__ */ __name((c2) => `%${c2.charCodeAt(0).toString(16).toUpperCase()}`, "hexEncode");

// node_modules/@smithy/querystring-builder/dist-es/index.js
function buildQueryString(query) {
  const parts = [];
  for (let key of Object.keys(query).sort()) {
    const value = query[key];
    key = escapeUri(key);
    if (Array.isArray(value)) {
      for (let i2 = 0, iLen = value.length; i2 < iLen; i2++) {
        parts.push(`${key}=${escapeUri(value[i2])}`);
      }
    } else {
      let qsEntry = key;
      if (value || typeof value === "string") {
        qsEntry += `=${escapeUri(value)}`;
      }
      parts.push(qsEntry);
    }
  }
  return parts.join("&");
}
__name(buildQueryString, "buildQueryString");

// node_modules/@smithy/fetch-http-handler/dist-es/create-request.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function createRequest(url, requestOptions) {
  return new Request(url, requestOptions);
}
__name(createRequest, "createRequest");

// node_modules/@smithy/fetch-http-handler/dist-es/request-timeout.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function requestTimeout(timeoutInMs = 0) {
  return new Promise((resolve, reject) => {
    if (timeoutInMs) {
      setTimeout(() => {
        const timeoutError = new Error(`Request did not complete within ${timeoutInMs} ms`);
        timeoutError.name = "TimeoutError";
        reject(timeoutError);
      }, timeoutInMs);
    }
  });
}
__name(requestTimeout, "requestTimeout");

// node_modules/@smithy/fetch-http-handler/dist-es/fetch-http-handler.js
var keepAliveSupport = {
  supported: void 0
};
var FetchHttpHandler = class {
  config;
  configProvider;
  static create(instanceOrOptions) {
    if (typeof instanceOrOptions?.handle === "function") {
      return instanceOrOptions;
    }
    return new FetchHttpHandler(instanceOrOptions);
  }
  constructor(options) {
    if (typeof options === "function") {
      this.configProvider = options().then((opts) => opts || {});
    } else {
      this.config = options ?? {};
      this.configProvider = Promise.resolve(this.config);
    }
    if (keepAliveSupport.supported === void 0) {
      keepAliveSupport.supported = Boolean(typeof Request !== "undefined" && "keepalive" in createRequest("https://[::1]"));
    }
  }
  destroy() {
  }
  async handle(request, { abortSignal, requestTimeout: requestTimeout2 } = {}) {
    if (!this.config) {
      this.config = await this.configProvider;
    }
    const requestTimeoutInMs = requestTimeout2 ?? this.config.requestTimeout;
    const keepAlive = this.config.keepAlive === true;
    const credentials = this.config.credentials;
    if (abortSignal?.aborted) {
      const abortError = new Error("Request aborted");
      abortError.name = "AbortError";
      return Promise.reject(abortError);
    }
    let path = request.path;
    const queryString = buildQueryString(request.query || {});
    if (queryString) {
      path += `?${queryString}`;
    }
    if (request.fragment) {
      path += `#${request.fragment}`;
    }
    let auth = "";
    if (request.username != null || request.password != null) {
      const username = request.username ?? "";
      const password = request.password ?? "";
      auth = `${username}:${password}@`;
    }
    const { port, method } = request;
    const url = `${request.protocol}//${auth}${request.hostname}${port ? `:${port}` : ""}${path}`;
    const body = method === "GET" || method === "HEAD" ? void 0 : request.body;
    const requestOptions = {
      body,
      headers: new Headers(request.headers),
      method,
      credentials
    };
    if (this.config?.cache) {
      requestOptions.cache = this.config.cache;
    }
    if (body) {
      requestOptions.duplex = "half";
    }
    if (typeof AbortController !== "undefined") {
      requestOptions.signal = abortSignal;
    }
    if (keepAliveSupport.supported) {
      requestOptions.keepalive = keepAlive;
    }
    if (typeof this.config.requestInit === "function") {
      Object.assign(requestOptions, this.config.requestInit(request));
    }
    let removeSignalEventListener = /* @__PURE__ */ __name(() => {
    }, "removeSignalEventListener");
    const fetchRequest = createRequest(url, requestOptions);
    const raceOfPromises = [
      fetch(fetchRequest).then((response) => {
        const fetchHeaders = response.headers;
        const transformedHeaders = {};
        for (const pair of fetchHeaders.entries()) {
          transformedHeaders[pair[0]] = pair[1];
        }
        const hasReadableStream = response.body != void 0;
        if (!hasReadableStream) {
          return response.blob().then((body2) => ({
            response: new HttpResponse({
              headers: transformedHeaders,
              reason: response.statusText,
              statusCode: response.status,
              body: body2
            })
          }));
        }
        return {
          response: new HttpResponse({
            headers: transformedHeaders,
            reason: response.statusText,
            statusCode: response.status,
            body: response.body
          })
        };
      }),
      requestTimeout(requestTimeoutInMs)
    ];
    if (abortSignal) {
      raceOfPromises.push(new Promise((resolve, reject) => {
        const onAbort = /* @__PURE__ */ __name(() => {
          const abortError = new Error("Request aborted");
          abortError.name = "AbortError";
          reject(abortError);
        }, "onAbort");
        if (typeof abortSignal.addEventListener === "function") {
          const signal = abortSignal;
          signal.addEventListener("abort", onAbort, { once: true });
          removeSignalEventListener = /* @__PURE__ */ __name(() => signal.removeEventListener("abort", onAbort), "removeSignalEventListener");
        } else {
          abortSignal.onabort = onAbort;
        }
      }));
    }
    return Promise.race(raceOfPromises).finally(removeSignalEventListener);
  }
  updateHttpClientConfig(key, value) {
    this.config = void 0;
    this.configProvider = this.configProvider.then((config) => {
      config[key] = value;
      return config;
    });
  }
  httpHandlerConfigs() {
    return this.config ?? {};
  }
};
__name(FetchHttpHandler, "FetchHttpHandler");

// node_modules/@smithy/fetch-http-handler/dist-es/stream-collector.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var streamCollector = /* @__PURE__ */ __name(async (stream) => {
  if (typeof Blob === "function" && stream instanceof Blob || stream.constructor?.name === "Blob") {
    if (Blob.prototype.arrayBuffer !== void 0) {
      return new Uint8Array(await stream.arrayBuffer());
    }
    return collectBlob(stream);
  }
  return collectStream(stream);
}, "streamCollector");
async function collectBlob(blob) {
  const base64 = await readToBase64(blob);
  const arrayBuffer = fromBase64(base64);
  return new Uint8Array(arrayBuffer);
}
__name(collectBlob, "collectBlob");
async function collectStream(stream) {
  const chunks = [];
  const reader = stream.getReader();
  let isDone = false;
  let length = 0;
  while (!isDone) {
    const { done, value } = await reader.read();
    if (value) {
      chunks.push(value);
      length += value.length;
    }
    isDone = done;
  }
  const collected = new Uint8Array(length);
  let offset = 0;
  for (const chunk of chunks) {
    collected.set(chunk, offset);
    offset += chunk.length;
  }
  return collected;
}
__name(collectStream, "collectStream");
function readToBase64(blob) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onloadend = () => {
      if (reader.readyState !== 2) {
        return reject(new Error("Reader aborted too early"));
      }
      const result = reader.result ?? "";
      const commaIndex = result.indexOf(",");
      const dataOffset = commaIndex > -1 ? commaIndex + 1 : result.length;
      resolve(result.substring(dataOffset));
    };
    reader.onabort = () => reject(new Error("Read aborted"));
    reader.onerror = () => reject(reader.error);
    reader.readAsDataURL(blob);
  });
}
__name(readToBase64, "readToBase64");

// node_modules/@smithy/util-hex-encoding/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SHORT_TO_HEX = {};
var HEX_TO_SHORT = {};
for (let i2 = 0; i2 < 256; i2++) {
  let encodedByte = i2.toString(16).toLowerCase();
  if (encodedByte.length === 1) {
    encodedByte = `0${encodedByte}`;
  }
  SHORT_TO_HEX[i2] = encodedByte;
  HEX_TO_SHORT[encodedByte] = i2;
}
function fromHex(encoded) {
  if (encoded.length % 2 !== 0) {
    throw new Error("Hex encoded strings must have an even number length");
  }
  const out = new Uint8Array(encoded.length / 2);
  for (let i2 = 0; i2 < encoded.length; i2 += 2) {
    const encodedByte = encoded.slice(i2, i2 + 2).toLowerCase();
    if (encodedByte in HEX_TO_SHORT) {
      out[i2 / 2] = HEX_TO_SHORT[encodedByte];
    } else {
      throw new Error(`Cannot decode unrecognized sequence ${encodedByte} as hexadecimal`);
    }
  }
  return out;
}
__name(fromHex, "fromHex");
function toHex(bytes) {
  let out = "";
  for (let i2 = 0; i2 < bytes.byteLength; i2++) {
    out += SHORT_TO_HEX[bytes[i2]];
  }
  return out;
}
__name(toHex, "toHex");

// node_modules/@smithy/util-stream/dist-es/sdk-stream-mixin.browser.js
init_dist_es();
var ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED = "The stream has already been transformed.";
var sdkStreamMixin = /* @__PURE__ */ __name((stream) => {
  if (!isBlobInstance(stream) && !isReadableStream(stream)) {
    const name = stream?.__proto__?.constructor?.name || stream;
    throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${name}`);
  }
  let transformed = false;
  const transformToByteArray = /* @__PURE__ */ __name(async () => {
    if (transformed) {
      throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);
    }
    transformed = true;
    return await streamCollector(stream);
  }, "transformToByteArray");
  const blobToWebStream = /* @__PURE__ */ __name((blob) => {
    if (typeof blob.stream !== "function") {
      throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");
    }
    return blob.stream();
  }, "blobToWebStream");
  return Object.assign(stream, {
    transformToByteArray,
    transformToString: async (encoding) => {
      const buf = await transformToByteArray();
      if (encoding === "base64") {
        return toBase64(buf);
      } else if (encoding === "hex") {
        return toHex(buf);
      } else if (encoding === void 0 || encoding === "utf8" || encoding === "utf-8") {
        return toUtf8(buf);
      } else if (typeof TextDecoder === "function") {
        return new TextDecoder(encoding).decode(buf);
      } else {
        throw new Error("TextDecoder is not available, please make sure polyfill is provided.");
      }
    },
    transformToWebStream: () => {
      if (transformed) {
        throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);
      }
      transformed = true;
      if (isBlobInstance(stream)) {
        return blobToWebStream(stream);
      } else if (isReadableStream(stream)) {
        return stream;
      } else {
        throw new Error(`Cannot transform payload to web stream, got ${stream}`);
      }
    }
  });
}, "sdkStreamMixin");
var isBlobInstance = /* @__PURE__ */ __name((stream) => typeof Blob === "function" && stream instanceof Blob, "isBlobInstance");

// node_modules/@smithy/util-stream/dist-es/splitStream.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
async function splitStream(stream) {
  if (typeof stream.stream === "function") {
    stream = stream.stream();
  }
  const readableStream = stream;
  return readableStream.tee();
}
__name(splitStream, "splitStream");

// node_modules/@smithy/core/dist-es/submodules/protocols/collect-stream-body.js
var collectBody = /* @__PURE__ */ __name(async (streamBody = new Uint8Array(), context) => {
  if (streamBody instanceof Uint8Array) {
    return Uint8ArrayBlobAdapter.mutate(streamBody);
  }
  if (!streamBody) {
    return Uint8ArrayBlobAdapter.mutate(new Uint8Array());
  }
  const fromContext = context.streamCollector(streamBody);
  return Uint8ArrayBlobAdapter.mutate(await fromContext);
}, "collectBody");

// node_modules/@smithy/core/dist-es/submodules/protocols/extended-encode-uri-component.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function extendedEncodeURIComponent(str) {
  return encodeURIComponent(str).replace(/[!'()*]/g, function(c2) {
    return "%" + c2.charCodeAt(0).toString(16).toUpperCase();
  });
}
__name(extendedEncodeURIComponent, "extendedEncodeURIComponent");

// node_modules/@smithy/core/dist-es/submodules/protocols/HttpBindingProtocol.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/core/dist-es/submodules/schema/deref.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var deref = /* @__PURE__ */ __name((schemaRef) => {
  if (typeof schemaRef === "function") {
    return schemaRef();
  }
  return schemaRef;
}, "deref");

// node_modules/@smithy/core/dist-es/submodules/schema/middleware/getSchemaSerdePlugin.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/core/dist-es/submodules/schema/middleware/schemaDeserializationMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/core/dist-es/submodules/schema/schemas/operation.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var operation = /* @__PURE__ */ __name((namespace, name, traits, input, output) => ({
  name,
  namespace,
  traits,
  input,
  output
}), "operation");

// node_modules/@smithy/core/dist-es/submodules/schema/middleware/schemaDeserializationMiddleware.js
var schemaDeserializationMiddleware = /* @__PURE__ */ __name((config) => (next, context) => async (args) => {
  const { response } = await next(args);
  const { operationSchema } = getSmithyContext(context);
  const [, ns, n2, t2, i2, o2] = operationSchema ?? [];
  try {
    const parsed = await config.protocol.deserializeResponse(operation(ns, n2, t2, i2, o2), {
      ...config,
      ...context
    }, response);
    return {
      response,
      output: parsed
    };
  } catch (error) {
    Object.defineProperty(error, "$response", {
      value: response,
      enumerable: false,
      writable: false,
      configurable: false
    });
    if (!("$metadata" in error)) {
      const hint = `Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.`;
      try {
        error.message += "\n  " + hint;
      } catch (e2) {
        if (!context.logger || context.logger?.constructor?.name === "NoOpLogger") {
          console.warn(hint);
        } else {
          context.logger?.warn?.(hint);
        }
      }
      if (typeof error.$responseBodyText !== "undefined") {
        if (error.$response) {
          error.$response.body = error.$responseBodyText;
        }
      }
      try {
        if (HttpResponse.isInstance(response)) {
          const { headers = {} } = response;
          const headerEntries = Object.entries(headers);
          error.$metadata = {
            httpStatusCode: response.statusCode,
            requestId: findHeader(/^x-[\w-]+-request-?id$/, headerEntries),
            extendedRequestId: findHeader(/^x-[\w-]+-id-2$/, headerEntries),
            cfId: findHeader(/^x-[\w-]+-cf-id$/, headerEntries)
          };
        }
      } catch (e2) {
      }
    }
    throw error;
  }
}, "schemaDeserializationMiddleware");
var findHeader = /* @__PURE__ */ __name((pattern, headers) => {
  return (headers.find(([k2]) => {
    return k2.match(pattern);
  }) || [void 0, void 0])[1];
}, "findHeader");

// node_modules/@smithy/core/dist-es/submodules/schema/middleware/schemaSerializationMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var schemaSerializationMiddleware = /* @__PURE__ */ __name((config) => (next, context) => async (args) => {
  const { operationSchema } = getSmithyContext(context);
  const [, ns, n2, t2, i2, o2] = operationSchema ?? [];
  const endpoint = context.endpointV2?.url && config.urlParser ? async () => config.urlParser(context.endpointV2.url) : config.endpoint;
  const request = await config.protocol.serializeRequest(operation(ns, n2, t2, i2, o2), args.input, {
    ...config,
    ...context,
    endpoint
  });
  return next({
    ...args,
    request
  });
}, "schemaSerializationMiddleware");

// node_modules/@smithy/core/dist-es/submodules/schema/middleware/getSchemaSerdePlugin.js
var deserializerMiddlewareOption = {
  name: "deserializerMiddleware",
  step: "deserialize",
  tags: ["DESERIALIZER"],
  override: true
};
var serializerMiddlewareOption2 = {
  name: "serializerMiddleware",
  step: "serialize",
  tags: ["SERIALIZER"],
  override: true
};
function getSchemaSerdePlugin(config) {
  return {
    applyToStack: (commandStack) => {
      commandStack.add(schemaSerializationMiddleware(config), serializerMiddlewareOption2);
      commandStack.add(schemaDeserializationMiddleware(config), deserializerMiddlewareOption);
      config.protocol.setSerdeContext(config);
    }
  };
}
__name(getSchemaSerdePlugin, "getSchemaSerdePlugin");

// node_modules/@smithy/core/dist-es/submodules/schema/schemas/NormalizedSchema.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/core/dist-es/submodules/schema/schemas/translateTraits.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function translateTraits(indicator) {
  if (typeof indicator === "object") {
    return indicator;
  }
  indicator = indicator | 0;
  const traits = {};
  let i2 = 0;
  for (const trait of [
    "httpLabel",
    "idempotent",
    "idempotencyToken",
    "sensitive",
    "httpPayload",
    "httpResponseCode",
    "httpQueryParams"
  ]) {
    if ((indicator >> i2++ & 1) === 1) {
      traits[trait] = 1;
    }
  }
  return traits;
}
__name(translateTraits, "translateTraits");

// node_modules/@smithy/core/dist-es/submodules/schema/schemas/NormalizedSchema.js
var _NormalizedSchema = class {
  ref;
  memberName;
  symbol = _NormalizedSchema.symbol;
  name;
  schema;
  _isMemberSchema;
  traits;
  memberTraits;
  normalizedTraits;
  constructor(ref, memberName) {
    this.ref = ref;
    this.memberName = memberName;
    const traitStack = [];
    let _ref = ref;
    let schema = ref;
    this._isMemberSchema = false;
    while (isMemberSchema(_ref)) {
      traitStack.push(_ref[1]);
      _ref = _ref[0];
      schema = deref(_ref);
      this._isMemberSchema = true;
    }
    if (traitStack.length > 0) {
      this.memberTraits = {};
      for (let i2 = traitStack.length - 1; i2 >= 0; --i2) {
        const traitSet = traitStack[i2];
        Object.assign(this.memberTraits, translateTraits(traitSet));
      }
    } else {
      this.memberTraits = 0;
    }
    if (schema instanceof _NormalizedSchema) {
      const computedMemberTraits = this.memberTraits;
      Object.assign(this, schema);
      this.memberTraits = Object.assign({}, computedMemberTraits, schema.getMemberTraits(), this.getMemberTraits());
      this.normalizedTraits = void 0;
      this.memberName = memberName ?? schema.memberName;
      return;
    }
    this.schema = deref(schema);
    if (isStaticSchema(this.schema)) {
      this.name = `${this.schema[1]}#${this.schema[2]}`;
      this.traits = this.schema[3];
    } else {
      this.name = this.memberName ?? String(schema);
      this.traits = 0;
    }
    if (this._isMemberSchema && !memberName) {
      throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(true)} missing member name.`);
    }
  }
  static [Symbol.hasInstance](lhs) {
    const isPrototype = this.prototype.isPrototypeOf(lhs);
    if (!isPrototype && typeof lhs === "object" && lhs !== null) {
      const ns = lhs;
      return ns.symbol === this.symbol;
    }
    return isPrototype;
  }
  static of(ref) {
    const sc = deref(ref);
    if (sc instanceof _NormalizedSchema) {
      return sc;
    }
    if (isMemberSchema(sc)) {
      const [ns, traits] = sc;
      if (ns instanceof _NormalizedSchema) {
        Object.assign(ns.getMergedTraits(), translateTraits(traits));
        return ns;
      }
      throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(ref, null, 2)}.`);
    }
    return new _NormalizedSchema(sc);
  }
  getSchema() {
    const sc = this.schema;
    if (sc[0] === 0) {
      return sc[4];
    }
    return sc;
  }
  getName(withNamespace = false) {
    const { name } = this;
    const short = !withNamespace && name && name.includes("#");
    return short ? name.split("#")[1] : name || void 0;
  }
  getMemberName() {
    return this.memberName;
  }
  isMemberSchema() {
    return this._isMemberSchema;
  }
  isListSchema() {
    const sc = this.getSchema();
    return typeof sc === "number" ? sc >= 64 && sc < 128 : sc[0] === 1;
  }
  isMapSchema() {
    const sc = this.getSchema();
    return typeof sc === "number" ? sc >= 128 && sc <= 255 : sc[0] === 2;
  }
  isStructSchema() {
    const sc = this.getSchema();
    const id = sc[0];
    return id === 3 || id === -3 || id === 4;
  }
  isUnionSchema() {
    const sc = this.getSchema();
    return sc[0] === 4;
  }
  isBlobSchema() {
    const sc = this.getSchema();
    return sc === 21 || sc === 42;
  }
  isTimestampSchema() {
    const sc = this.getSchema();
    return typeof sc === "number" && sc >= 4 && sc <= 7;
  }
  isUnitSchema() {
    return this.getSchema() === "unit";
  }
  isDocumentSchema() {
    return this.getSchema() === 15;
  }
  isStringSchema() {
    return this.getSchema() === 0;
  }
  isBooleanSchema() {
    return this.getSchema() === 2;
  }
  isNumericSchema() {
    return this.getSchema() === 1;
  }
  isBigIntegerSchema() {
    return this.getSchema() === 17;
  }
  isBigDecimalSchema() {
    return this.getSchema() === 19;
  }
  isStreaming() {
    const { streaming } = this.getMergedTraits();
    return !!streaming || this.getSchema() === 42;
  }
  isIdempotencyToken() {
    const match2 = /* @__PURE__ */ __name((traits2) => (traits2 & 4) === 4 || !!traits2?.idempotencyToken, "match");
    const { normalizedTraits, traits, memberTraits } = this;
    return match2(normalizedTraits) || match2(traits) || match2(memberTraits);
  }
  getMergedTraits() {
    return this.normalizedTraits ?? (this.normalizedTraits = {
      ...this.getOwnTraits(),
      ...this.getMemberTraits()
    });
  }
  getMemberTraits() {
    return translateTraits(this.memberTraits);
  }
  getOwnTraits() {
    return translateTraits(this.traits);
  }
  getKeySchema() {
    const [isDoc, isMap] = [this.isDocumentSchema(), this.isMapSchema()];
    if (!isDoc && !isMap) {
      throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(true)}`);
    }
    const schema = this.getSchema();
    const memberSchema = isDoc ? 15 : schema[4] ?? 0;
    return member([memberSchema, 0], "key");
  }
  getValueSchema() {
    const sc = this.getSchema();
    const [isDoc, isMap, isList] = [this.isDocumentSchema(), this.isMapSchema(), this.isListSchema()];
    const memberSchema = typeof sc === "number" ? 63 & sc : sc && typeof sc === "object" && (isMap || isList) ? sc[3 + sc[0]] : isDoc ? 15 : void 0;
    if (memberSchema != null) {
      return member([memberSchema, 0], isMap ? "value" : "member");
    }
    throw new Error(`@smithy/core/schema - ${this.getName(true)} has no value member.`);
  }
  getMemberSchema(memberName) {
    const struct = this.getSchema();
    if (this.isStructSchema() && struct[4].includes(memberName)) {
      const i2 = struct[4].indexOf(memberName);
      const memberSchema = struct[5][i2];
      return member(isMemberSchema(memberSchema) ? memberSchema : [memberSchema, 0], memberName);
    }
    if (this.isDocumentSchema()) {
      return member([15, 0], memberName);
    }
    throw new Error(`@smithy/core/schema - ${this.getName(true)} has no no member=${memberName}.`);
  }
  getMemberSchemas() {
    const buffer = {};
    try {
      for (const [k2, v2] of this.structIterator()) {
        buffer[k2] = v2;
      }
    } catch (ignored) {
    }
    return buffer;
  }
  getEventStreamMember() {
    if (this.isStructSchema()) {
      for (const [memberName, memberSchema] of this.structIterator()) {
        if (memberSchema.isStreaming() && memberSchema.isStructSchema()) {
          return memberName;
        }
      }
    }
    return "";
  }
  *structIterator() {
    if (this.isUnitSchema()) {
      return;
    }
    if (!this.isStructSchema()) {
      throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");
    }
    const struct = this.getSchema();
    for (let i2 = 0; i2 < struct[4].length; ++i2) {
      yield [struct[4][i2], member([struct[5][i2], 0], struct[4][i2])];
    }
  }
};
var NormalizedSchema = _NormalizedSchema;
__name(NormalizedSchema, "NormalizedSchema");
__publicField(NormalizedSchema, "symbol", Symbol.for("@smithy/nor"));
function member(memberSchema, memberName) {
  if (memberSchema instanceof NormalizedSchema) {
    return Object.assign(memberSchema, {
      memberName,
      _isMemberSchema: true
    });
  }
  const internalCtorAccess = NormalizedSchema;
  return new internalCtorAccess(memberSchema, memberName);
}
__name(member, "member");
var isMemberSchema = /* @__PURE__ */ __name((sc) => Array.isArray(sc) && sc.length === 2, "isMemberSchema");
var isStaticSchema = /* @__PURE__ */ __name((sc) => Array.isArray(sc) && sc.length >= 5, "isStaticSchema");

// node_modules/@smithy/core/dist-es/submodules/schema/TypeRegistry.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var _TypeRegistry = class {
  namespace;
  schemas;
  exceptions;
  constructor(namespace, schemas = /* @__PURE__ */ new Map(), exceptions = /* @__PURE__ */ new Map()) {
    this.namespace = namespace;
    this.schemas = schemas;
    this.exceptions = exceptions;
  }
  static for(namespace) {
    if (!_TypeRegistry.registries.has(namespace)) {
      _TypeRegistry.registries.set(namespace, new _TypeRegistry(namespace));
    }
    return _TypeRegistry.registries.get(namespace);
  }
  register(shapeId, schema) {
    const qualifiedName = this.normalizeShapeId(shapeId);
    const registry = _TypeRegistry.for(qualifiedName.split("#")[0]);
    registry.schemas.set(qualifiedName, schema);
  }
  getSchema(shapeId) {
    const id = this.normalizeShapeId(shapeId);
    if (!this.schemas.has(id)) {
      throw new Error(`@smithy/core/schema - schema not found for ${id}`);
    }
    return this.schemas.get(id);
  }
  registerError(es, ctor) {
    const $error = es;
    const registry = _TypeRegistry.for($error[1]);
    registry.schemas.set($error[1] + "#" + $error[2], $error);
    registry.exceptions.set($error, ctor);
  }
  getErrorCtor(es) {
    const $error = es;
    const registry = _TypeRegistry.for($error[1]);
    return registry.exceptions.get($error);
  }
  getBaseException() {
    for (const exceptionKey of this.exceptions.keys()) {
      if (Array.isArray(exceptionKey)) {
        const [, ns, name] = exceptionKey;
        const id = ns + "#" + name;
        if (id.startsWith("smithy.ts.sdk.synthetic.") && id.endsWith("ServiceException")) {
          return exceptionKey;
        }
      }
    }
    return void 0;
  }
  find(predicate) {
    return [...this.schemas.values()].find(predicate);
  }
  clear() {
    this.schemas.clear();
    this.exceptions.clear();
  }
  normalizeShapeId(shapeId) {
    if (shapeId.includes("#")) {
      return shapeId;
    }
    return this.namespace + "#" + shapeId;
  }
};
var TypeRegistry = _TypeRegistry;
__name(TypeRegistry, "TypeRegistry");
__publicField(TypeRegistry, "registries", /* @__PURE__ */ new Map());

// node_modules/@smithy/core/dist-es/submodules/serde/date-utils.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DAYS = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
var MONTHS = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
function dateToUtcString(date2) {
  const year2 = date2.getUTCFullYear();
  const month = date2.getUTCMonth();
  const dayOfWeek = date2.getUTCDay();
  const dayOfMonthInt = date2.getUTCDate();
  const hoursInt = date2.getUTCHours();
  const minutesInt = date2.getUTCMinutes();
  const secondsInt = date2.getUTCSeconds();
  const dayOfMonthString = dayOfMonthInt < 10 ? `0${dayOfMonthInt}` : `${dayOfMonthInt}`;
  const hoursString = hoursInt < 10 ? `0${hoursInt}` : `${hoursInt}`;
  const minutesString = minutesInt < 10 ? `0${minutesInt}` : `${minutesInt}`;
  const secondsString = secondsInt < 10 ? `0${secondsInt}` : `${secondsInt}`;
  return `${DAYS[dayOfWeek]}, ${dayOfMonthString} ${MONTHS[month]} ${year2} ${hoursString}:${minutesString}:${secondsString} GMT`;
}
__name(dateToUtcString, "dateToUtcString");
var RFC3339 = new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);
var RFC3339_WITH_OFFSET = new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/);
var IMF_FIXDATE = new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/);
var RFC_850_DATE = new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/);
var ASC_TIME = new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);
var FIFTY_YEARS_IN_MILLIS = 50 * 365 * 24 * 60 * 60 * 1e3;

// node_modules/@smithy/core/dist-es/submodules/serde/generateIdempotencyToken.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/uuid/dist-es/v4.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/uuid/dist-es/randomUUID.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var randomUUID = typeof crypto !== "undefined" && crypto.randomUUID && crypto.randomUUID.bind(crypto);

// node_modules/@smithy/uuid/dist-es/v4.js
var decimalToHex = Array.from({ length: 256 }, (_, i2) => i2.toString(16).padStart(2, "0"));
var v4 = /* @__PURE__ */ __name(() => {
  if (randomUUID) {
    return randomUUID();
  }
  const rnds = new Uint8Array(16);
  crypto.getRandomValues(rnds);
  rnds[6] = rnds[6] & 15 | 64;
  rnds[8] = rnds[8] & 63 | 128;
  return decimalToHex[rnds[0]] + decimalToHex[rnds[1]] + decimalToHex[rnds[2]] + decimalToHex[rnds[3]] + "-" + decimalToHex[rnds[4]] + decimalToHex[rnds[5]] + "-" + decimalToHex[rnds[6]] + decimalToHex[rnds[7]] + "-" + decimalToHex[rnds[8]] + decimalToHex[rnds[9]] + "-" + decimalToHex[rnds[10]] + decimalToHex[rnds[11]] + decimalToHex[rnds[12]] + decimalToHex[rnds[13]] + decimalToHex[rnds[14]] + decimalToHex[rnds[15]];
}, "v4");

// node_modules/@smithy/core/dist-es/submodules/serde/lazy-json.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var LazyJsonString = /* @__PURE__ */ __name(function LazyJsonString2(val) {
  const str = Object.assign(new String(val), {
    deserializeJSON() {
      return JSON.parse(String(val));
    },
    toString() {
      return String(val);
    },
    toJSON() {
      return String(val);
    }
  });
  return str;
}, "LazyJsonString");
LazyJsonString.from = (object) => {
  if (object && typeof object === "object" && (object instanceof LazyJsonString || "deserializeJSON" in object)) {
    return object;
  } else if (typeof object === "string" || Object.getPrototypeOf(object) === String.prototype) {
    return LazyJsonString(String(object));
  }
  return LazyJsonString(JSON.stringify(object));
};
LazyJsonString.fromObject = LazyJsonString.from;

// node_modules/@smithy/core/dist-es/submodules/serde/quote-header.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function quoteHeader(part) {
  if (part.includes(",") || part.includes('"')) {
    part = `"${part.replace(/"/g, '\\"')}"`;
  }
  return part;
}
__name(quoteHeader, "quoteHeader");

// node_modules/@smithy/core/dist-es/submodules/serde/schema-serde-lib/schema-date-utils.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ddd = `(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?`;
var mmm = `(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)`;
var time = `(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?`;
var date = `(\\d?\\d)`;
var year = `(\\d{4})`;
var RFC3339_WITH_OFFSET2 = new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/);
var IMF_FIXDATE2 = new RegExp(`^${ddd}, ${date} ${mmm} ${year} ${time} GMT$`);
var RFC_850_DATE2 = new RegExp(`^${ddd}, ${date}-${mmm}-(\\d\\d) ${time} GMT$`);
var ASC_TIME2 = new RegExp(`^${ddd} ${mmm} ( [1-9]|\\d\\d) ${time} ${year}$`);
var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
var _parseEpochTimestamp = /* @__PURE__ */ __name((value) => {
  if (value == null) {
    return void 0;
  }
  let num = NaN;
  if (typeof value === "number") {
    num = value;
  } else if (typeof value === "string") {
    if (!/^-?\d*\.?\d+$/.test(value)) {
      throw new TypeError(`parseEpochTimestamp - numeric string invalid.`);
    }
    num = Number.parseFloat(value);
  } else if (typeof value === "object" && value.tag === 1) {
    num = value.value;
  }
  if (isNaN(num) || Math.abs(num) === Infinity) {
    throw new TypeError("Epoch timestamps must be valid finite numbers.");
  }
  return new Date(Math.round(num * 1e3));
}, "_parseEpochTimestamp");
var _parseRfc3339DateTimeWithOffset = /* @__PURE__ */ __name((value) => {
  if (value == null) {
    return void 0;
  }
  if (typeof value !== "string") {
    throw new TypeError("RFC3339 timestamps must be strings");
  }
  const matches = RFC3339_WITH_OFFSET2.exec(value);
  if (!matches) {
    throw new TypeError(`Invalid RFC3339 timestamp format ${value}`);
  }
  const [, yearStr, monthStr, dayStr, hours, minutes, seconds, , ms, offsetStr] = matches;
  range(monthStr, 1, 12);
  range(dayStr, 1, 31);
  range(hours, 0, 23);
  range(minutes, 0, 59);
  range(seconds, 0, 60);
  const date2 = new Date(Date.UTC(Number(yearStr), Number(monthStr) - 1, Number(dayStr), Number(hours), Number(minutes), Number(seconds), Number(ms) ? Math.round(parseFloat(`0.${ms}`) * 1e3) : 0));
  date2.setUTCFullYear(Number(yearStr));
  if (offsetStr.toUpperCase() != "Z") {
    const [, sign, offsetH, offsetM] = /([+-])(\d\d):(\d\d)/.exec(offsetStr) || [void 0, "+", 0, 0];
    const scalar = sign === "-" ? 1 : -1;
    date2.setTime(date2.getTime() + scalar * (Number(offsetH) * 60 * 60 * 1e3 + Number(offsetM) * 60 * 1e3));
  }
  return date2;
}, "_parseRfc3339DateTimeWithOffset");
var _parseRfc7231DateTime = /* @__PURE__ */ __name((value) => {
  if (value == null) {
    return void 0;
  }
  if (typeof value !== "string") {
    throw new TypeError("RFC7231 timestamps must be strings.");
  }
  let day;
  let month;
  let year2;
  let hour;
  let minute;
  let second;
  let fraction;
  let matches;
  if (matches = IMF_FIXDATE2.exec(value)) {
    [, day, month, year2, hour, minute, second, fraction] = matches;
  } else if (matches = RFC_850_DATE2.exec(value)) {
    [, day, month, year2, hour, minute, second, fraction] = matches;
    year2 = (Number(year2) + 1900).toString();
  } else if (matches = ASC_TIME2.exec(value)) {
    [, month, day, hour, minute, second, fraction, year2] = matches;
  }
  if (year2 && second) {
    const timestamp = Date.UTC(Number(year2), months.indexOf(month), Number(day), Number(hour), Number(minute), Number(second), fraction ? Math.round(parseFloat(`0.${fraction}`) * 1e3) : 0);
    range(day, 1, 31);
    range(hour, 0, 23);
    range(minute, 0, 59);
    range(second, 0, 60);
    const date2 = new Date(timestamp);
    date2.setUTCFullYear(Number(year2));
    return date2;
  }
  throw new TypeError(`Invalid RFC7231 date-time value ${value}.`);
}, "_parseRfc7231DateTime");
function range(v2, min, max) {
  const _v = Number(v2);
  if (_v < min || _v > max) {
    throw new Error(`Value ${_v} out of range [${min}, ${max}]`);
  }
}
__name(range, "range");

// node_modules/@smithy/core/dist-es/submodules/serde/split-every.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function splitEvery(value, delimiter, numDelimiters) {
  if (numDelimiters <= 0 || !Number.isInteger(numDelimiters)) {
    throw new Error("Invalid number of delimiters (" + numDelimiters + ") for splitEvery.");
  }
  const segments = value.split(delimiter);
  if (numDelimiters === 1) {
    return segments;
  }
  const compoundSegments = [];
  let currentSegment = "";
  for (let i2 = 0; i2 < segments.length; i2++) {
    if (currentSegment === "") {
      currentSegment = segments[i2];
    } else {
      currentSegment += delimiter + segments[i2];
    }
    if ((i2 + 1) % numDelimiters === 0) {
      compoundSegments.push(currentSegment);
      currentSegment = "";
    }
  }
  if (currentSegment !== "") {
    compoundSegments.push(currentSegment);
  }
  return compoundSegments;
}
__name(splitEvery, "splitEvery");

// node_modules/@smithy/core/dist-es/submodules/serde/split-header.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var splitHeader = /* @__PURE__ */ __name((value) => {
  const z2 = value.length;
  const values = [];
  let withinQuotes = false;
  let prevChar = void 0;
  let anchor = 0;
  for (let i2 = 0; i2 < z2; ++i2) {
    const char = value[i2];
    switch (char) {
      case `"`:
        if (prevChar !== "\\") {
          withinQuotes = !withinQuotes;
        }
        break;
      case ",":
        if (!withinQuotes) {
          values.push(value.slice(anchor, i2));
          anchor = i2 + 1;
        }
        break;
      default:
    }
    prevChar = char;
  }
  values.push(value.slice(anchor));
  return values.map((v2) => {
    v2 = v2.trim();
    const z3 = v2.length;
    if (z3 < 2) {
      return v2;
    }
    if (v2[0] === `"` && v2[z3 - 1] === `"`) {
      v2 = v2.slice(1, z3 - 1);
    }
    return v2.replace(/\\"/g, '"');
  });
}, "splitHeader");

// node_modules/@smithy/core/dist-es/submodules/serde/value/NumericValue.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var format = /^-?\d*(\.\d+)?$/;
var NumericValue = class {
  string;
  type;
  constructor(string, type) {
    this.string = string;
    this.type = type;
    if (!format.test(string)) {
      throw new Error(`@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".`);
    }
  }
  toString() {
    return this.string;
  }
  static [Symbol.hasInstance](object) {
    if (!object || typeof object !== "object") {
      return false;
    }
    const _nv = object;
    return NumericValue.prototype.isPrototypeOf(object) || _nv.type === "bigDecimal" && format.test(_nv.string);
  }
};
__name(NumericValue, "NumericValue");

// node_modules/@smithy/core/dist-es/submodules/protocols/HttpProtocol.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/core/dist-es/submodules/protocols/SerdeContext.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SerdeContext = class {
  serdeContext;
  setSerdeContext(serdeContext) {
    this.serdeContext = serdeContext;
  }
};
__name(SerdeContext, "SerdeContext");

// node_modules/@smithy/core/dist-es/submodules/protocols/HttpProtocol.js
var HttpProtocol = class extends SerdeContext {
  options;
  constructor(options) {
    super();
    this.options = options;
  }
  getRequestType() {
    return HttpRequest;
  }
  getResponseType() {
    return HttpResponse;
  }
  setSerdeContext(serdeContext) {
    this.serdeContext = serdeContext;
    this.serializer.setSerdeContext(serdeContext);
    this.deserializer.setSerdeContext(serdeContext);
    if (this.getPayloadCodec()) {
      this.getPayloadCodec().setSerdeContext(serdeContext);
    }
  }
  updateServiceEndpoint(request, endpoint) {
    if ("url" in endpoint) {
      request.protocol = endpoint.url.protocol;
      request.hostname = endpoint.url.hostname;
      request.port = endpoint.url.port ? Number(endpoint.url.port) : void 0;
      request.path = endpoint.url.pathname;
      request.fragment = endpoint.url.hash || void 0;
      request.username = endpoint.url.username || void 0;
      request.password = endpoint.url.password || void 0;
      if (!request.query) {
        request.query = {};
      }
      for (const [k2, v2] of endpoint.url.searchParams.entries()) {
        request.query[k2] = v2;
      }
      return request;
    } else {
      request.protocol = endpoint.protocol;
      request.hostname = endpoint.hostname;
      request.port = endpoint.port ? Number(endpoint.port) : void 0;
      request.path = endpoint.path;
      request.query = {
        ...endpoint.query
      };
      return request;
    }
  }
  setHostPrefix(request, operationSchema, input) {
    const inputNs = NormalizedSchema.of(operationSchema.input);
    const opTraits = translateTraits(operationSchema.traits ?? {});
    if (opTraits.endpoint) {
      let hostPrefix = opTraits.endpoint?.[0];
      if (typeof hostPrefix === "string") {
        const hostLabelInputs = [...inputNs.structIterator()].filter(([, member2]) => member2.getMergedTraits().hostLabel);
        for (const [name] of hostLabelInputs) {
          const replacement = input[name];
          if (typeof replacement !== "string") {
            throw new Error(`@smithy/core/schema - ${name} in input must be a string as hostLabel.`);
          }
          hostPrefix = hostPrefix.replace(`{${name}}`, replacement);
        }
        request.hostname = hostPrefix + request.hostname;
      }
    }
  }
  deserializeMetadata(output) {
    return {
      httpStatusCode: output.statusCode,
      requestId: output.headers["x-amzn-requestid"] ?? output.headers["x-amzn-request-id"] ?? output.headers["x-amz-request-id"],
      extendedRequestId: output.headers["x-amz-id-2"],
      cfId: output.headers["x-amz-cf-id"]
    };
  }
  async serializeEventStream({ eventStream, requestSchema, initialRequest }) {
    const eventStreamSerde = await this.loadEventStreamCapability();
    return eventStreamSerde.serializeEventStream({
      eventStream,
      requestSchema,
      initialRequest
    });
  }
  async deserializeEventStream({ response, responseSchema, initialResponseContainer }) {
    const eventStreamSerde = await this.loadEventStreamCapability();
    return eventStreamSerde.deserializeEventStream({
      response,
      responseSchema,
      initialResponseContainer
    });
  }
  async loadEventStreamCapability() {
    const { EventStreamSerde: EventStreamSerde2 } = await Promise.resolve().then(() => (init_event_streams(), event_streams_exports));
    return new EventStreamSerde2({
      marshaller: this.getEventStreamMarshaller(),
      serializer: this.serializer,
      deserializer: this.deserializer,
      serdeContext: this.serdeContext,
      defaultContentType: this.getDefaultContentType()
    });
  }
  getDefaultContentType() {
    throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`);
  }
  async deserializeHttpMessage(schema, context, response, arg4, arg5) {
    return [];
  }
  getEventStreamMarshaller() {
    const context = this.serdeContext;
    if (!context.eventStreamMarshaller) {
      throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");
    }
    return context.eventStreamMarshaller;
  }
};
__name(HttpProtocol, "HttpProtocol");

// node_modules/@smithy/core/dist-es/submodules/protocols/HttpBindingProtocol.js
var HttpBindingProtocol = class extends HttpProtocol {
  async serializeRequest(operationSchema, _input, context) {
    const input = {
      ..._input ?? {}
    };
    const serializer = this.serializer;
    const query = {};
    const headers = {};
    const endpoint = await context.endpoint();
    const ns = NormalizedSchema.of(operationSchema?.input);
    const schema = ns.getSchema();
    let hasNonHttpBindingMember = false;
    let payload;
    const request = new HttpRequest({
      protocol: "",
      hostname: "",
      port: void 0,
      path: "",
      fragment: void 0,
      query,
      headers,
      body: void 0
    });
    if (endpoint) {
      this.updateServiceEndpoint(request, endpoint);
      this.setHostPrefix(request, operationSchema, input);
      const opTraits = translateTraits(operationSchema.traits);
      if (opTraits.http) {
        request.method = opTraits.http[0];
        const [path, search] = opTraits.http[1].split("?");
        if (request.path == "/") {
          request.path = path;
        } else {
          request.path += path;
        }
        const traitSearchParams = new URLSearchParams(search ?? "");
        Object.assign(query, Object.fromEntries(traitSearchParams));
      }
    }
    for (const [memberName, memberNs] of ns.structIterator()) {
      const memberTraits = memberNs.getMergedTraits() ?? {};
      const inputMemberValue = input[memberName];
      if (inputMemberValue == null && !memberNs.isIdempotencyToken()) {
        continue;
      }
      if (memberTraits.httpPayload) {
        const isStreaming2 = memberNs.isStreaming();
        if (isStreaming2) {
          const isEventStream = memberNs.isStructSchema();
          if (isEventStream) {
            if (input[memberName]) {
              payload = await this.serializeEventStream({
                eventStream: input[memberName],
                requestSchema: ns
              });
            }
          } else {
            payload = inputMemberValue;
          }
        } else {
          serializer.write(memberNs, inputMemberValue);
          payload = serializer.flush();
        }
        delete input[memberName];
      } else if (memberTraits.httpLabel) {
        serializer.write(memberNs, inputMemberValue);
        const replacement = serializer.flush();
        if (request.path.includes(`{${memberName}+}`)) {
          request.path = request.path.replace(`{${memberName}+}`, replacement.split("/").map(extendedEncodeURIComponent).join("/"));
        } else if (request.path.includes(`{${memberName}}`)) {
          request.path = request.path.replace(`{${memberName}}`, extendedEncodeURIComponent(replacement));
        }
        delete input[memberName];
      } else if (memberTraits.httpHeader) {
        serializer.write(memberNs, inputMemberValue);
        headers[memberTraits.httpHeader.toLowerCase()] = String(serializer.flush());
        delete input[memberName];
      } else if (typeof memberTraits.httpPrefixHeaders === "string") {
        for (const [key, val] of Object.entries(inputMemberValue)) {
          const amalgam = memberTraits.httpPrefixHeaders + key;
          serializer.write([memberNs.getValueSchema(), { httpHeader: amalgam }], val);
          headers[amalgam.toLowerCase()] = serializer.flush();
        }
        delete input[memberName];
      } else if (memberTraits.httpQuery || memberTraits.httpQueryParams) {
        this.serializeQuery(memberNs, inputMemberValue, query);
        delete input[memberName];
      } else {
        hasNonHttpBindingMember = true;
      }
    }
    if (hasNonHttpBindingMember && input) {
      serializer.write(schema, input);
      payload = serializer.flush();
    }
    request.headers = headers;
    request.query = query;
    request.body = payload;
    return request;
  }
  serializeQuery(ns, data, query) {
    const serializer = this.serializer;
    const traits = ns.getMergedTraits();
    if (traits.httpQueryParams) {
      for (const [key, val] of Object.entries(data)) {
        if (!(key in query)) {
          const valueSchema = ns.getValueSchema();
          Object.assign(valueSchema.getMergedTraits(), {
            ...traits,
            httpQuery: key,
            httpQueryParams: void 0
          });
          this.serializeQuery(valueSchema, val, query);
        }
      }
      return;
    }
    if (ns.isListSchema()) {
      const sparse = !!ns.getMergedTraits().sparse;
      const buffer = [];
      for (const item of data) {
        serializer.write([ns.getValueSchema(), traits], item);
        const serializable = serializer.flush();
        if (sparse || serializable !== void 0) {
          buffer.push(serializable);
        }
      }
      query[traits.httpQuery] = buffer;
    } else {
      serializer.write([ns, traits], data);
      query[traits.httpQuery] = serializer.flush();
    }
  }
  async deserializeResponse(operationSchema, context, response) {
    const deserializer = this.deserializer;
    const ns = NormalizedSchema.of(operationSchema.output);
    const dataObject = {};
    if (response.statusCode >= 300) {
      const bytes = await collectBody(response.body, context);
      if (bytes.byteLength > 0) {
        Object.assign(dataObject, await deserializer.read(15, bytes));
      }
      await this.handleError(operationSchema, context, response, dataObject, this.deserializeMetadata(response));
      throw new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.");
    }
    for (const header in response.headers) {
      const value = response.headers[header];
      delete response.headers[header];
      response.headers[header.toLowerCase()] = value;
    }
    const nonHttpBindingMembers = await this.deserializeHttpMessage(ns, context, response, dataObject);
    if (nonHttpBindingMembers.length) {
      const bytes = await collectBody(response.body, context);
      if (bytes.byteLength > 0) {
        const dataFromBody = await deserializer.read(ns, bytes);
        for (const member2 of nonHttpBindingMembers) {
          dataObject[member2] = dataFromBody[member2];
        }
      }
    } else if (nonHttpBindingMembers.discardResponseBody) {
      await collectBody(response.body, context);
    }
    dataObject.$metadata = this.deserializeMetadata(response);
    return dataObject;
  }
  async deserializeHttpMessage(schema, context, response, arg4, arg5) {
    let dataObject;
    if (arg4 instanceof Set) {
      dataObject = arg5;
    } else {
      dataObject = arg4;
    }
    let discardResponseBody = true;
    const deserializer = this.deserializer;
    const ns = NormalizedSchema.of(schema);
    const nonHttpBindingMembers = [];
    for (const [memberName, memberSchema] of ns.structIterator()) {
      const memberTraits = memberSchema.getMemberTraits();
      if (memberTraits.httpPayload) {
        discardResponseBody = false;
        const isStreaming2 = memberSchema.isStreaming();
        if (isStreaming2) {
          const isEventStream = memberSchema.isStructSchema();
          if (isEventStream) {
            dataObject[memberName] = await this.deserializeEventStream({
              response,
              responseSchema: ns
            });
          } else {
            dataObject[memberName] = sdkStreamMixin(response.body);
          }
        } else if (response.body) {
          const bytes = await collectBody(response.body, context);
          if (bytes.byteLength > 0) {
            dataObject[memberName] = await deserializer.read(memberSchema, bytes);
          }
        }
      } else if (memberTraits.httpHeader) {
        const key = String(memberTraits.httpHeader).toLowerCase();
        const value = response.headers[key];
        if (null != value) {
          if (memberSchema.isListSchema()) {
            const headerListValueSchema = memberSchema.getValueSchema();
            headerListValueSchema.getMergedTraits().httpHeader = key;
            let sections;
            if (headerListValueSchema.isTimestampSchema() && headerListValueSchema.getSchema() === 4) {
              sections = splitEvery(value, ",", 2);
            } else {
              sections = splitHeader(value);
            }
            const list = [];
            for (const section of sections) {
              list.push(await deserializer.read(headerListValueSchema, section.trim()));
            }
            dataObject[memberName] = list;
          } else {
            dataObject[memberName] = await deserializer.read(memberSchema, value);
          }
        }
      } else if (memberTraits.httpPrefixHeaders !== void 0) {
        dataObject[memberName] = {};
        for (const [header, value] of Object.entries(response.headers)) {
          if (header.startsWith(memberTraits.httpPrefixHeaders)) {
            const valueSchema = memberSchema.getValueSchema();
            valueSchema.getMergedTraits().httpHeader = header;
            dataObject[memberName][header.slice(memberTraits.httpPrefixHeaders.length)] = await deserializer.read(valueSchema, value);
          }
        }
      } else if (memberTraits.httpResponseCode) {
        dataObject[memberName] = response.statusCode;
      } else {
        nonHttpBindingMembers.push(memberName);
      }
    }
    nonHttpBindingMembers.discardResponseBody = discardResponseBody;
    return nonHttpBindingMembers;
  }
};
__name(HttpBindingProtocol, "HttpBindingProtocol");

// node_modules/@smithy/core/dist-es/submodules/protocols/serde/FromStringShapeDeserializer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();

// node_modules/@smithy/core/dist-es/submodules/protocols/serde/determineTimestampFormat.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function determineTimestampFormat(ns, settings) {
  if (settings.timestampFormat.useTrait) {
    if (ns.isTimestampSchema() && (ns.getSchema() === 5 || ns.getSchema() === 6 || ns.getSchema() === 7)) {
      return ns.getSchema();
    }
  }
  const { httpLabel, httpPrefixHeaders, httpHeader, httpQuery } = ns.getMergedTraits();
  const bindingFormat = settings.httpBindings ? typeof httpPrefixHeaders === "string" || Boolean(httpHeader) ? 6 : Boolean(httpQuery) || Boolean(httpLabel) ? 5 : void 0 : void 0;
  return bindingFormat ?? settings.timestampFormat.default;
}
__name(determineTimestampFormat, "determineTimestampFormat");

// node_modules/@smithy/core/dist-es/submodules/protocols/serde/FromStringShapeDeserializer.js
var FromStringShapeDeserializer = class extends SerdeContext {
  settings;
  constructor(settings) {
    super();
    this.settings = settings;
  }
  read(_schema, data) {
    const ns = NormalizedSchema.of(_schema);
    if (ns.isListSchema()) {
      return splitHeader(data).map((item) => this.read(ns.getValueSchema(), item));
    }
    if (ns.isBlobSchema()) {
      return (this.serdeContext?.base64Decoder ?? fromBase64)(data);
    }
    if (ns.isTimestampSchema()) {
      const format2 = determineTimestampFormat(ns, this.settings);
      switch (format2) {
        case 5:
          return _parseRfc3339DateTimeWithOffset(data);
        case 6:
          return _parseRfc7231DateTime(data);
        case 7:
          return _parseEpochTimestamp(data);
        default:
          console.warn("Missing timestamp format, parsing value with Date constructor:", data);
          return new Date(data);
      }
    }
    if (ns.isStringSchema()) {
      const mediaType = ns.getMergedTraits().mediaType;
      let intermediateValue = data;
      if (mediaType) {
        if (ns.getMergedTraits().httpHeader) {
          intermediateValue = this.base64ToUtf8(intermediateValue);
        }
        const isJson = mediaType === "application/json" || mediaType.endsWith("+json");
        if (isJson) {
          intermediateValue = LazyJsonString.from(intermediateValue);
        }
        return intermediateValue;
      }
    }
    if (ns.isNumericSchema()) {
      return Number(data);
    }
    if (ns.isBigIntegerSchema()) {
      return BigInt(data);
    }
    if (ns.isBigDecimalSchema()) {
      return new NumericValue(data, "bigDecimal");
    }
    if (ns.isBooleanSchema()) {
      return String(data).toLowerCase() === "true";
    }
    return data;
  }
  base64ToUtf8(base64String) {
    return (this.serdeContext?.utf8Encoder ?? toUtf8)((this.serdeContext?.base64Decoder ?? fromBase64)(base64String));
  }
};
__name(FromStringShapeDeserializer, "FromStringShapeDeserializer");

// node_modules/@smithy/core/dist-es/submodules/protocols/serde/HttpInterceptingShapeDeserializer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();
var HttpInterceptingShapeDeserializer = class extends SerdeContext {
  codecDeserializer;
  stringDeserializer;
  constructor(codecDeserializer, codecSettings) {
    super();
    this.codecDeserializer = codecDeserializer;
    this.stringDeserializer = new FromStringShapeDeserializer(codecSettings);
  }
  setSerdeContext(serdeContext) {
    this.stringDeserializer.setSerdeContext(serdeContext);
    this.codecDeserializer.setSerdeContext(serdeContext);
    this.serdeContext = serdeContext;
  }
  read(schema, data) {
    const ns = NormalizedSchema.of(schema);
    const traits = ns.getMergedTraits();
    const toString = this.serdeContext?.utf8Encoder ?? toUtf8;
    if (traits.httpHeader || traits.httpResponseCode) {
      return this.stringDeserializer.read(ns, toString(data));
    }
    if (traits.httpPayload) {
      if (ns.isBlobSchema()) {
        const toBytes = this.serdeContext?.utf8Decoder ?? fromUtf8;
        if (typeof data === "string") {
          return toBytes(data);
        }
        return data;
      } else if (ns.isStringSchema()) {
        if ("byteLength" in data) {
          return toString(data);
        }
        return data;
      }
    }
    return this.codecDeserializer.read(ns, data);
  }
};
__name(HttpInterceptingShapeDeserializer, "HttpInterceptingShapeDeserializer");

// node_modules/@smithy/core/dist-es/submodules/protocols/serde/HttpInterceptingShapeSerializer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/core/dist-es/submodules/protocols/serde/ToStringShapeSerializer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ToStringShapeSerializer = class extends SerdeContext {
  settings;
  stringBuffer = "";
  constructor(settings) {
    super();
    this.settings = settings;
  }
  write(schema, value) {
    const ns = NormalizedSchema.of(schema);
    switch (typeof value) {
      case "object":
        if (value === null) {
          this.stringBuffer = "null";
          return;
        }
        if (ns.isTimestampSchema()) {
          if (!(value instanceof Date)) {
            throw new Error(`@smithy/core/protocols - received non-Date value ${value} when schema expected Date in ${ns.getName(true)}`);
          }
          const format2 = determineTimestampFormat(ns, this.settings);
          switch (format2) {
            case 5:
              this.stringBuffer = value.toISOString().replace(".000Z", "Z");
              break;
            case 6:
              this.stringBuffer = dateToUtcString(value);
              break;
            case 7:
              this.stringBuffer = String(value.getTime() / 1e3);
              break;
            default:
              console.warn("Missing timestamp format, using epoch seconds", value);
              this.stringBuffer = String(value.getTime() / 1e3);
          }
          return;
        }
        if (ns.isBlobSchema() && "byteLength" in value) {
          this.stringBuffer = (this.serdeContext?.base64Encoder ?? toBase64)(value);
          return;
        }
        if (ns.isListSchema() && Array.isArray(value)) {
          let buffer = "";
          for (const item of value) {
            this.write([ns.getValueSchema(), ns.getMergedTraits()], item);
            const headerItem = this.flush();
            const serialized = ns.getValueSchema().isTimestampSchema() ? headerItem : quoteHeader(headerItem);
            if (buffer !== "") {
              buffer += ", ";
            }
            buffer += serialized;
          }
          this.stringBuffer = buffer;
          return;
        }
        this.stringBuffer = JSON.stringify(value, null, 2);
        break;
      case "string":
        const mediaType = ns.getMergedTraits().mediaType;
        let intermediateValue = value;
        if (mediaType) {
          const isJson = mediaType === "application/json" || mediaType.endsWith("+json");
          if (isJson) {
            intermediateValue = LazyJsonString.from(intermediateValue);
          }
          if (ns.getMergedTraits().httpHeader) {
            this.stringBuffer = (this.serdeContext?.base64Encoder ?? toBase64)(intermediateValue.toString());
            return;
          }
        }
        this.stringBuffer = value;
        break;
      default:
        if (ns.isIdempotencyToken()) {
          this.stringBuffer = v4();
        } else {
          this.stringBuffer = String(value);
        }
    }
  }
  flush() {
    const buffer = this.stringBuffer;
    this.stringBuffer = "";
    return buffer;
  }
};
__name(ToStringShapeSerializer, "ToStringShapeSerializer");

// node_modules/@smithy/core/dist-es/submodules/protocols/serde/HttpInterceptingShapeSerializer.js
var HttpInterceptingShapeSerializer = class {
  codecSerializer;
  stringSerializer;
  buffer;
  constructor(codecSerializer, codecSettings, stringSerializer = new ToStringShapeSerializer(codecSettings)) {
    this.codecSerializer = codecSerializer;
    this.stringSerializer = stringSerializer;
  }
  setSerdeContext(serdeContext) {
    this.codecSerializer.setSerdeContext(serdeContext);
    this.stringSerializer.setSerdeContext(serdeContext);
  }
  write(schema, value) {
    const ns = NormalizedSchema.of(schema);
    const traits = ns.getMergedTraits();
    if (traits.httpHeader || traits.httpLabel || traits.httpQuery) {
      this.stringSerializer.write(ns, value);
      this.buffer = this.stringSerializer.flush();
      return;
    }
    return this.codecSerializer.write(ns, value);
  }
  flush() {
    if (this.buffer !== void 0) {
      const buffer = this.buffer;
      this.buffer = void 0;
      return buffer;
    }
    return this.codecSerializer.flush();
  }
};
__name(HttpInterceptingShapeSerializer, "HttpInterceptingShapeSerializer");

// node_modules/@smithy/core/dist-es/setFeature.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function setFeature2(context, feature, value) {
  if (!context.__smithy_context) {
    context.__smithy_context = {
      features: {}
    };
  } else if (!context.__smithy_context.features) {
    context.__smithy_context.features = {};
  }
  context.__smithy_context.features[feature] = value;
}
__name(setFeature2, "setFeature");

// node_modules/@smithy/core/dist-es/util-identity-and-auth/DefaultIdentityProviderConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DefaultIdentityProviderConfig = class {
  authSchemes = /* @__PURE__ */ new Map();
  constructor(config) {
    for (const [key, value] of Object.entries(config)) {
      if (value !== void 0) {
        this.authSchemes.set(key, value);
      }
    }
  }
  getIdentityProvider(schemeId) {
    return this.authSchemes.get(schemeId);
  }
};
__name(DefaultIdentityProviderConfig, "DefaultIdentityProviderConfig");

// node_modules/@smithy/core/dist-es/util-identity-and-auth/memoizeIdentityProvider.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var createIsIdentityExpiredFunction = /* @__PURE__ */ __name((expirationMs) => /* @__PURE__ */ __name(function isIdentityExpired2(identity) {
  return doesIdentityRequireRefresh(identity) && identity.expiration.getTime() - Date.now() < expirationMs;
}, "isIdentityExpired"), "createIsIdentityExpiredFunction");
var EXPIRATION_MS = 3e5;
var isIdentityExpired = createIsIdentityExpiredFunction(EXPIRATION_MS);
var doesIdentityRequireRefresh = /* @__PURE__ */ __name((identity) => identity.expiration !== void 0, "doesIdentityRequireRefresh");
var memoizeIdentityProvider = /* @__PURE__ */ __name((provider, isExpired, requiresRefresh) => {
  if (provider === void 0) {
    return void 0;
  }
  const normalizedProvider = typeof provider !== "function" ? async () => Promise.resolve(provider) : provider;
  let resolved;
  let pending;
  let hasResult;
  let isConstant = false;
  const coalesceProvider = /* @__PURE__ */ __name(async (options) => {
    if (!pending) {
      pending = normalizedProvider(options);
    }
    try {
      resolved = await pending;
      hasResult = true;
      isConstant = false;
    } finally {
      pending = void 0;
    }
    return resolved;
  }, "coalesceProvider");
  if (isExpired === void 0) {
    return async (options) => {
      if (!hasResult || options?.forceRefresh) {
        resolved = await coalesceProvider(options);
      }
      return resolved;
    };
  }
  return async (options) => {
    if (!hasResult || options?.forceRefresh) {
      resolved = await coalesceProvider(options);
    }
    if (isConstant) {
      return resolved;
    }
    if (!requiresRefresh(resolved)) {
      isConstant = true;
      return resolved;
    }
    if (isExpired(resolved)) {
      await coalesceProvider(options);
      return resolved;
    }
    return resolved;
  };
}, "memoizeIdentityProvider");

// node_modules/@smithy/property-provider/dist-es/memoize.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var memoize = /* @__PURE__ */ __name((provider, isExpired, requiresRefresh) => {
  let resolved;
  let pending;
  let hasResult;
  let isConstant = false;
  const coalesceProvider = /* @__PURE__ */ __name(async () => {
    if (!pending) {
      pending = provider();
    }
    try {
      resolved = await pending;
      hasResult = true;
      isConstant = false;
    } finally {
      pending = void 0;
    }
    return resolved;
  }, "coalesceProvider");
  if (isExpired === void 0) {
    return async (options) => {
      if (!hasResult || options?.forceRefresh) {
        resolved = await coalesceProvider();
      }
      return resolved;
    };
  }
  return async (options) => {
    if (!hasResult || options?.forceRefresh) {
      resolved = await coalesceProvider();
    }
    if (isConstant) {
      return resolved;
    }
    if (requiresRefresh && !requiresRefresh(resolved)) {
      isConstant = true;
      return resolved;
    }
    if (isExpired(resolved)) {
      await coalesceProvider();
      return resolved;
    }
    return resolved;
  };
}, "memoize");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4AConfig.js
var resolveAwsSdkSigV4AConfig = /* @__PURE__ */ __name((config) => {
  config.sigv4aSigningRegionSet = normalizeProvider2(config.sigv4aSigningRegionSet);
  return config;
}, "resolveAwsSdkSigV4AConfig");

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4Config.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/signature-v4/dist-es/SignatureV4.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();

// node_modules/@smithy/signature-v4/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ALGORITHM_QUERY_PARAM = "X-Amz-Algorithm";
var CREDENTIAL_QUERY_PARAM = "X-Amz-Credential";
var AMZ_DATE_QUERY_PARAM = "X-Amz-Date";
var SIGNED_HEADERS_QUERY_PARAM = "X-Amz-SignedHeaders";
var EXPIRES_QUERY_PARAM = "X-Amz-Expires";
var SIGNATURE_QUERY_PARAM = "X-Amz-Signature";
var TOKEN_QUERY_PARAM = "X-Amz-Security-Token";
var AUTH_HEADER = "authorization";
var AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();
var DATE_HEADER = "date";
var GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];
var SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();
var SHA256_HEADER = "x-amz-content-sha256";
var TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();
var ALWAYS_UNSIGNABLE_HEADERS = {
  authorization: true,
  "cache-control": true,
  connection: true,
  expect: true,
  from: true,
  "keep-alive": true,
  "max-forwards": true,
  pragma: true,
  referer: true,
  te: true,
  trailer: true,
  "transfer-encoding": true,
  upgrade: true,
  "user-agent": true,
  "x-amzn-trace-id": true
};
var PROXY_HEADER_PATTERN = /^proxy-/;
var SEC_HEADER_PATTERN = /^sec-/;
var ALGORITHM_IDENTIFIER = "AWS4-HMAC-SHA256";
var EVENT_ALGORITHM_IDENTIFIER = "AWS4-HMAC-SHA256-PAYLOAD";
var UNSIGNED_PAYLOAD = "UNSIGNED-PAYLOAD";
var MAX_CACHE_SIZE = 50;
var KEY_TYPE_IDENTIFIER = "aws4_request";
var MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;

// node_modules/@smithy/signature-v4/dist-es/credentialDerivation.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();
var signingKeyCache = {};
var cacheQueue = [];
var createScope = /* @__PURE__ */ __name((shortDate, region, service) => `${shortDate}/${region}/${service}/${KEY_TYPE_IDENTIFIER}`, "createScope");
var getSigningKey = /* @__PURE__ */ __name(async (sha256Constructor, credentials, shortDate, region, service) => {
  const credsHash = await hmac(sha256Constructor, credentials.secretAccessKey, credentials.accessKeyId);
  const cacheKey = `${shortDate}:${region}:${service}:${toHex(credsHash)}:${credentials.sessionToken}`;
  if (cacheKey in signingKeyCache) {
    return signingKeyCache[cacheKey];
  }
  cacheQueue.push(cacheKey);
  while (cacheQueue.length > MAX_CACHE_SIZE) {
    delete signingKeyCache[cacheQueue.shift()];
  }
  let key = `AWS4${credentials.secretAccessKey}`;
  for (const signable of [shortDate, region, service, KEY_TYPE_IDENTIFIER]) {
    key = await hmac(sha256Constructor, key, signable);
  }
  return signingKeyCache[cacheKey] = key;
}, "getSigningKey");
var hmac = /* @__PURE__ */ __name((ctor, secret, data) => {
  const hash = new ctor(secret);
  hash.update(toUint8Array(data));
  return hash.digest();
}, "hmac");

// node_modules/@smithy/signature-v4/dist-es/getCanonicalHeaders.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getCanonicalHeaders = /* @__PURE__ */ __name(({ headers }, unsignableHeaders, signableHeaders) => {
  const canonical = {};
  for (const headerName of Object.keys(headers).sort()) {
    if (headers[headerName] == void 0) {
      continue;
    }
    const canonicalHeaderName = headerName.toLowerCase();
    if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS || unsignableHeaders?.has(canonicalHeaderName) || PROXY_HEADER_PATTERN.test(canonicalHeaderName) || SEC_HEADER_PATTERN.test(canonicalHeaderName)) {
      if (!signableHeaders || signableHeaders && !signableHeaders.has(canonicalHeaderName)) {
        continue;
      }
    }
    canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\s+/g, " ");
  }
  return canonical;
}, "getCanonicalHeaders");

// node_modules/@smithy/signature-v4/dist-es/getPayloadHash.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/is-array-buffer/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isArrayBuffer = /* @__PURE__ */ __name((arg) => typeof ArrayBuffer === "function" && arg instanceof ArrayBuffer || Object.prototype.toString.call(arg) === "[object ArrayBuffer]", "isArrayBuffer");

// node_modules/@smithy/signature-v4/dist-es/getPayloadHash.js
init_dist_es();
var getPayloadHash = /* @__PURE__ */ __name(async ({ headers, body }, hashConstructor) => {
  for (const headerName of Object.keys(headers)) {
    if (headerName.toLowerCase() === SHA256_HEADER) {
      return headers[headerName];
    }
  }
  if (body == void 0) {
    return "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";
  } else if (typeof body === "string" || ArrayBuffer.isView(body) || isArrayBuffer(body)) {
    const hashCtor = new hashConstructor();
    hashCtor.update(toUint8Array(body));
    return toHex(await hashCtor.digest());
  }
  return UNSIGNED_PAYLOAD;
}, "getPayloadHash");

// node_modules/@smithy/signature-v4/dist-es/HeaderFormatter.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();
var HeaderFormatter = class {
  format(headers) {
    const chunks = [];
    for (const headerName of Object.keys(headers)) {
      const bytes = fromUtf8(headerName);
      chunks.push(Uint8Array.from([bytes.byteLength]), bytes, this.formatHeaderValue(headers[headerName]));
    }
    const out = new Uint8Array(chunks.reduce((carry, bytes) => carry + bytes.byteLength, 0));
    let position = 0;
    for (const chunk of chunks) {
      out.set(chunk, position);
      position += chunk.byteLength;
    }
    return out;
  }
  formatHeaderValue(header) {
    switch (header.type) {
      case "boolean":
        return Uint8Array.from([header.value ? 0 : 1]);
      case "byte":
        return Uint8Array.from([2, header.value]);
      case "short":
        const shortView = new DataView(new ArrayBuffer(3));
        shortView.setUint8(0, 3);
        shortView.setInt16(1, header.value, false);
        return new Uint8Array(shortView.buffer);
      case "integer":
        const intView = new DataView(new ArrayBuffer(5));
        intView.setUint8(0, 4);
        intView.setInt32(1, header.value, false);
        return new Uint8Array(intView.buffer);
      case "long":
        const longBytes = new Uint8Array(9);
        longBytes[0] = 5;
        longBytes.set(header.value.bytes, 1);
        return longBytes;
      case "binary":
        const binView = new DataView(new ArrayBuffer(3 + header.value.byteLength));
        binView.setUint8(0, 6);
        binView.setUint16(1, header.value.byteLength, false);
        const binBytes = new Uint8Array(binView.buffer);
        binBytes.set(header.value, 3);
        return binBytes;
      case "string":
        const utf8Bytes = fromUtf8(header.value);
        const strView = new DataView(new ArrayBuffer(3 + utf8Bytes.byteLength));
        strView.setUint8(0, 7);
        strView.setUint16(1, utf8Bytes.byteLength, false);
        const strBytes = new Uint8Array(strView.buffer);
        strBytes.set(utf8Bytes, 3);
        return strBytes;
      case "timestamp":
        const tsBytes = new Uint8Array(9);
        tsBytes[0] = 8;
        tsBytes.set(Int64.fromNumber(header.value.valueOf()).bytes, 1);
        return tsBytes;
      case "uuid":
        if (!UUID_PATTERN.test(header.value)) {
          throw new Error(`Invalid UUID received: ${header.value}`);
        }
        const uuidBytes = new Uint8Array(17);
        uuidBytes[0] = 9;
        uuidBytes.set(fromHex(header.value.replace(/\-/g, "")), 1);
        return uuidBytes;
    }
  }
};
__name(HeaderFormatter, "HeaderFormatter");
var HEADER_VALUE_TYPE;
(function(HEADER_VALUE_TYPE3) {
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["boolTrue"] = 0] = "boolTrue";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["boolFalse"] = 1] = "boolFalse";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["byte"] = 2] = "byte";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["short"] = 3] = "short";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["integer"] = 4] = "integer";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["long"] = 5] = "long";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["byteArray"] = 6] = "byteArray";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["string"] = 7] = "string";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["timestamp"] = 8] = "timestamp";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["uuid"] = 9] = "uuid";
})(HEADER_VALUE_TYPE || (HEADER_VALUE_TYPE = {}));
var UUID_PATTERN = /^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;
var Int64 = class {
  bytes;
  constructor(bytes) {
    this.bytes = bytes;
    if (bytes.byteLength !== 8) {
      throw new Error("Int64 buffers must be exactly 8 bytes");
    }
  }
  static fromNumber(number) {
    if (number > 9223372036854776e3 || number < -9223372036854776e3) {
      throw new Error(`${number} is too large (or, if negative, too small) to represent as an Int64`);
    }
    const bytes = new Uint8Array(8);
    for (let i2 = 7, remaining = Math.abs(Math.round(number)); i2 > -1 && remaining > 0; i2--, remaining /= 256) {
      bytes[i2] = remaining;
    }
    if (number < 0) {
      negate(bytes);
    }
    return new Int64(bytes);
  }
  valueOf() {
    const bytes = this.bytes.slice(0);
    const negative = bytes[0] & 128;
    if (negative) {
      negate(bytes);
    }
    return parseInt(toHex(bytes), 16) * (negative ? -1 : 1);
  }
  toString() {
    return String(this.valueOf());
  }
};
__name(Int64, "Int64");
function negate(bytes) {
  for (let i2 = 0; i2 < 8; i2++) {
    bytes[i2] ^= 255;
  }
  for (let i2 = 7; i2 > -1; i2--) {
    bytes[i2]++;
    if (bytes[i2] !== 0)
      break;
  }
}
__name(negate, "negate");

// node_modules/@smithy/signature-v4/dist-es/headerUtil.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var hasHeader = /* @__PURE__ */ __name((soughtHeader, headers) => {
  soughtHeader = soughtHeader.toLowerCase();
  for (const headerName of Object.keys(headers)) {
    if (soughtHeader === headerName.toLowerCase()) {
      return true;
    }
  }
  return false;
}, "hasHeader");

// node_modules/@smithy/signature-v4/dist-es/moveHeadersToQuery.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var moveHeadersToQuery = /* @__PURE__ */ __name((request, options = {}) => {
  const { headers, query = {} } = HttpRequest.clone(request);
  for (const name of Object.keys(headers)) {
    const lname = name.toLowerCase();
    if (lname.slice(0, 6) === "x-amz-" && !options.unhoistableHeaders?.has(lname) || options.hoistableHeaders?.has(lname)) {
      query[name] = headers[name];
      delete headers[name];
    }
  }
  return {
    ...request,
    headers,
    query
  };
}, "moveHeadersToQuery");

// node_modules/@smithy/signature-v4/dist-es/prepareRequest.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var prepareRequest = /* @__PURE__ */ __name((request) => {
  request = HttpRequest.clone(request);
  for (const headerName of Object.keys(request.headers)) {
    if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {
      delete request.headers[headerName];
    }
  }
  return request;
}, "prepareRequest");

// node_modules/@smithy/signature-v4/dist-es/SignatureV4Base.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();

// node_modules/@smithy/signature-v4/dist-es/getCanonicalQuery.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getCanonicalQuery = /* @__PURE__ */ __name(({ query = {} }) => {
  const keys = [];
  const serialized = {};
  for (const key of Object.keys(query)) {
    if (key.toLowerCase() === SIGNATURE_HEADER) {
      continue;
    }
    const encodedKey = escapeUri(key);
    keys.push(encodedKey);
    const value = query[key];
    if (typeof value === "string") {
      serialized[encodedKey] = `${encodedKey}=${escapeUri(value)}`;
    } else if (Array.isArray(value)) {
      serialized[encodedKey] = value.slice(0).reduce((encoded, value2) => encoded.concat([`${encodedKey}=${escapeUri(value2)}`]), []).sort().join("&");
    }
  }
  return keys.sort().map((key) => serialized[key]).filter((serialized2) => serialized2).join("&");
}, "getCanonicalQuery");

// node_modules/@smithy/signature-v4/dist-es/utilDate.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var iso8601 = /* @__PURE__ */ __name((time2) => toDate(time2).toISOString().replace(/\.\d{3}Z$/, "Z"), "iso8601");
var toDate = /* @__PURE__ */ __name((time2) => {
  if (typeof time2 === "number") {
    return new Date(time2 * 1e3);
  }
  if (typeof time2 === "string") {
    if (Number(time2)) {
      return new Date(Number(time2) * 1e3);
    }
    return new Date(time2);
  }
  return time2;
}, "toDate");

// node_modules/@smithy/signature-v4/dist-es/SignatureV4Base.js
var SignatureV4Base = class {
  service;
  regionProvider;
  credentialProvider;
  sha256;
  uriEscapePath;
  applyChecksum;
  constructor({ applyChecksum, credentials, region, service, sha256, uriEscapePath = true }) {
    this.service = service;
    this.sha256 = sha256;
    this.uriEscapePath = uriEscapePath;
    this.applyChecksum = typeof applyChecksum === "boolean" ? applyChecksum : true;
    this.regionProvider = normalizeProvider(region);
    this.credentialProvider = normalizeProvider(credentials);
  }
  createCanonicalRequest(request, canonicalHeaders, payloadHash) {
    const sortedHeaders = Object.keys(canonicalHeaders).sort();
    return `${request.method}
${this.getCanonicalPath(request)}
${getCanonicalQuery(request)}
${sortedHeaders.map((name) => `${name}:${canonicalHeaders[name]}`).join("\n")}

${sortedHeaders.join(";")}
${payloadHash}`;
  }
  async createStringToSign(longDate, credentialScope, canonicalRequest, algorithmIdentifier) {
    const hash = new this.sha256();
    hash.update(toUint8Array(canonicalRequest));
    const hashedRequest = await hash.digest();
    return `${algorithmIdentifier}
${longDate}
${credentialScope}
${toHex(hashedRequest)}`;
  }
  getCanonicalPath({ path }) {
    if (this.uriEscapePath) {
      const normalizedPathSegments = [];
      for (const pathSegment of path.split("/")) {
        if (pathSegment?.length === 0)
          continue;
        if (pathSegment === ".")
          continue;
        if (pathSegment === "..") {
          normalizedPathSegments.pop();
        } else {
          normalizedPathSegments.push(pathSegment);
        }
      }
      const normalizedPath = `${path?.startsWith("/") ? "/" : ""}${normalizedPathSegments.join("/")}${normalizedPathSegments.length > 0 && path?.endsWith("/") ? "/" : ""}`;
      const doubleEncoded = escapeUri(normalizedPath);
      return doubleEncoded.replace(/%2F/g, "/");
    }
    return path;
  }
  validateResolvedCredentials(credentials) {
    if (typeof credentials !== "object" || typeof credentials.accessKeyId !== "string" || typeof credentials.secretAccessKey !== "string") {
      throw new Error("Resolved credential object is not valid");
    }
  }
  formatDate(now) {
    const longDate = iso8601(now).replace(/[\-:]/g, "");
    return {
      longDate,
      shortDate: longDate.slice(0, 8)
    };
  }
  getCanonicalHeaderList(headers) {
    return Object.keys(headers).sort().join(";");
  }
};
__name(SignatureV4Base, "SignatureV4Base");

// node_modules/@smithy/signature-v4/dist-es/SignatureV4.js
var SignatureV4 = class extends SignatureV4Base {
  headerFormatter = new HeaderFormatter();
  constructor({ applyChecksum, credentials, region, service, sha256, uriEscapePath = true }) {
    super({
      applyChecksum,
      credentials,
      region,
      service,
      sha256,
      uriEscapePath
    });
  }
  async presign(originalRequest, options = {}) {
    const { signingDate = /* @__PURE__ */ new Date(), expiresIn = 3600, unsignableHeaders, unhoistableHeaders, signableHeaders, hoistableHeaders, signingRegion, signingService } = options;
    const credentials = await this.credentialProvider();
    this.validateResolvedCredentials(credentials);
    const region = signingRegion ?? await this.regionProvider();
    const { longDate, shortDate } = this.formatDate(signingDate);
    if (expiresIn > MAX_PRESIGNED_TTL) {
      return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");
    }
    const scope = createScope(shortDate, region, signingService ?? this.service);
    const request = moveHeadersToQuery(prepareRequest(originalRequest), { unhoistableHeaders, hoistableHeaders });
    if (credentials.sessionToken) {
      request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;
    }
    request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;
    request.query[CREDENTIAL_QUERY_PARAM] = `${credentials.accessKeyId}/${scope}`;
    request.query[AMZ_DATE_QUERY_PARAM] = longDate;
    request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);
    const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);
    request.query[SIGNED_HEADERS_QUERY_PARAM] = this.getCanonicalHeaderList(canonicalHeaders);
    request.query[SIGNATURE_QUERY_PARAM] = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, await getPayloadHash(originalRequest, this.sha256)));
    return request;
  }
  async sign(toSign, options) {
    if (typeof toSign === "string") {
      return this.signString(toSign, options);
    } else if (toSign.headers && toSign.payload) {
      return this.signEvent(toSign, options);
    } else if (toSign.message) {
      return this.signMessage(toSign, options);
    } else {
      return this.signRequest(toSign, options);
    }
  }
  async signEvent({ headers, payload }, { signingDate = /* @__PURE__ */ new Date(), priorSignature, signingRegion, signingService }) {
    const region = signingRegion ?? await this.regionProvider();
    const { shortDate, longDate } = this.formatDate(signingDate);
    const scope = createScope(shortDate, region, signingService ?? this.service);
    const hashedPayload = await getPayloadHash({ headers: {}, body: payload }, this.sha256);
    const hash = new this.sha256();
    hash.update(headers);
    const hashedHeaders = toHex(await hash.digest());
    const stringToSign = [
      EVENT_ALGORITHM_IDENTIFIER,
      longDate,
      scope,
      priorSignature,
      hashedHeaders,
      hashedPayload
    ].join("\n");
    return this.signString(stringToSign, { signingDate, signingRegion: region, signingService });
  }
  async signMessage(signableMessage, { signingDate = /* @__PURE__ */ new Date(), signingRegion, signingService }) {
    const promise = this.signEvent({
      headers: this.headerFormatter.format(signableMessage.message.headers),
      payload: signableMessage.message.body
    }, {
      signingDate,
      signingRegion,
      signingService,
      priorSignature: signableMessage.priorSignature
    });
    return promise.then((signature) => {
      return { message: signableMessage.message, signature };
    });
  }
  async signString(stringToSign, { signingDate = /* @__PURE__ */ new Date(), signingRegion, signingService } = {}) {
    const credentials = await this.credentialProvider();
    this.validateResolvedCredentials(credentials);
    const region = signingRegion ?? await this.regionProvider();
    const { shortDate } = this.formatDate(signingDate);
    const hash = new this.sha256(await this.getSigningKey(credentials, region, shortDate, signingService));
    hash.update(toUint8Array(stringToSign));
    return toHex(await hash.digest());
  }
  async signRequest(requestToSign, { signingDate = /* @__PURE__ */ new Date(), signableHeaders, unsignableHeaders, signingRegion, signingService } = {}) {
    const credentials = await this.credentialProvider();
    this.validateResolvedCredentials(credentials);
    const region = signingRegion ?? await this.regionProvider();
    const request = prepareRequest(requestToSign);
    const { longDate, shortDate } = this.formatDate(signingDate);
    const scope = createScope(shortDate, region, signingService ?? this.service);
    request.headers[AMZ_DATE_HEADER] = longDate;
    if (credentials.sessionToken) {
      request.headers[TOKEN_HEADER] = credentials.sessionToken;
    }
    const payloadHash = await getPayloadHash(request, this.sha256);
    if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {
      request.headers[SHA256_HEADER] = payloadHash;
    }
    const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);
    const signature = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash));
    request.headers[AUTH_HEADER] = `${ALGORITHM_IDENTIFIER} Credential=${credentials.accessKeyId}/${scope}, SignedHeaders=${this.getCanonicalHeaderList(canonicalHeaders)}, Signature=${signature}`;
    return request;
  }
  async getSignature(longDate, credentialScope, keyPromise, canonicalRequest) {
    const stringToSign = await this.createStringToSign(longDate, credentialScope, canonicalRequest, ALGORITHM_IDENTIFIER);
    const hash = new this.sha256(await keyPromise);
    hash.update(toUint8Array(stringToSign));
    return toHex(await hash.digest());
  }
  getSigningKey(credentials, region, shortDate, service) {
    return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);
  }
};
__name(SignatureV4, "SignatureV4");

// node_modules/@smithy/signature-v4/dist-es/signature-v4a-container.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var signatureV4aContainer = {
  SignatureV4a: null
};

// node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4Config.js
var resolveAwsSdkSigV4Config = /* @__PURE__ */ __name((config) => {
  let inputCredentials = config.credentials;
  let isUserSupplied = !!config.credentials;
  let resolvedCredentials = void 0;
  Object.defineProperty(config, "credentials", {
    set(credentials) {
      if (credentials && credentials !== inputCredentials && credentials !== resolvedCredentials) {
        isUserSupplied = true;
      }
      inputCredentials = credentials;
      const memoizedProvider = normalizeCredentialProvider(config, {
        credentials: inputCredentials,
        credentialDefaultProvider: config.credentialDefaultProvider
      });
      const boundProvider = bindCallerConfig(config, memoizedProvider);
      if (isUserSupplied && !boundProvider.attributed) {
        resolvedCredentials = /* @__PURE__ */ __name(async (options) => boundProvider(options).then((creds) => setCredentialFeature(creds, "CREDENTIALS_CODE", "e")), "resolvedCredentials");
        resolvedCredentials.memoized = boundProvider.memoized;
        resolvedCredentials.configBound = boundProvider.configBound;
        resolvedCredentials.attributed = true;
      } else {
        resolvedCredentials = boundProvider;
      }
    },
    get() {
      return resolvedCredentials;
    },
    enumerable: true,
    configurable: true
  });
  config.credentials = inputCredentials;
  const { signingEscapePath = true, systemClockOffset = config.systemClockOffset || 0, sha256 } = config;
  let signer;
  if (config.signer) {
    signer = normalizeProvider2(config.signer);
  } else if (config.regionInfoProvider) {
    signer = /* @__PURE__ */ __name(() => normalizeProvider2(config.region)().then(async (region) => [
      await config.regionInfoProvider(region, {
        useFipsEndpoint: await config.useFipsEndpoint(),
        useDualstackEndpoint: await config.useDualstackEndpoint()
      }) || {},
      region
    ]).then(([regionInfo, region]) => {
      const { signingRegion, signingService } = regionInfo;
      config.signingRegion = config.signingRegion || signingRegion || region;
      config.signingName = config.signingName || signingService || config.serviceId;
      const params = {
        ...config,
        credentials: config.credentials,
        region: config.signingRegion,
        service: config.signingName,
        sha256,
        uriEscapePath: signingEscapePath
      };
      const SignerCtor = config.signerConstructor || SignatureV4;
      return new SignerCtor(params);
    }), "signer");
  } else {
    signer = /* @__PURE__ */ __name(async (authScheme) => {
      authScheme = Object.assign({}, {
        name: "sigv4",
        signingName: config.signingName || config.defaultSigningName,
        signingRegion: await normalizeProvider2(config.region)(),
        properties: {}
      }, authScheme);
      const signingRegion = authScheme.signingRegion;
      const signingService = authScheme.signingName;
      config.signingRegion = config.signingRegion || signingRegion;
      config.signingName = config.signingName || signingService || config.serviceId;
      const params = {
        ...config,
        credentials: config.credentials,
        region: config.signingRegion,
        service: config.signingName,
        sha256,
        uriEscapePath: signingEscapePath
      };
      const SignerCtor = config.signerConstructor || SignatureV4;
      return new SignerCtor(params);
    }, "signer");
  }
  const resolvedConfig = Object.assign(config, {
    systemClockOffset,
    signingEscapePath,
    signer
  });
  return resolvedConfig;
}, "resolveAwsSdkSigV4Config");
function normalizeCredentialProvider(config, { credentials, credentialDefaultProvider }) {
  let credentialsProvider;
  if (credentials) {
    if (!credentials?.memoized) {
      credentialsProvider = memoizeIdentityProvider(credentials, isIdentityExpired, doesIdentityRequireRefresh);
    } else {
      credentialsProvider = credentials;
    }
  } else {
    if (credentialDefaultProvider) {
      credentialsProvider = normalizeProvider2(credentialDefaultProvider(Object.assign({}, config, {
        parentClientConfig: config
      })));
    } else {
      credentialsProvider = /* @__PURE__ */ __name(async () => {
        throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.");
      }, "credentialsProvider");
    }
  }
  credentialsProvider.memoized = true;
  return credentialsProvider;
}
__name(normalizeCredentialProvider, "normalizeCredentialProvider");
function bindCallerConfig(config, credentialsProvider) {
  if (credentialsProvider.configBound) {
    return credentialsProvider;
  }
  const fn = /* @__PURE__ */ __name(async (options) => credentialsProvider({ ...options, callerClientConfig: config }), "fn");
  fn.memoized = credentialsProvider.memoized;
  fn.configBound = true;
  return fn;
}
__name(bindCallerConfig, "bindCallerConfig");

// node_modules/@smithy/util-body-length-browser/dist-es/calculateBodyLength.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var TEXT_ENCODER = typeof TextEncoder == "function" ? new TextEncoder() : null;
var calculateBodyLength = /* @__PURE__ */ __name((body) => {
  if (typeof body === "string") {
    if (TEXT_ENCODER) {
      return TEXT_ENCODER.encode(body).byteLength;
    }
    let len = body.length;
    for (let i2 = len - 1; i2 >= 0; i2--) {
      const code = body.charCodeAt(i2);
      if (code > 127 && code <= 2047)
        len++;
      else if (code > 2047 && code <= 65535)
        len += 2;
      if (code >= 56320 && code <= 57343)
        i2--;
    }
    return len;
  } else if (typeof body.byteLength === "number") {
    return body.byteLength;
  } else if (typeof body.size === "number") {
    return body.size;
  }
  throw new Error(`Body Length computation failed for ${body}`);
}, "calculateBodyLength");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/ProtocolLib.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/smithy-client/dist-es/client.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/middleware-stack/dist-es/MiddlewareStack.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getAllAliases = /* @__PURE__ */ __name((name, aliases) => {
  const _aliases = [];
  if (name) {
    _aliases.push(name);
  }
  if (aliases) {
    for (const alias of aliases) {
      _aliases.push(alias);
    }
  }
  return _aliases;
}, "getAllAliases");
var getMiddlewareNameWithAliases = /* @__PURE__ */ __name((name, aliases) => {
  return `${name || "anonymous"}${aliases && aliases.length > 0 ? ` (a.k.a. ${aliases.join(",")})` : ""}`;
}, "getMiddlewareNameWithAliases");
var constructStack = /* @__PURE__ */ __name(() => {
  let absoluteEntries = [];
  let relativeEntries = [];
  let identifyOnResolve = false;
  const entriesNameSet = /* @__PURE__ */ new Set();
  const sort = /* @__PURE__ */ __name((entries) => entries.sort((a2, b2) => stepWeights[b2.step] - stepWeights[a2.step] || priorityWeights[b2.priority || "normal"] - priorityWeights[a2.priority || "normal"]), "sort");
  const removeByName = /* @__PURE__ */ __name((toRemove) => {
    let isRemoved = false;
    const filterCb = /* @__PURE__ */ __name((entry) => {
      const aliases = getAllAliases(entry.name, entry.aliases);
      if (aliases.includes(toRemove)) {
        isRemoved = true;
        for (const alias of aliases) {
          entriesNameSet.delete(alias);
        }
        return false;
      }
      return true;
    }, "filterCb");
    absoluteEntries = absoluteEntries.filter(filterCb);
    relativeEntries = relativeEntries.filter(filterCb);
    return isRemoved;
  }, "removeByName");
  const removeByReference = /* @__PURE__ */ __name((toRemove) => {
    let isRemoved = false;
    const filterCb = /* @__PURE__ */ __name((entry) => {
      if (entry.middleware === toRemove) {
        isRemoved = true;
        for (const alias of getAllAliases(entry.name, entry.aliases)) {
          entriesNameSet.delete(alias);
        }
        return false;
      }
      return true;
    }, "filterCb");
    absoluteEntries = absoluteEntries.filter(filterCb);
    relativeEntries = relativeEntries.filter(filterCb);
    return isRemoved;
  }, "removeByReference");
  const cloneTo = /* @__PURE__ */ __name((toStack) => {
    absoluteEntries.forEach((entry) => {
      toStack.add(entry.middleware, { ...entry });
    });
    relativeEntries.forEach((entry) => {
      toStack.addRelativeTo(entry.middleware, { ...entry });
    });
    toStack.identifyOnResolve?.(stack.identifyOnResolve());
    return toStack;
  }, "cloneTo");
  const expandRelativeMiddlewareList = /* @__PURE__ */ __name((from) => {
    const expandedMiddlewareList = [];
    from.before.forEach((entry) => {
      if (entry.before.length === 0 && entry.after.length === 0) {
        expandedMiddlewareList.push(entry);
      } else {
        expandedMiddlewareList.push(...expandRelativeMiddlewareList(entry));
      }
    });
    expandedMiddlewareList.push(from);
    from.after.reverse().forEach((entry) => {
      if (entry.before.length === 0 && entry.after.length === 0) {
        expandedMiddlewareList.push(entry);
      } else {
        expandedMiddlewareList.push(...expandRelativeMiddlewareList(entry));
      }
    });
    return expandedMiddlewareList;
  }, "expandRelativeMiddlewareList");
  const getMiddlewareList = /* @__PURE__ */ __name((debug = false) => {
    const normalizedAbsoluteEntries = [];
    const normalizedRelativeEntries = [];
    const normalizedEntriesNameMap = {};
    absoluteEntries.forEach((entry) => {
      const normalizedEntry = {
        ...entry,
        before: [],
        after: []
      };
      for (const alias of getAllAliases(normalizedEntry.name, normalizedEntry.aliases)) {
        normalizedEntriesNameMap[alias] = normalizedEntry;
      }
      normalizedAbsoluteEntries.push(normalizedEntry);
    });
    relativeEntries.forEach((entry) => {
      const normalizedEntry = {
        ...entry,
        before: [],
        after: []
      };
      for (const alias of getAllAliases(normalizedEntry.name, normalizedEntry.aliases)) {
        normalizedEntriesNameMap[alias] = normalizedEntry;
      }
      normalizedRelativeEntries.push(normalizedEntry);
    });
    normalizedRelativeEntries.forEach((entry) => {
      if (entry.toMiddleware) {
        const toMiddleware = normalizedEntriesNameMap[entry.toMiddleware];
        if (toMiddleware === void 0) {
          if (debug) {
            return;
          }
          throw new Error(`${entry.toMiddleware} is not found when adding ${getMiddlewareNameWithAliases(entry.name, entry.aliases)} middleware ${entry.relation} ${entry.toMiddleware}`);
        }
        if (entry.relation === "after") {
          toMiddleware.after.push(entry);
        }
        if (entry.relation === "before") {
          toMiddleware.before.push(entry);
        }
      }
    });
    const mainChain = sort(normalizedAbsoluteEntries).map(expandRelativeMiddlewareList).reduce((wholeList, expandedMiddlewareList) => {
      wholeList.push(...expandedMiddlewareList);
      return wholeList;
    }, []);
    return mainChain;
  }, "getMiddlewareList");
  const stack = {
    add: (middleware, options = {}) => {
      const { name, override, aliases: _aliases } = options;
      const entry = {
        step: "initialize",
        priority: "normal",
        middleware,
        ...options
      };
      const aliases = getAllAliases(name, _aliases);
      if (aliases.length > 0) {
        if (aliases.some((alias) => entriesNameSet.has(alias))) {
          if (!override)
            throw new Error(`Duplicate middleware name '${getMiddlewareNameWithAliases(name, _aliases)}'`);
          for (const alias of aliases) {
            const toOverrideIndex = absoluteEntries.findIndex((entry2) => entry2.name === alias || entry2.aliases?.some((a2) => a2 === alias));
            if (toOverrideIndex === -1) {
              continue;
            }
            const toOverride = absoluteEntries[toOverrideIndex];
            if (toOverride.step !== entry.step || entry.priority !== toOverride.priority) {
              throw new Error(`"${getMiddlewareNameWithAliases(toOverride.name, toOverride.aliases)}" middleware with ${toOverride.priority} priority in ${toOverride.step} step cannot be overridden by "${getMiddlewareNameWithAliases(name, _aliases)}" middleware with ${entry.priority} priority in ${entry.step} step.`);
            }
            absoluteEntries.splice(toOverrideIndex, 1);
          }
        }
        for (const alias of aliases) {
          entriesNameSet.add(alias);
        }
      }
      absoluteEntries.push(entry);
    },
    addRelativeTo: (middleware, options) => {
      const { name, override, aliases: _aliases } = options;
      const entry = {
        middleware,
        ...options
      };
      const aliases = getAllAliases(name, _aliases);
      if (aliases.length > 0) {
        if (aliases.some((alias) => entriesNameSet.has(alias))) {
          if (!override)
            throw new Error(`Duplicate middleware name '${getMiddlewareNameWithAliases(name, _aliases)}'`);
          for (const alias of aliases) {
            const toOverrideIndex = relativeEntries.findIndex((entry2) => entry2.name === alias || entry2.aliases?.some((a2) => a2 === alias));
            if (toOverrideIndex === -1) {
              continue;
            }
            const toOverride = relativeEntries[toOverrideIndex];
            if (toOverride.toMiddleware !== entry.toMiddleware || toOverride.relation !== entry.relation) {
              throw new Error(`"${getMiddlewareNameWithAliases(toOverride.name, toOverride.aliases)}" middleware ${toOverride.relation} "${toOverride.toMiddleware}" middleware cannot be overridden by "${getMiddlewareNameWithAliases(name, _aliases)}" middleware ${entry.relation} "${entry.toMiddleware}" middleware.`);
            }
            relativeEntries.splice(toOverrideIndex, 1);
          }
        }
        for (const alias of aliases) {
          entriesNameSet.add(alias);
        }
      }
      relativeEntries.push(entry);
    },
    clone: () => cloneTo(constructStack()),
    use: (plugin) => {
      plugin.applyToStack(stack);
    },
    remove: (toRemove) => {
      if (typeof toRemove === "string")
        return removeByName(toRemove);
      else
        return removeByReference(toRemove);
    },
    removeByTag: (toRemove) => {
      let isRemoved = false;
      const filterCb = /* @__PURE__ */ __name((entry) => {
        const { tags, name, aliases: _aliases } = entry;
        if (tags && tags.includes(toRemove)) {
          const aliases = getAllAliases(name, _aliases);
          for (const alias of aliases) {
            entriesNameSet.delete(alias);
          }
          isRemoved = true;
          return false;
        }
        return true;
      }, "filterCb");
      absoluteEntries = absoluteEntries.filter(filterCb);
      relativeEntries = relativeEntries.filter(filterCb);
      return isRemoved;
    },
    concat: (from) => {
      const cloned = cloneTo(constructStack());
      cloned.use(from);
      cloned.identifyOnResolve(identifyOnResolve || cloned.identifyOnResolve() || (from.identifyOnResolve?.() ?? false));
      return cloned;
    },
    applyToStack: cloneTo,
    identify: () => {
      return getMiddlewareList(true).map((mw) => {
        const step = mw.step ?? mw.relation + " " + mw.toMiddleware;
        return getMiddlewareNameWithAliases(mw.name, mw.aliases) + " - " + step;
      });
    },
    identifyOnResolve(toggle) {
      if (typeof toggle === "boolean")
        identifyOnResolve = toggle;
      return identifyOnResolve;
    },
    resolve: (handler, context) => {
      for (const middleware of getMiddlewareList().map((entry) => entry.middleware).reverse()) {
        handler = middleware(handler, context);
      }
      if (identifyOnResolve) {
        console.log(stack.identify());
      }
      return handler;
    }
  };
  return stack;
}, "constructStack");
var stepWeights = {
  initialize: 5,
  serialize: 4,
  build: 3,
  finalizeRequest: 2,
  deserialize: 1
};
var priorityWeights = {
  high: 3,
  normal: 2,
  low: 1
};

// node_modules/@smithy/smithy-client/dist-es/client.js
var Client = class {
  config;
  middlewareStack = constructStack();
  initConfig;
  handlers;
  constructor(config) {
    this.config = config;
    const { protocol, protocolSettings } = config;
    if (protocolSettings) {
      if (typeof protocol === "function") {
        config.protocol = new protocol(protocolSettings);
      }
    }
  }
  send(command, optionsOrCb, cb2) {
    const options = typeof optionsOrCb !== "function" ? optionsOrCb : void 0;
    const callback = typeof optionsOrCb === "function" ? optionsOrCb : cb2;
    const useHandlerCache = options === void 0 && this.config.cacheMiddleware === true;
    let handler;
    if (useHandlerCache) {
      if (!this.handlers) {
        this.handlers = /* @__PURE__ */ new WeakMap();
      }
      const handlers = this.handlers;
      if (handlers.has(command.constructor)) {
        handler = handlers.get(command.constructor);
      } else {
        handler = command.resolveMiddleware(this.middlewareStack, this.config, options);
        handlers.set(command.constructor, handler);
      }
    } else {
      delete this.handlers;
      handler = command.resolveMiddleware(this.middlewareStack, this.config, options);
    }
    if (callback) {
      handler(command).then((result) => callback(null, result.output), (err) => callback(err)).catch(() => {
      });
    } else {
      return handler(command).then((result) => result.output);
    }
  }
  destroy() {
    this.config?.requestHandler?.destroy?.();
    delete this.handlers;
  }
};
__name(Client, "Client");

// node_modules/@smithy/smithy-client/dist-es/command.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/smithy-client/dist-es/schemaLogFilter.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SENSITIVE_STRING = "***SensitiveInformation***";
function schemaLogFilter(schema, data) {
  if (data == null) {
    return data;
  }
  const ns = NormalizedSchema.of(schema);
  if (ns.getMergedTraits().sensitive) {
    return SENSITIVE_STRING;
  }
  if (ns.isListSchema()) {
    const isSensitive = !!ns.getValueSchema().getMergedTraits().sensitive;
    if (isSensitive) {
      return SENSITIVE_STRING;
    }
  } else if (ns.isMapSchema()) {
    const isSensitive = !!ns.getKeySchema().getMergedTraits().sensitive || !!ns.getValueSchema().getMergedTraits().sensitive;
    if (isSensitive) {
      return SENSITIVE_STRING;
    }
  } else if (ns.isStructSchema() && typeof data === "object") {
    const object = data;
    const newObject = {};
    for (const [member2, memberNs] of ns.structIterator()) {
      if (object[member2] != null) {
        newObject[member2] = schemaLogFilter(memberNs, object[member2]);
      }
    }
    return newObject;
  }
  return data;
}
__name(schemaLogFilter, "schemaLogFilter");

// node_modules/@smithy/smithy-client/dist-es/command.js
var Command = class {
  middlewareStack = constructStack();
  schema;
  static classBuilder() {
    return new ClassBuilder();
  }
  resolveMiddlewareWithContext(clientStack, configuration, options, { middlewareFn, clientName, commandName, inputFilterSensitiveLog, outputFilterSensitiveLog, smithyContext, additionalContext, CommandCtor }) {
    for (const mw of middlewareFn.bind(this)(CommandCtor, clientStack, configuration, options)) {
      this.middlewareStack.use(mw);
    }
    const stack = clientStack.concat(this.middlewareStack);
    const { logger } = configuration;
    const handlerExecutionContext = {
      logger,
      clientName,
      commandName,
      inputFilterSensitiveLog,
      outputFilterSensitiveLog,
      [SMITHY_CONTEXT_KEY]: {
        commandInstance: this,
        ...smithyContext
      },
      ...additionalContext
    };
    const { requestHandler } = configuration;
    return stack.resolve((request) => requestHandler.handle(request.request, options || {}), handlerExecutionContext);
  }
};
__name(Command, "Command");
var ClassBuilder = class {
  _init = () => {
  };
  _ep = {};
  _middlewareFn = () => [];
  _commandName = "";
  _clientName = "";
  _additionalContext = {};
  _smithyContext = {};
  _inputFilterSensitiveLog = void 0;
  _outputFilterSensitiveLog = void 0;
  _serializer = null;
  _deserializer = null;
  _operationSchema;
  init(cb2) {
    this._init = cb2;
  }
  ep(endpointParameterInstructions) {
    this._ep = endpointParameterInstructions;
    return this;
  }
  m(middlewareSupplier) {
    this._middlewareFn = middlewareSupplier;
    return this;
  }
  s(service, operation2, smithyContext = {}) {
    this._smithyContext = {
      service,
      operation: operation2,
      ...smithyContext
    };
    return this;
  }
  c(additionalContext = {}) {
    this._additionalContext = additionalContext;
    return this;
  }
  n(clientName, commandName) {
    this._clientName = clientName;
    this._commandName = commandName;
    return this;
  }
  f(inputFilter = (_) => _, outputFilter = (_) => _) {
    this._inputFilterSensitiveLog = inputFilter;
    this._outputFilterSensitiveLog = outputFilter;
    return this;
  }
  ser(serializer) {
    this._serializer = serializer;
    return this;
  }
  de(deserializer) {
    this._deserializer = deserializer;
    return this;
  }
  sc(operation2) {
    this._operationSchema = operation2;
    this._smithyContext.operationSchema = operation2;
    return this;
  }
  build() {
    const closure = this;
    let CommandRef;
    return CommandRef = /* @__PURE__ */ __name(class extends Command {
      input;
      static getEndpointParameterInstructions() {
        return closure._ep;
      }
      constructor(...[input]) {
        super();
        this.input = input ?? {};
        closure._init(this);
        this.schema = closure._operationSchema;
      }
      resolveMiddleware(stack, configuration, options) {
        const op = closure._operationSchema;
        const input = op?.[4] ?? op?.input;
        const output = op?.[5] ?? op?.output;
        return this.resolveMiddlewareWithContext(stack, configuration, options, {
          CommandCtor: CommandRef,
          middlewareFn: closure._middlewareFn,
          clientName: closure._clientName,
          commandName: closure._commandName,
          inputFilterSensitiveLog: closure._inputFilterSensitiveLog ?? (op ? schemaLogFilter.bind(null, input) : (_) => _),
          outputFilterSensitiveLog: closure._outputFilterSensitiveLog ?? (op ? schemaLogFilter.bind(null, output) : (_) => _),
          smithyContext: closure._smithyContext,
          additionalContext: closure._additionalContext
        });
      }
      serialize = closure._serializer;
      deserialize = closure._deserializer;
    }, "CommandRef");
  }
};
__name(ClassBuilder, "ClassBuilder");

// node_modules/@smithy/smithy-client/dist-es/exceptions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ServiceException = class extends Error {
  $fault;
  $response;
  $retryable;
  $metadata;
  constructor(options) {
    super(options.message);
    Object.setPrototypeOf(this, Object.getPrototypeOf(this).constructor.prototype);
    this.name = options.name;
    this.$fault = options.$fault;
    this.$metadata = options.$metadata;
  }
  static isInstance(value) {
    if (!value)
      return false;
    const candidate = value;
    return ServiceException.prototype.isPrototypeOf(candidate) || Boolean(candidate.$fault) && Boolean(candidate.$metadata) && (candidate.$fault === "client" || candidate.$fault === "server");
  }
  static [Symbol.hasInstance](instance) {
    if (!instance)
      return false;
    const candidate = instance;
    if (this === ServiceException) {
      return ServiceException.isInstance(instance);
    }
    if (ServiceException.isInstance(instance)) {
      if (candidate.name && this.name) {
        return this.prototype.isPrototypeOf(instance) || candidate.name === this.name;
      }
      return this.prototype.isPrototypeOf(instance);
    }
    return false;
  }
};
__name(ServiceException, "ServiceException");
var decorateServiceException = /* @__PURE__ */ __name((exception, additions = {}) => {
  Object.entries(additions).filter(([, v2]) => v2 !== void 0).forEach(([k2, v2]) => {
    if (exception[k2] == void 0 || exception[k2] === "") {
      exception[k2] = v2;
    }
  });
  const message = exception.message || exception.Message || "UnknownError";
  exception.message = message;
  delete exception.Message;
  return exception;
}, "decorateServiceException");

// node_modules/@smithy/smithy-client/dist-es/defaults-mode.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var loadConfigsForDefaultMode = /* @__PURE__ */ __name((mode) => {
  switch (mode) {
    case "standard":
      return {
        retryMode: "standard",
        connectionTimeout: 3100
      };
    case "in-region":
      return {
        retryMode: "standard",
        connectionTimeout: 1100
      };
    case "cross-region":
      return {
        retryMode: "standard",
        connectionTimeout: 3100
      };
    case "mobile":
      return {
        retryMode: "standard",
        connectionTimeout: 3e4
      };
    default:
      return {};
  }
}, "loadConfigsForDefaultMode");

// node_modules/@smithy/smithy-client/dist-es/extensions/defaultExtensionConfiguration.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/smithy-client/dist-es/extensions/checksum.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getChecksumConfiguration = /* @__PURE__ */ __name((runtimeConfig) => {
  const checksumAlgorithms = [];
  for (const id in AlgorithmId) {
    const algorithmId = AlgorithmId[id];
    if (runtimeConfig[algorithmId] === void 0) {
      continue;
    }
    checksumAlgorithms.push({
      algorithmId: () => algorithmId,
      checksumConstructor: () => runtimeConfig[algorithmId]
    });
  }
  return {
    addChecksumAlgorithm(algo) {
      checksumAlgorithms.push(algo);
    },
    checksumAlgorithms() {
      return checksumAlgorithms;
    }
  };
}, "getChecksumConfiguration");
var resolveChecksumRuntimeConfig = /* @__PURE__ */ __name((clientConfig) => {
  const runtimeConfig = {};
  clientConfig.checksumAlgorithms().forEach((checksumAlgorithm) => {
    runtimeConfig[checksumAlgorithm.algorithmId()] = checksumAlgorithm.checksumConstructor();
  });
  return runtimeConfig;
}, "resolveChecksumRuntimeConfig");

// node_modules/@smithy/smithy-client/dist-es/extensions/retry.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getRetryConfiguration = /* @__PURE__ */ __name((runtimeConfig) => {
  return {
    setRetryStrategy(retryStrategy) {
      runtimeConfig.retryStrategy = retryStrategy;
    },
    retryStrategy() {
      return runtimeConfig.retryStrategy;
    }
  };
}, "getRetryConfiguration");
var resolveRetryRuntimeConfig = /* @__PURE__ */ __name((retryStrategyConfiguration) => {
  const runtimeConfig = {};
  runtimeConfig.retryStrategy = retryStrategyConfiguration.retryStrategy();
  return runtimeConfig;
}, "resolveRetryRuntimeConfig");

// node_modules/@smithy/smithy-client/dist-es/extensions/defaultExtensionConfiguration.js
var getDefaultExtensionConfiguration = /* @__PURE__ */ __name((runtimeConfig) => {
  return Object.assign(getChecksumConfiguration(runtimeConfig), getRetryConfiguration(runtimeConfig));
}, "getDefaultExtensionConfiguration");
var resolveDefaultRuntimeConfig = /* @__PURE__ */ __name((config) => {
  return Object.assign(resolveChecksumRuntimeConfig(config), resolveRetryRuntimeConfig(config));
}, "resolveDefaultRuntimeConfig");

// node_modules/@smithy/smithy-client/dist-es/get-value-from-text-node.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getValueFromTextNode = /* @__PURE__ */ __name((obj) => {
  const textNodeName = "#text";
  for (const key in obj) {
    if (obj.hasOwnProperty(key) && obj[key][textNodeName] !== void 0) {
      obj[key] = obj[key][textNodeName];
    } else if (typeof obj[key] === "object" && obj[key] !== null) {
      obj[key] = getValueFromTextNode(obj[key]);
    }
  }
  return obj;
}, "getValueFromTextNode");

// node_modules/@smithy/smithy-client/dist-es/NoOpLogger.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var NoOpLogger = class {
  trace() {
  }
  debug() {
  }
  info() {
  }
  warn() {
  }
  error() {
  }
};
__name(NoOpLogger, "NoOpLogger");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/ProtocolLib.js
var ProtocolLib = class {
  queryCompat;
  constructor(queryCompat = false) {
    this.queryCompat = queryCompat;
  }
  resolveRestContentType(defaultContentType, inputSchema) {
    const members = inputSchema.getMemberSchemas();
    const httpPayloadMember = Object.values(members).find((m2) => {
      return !!m2.getMergedTraits().httpPayload;
    });
    if (httpPayloadMember) {
      const mediaType = httpPayloadMember.getMergedTraits().mediaType;
      if (mediaType) {
        return mediaType;
      } else if (httpPayloadMember.isStringSchema()) {
        return "text/plain";
      } else if (httpPayloadMember.isBlobSchema()) {
        return "application/octet-stream";
      } else {
        return defaultContentType;
      }
    } else if (!inputSchema.isUnitSchema()) {
      const hasBody = Object.values(members).find((m2) => {
        const { httpQuery, httpQueryParams, httpHeader, httpLabel, httpPrefixHeaders } = m2.getMergedTraits();
        const noPrefixHeaders = httpPrefixHeaders === void 0;
        return !httpQuery && !httpQueryParams && !httpHeader && !httpLabel && noPrefixHeaders;
      });
      if (hasBody) {
        return defaultContentType;
      }
    }
  }
  async getErrorSchemaOrThrowBaseException(errorIdentifier, defaultNamespace, response, dataObject, metadata, getErrorSchema) {
    let namespace = defaultNamespace;
    let errorName = errorIdentifier;
    if (errorIdentifier.includes("#")) {
      [namespace, errorName] = errorIdentifier.split("#");
    }
    const errorMetadata = {
      $metadata: metadata,
      $fault: response.statusCode < 500 ? "client" : "server"
    };
    const registry = TypeRegistry.for(namespace);
    try {
      const errorSchema = getErrorSchema?.(registry, errorName) ?? registry.getSchema(errorIdentifier);
      return { errorSchema, errorMetadata };
    } catch (e2) {
      dataObject.message = dataObject.message ?? dataObject.Message ?? "UnknownError";
      const synthetic = TypeRegistry.for("smithy.ts.sdk.synthetic." + namespace);
      const baseExceptionSchema = synthetic.getBaseException();
      if (baseExceptionSchema) {
        const ErrorCtor = synthetic.getErrorCtor(baseExceptionSchema) ?? Error;
        throw this.decorateServiceException(Object.assign(new ErrorCtor({ name: errorName }), errorMetadata), dataObject);
      }
      throw this.decorateServiceException(Object.assign(new Error(errorName), errorMetadata), dataObject);
    }
  }
  decorateServiceException(exception, additions = {}) {
    if (this.queryCompat) {
      const msg = exception.Message ?? additions.Message;
      const error = decorateServiceException(exception, additions);
      if (msg) {
        error.message = msg;
      }
      error.Error = {
        ...error.Error,
        Type: error.Error.Type,
        Code: error.Error.Code,
        Message: error.Error.message ?? error.Error.Message ?? msg
      };
      const reqId = error.$metadata.requestId;
      if (reqId) {
        error.RequestId = reqId;
      }
      return error;
    }
    return decorateServiceException(exception, additions);
  }
  setQueryCompatError(output, response) {
    const queryErrorHeader = response.headers?.["x-amzn-query-error"];
    if (output !== void 0 && queryErrorHeader != null) {
      const [Code, Type] = queryErrorHeader.split(";");
      const entries = Object.entries(output);
      const Error2 = {
        Code,
        Type
      };
      Object.assign(output, Error2);
      for (const [k2, v2] of entries) {
        Error2[k2 === "message" ? "Message" : k2] = v2;
      }
      delete Error2.__type;
      output.Error = Error2;
    }
  }
  queryCompatOutput(queryCompatErrorData, errorData) {
    if (queryCompatErrorData.Error) {
      errorData.Error = queryCompatErrorData.Error;
    }
    if (queryCompatErrorData.Type) {
      errorData.Type = queryCompatErrorData.Type;
    }
    if (queryCompatErrorData.Code) {
      errorData.Code = queryCompatErrorData.Code;
    }
  }
  findQueryCompatibleError(registry, errorName) {
    try {
      return registry.getSchema(errorName);
    } catch (e2) {
      return registry.find((schema) => NormalizedSchema.of(schema).getMergedTraits().awsQueryError?.[0] === errorName);
    }
  }
};
__name(ProtocolLib, "ProtocolLib");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/ConfigurableSerdeContext.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SerdeContextConfig = class {
  serdeContext;
  setSerdeContext(serdeContext) {
    this.serdeContext = serdeContext;
  }
};
__name(SerdeContextConfig, "SerdeContextConfig");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/structIterator.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function* serializingStructIterator(ns, sourceObject) {
  if (ns.isUnitSchema()) {
    return;
  }
  const struct = ns.getSchema();
  for (let i2 = 0; i2 < struct[4].length; ++i2) {
    const key = struct[4][i2];
    const memberSchema = struct[5][i2];
    const memberNs = new NormalizedSchema([memberSchema, 0], key);
    if (!(key in sourceObject) && !memberNs.isIdempotencyToken()) {
      continue;
    }
    yield [key, memberNs];
  }
}
__name(serializingStructIterator, "serializingStructIterator");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlShapeDeserializer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/xml-builder/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/xml-builder/dist-es/XmlNode.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/xml-builder/dist-es/escape-attribute.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function escapeAttribute(value) {
  return value.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
}
__name(escapeAttribute, "escapeAttribute");

// node_modules/@aws-sdk/xml-builder/dist-es/XmlText.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/xml-builder/dist-es/escape-element.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function escapeElement(value) {
  return value.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\r/g, "&#x0D;").replace(/\n/g, "&#x0A;").replace(/\u0085/g, "&#x85;").replace(/\u2028/, "&#x2028;");
}
__name(escapeElement, "escapeElement");

// node_modules/@aws-sdk/xml-builder/dist-es/XmlText.js
var XmlText = class {
  value;
  constructor(value) {
    this.value = value;
  }
  toString() {
    return escapeElement("" + this.value);
  }
};
__name(XmlText, "XmlText");

// node_modules/@aws-sdk/xml-builder/dist-es/XmlNode.js
var XmlNode = class {
  name;
  children;
  attributes = {};
  static of(name, childText, withName) {
    const node = new XmlNode(name);
    if (childText !== void 0) {
      node.addChildNode(new XmlText(childText));
    }
    if (withName !== void 0) {
      node.withName(withName);
    }
    return node;
  }
  constructor(name, children = []) {
    this.name = name;
    this.children = children;
  }
  withName(name) {
    this.name = name;
    return this;
  }
  addAttribute(name, value) {
    this.attributes[name] = value;
    return this;
  }
  addChildNode(child) {
    this.children.push(child);
    return this;
  }
  removeAttribute(name) {
    delete this.attributes[name];
    return this;
  }
  n(name) {
    this.name = name;
    return this;
  }
  c(child) {
    this.children.push(child);
    return this;
  }
  a(name, value) {
    if (value != null) {
      this.attributes[name] = value;
    }
    return this;
  }
  cc(input, field, withName = field) {
    if (input[field] != null) {
      const node = XmlNode.of(field, input[field]).withName(withName);
      this.c(node);
    }
  }
  l(input, listName, memberName, valueProvider) {
    if (input[listName] != null) {
      const nodes = valueProvider();
      nodes.map((node) => {
        node.withName(memberName);
        this.c(node);
      });
    }
  }
  lc(input, listName, memberName, valueProvider) {
    if (input[listName] != null) {
      const nodes = valueProvider();
      const containerNode = new XmlNode(memberName);
      nodes.map((node) => {
        containerNode.c(node);
      });
      this.c(containerNode);
    }
  }
  toString() {
    const hasChildren = Boolean(this.children.length);
    let xmlText = `<${this.name}`;
    const attributes = this.attributes;
    for (const attributeName of Object.keys(attributes)) {
      const attribute = attributes[attributeName];
      if (attribute != null) {
        xmlText += ` ${attributeName}="${escapeAttribute("" + attribute)}"`;
      }
    }
    return xmlText += !hasChildren ? "/>" : `>${this.children.map((c2) => c2.toString()).join("")}</${this.name}>`;
  }
};
__name(XmlNode, "XmlNode");

// node_modules/@aws-sdk/xml-builder/dist-es/xml-parser.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var parser;
function parseXML(xmlString) {
  if (!parser) {
    parser = new DOMParser();
  }
  const xmlDocument = parser.parseFromString(xmlString, "application/xml");
  if (xmlDocument.getElementsByTagName("parsererror").length > 0) {
    throw new Error("DOMParser XML parsing error.");
  }
  const xmlToObj = /* @__PURE__ */ __name((node) => {
    if (node.nodeType === Node.TEXT_NODE) {
      if (node.textContent?.trim()) {
        return node.textContent;
      }
    }
    if (node.nodeType === Node.ELEMENT_NODE) {
      const element = node;
      if (element.attributes.length === 0 && element.childNodes.length === 0) {
        return "";
      }
      const obj = {};
      const attributes = Array.from(element.attributes);
      for (const attr of attributes) {
        obj[`${attr.name}`] = attr.value;
      }
      const childNodes = Array.from(element.childNodes);
      for (const child of childNodes) {
        const childResult = xmlToObj(child);
        if (childResult != null) {
          const childName = child.nodeName;
          if (childNodes.length === 1 && attributes.length === 0 && childName === "#text") {
            return childResult;
          }
          if (obj[childName]) {
            if (Array.isArray(obj[childName])) {
              obj[childName].push(childResult);
            } else {
              obj[childName] = [obj[childName], childResult];
            }
          } else {
            obj[childName] = childResult;
          }
        } else if (childNodes.length === 1 && attributes.length === 0) {
          return element.textContent;
        }
      }
      return obj;
    }
    return null;
  }, "xmlToObj");
  return {
    [xmlDocument.documentElement.nodeName]: xmlToObj(xmlDocument.documentElement)
  };
}
__name(parseXML, "parseXML");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlShapeDeserializer.js
init_dist_es();
var XmlShapeDeserializer = class extends SerdeContextConfig {
  settings;
  stringDeserializer;
  constructor(settings) {
    super();
    this.settings = settings;
    this.stringDeserializer = new FromStringShapeDeserializer(settings);
  }
  setSerdeContext(serdeContext) {
    this.serdeContext = serdeContext;
    this.stringDeserializer.setSerdeContext(serdeContext);
  }
  read(schema, bytes, key) {
    const ns = NormalizedSchema.of(schema);
    const memberSchemas = ns.getMemberSchemas();
    const isEventPayload = ns.isStructSchema() && ns.isMemberSchema() && !!Object.values(memberSchemas).find((memberNs) => {
      return !!memberNs.getMemberTraits().eventPayload;
    });
    if (isEventPayload) {
      const output = {};
      const memberName = Object.keys(memberSchemas)[0];
      const eventMemberSchema = memberSchemas[memberName];
      if (eventMemberSchema.isBlobSchema()) {
        output[memberName] = bytes;
      } else {
        output[memberName] = this.read(memberSchemas[memberName], bytes);
      }
      return output;
    }
    const xmlString = (this.serdeContext?.utf8Encoder ?? toUtf8)(bytes);
    const parsedObject = this.parseXml(xmlString);
    return this.readSchema(schema, key ? parsedObject[key] : parsedObject);
  }
  readSchema(_schema, value) {
    const ns = NormalizedSchema.of(_schema);
    if (ns.isUnitSchema()) {
      return;
    }
    const traits = ns.getMergedTraits();
    if (ns.isListSchema() && !Array.isArray(value)) {
      return this.readSchema(ns, [value]);
    }
    if (value == null) {
      return value;
    }
    if (typeof value === "object") {
      const sparse = !!traits.sparse;
      const flat = !!traits.xmlFlattened;
      if (ns.isListSchema()) {
        const listValue = ns.getValueSchema();
        const buffer2 = [];
        const sourceKey = listValue.getMergedTraits().xmlName ?? "member";
        const source = flat ? value : (value[0] ?? value)[sourceKey];
        const sourceArray = Array.isArray(source) ? source : [source];
        for (const v2 of sourceArray) {
          if (v2 != null || sparse) {
            buffer2.push(this.readSchema(listValue, v2));
          }
        }
        return buffer2;
      }
      const buffer = {};
      if (ns.isMapSchema()) {
        const keyNs = ns.getKeySchema();
        const memberNs = ns.getValueSchema();
        let entries;
        if (flat) {
          entries = Array.isArray(value) ? value : [value];
        } else {
          entries = Array.isArray(value.entry) ? value.entry : [value.entry];
        }
        const keyProperty = keyNs.getMergedTraits().xmlName ?? "key";
        const valueProperty = memberNs.getMergedTraits().xmlName ?? "value";
        for (const entry of entries) {
          const key = entry[keyProperty];
          const value2 = entry[valueProperty];
          if (value2 != null || sparse) {
            buffer[key] = this.readSchema(memberNs, value2);
          }
        }
        return buffer;
      }
      if (ns.isStructSchema()) {
        for (const [memberName, memberSchema] of ns.structIterator()) {
          const memberTraits = memberSchema.getMergedTraits();
          const xmlObjectKey = !memberTraits.httpPayload ? memberSchema.getMemberTraits().xmlName ?? memberName : memberTraits.xmlName ?? memberSchema.getName();
          if (value[xmlObjectKey] != null) {
            buffer[memberName] = this.readSchema(memberSchema, value[xmlObjectKey]);
          }
        }
        return buffer;
      }
      if (ns.isDocumentSchema()) {
        return value;
      }
      throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${ns.getName(true)}`);
    }
    if (ns.isListSchema()) {
      return [];
    }
    if (ns.isMapSchema() || ns.isStructSchema()) {
      return {};
    }
    return this.stringDeserializer.read(ns, value);
  }
  parseXml(xml) {
    if (xml.length) {
      let parsedObj;
      try {
        parsedObj = parseXML(xml);
      } catch (e2) {
        if (e2 && typeof e2 === "object") {
          Object.defineProperty(e2, "$responseBodyText", {
            value: xml
          });
        }
        throw e2;
      }
      const textNodeName = "#text";
      const key = Object.keys(parsedObj)[0];
      const parsedObjToReturn = parsedObj[key];
      if (parsedObjToReturn[textNodeName]) {
        parsedObjToReturn[key] = parsedObjToReturn[textNodeName];
        delete parsedObjToReturn[textNodeName];
      }
      return getValueFromTextNode(parsedObjToReturn);
    }
    return {};
  }
};
__name(XmlShapeDeserializer, "XmlShapeDeserializer");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/AwsRestXmlProtocol.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/parseXmlBody.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var loadRestXmlErrorCode = /* @__PURE__ */ __name((output, data) => {
  if (data?.Error?.Code !== void 0) {
    return data.Error.Code;
  }
  if (data?.Code !== void 0) {
    return data.Code;
  }
  if (output.statusCode == 404) {
    return "NotFound";
  }
}, "loadRestXmlErrorCode");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlCodec.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlShapeSerializer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var XmlShapeSerializer = class extends SerdeContextConfig {
  settings;
  stringBuffer;
  byteBuffer;
  buffer;
  constructor(settings) {
    super();
    this.settings = settings;
  }
  write(schema, value) {
    const ns = NormalizedSchema.of(schema);
    if (ns.isStringSchema() && typeof value === "string") {
      this.stringBuffer = value;
    } else if (ns.isBlobSchema()) {
      this.byteBuffer = "byteLength" in value ? value : (this.serdeContext?.base64Decoder ?? fromBase64)(value);
    } else {
      this.buffer = this.writeStruct(ns, value, void 0);
      const traits = ns.getMergedTraits();
      if (traits.httpPayload && !traits.xmlName) {
        this.buffer.withName(ns.getName());
      }
    }
  }
  flush() {
    if (this.byteBuffer !== void 0) {
      const bytes = this.byteBuffer;
      delete this.byteBuffer;
      return bytes;
    }
    if (this.stringBuffer !== void 0) {
      const str = this.stringBuffer;
      delete this.stringBuffer;
      return str;
    }
    const buffer = this.buffer;
    if (this.settings.xmlNamespace) {
      if (!buffer?.attributes?.["xmlns"]) {
        buffer.addAttribute("xmlns", this.settings.xmlNamespace);
      }
    }
    delete this.buffer;
    return buffer.toString();
  }
  writeStruct(ns, value, parentXmlns) {
    const traits = ns.getMergedTraits();
    const name = ns.isMemberSchema() && !traits.httpPayload ? ns.getMemberTraits().xmlName ?? ns.getMemberName() : traits.xmlName ?? ns.getName();
    if (!name || !ns.isStructSchema()) {
      throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${ns.getName(true)}.`);
    }
    const structXmlNode = XmlNode.of(name);
    const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(ns, parentXmlns);
    for (const [memberName, memberSchema] of serializingStructIterator(ns, value)) {
      const val = value[memberName];
      if (val != null || memberSchema.isIdempotencyToken()) {
        if (memberSchema.getMergedTraits().xmlAttribute) {
          structXmlNode.addAttribute(memberSchema.getMergedTraits().xmlName ?? memberName, this.writeSimple(memberSchema, val));
          continue;
        }
        if (memberSchema.isListSchema()) {
          this.writeList(memberSchema, val, structXmlNode, xmlns);
        } else if (memberSchema.isMapSchema()) {
          this.writeMap(memberSchema, val, structXmlNode, xmlns);
        } else if (memberSchema.isStructSchema()) {
          structXmlNode.addChildNode(this.writeStruct(memberSchema, val, xmlns));
        } else {
          const memberNode = XmlNode.of(memberSchema.getMergedTraits().xmlName ?? memberSchema.getMemberName());
          this.writeSimpleInto(memberSchema, val, memberNode, xmlns);
          structXmlNode.addChildNode(memberNode);
        }
      }
    }
    if (xmlns) {
      structXmlNode.addAttribute(xmlnsAttr, xmlns);
    }
    return structXmlNode;
  }
  writeList(listMember, array, container, parentXmlns) {
    if (!listMember.isMemberSchema()) {
      throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${listMember.getName(true)}`);
    }
    const listTraits = listMember.getMergedTraits();
    const listValueSchema = listMember.getValueSchema();
    const listValueTraits = listValueSchema.getMergedTraits();
    const sparse = !!listValueTraits.sparse;
    const flat = !!listTraits.xmlFlattened;
    const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(listMember, parentXmlns);
    const writeItem = /* @__PURE__ */ __name((container2, value) => {
      if (listValueSchema.isListSchema()) {
        this.writeList(listValueSchema, Array.isArray(value) ? value : [value], container2, xmlns);
      } else if (listValueSchema.isMapSchema()) {
        this.writeMap(listValueSchema, value, container2, xmlns);
      } else if (listValueSchema.isStructSchema()) {
        const struct = this.writeStruct(listValueSchema, value, xmlns);
        container2.addChildNode(struct.withName(flat ? listTraits.xmlName ?? listMember.getMemberName() : listValueTraits.xmlName ?? "member"));
      } else {
        const listItemNode = XmlNode.of(flat ? listTraits.xmlName ?? listMember.getMemberName() : listValueTraits.xmlName ?? "member");
        this.writeSimpleInto(listValueSchema, value, listItemNode, xmlns);
        container2.addChildNode(listItemNode);
      }
    }, "writeItem");
    if (flat) {
      for (const value of array) {
        if (sparse || value != null) {
          writeItem(container, value);
        }
      }
    } else {
      const listNode = XmlNode.of(listTraits.xmlName ?? listMember.getMemberName());
      if (xmlns) {
        listNode.addAttribute(xmlnsAttr, xmlns);
      }
      for (const value of array) {
        if (sparse || value != null) {
          writeItem(listNode, value);
        }
      }
      container.addChildNode(listNode);
    }
  }
  writeMap(mapMember, map, container, parentXmlns, containerIsMap = false) {
    if (!mapMember.isMemberSchema()) {
      throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${mapMember.getName(true)}`);
    }
    const mapTraits = mapMember.getMergedTraits();
    const mapKeySchema = mapMember.getKeySchema();
    const mapKeyTraits = mapKeySchema.getMergedTraits();
    const keyTag = mapKeyTraits.xmlName ?? "key";
    const mapValueSchema = mapMember.getValueSchema();
    const mapValueTraits = mapValueSchema.getMergedTraits();
    const valueTag = mapValueTraits.xmlName ?? "value";
    const sparse = !!mapValueTraits.sparse;
    const flat = !!mapTraits.xmlFlattened;
    const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(mapMember, parentXmlns);
    const addKeyValue = /* @__PURE__ */ __name((entry, key, val) => {
      const keyNode = XmlNode.of(keyTag, key);
      const [keyXmlnsAttr, keyXmlns] = this.getXmlnsAttribute(mapKeySchema, xmlns);
      if (keyXmlns) {
        keyNode.addAttribute(keyXmlnsAttr, keyXmlns);
      }
      entry.addChildNode(keyNode);
      let valueNode = XmlNode.of(valueTag);
      if (mapValueSchema.isListSchema()) {
        this.writeList(mapValueSchema, val, valueNode, xmlns);
      } else if (mapValueSchema.isMapSchema()) {
        this.writeMap(mapValueSchema, val, valueNode, xmlns, true);
      } else if (mapValueSchema.isStructSchema()) {
        valueNode = this.writeStruct(mapValueSchema, val, xmlns);
      } else {
        this.writeSimpleInto(mapValueSchema, val, valueNode, xmlns);
      }
      entry.addChildNode(valueNode);
    }, "addKeyValue");
    if (flat) {
      for (const [key, val] of Object.entries(map)) {
        if (sparse || val != null) {
          const entry = XmlNode.of(mapTraits.xmlName ?? mapMember.getMemberName());
          addKeyValue(entry, key, val);
          container.addChildNode(entry);
        }
      }
    } else {
      let mapNode;
      if (!containerIsMap) {
        mapNode = XmlNode.of(mapTraits.xmlName ?? mapMember.getMemberName());
        if (xmlns) {
          mapNode.addAttribute(xmlnsAttr, xmlns);
        }
        container.addChildNode(mapNode);
      }
      for (const [key, val] of Object.entries(map)) {
        if (sparse || val != null) {
          const entry = XmlNode.of("entry");
          addKeyValue(entry, key, val);
          (containerIsMap ? container : mapNode).addChildNode(entry);
        }
      }
    }
  }
  writeSimple(_schema, value) {
    if (null === value) {
      throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");
    }
    const ns = NormalizedSchema.of(_schema);
    let nodeContents = null;
    if (value && typeof value === "object") {
      if (ns.isBlobSchema()) {
        nodeContents = (this.serdeContext?.base64Encoder ?? toBase64)(value);
      } else if (ns.isTimestampSchema() && value instanceof Date) {
        const format2 = determineTimestampFormat(ns, this.settings);
        switch (format2) {
          case 5:
            nodeContents = value.toISOString().replace(".000Z", "Z");
            break;
          case 6:
            nodeContents = dateToUtcString(value);
            break;
          case 7:
            nodeContents = String(value.getTime() / 1e3);
            break;
          default:
            console.warn("Missing timestamp format, using http date", value);
            nodeContents = dateToUtcString(value);
            break;
        }
      } else if (ns.isBigDecimalSchema() && value) {
        if (value instanceof NumericValue) {
          return value.string;
        }
        return String(value);
      } else if (ns.isMapSchema() || ns.isListSchema()) {
        throw new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead.");
      } else {
        throw new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${ns.getName(true)}`);
      }
    }
    if (ns.isBooleanSchema() || ns.isNumericSchema() || ns.isBigIntegerSchema() || ns.isBigDecimalSchema()) {
      nodeContents = String(value);
    }
    if (ns.isStringSchema()) {
      if (value === void 0 && ns.isIdempotencyToken()) {
        nodeContents = v4();
      } else {
        nodeContents = String(value);
      }
    }
    if (nodeContents === null) {
      throw new Error(`Unhandled schema-value pair ${ns.getName(true)}=${value}`);
    }
    return nodeContents;
  }
  writeSimpleInto(_schema, value, into, parentXmlns) {
    const nodeContents = this.writeSimple(_schema, value);
    const ns = NormalizedSchema.of(_schema);
    const content = new XmlText(nodeContents);
    const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(ns, parentXmlns);
    if (xmlns) {
      into.addAttribute(xmlnsAttr, xmlns);
    }
    into.addChildNode(content);
  }
  getXmlnsAttribute(ns, parentXmlns) {
    const traits = ns.getMergedTraits();
    const [prefix, xmlns] = traits.xmlNamespace ?? [];
    if (xmlns && xmlns !== parentXmlns) {
      return [prefix ? `xmlns:${prefix}` : "xmlns", xmlns];
    }
    return [void 0, void 0];
  }
};
__name(XmlShapeSerializer, "XmlShapeSerializer");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlCodec.js
var XmlCodec = class extends SerdeContextConfig {
  settings;
  constructor(settings) {
    super();
    this.settings = settings;
  }
  createSerializer() {
    const serializer = new XmlShapeSerializer(this.settings);
    serializer.setSerdeContext(this.serdeContext);
    return serializer;
  }
  createDeserializer() {
    const deserializer = new XmlShapeDeserializer(this.settings);
    deserializer.setSerdeContext(this.serdeContext);
    return deserializer;
  }
};
__name(XmlCodec, "XmlCodec");

// node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/AwsRestXmlProtocol.js
var AwsRestXmlProtocol = class extends HttpBindingProtocol {
  codec;
  serializer;
  deserializer;
  mixin = new ProtocolLib();
  constructor(options) {
    super(options);
    const settings = {
      timestampFormat: {
        useTrait: true,
        default: 5
      },
      httpBindings: true,
      xmlNamespace: options.xmlNamespace,
      serviceNamespace: options.defaultNamespace
    };
    this.codec = new XmlCodec(settings);
    this.serializer = new HttpInterceptingShapeSerializer(this.codec.createSerializer(), settings);
    this.deserializer = new HttpInterceptingShapeDeserializer(this.codec.createDeserializer(), settings);
  }
  getPayloadCodec() {
    return this.codec;
  }
  getShapeId() {
    return "aws.protocols#restXml";
  }
  async serializeRequest(operationSchema, input, context) {
    const request = await super.serializeRequest(operationSchema, input, context);
    const inputSchema = NormalizedSchema.of(operationSchema.input);
    if (!request.headers["content-type"]) {
      const contentType = this.mixin.resolveRestContentType(this.getDefaultContentType(), inputSchema);
      if (contentType) {
        request.headers["content-type"] = contentType;
      }
    }
    if (typeof request.body === "string" && request.headers["content-type"] === this.getDefaultContentType() && !request.body.startsWith("<?xml ") && !this.hasUnstructuredPayloadBinding(inputSchema)) {
      request.body = '<?xml version="1.0" encoding="UTF-8"?>' + request.body;
    }
    return request;
  }
  async deserializeResponse(operationSchema, context, response) {
    return super.deserializeResponse(operationSchema, context, response);
  }
  async handleError(operationSchema, context, response, dataObject, metadata) {
    const errorIdentifier = loadRestXmlErrorCode(response, dataObject) ?? "Unknown";
    const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);
    const ns = NormalizedSchema.of(errorSchema);
    const message = dataObject.Error?.message ?? dataObject.Error?.Message ?? dataObject.message ?? dataObject.Message ?? "Unknown";
    const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;
    const exception = new ErrorCtor(message);
    await this.deserializeHttpMessage(errorSchema, context, response, dataObject);
    const output = {};
    for (const [name, member2] of ns.structIterator()) {
      const target = member2.getMergedTraits().xmlName ?? name;
      const value = dataObject.Error?.[target] ?? dataObject[target];
      output[name] = this.codec.createDeserializer().readSchema(member2, value);
    }
    throw this.mixin.decorateServiceException(Object.assign(exception, errorMetadata, {
      $fault: ns.getMergedTraits().error,
      message
    }, output), dataObject);
  }
  getDefaultContentType() {
    return "application/xml";
  }
  hasUnstructuredPayloadBinding(ns) {
    for (const [, member2] of ns.structIterator()) {
      if (member2.getMergedTraits().httpPayload) {
        return !(member2.isStructSchema() || member2.isMapSchema() || member2.isListSchema());
      }
    }
    return false;
  }
};
__name(AwsRestXmlProtocol, "AwsRestXmlProtocol");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getChecksumAlgorithmForRequest.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/types.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var CLIENT_SUPPORTED_ALGORITHMS = [
  ChecksumAlgorithm.CRC32,
  ChecksumAlgorithm.CRC32C,
  ChecksumAlgorithm.CRC64NVME,
  ChecksumAlgorithm.SHA1,
  ChecksumAlgorithm.SHA256
];
var PRIORITY_ORDER_ALGORITHMS = [
  ChecksumAlgorithm.SHA256,
  ChecksumAlgorithm.SHA1,
  ChecksumAlgorithm.CRC32,
  ChecksumAlgorithm.CRC32C,
  ChecksumAlgorithm.CRC64NVME
];

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getChecksumAlgorithmForRequest.js
var getChecksumAlgorithmForRequest = /* @__PURE__ */ __name((input, { requestChecksumRequired, requestAlgorithmMember, requestChecksumCalculation }) => {
  if (!requestAlgorithmMember) {
    return requestChecksumCalculation === RequestChecksumCalculation.WHEN_SUPPORTED || requestChecksumRequired ? DEFAULT_CHECKSUM_ALGORITHM : void 0;
  }
  if (!input[requestAlgorithmMember]) {
    return void 0;
  }
  const checksumAlgorithm = input[requestAlgorithmMember];
  if (!CLIENT_SUPPORTED_ALGORITHMS.includes(checksumAlgorithm)) {
    throw new Error(`The checksum algorithm "${checksumAlgorithm}" is not supported by the client. Select one of ${CLIENT_SUPPORTED_ALGORITHMS}.`);
  }
  return checksumAlgorithm;
}, "getChecksumAlgorithmForRequest");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getChecksumLocationName.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getChecksumLocationName = /* @__PURE__ */ __name((algorithm) => algorithm === ChecksumAlgorithm.MD5 ? "content-md5" : `x-amz-checksum-${algorithm.toLowerCase()}`, "getChecksumLocationName");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/hasHeader.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var hasHeader2 = /* @__PURE__ */ __name((header, headers) => {
  const soughtHeader = header.toLowerCase();
  for (const headerName of Object.keys(headers)) {
    if (soughtHeader === headerName.toLowerCase()) {
      return true;
    }
  }
  return false;
}, "hasHeader");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/hasHeaderWithPrefix.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var hasHeaderWithPrefix = /* @__PURE__ */ __name((headerPrefix, headers) => {
  const soughtHeaderPrefix = headerPrefix.toLowerCase();
  for (const headerName of Object.keys(headers)) {
    if (headerName.toLowerCase().startsWith(soughtHeaderPrefix)) {
      return true;
    }
  }
  return false;
}, "hasHeaderWithPrefix");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/isStreaming.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isStreaming = /* @__PURE__ */ __name((body) => body !== void 0 && typeof body !== "string" && !ArrayBuffer.isView(body) && !isArrayBuffer(body), "isStreaming");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/selectChecksumAlgorithmFunction.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/crc32c/build/module/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/tslib/tslib.es6.mjs
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function __awaiter(thisArg, _arguments, P2, generator) {
  function adopt(value) {
    return value instanceof P2 ? value : new P2(function(resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P2 || (P2 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e2) {
        reject(e2);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e2) {
        reject(e2);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}
__name(__awaiter, "__awaiter");
function __generator(thisArg, body) {
  var _ = { label: 0, sent: function() {
    if (t2[0] & 1)
      throw t2[1];
    return t2[1];
  }, trys: [], ops: [] }, f2, y2, t2, g2 = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
  return g2.next = verb(0), g2["throw"] = verb(1), g2["return"] = verb(2), typeof Symbol === "function" && (g2[Symbol.iterator] = function() {
    return this;
  }), g2;
  function verb(n2) {
    return function(v2) {
      return step([n2, v2]);
    };
  }
  __name(verb, "verb");
  function step(op) {
    if (f2)
      throw new TypeError("Generator is already executing.");
    while (g2 && (g2 = 0, op[0] && (_ = 0)), _)
      try {
        if (f2 = 1, y2 && (t2 = op[0] & 2 ? y2["return"] : op[0] ? y2["throw"] || ((t2 = y2["return"]) && t2.call(y2), 0) : y2.next) && !(t2 = t2.call(y2, op[1])).done)
          return t2;
        if (y2 = 0, t2)
          op = [op[0] & 2, t2.value];
        switch (op[0]) {
          case 0:
          case 1:
            t2 = op;
            break;
          case 4:
            _.label++;
            return { value: op[1], done: false };
          case 5:
            _.label++;
            y2 = op[1];
            op = [0];
            continue;
          case 7:
            op = _.ops.pop();
            _.trys.pop();
            continue;
          default:
            if (!(t2 = _.trys, t2 = t2.length > 0 && t2[t2.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _ = 0;
              continue;
            }
            if (op[0] === 3 && (!t2 || op[1] > t2[0] && op[1] < t2[3])) {
              _.label = op[1];
              break;
            }
            if (op[0] === 6 && _.label < t2[1]) {
              _.label = t2[1];
              t2 = op;
              break;
            }
            if (t2 && _.label < t2[2]) {
              _.label = t2[2];
              _.ops.push(op);
              break;
            }
            if (t2[2])
              _.ops.pop();
            _.trys.pop();
            continue;
        }
        op = body.call(thisArg, _);
      } catch (e2) {
        op = [6, e2];
        y2 = 0;
      } finally {
        f2 = t2 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
  __name(step, "step");
}
__name(__generator, "__generator");
function __values(o2) {
  var s2 = typeof Symbol === "function" && Symbol.iterator, m2 = s2 && o2[s2], i2 = 0;
  if (m2)
    return m2.call(o2);
  if (o2 && typeof o2.length === "number")
    return {
      next: function() {
        if (o2 && i2 >= o2.length)
          o2 = void 0;
        return { value: o2 && o2[i2++], done: !o2 };
      }
    };
  throw new TypeError(s2 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
__name(__values, "__values");

// node_modules/@aws-crypto/util/build/module/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/util/build/module/convertToBuffer.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/util/node_modules/@smithy/util-utf8/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/util/node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var fromUtf82 = /* @__PURE__ */ __name((input) => new TextEncoder().encode(input), "fromUtf8");

// node_modules/@aws-crypto/util/node_modules/@smithy/util-utf8/dist-es/toUint8Array.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/util/node_modules/@smithy/util-utf8/dist-es/toUtf8.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/util/build/module/convertToBuffer.js
var fromUtf83 = typeof Buffer !== "undefined" && Buffer.from ? function(input) {
  return Buffer.from(input, "utf8");
} : fromUtf82;
function convertToBuffer(data) {
  if (data instanceof Uint8Array)
    return data;
  if (typeof data === "string") {
    return fromUtf83(data);
  }
  if (ArrayBuffer.isView(data)) {
    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);
  }
  return new Uint8Array(data);
}
__name(convertToBuffer, "convertToBuffer");

// node_modules/@aws-crypto/util/build/module/isEmptyData.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function isEmptyData(data) {
  if (typeof data === "string") {
    return data.length === 0;
  }
  return data.byteLength === 0;
}
__name(isEmptyData, "isEmptyData");

// node_modules/@aws-crypto/util/build/module/numToUint8.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function numToUint8(num) {
  return new Uint8Array([
    (num & 4278190080) >> 24,
    (num & 16711680) >> 16,
    (num & 65280) >> 8,
    num & 255
  ]);
}
__name(numToUint8, "numToUint8");

// node_modules/@aws-crypto/util/build/module/uint32ArrayFrom.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function uint32ArrayFrom(a_lookUpTable2) {
  if (!Uint32Array.from) {
    var return_array = new Uint32Array(a_lookUpTable2.length);
    var a_index = 0;
    while (a_index < a_lookUpTable2.length) {
      return_array[a_index] = a_lookUpTable2[a_index];
      a_index += 1;
    }
    return return_array;
  }
  return Uint32Array.from(a_lookUpTable2);
}
__name(uint32ArrayFrom, "uint32ArrayFrom");

// node_modules/@aws-crypto/crc32c/build/module/aws_crc32c.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var AwsCrc32c = (
  /** @class */
  function() {
    function AwsCrc32c2() {
      this.crc32c = new Crc32c();
    }
    __name(AwsCrc32c2, "AwsCrc32c");
    AwsCrc32c2.prototype.update = function(toHash) {
      if (isEmptyData(toHash))
        return;
      this.crc32c.update(convertToBuffer(toHash));
    };
    AwsCrc32c2.prototype.digest = function() {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [2, numToUint8(this.crc32c.digest())];
        });
      });
    };
    AwsCrc32c2.prototype.reset = function() {
      this.crc32c = new Crc32c();
    };
    return AwsCrc32c2;
  }()
);

// node_modules/@aws-crypto/crc32c/build/module/index.js
var Crc32c = (
  /** @class */
  function() {
    function Crc32c2() {
      this.checksum = 4294967295;
    }
    __name(Crc32c2, "Crc32c");
    Crc32c2.prototype.update = function(data) {
      var e_1, _a;
      try {
        for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {
          var byte = data_1_1.value;
          this.checksum = this.checksum >>> 8 ^ lookupTable[(this.checksum ^ byte) & 255];
        }
      } catch (e_1_1) {
        e_1 = { error: e_1_1 };
      } finally {
        try {
          if (data_1_1 && !data_1_1.done && (_a = data_1.return))
            _a.call(data_1);
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
      return this;
    };
    Crc32c2.prototype.digest = function() {
      return (this.checksum ^ 4294967295) >>> 0;
    };
    return Crc32c2;
  }()
);
var a_lookupTable = [
  0,
  4067132163,
  3778769143,
  324072436,
  3348797215,
  904991772,
  648144872,
  3570033899,
  2329499855,
  2024987596,
  1809983544,
  2575936315,
  1296289744,
  3207089363,
  2893594407,
  1578318884,
  274646895,
  3795141740,
  4049975192,
  51262619,
  3619967088,
  632279923,
  922689671,
  3298075524,
  2592579488,
  1760304291,
  2075979607,
  2312596564,
  1562183871,
  2943781820,
  3156637768,
  1313733451,
  549293790,
  3537243613,
  3246849577,
  871202090,
  3878099393,
  357341890,
  102525238,
  4101499445,
  2858735121,
  1477399826,
  1264559846,
  3107202533,
  1845379342,
  2677391885,
  2361733625,
  2125378298,
  820201905,
  3263744690,
  3520608582,
  598981189,
  4151959214,
  85089709,
  373468761,
  3827903834,
  3124367742,
  1213305469,
  1526817161,
  2842354314,
  2107672161,
  2412447074,
  2627466902,
  1861252501,
  1098587580,
  3004210879,
  2688576843,
  1378610760,
  2262928035,
  1955203488,
  1742404180,
  2511436119,
  3416409459,
  969524848,
  714683780,
  3639785095,
  205050476,
  4266873199,
  3976438427,
  526918040,
  1361435347,
  2739821008,
  2954799652,
  1114974503,
  2529119692,
  1691668175,
  2005155131,
  2247081528,
  3690758684,
  697762079,
  986182379,
  3366744552,
  476452099,
  3993867776,
  4250756596,
  255256311,
  1640403810,
  2477592673,
  2164122517,
  1922457750,
  2791048317,
  1412925310,
  1197962378,
  3037525897,
  3944729517,
  427051182,
  170179418,
  4165941337,
  746937522,
  3740196785,
  3451792453,
  1070968646,
  1905808397,
  2213795598,
  2426610938,
  1657317369,
  3053634322,
  1147748369,
  1463399397,
  2773627110,
  4215344322,
  153784257,
  444234805,
  3893493558,
  1021025245,
  3467647198,
  3722505002,
  797665321,
  2197175160,
  1889384571,
  1674398607,
  2443626636,
  1164749927,
  3070701412,
  2757221520,
  1446797203,
  137323447,
  4198817972,
  3910406976,
  461344835,
  3484808360,
  1037989803,
  781091935,
  3705997148,
  2460548119,
  1623424788,
  1939049696,
  2180517859,
  1429367560,
  2807687179,
  3020495871,
  1180866812,
  410100952,
  3927582683,
  4182430767,
  186734380,
  3756733383,
  763408580,
  1053836080,
  3434856499,
  2722870694,
  1344288421,
  1131464017,
  2971354706,
  1708204729,
  2545590714,
  2229949006,
  1988219213,
  680717673,
  3673779818,
  3383336350,
  1002577565,
  4010310262,
  493091189,
  238226049,
  4233660802,
  2987750089,
  1082061258,
  1395524158,
  2705686845,
  1972364758,
  2279892693,
  2494862625,
  1725896226,
  952904198,
  3399985413,
  3656866545,
  731699698,
  4283874585,
  222117402,
  510512622,
  3959836397,
  3280807620,
  837199303,
  582374963,
  3504198960,
  68661723,
  4135334616,
  3844915500,
  390545967,
  1230274059,
  3141532936,
  2825850620,
  1510247935,
  2395924756,
  2091215383,
  1878366691,
  2644384480,
  3553878443,
  565732008,
  854102364,
  3229815391,
  340358836,
  3861050807,
  4117890627,
  119113024,
  1493875044,
  2875275879,
  3090270611,
  1247431312,
  2660249211,
  1828433272,
  2141937292,
  2378227087,
  3811616794,
  291187481,
  34330861,
  4032846830,
  615137029,
  3603020806,
  3314634738,
  939183345,
  1776939221,
  2609017814,
  2295496738,
  2058945313,
  2926798794,
  1545135305,
  1330124605,
  3173225534,
  4084100981,
  17165430,
  307568514,
  3762199681,
  888469610,
  3332340585,
  3587147933,
  665062302,
  2042050490,
  2346497209,
  2559330125,
  1793573966,
  3190661285,
  1279665062,
  1595330642,
  2910671697
];
var lookupTable = uint32ArrayFrom(a_lookupTable);

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getCrc32ChecksumAlgorithmFunction.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/crc32/build/module/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/crc32/build/module/aws_crc32.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var AwsCrc32 = (
  /** @class */
  function() {
    function AwsCrc322() {
      this.crc32 = new Crc32();
    }
    __name(AwsCrc322, "AwsCrc32");
    AwsCrc322.prototype.update = function(toHash) {
      if (isEmptyData(toHash))
        return;
      this.crc32.update(convertToBuffer(toHash));
    };
    AwsCrc322.prototype.digest = function() {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [2, numToUint8(this.crc32.digest())];
        });
      });
    };
    AwsCrc322.prototype.reset = function() {
      this.crc32 = new Crc32();
    };
    return AwsCrc322;
  }()
);

// node_modules/@aws-crypto/crc32/build/module/index.js
var Crc32 = (
  /** @class */
  function() {
    function Crc322() {
      this.checksum = 4294967295;
    }
    __name(Crc322, "Crc32");
    Crc322.prototype.update = function(data) {
      var e_1, _a;
      try {
        for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {
          var byte = data_1_1.value;
          this.checksum = this.checksum >>> 8 ^ lookupTable2[(this.checksum ^ byte) & 255];
        }
      } catch (e_1_1) {
        e_1 = { error: e_1_1 };
      } finally {
        try {
          if (data_1_1 && !data_1_1.done && (_a = data_1.return))
            _a.call(data_1);
        } finally {
          if (e_1)
            throw e_1.error;
        }
      }
      return this;
    };
    Crc322.prototype.digest = function() {
      return (this.checksum ^ 4294967295) >>> 0;
    };
    return Crc322;
  }()
);
var a_lookUpTable = [
  0,
  1996959894,
  3993919788,
  2567524794,
  124634137,
  1886057615,
  3915621685,
  2657392035,
  249268274,
  2044508324,
  3772115230,
  2547177864,
  162941995,
  2125561021,
  3887607047,
  2428444049,
  498536548,
  1789927666,
  4089016648,
  2227061214,
  450548861,
  1843258603,
  4107580753,
  2211677639,
  325883990,
  1684777152,
  4251122042,
  2321926636,
  335633487,
  1661365465,
  4195302755,
  2366115317,
  997073096,
  1281953886,
  3579855332,
  2724688242,
  1006888145,
  1258607687,
  3524101629,
  2768942443,
  901097722,
  1119000684,
  3686517206,
  2898065728,
  853044451,
  1172266101,
  3705015759,
  2882616665,
  651767980,
  1373503546,
  3369554304,
  3218104598,
  565507253,
  1454621731,
  3485111705,
  3099436303,
  671266974,
  1594198024,
  3322730930,
  2970347812,
  795835527,
  1483230225,
  3244367275,
  3060149565,
  1994146192,
  31158534,
  2563907772,
  4023717930,
  1907459465,
  112637215,
  2680153253,
  3904427059,
  2013776290,
  251722036,
  2517215374,
  3775830040,
  2137656763,
  141376813,
  2439277719,
  3865271297,
  1802195444,
  476864866,
  2238001368,
  4066508878,
  1812370925,
  453092731,
  2181625025,
  4111451223,
  1706088902,
  314042704,
  2344532202,
  4240017532,
  1658658271,
  366619977,
  2362670323,
  4224994405,
  1303535960,
  984961486,
  2747007092,
  3569037538,
  1256170817,
  1037604311,
  2765210733,
  3554079995,
  1131014506,
  879679996,
  2909243462,
  3663771856,
  1141124467,
  855842277,
  2852801631,
  3708648649,
  1342533948,
  654459306,
  3188396048,
  3373015174,
  1466479909,
  544179635,
  3110523913,
  3462522015,
  1591671054,
  702138776,
  2966460450,
  3352799412,
  1504918807,
  783551873,
  3082640443,
  3233442989,
  3988292384,
  2596254646,
  62317068,
  1957810842,
  3939845945,
  2647816111,
  81470997,
  1943803523,
  3814918930,
  2489596804,
  225274430,
  2053790376,
  3826175755,
  2466906013,
  167816743,
  2097651377,
  4027552580,
  2265490386,
  503444072,
  1762050814,
  4150417245,
  2154129355,
  426522225,
  1852507879,
  4275313526,
  2312317920,
  282753626,
  1742555852,
  4189708143,
  2394877945,
  397917763,
  1622183637,
  3604390888,
  2714866558,
  953729732,
  1340076626,
  3518719985,
  2797360999,
  1068828381,
  1219638859,
  3624741850,
  2936675148,
  906185462,
  1090812512,
  3747672003,
  2825379669,
  829329135,
  1181335161,
  3412177804,
  3160834842,
  628085408,
  1382605366,
  3423369109,
  3138078467,
  570562233,
  1426400815,
  3317316542,
  2998733608,
  733239954,
  1555261956,
  3268935591,
  3050360625,
  752459403,
  1541320221,
  2607071920,
  3965973030,
  1969922972,
  40735498,
  2617837225,
  3943577151,
  1913087877,
  83908371,
  2512341634,
  3803740692,
  2075208622,
  213261112,
  2463272603,
  3855990285,
  2094854071,
  198958881,
  2262029012,
  4057260610,
  1759359992,
  534414190,
  2176718541,
  4139329115,
  1873836001,
  414664567,
  2282248934,
  4279200368,
  1711684554,
  285281116,
  2405801727,
  4167216745,
  1634467795,
  376229701,
  2685067896,
  3608007406,
  1308918612,
  956543938,
  2808555105,
  3495958263,
  1231636301,
  1047427035,
  2932959818,
  3654703836,
  1088359270,
  936918e3,
  2847714899,
  3736837829,
  1202900863,
  817233897,
  3183342108,
  3401237130,
  1404277552,
  615818150,
  3134207493,
  3453421203,
  1423857449,
  601450431,
  3009837614,
  3294710456,
  1567103746,
  711928724,
  3020668471,
  3272380065,
  1510334235,
  755167117
];
var lookupTable2 = uint32ArrayFrom(a_lookUpTable);

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getCrc32ChecksumAlgorithmFunction.browser.js
var getCrc32ChecksumAlgorithmFunction = /* @__PURE__ */ __name(() => AwsCrc32, "getCrc32ChecksumAlgorithmFunction");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/selectChecksumAlgorithmFunction.js
var selectChecksumAlgorithmFunction = /* @__PURE__ */ __name((checksumAlgorithm, config) => {
  switch (checksumAlgorithm) {
    case ChecksumAlgorithm.MD5:
      return config.md5;
    case ChecksumAlgorithm.CRC32:
      return getCrc32ChecksumAlgorithmFunction();
    case ChecksumAlgorithm.CRC32C:
      return AwsCrc32c;
    case ChecksumAlgorithm.CRC64NVME:
      if (typeof crc64NvmeCrtContainer.CrtCrc64Nvme !== "function") {
        throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);
      }
      return crc64NvmeCrtContainer.CrtCrc64Nvme;
    case ChecksumAlgorithm.SHA1:
      return config.sha1;
    case ChecksumAlgorithm.SHA256:
      return config.sha256;
    default:
      throw new Error(`Unsupported checksum algorithm: ${checksumAlgorithm}`);
  }
}, "selectChecksumAlgorithmFunction");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/stringHasher.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();
var stringHasher = /* @__PURE__ */ __name((checksumAlgorithmFn, body) => {
  const hash = new checksumAlgorithmFn();
  hash.update(toUint8Array(body || ""));
  return hash.digest();
}, "stringHasher");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/flexibleChecksumsMiddleware.js
var flexibleChecksumsMiddlewareOptions = {
  name: "flexibleChecksumsMiddleware",
  step: "build",
  tags: ["BODY_CHECKSUM"],
  override: true
};
var flexibleChecksumsMiddleware = /* @__PURE__ */ __name((config, middlewareConfig) => (next, context) => async (args) => {
  if (!HttpRequest.isInstance(args.request)) {
    return next(args);
  }
  if (hasHeaderWithPrefix("x-amz-checksum-", args.request.headers)) {
    return next(args);
  }
  const { request, input } = args;
  const { body: requestBody, headers } = request;
  const { base64Encoder, streamHasher } = config;
  const { requestChecksumRequired, requestAlgorithmMember } = middlewareConfig;
  const requestChecksumCalculation = await config.requestChecksumCalculation();
  const requestAlgorithmMemberName = requestAlgorithmMember?.name;
  const requestAlgorithmMemberHttpHeader = requestAlgorithmMember?.httpHeader;
  if (requestAlgorithmMemberName && !input[requestAlgorithmMemberName]) {
    if (requestChecksumCalculation === RequestChecksumCalculation.WHEN_SUPPORTED || requestChecksumRequired) {
      input[requestAlgorithmMemberName] = DEFAULT_CHECKSUM_ALGORITHM;
      if (requestAlgorithmMemberHttpHeader) {
        headers[requestAlgorithmMemberHttpHeader] = DEFAULT_CHECKSUM_ALGORITHM;
      }
    }
  }
  const checksumAlgorithm = getChecksumAlgorithmForRequest(input, {
    requestChecksumRequired,
    requestAlgorithmMember: requestAlgorithmMember?.name,
    requestChecksumCalculation
  });
  let updatedBody = requestBody;
  let updatedHeaders = headers;
  if (checksumAlgorithm) {
    switch (checksumAlgorithm) {
      case ChecksumAlgorithm.CRC32:
        setFeature(context, "FLEXIBLE_CHECKSUMS_REQ_CRC32", "U");
        break;
      case ChecksumAlgorithm.CRC32C:
        setFeature(context, "FLEXIBLE_CHECKSUMS_REQ_CRC32C", "V");
        break;
      case ChecksumAlgorithm.CRC64NVME:
        setFeature(context, "FLEXIBLE_CHECKSUMS_REQ_CRC64", "W");
        break;
      case ChecksumAlgorithm.SHA1:
        setFeature(context, "FLEXIBLE_CHECKSUMS_REQ_SHA1", "X");
        break;
      case ChecksumAlgorithm.SHA256:
        setFeature(context, "FLEXIBLE_CHECKSUMS_REQ_SHA256", "Y");
        break;
    }
    const checksumLocationName = getChecksumLocationName(checksumAlgorithm);
    const checksumAlgorithmFn = selectChecksumAlgorithmFunction(checksumAlgorithm, config);
    if (isStreaming(requestBody)) {
      const { getAwsChunkedEncodingStream: getAwsChunkedEncodingStream2, bodyLengthChecker } = config;
      updatedBody = getAwsChunkedEncodingStream2(typeof config.requestStreamBufferSize === "number" && config.requestStreamBufferSize >= 8 * 1024 ? createBufferedReadable(requestBody, config.requestStreamBufferSize, context.logger) : requestBody, {
        base64Encoder,
        bodyLengthChecker,
        checksumLocationName,
        checksumAlgorithmFn,
        streamHasher
      });
      updatedHeaders = {
        ...headers,
        "content-encoding": headers["content-encoding"] ? `${headers["content-encoding"]},aws-chunked` : "aws-chunked",
        "transfer-encoding": "chunked",
        "x-amz-decoded-content-length": headers["content-length"],
        "x-amz-content-sha256": "STREAMING-UNSIGNED-PAYLOAD-TRAILER",
        "x-amz-trailer": checksumLocationName
      };
      delete updatedHeaders["content-length"];
    } else if (!hasHeader2(checksumLocationName, headers)) {
      const rawChecksum = await stringHasher(checksumAlgorithmFn, requestBody);
      updatedHeaders = {
        ...headers,
        [checksumLocationName]: base64Encoder(rawChecksum)
      };
    }
  }
  const result = await next({
    ...args,
    request: {
      ...request,
      headers: updatedHeaders,
      body: updatedBody
    }
  });
  return result;
}, "flexibleChecksumsMiddleware");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getFlexibleChecksumsPlugin.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/flexibleChecksumsInputMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var flexibleChecksumsInputMiddlewareOptions = {
  name: "flexibleChecksumsInputMiddleware",
  toMiddleware: "serializerMiddleware",
  relation: "before",
  tags: ["BODY_CHECKSUM"],
  override: true
};
var flexibleChecksumsInputMiddleware = /* @__PURE__ */ __name((config, middlewareConfig) => (next, context) => async (args) => {
  const input = args.input;
  const { requestValidationModeMember } = middlewareConfig;
  const requestChecksumCalculation = await config.requestChecksumCalculation();
  const responseChecksumValidation = await config.responseChecksumValidation();
  switch (requestChecksumCalculation) {
    case RequestChecksumCalculation.WHEN_REQUIRED:
      setFeature(context, "FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED", "a");
      break;
    case RequestChecksumCalculation.WHEN_SUPPORTED:
      setFeature(context, "FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED", "Z");
      break;
  }
  switch (responseChecksumValidation) {
    case ResponseChecksumValidation.WHEN_REQUIRED:
      setFeature(context, "FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED", "c");
      break;
    case ResponseChecksumValidation.WHEN_SUPPORTED:
      setFeature(context, "FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED", "b");
      break;
  }
  if (requestValidationModeMember && !input[requestValidationModeMember]) {
    if (responseChecksumValidation === ResponseChecksumValidation.WHEN_SUPPORTED) {
      input[requestValidationModeMember] = "ENABLED";
    }
  }
  return next(args);
}, "flexibleChecksumsInputMiddleware");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/flexibleChecksumsResponseMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getChecksumAlgorithmListForResponse.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getChecksumAlgorithmListForResponse = /* @__PURE__ */ __name((responseAlgorithms = []) => {
  const validChecksumAlgorithms = [];
  for (const algorithm of PRIORITY_ORDER_ALGORITHMS) {
    if (!responseAlgorithms.includes(algorithm) || !CLIENT_SUPPORTED_ALGORITHMS.includes(algorithm)) {
      continue;
    }
    validChecksumAlgorithms.push(algorithm);
  }
  return validChecksumAlgorithms;
}, "getChecksumAlgorithmListForResponse");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/isChecksumWithPartNumber.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isChecksumWithPartNumber = /* @__PURE__ */ __name((checksum) => {
  const lastHyphenIndex = checksum.lastIndexOf("-");
  if (lastHyphenIndex !== -1) {
    const numberPart = checksum.slice(lastHyphenIndex + 1);
    if (!numberPart.startsWith("0")) {
      const number = parseInt(numberPart, 10);
      if (!isNaN(number) && number >= 1 && number <= 1e4) {
        return true;
      }
    }
  }
  return false;
}, "isChecksumWithPartNumber");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/validateChecksumFromResponse.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getChecksum.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getChecksum = /* @__PURE__ */ __name(async (body, { checksumAlgorithmFn, base64Encoder }) => base64Encoder(await stringHasher(checksumAlgorithmFn, body)), "getChecksum");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/validateChecksumFromResponse.js
var validateChecksumFromResponse = /* @__PURE__ */ __name(async (response, { config, responseAlgorithms, logger }) => {
  const checksumAlgorithms = getChecksumAlgorithmListForResponse(responseAlgorithms);
  const { body: responseBody, headers: responseHeaders } = response;
  for (const algorithm of checksumAlgorithms) {
    const responseHeader = getChecksumLocationName(algorithm);
    const checksumFromResponse = responseHeaders[responseHeader];
    if (checksumFromResponse) {
      let checksumAlgorithmFn;
      try {
        checksumAlgorithmFn = selectChecksumAlgorithmFunction(algorithm, config);
      } catch (error) {
        if (algorithm === ChecksumAlgorithm.CRC64NVME) {
          logger?.warn(`Skipping ${ChecksumAlgorithm.CRC64NVME} checksum validation: ${error.message}`);
          continue;
        }
        throw error;
      }
      const { base64Encoder } = config;
      if (isStreaming(responseBody)) {
        response.body = createChecksumStream({
          expectedChecksum: checksumFromResponse,
          checksumSourceLocation: responseHeader,
          checksum: new checksumAlgorithmFn(),
          source: responseBody,
          base64Encoder
        });
        return;
      }
      const checksum = await getChecksum(responseBody, { checksumAlgorithmFn, base64Encoder });
      if (checksum === checksumFromResponse) {
        break;
      }
      throw new Error(`Checksum mismatch: expected "${checksum}" but received "${checksumFromResponse}" in response header "${responseHeader}".`);
    }
  }
}, "validateChecksumFromResponse");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/flexibleChecksumsResponseMiddleware.js
var flexibleChecksumsResponseMiddlewareOptions = {
  name: "flexibleChecksumsResponseMiddleware",
  toMiddleware: "deserializerMiddleware",
  relation: "after",
  tags: ["BODY_CHECKSUM"],
  override: true
};
var flexibleChecksumsResponseMiddleware = /* @__PURE__ */ __name((config, middlewareConfig) => (next, context) => async (args) => {
  if (!HttpRequest.isInstance(args.request)) {
    return next(args);
  }
  const input = args.input;
  const result = await next(args);
  const response = result.response;
  const { requestValidationModeMember, responseAlgorithms } = middlewareConfig;
  if (requestValidationModeMember && input[requestValidationModeMember] === "ENABLED") {
    const { clientName, commandName } = context;
    const isS3WholeObjectMultipartGetResponseChecksum = clientName === "S3Client" && commandName === "GetObjectCommand" && getChecksumAlgorithmListForResponse(responseAlgorithms).every((algorithm) => {
      const responseHeader = getChecksumLocationName(algorithm);
      const checksumFromResponse = response.headers[responseHeader];
      return !checksumFromResponse || isChecksumWithPartNumber(checksumFromResponse);
    });
    if (isS3WholeObjectMultipartGetResponseChecksum) {
      return result;
    }
    await validateChecksumFromResponse(response, {
      config,
      responseAlgorithms,
      logger: context.logger
    });
  }
  return result;
}, "flexibleChecksumsResponseMiddleware");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/getFlexibleChecksumsPlugin.js
var getFlexibleChecksumsPlugin = /* @__PURE__ */ __name((config, middlewareConfig) => ({
  applyToStack: (clientStack) => {
    clientStack.add(flexibleChecksumsMiddleware(config, middlewareConfig), flexibleChecksumsMiddlewareOptions);
    clientStack.addRelativeTo(flexibleChecksumsInputMiddleware(config, middlewareConfig), flexibleChecksumsInputMiddlewareOptions);
    clientStack.addRelativeTo(flexibleChecksumsResponseMiddleware(config, middlewareConfig), flexibleChecksumsResponseMiddlewareOptions);
  }
}), "getFlexibleChecksumsPlugin");

// node_modules/@aws-sdk/middleware-flexible-checksums/dist-es/resolveFlexibleChecksumsConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveFlexibleChecksumsConfig = /* @__PURE__ */ __name((input) => {
  const { requestChecksumCalculation, responseChecksumValidation, requestStreamBufferSize } = input;
  return Object.assign(input, {
    requestChecksumCalculation: normalizeProvider(requestChecksumCalculation ?? DEFAULT_REQUEST_CHECKSUM_CALCULATION),
    responseChecksumValidation: normalizeProvider(responseChecksumValidation ?? DEFAULT_RESPONSE_CHECKSUM_VALIDATION),
    requestStreamBufferSize: Number(requestStreamBufferSize ?? 0)
  });
}, "resolveFlexibleChecksumsConfig");

// node_modules/@aws-sdk/middleware-host-header/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function resolveHostHeaderConfig(input) {
  return input;
}
__name(resolveHostHeaderConfig, "resolveHostHeaderConfig");
var hostHeaderMiddleware = /* @__PURE__ */ __name((options) => (next) => async (args) => {
  if (!HttpRequest.isInstance(args.request))
    return next(args);
  const { request } = args;
  const { handlerProtocol = "" } = options.requestHandler.metadata || {};
  if (handlerProtocol.indexOf("h2") >= 0 && !request.headers[":authority"]) {
    delete request.headers["host"];
    request.headers[":authority"] = request.hostname + (request.port ? ":" + request.port : "");
  } else if (!request.headers["host"]) {
    let host = request.hostname;
    if (request.port != null)
      host += `:${request.port}`;
    request.headers["host"] = host;
  }
  return next(args);
}, "hostHeaderMiddleware");
var hostHeaderMiddlewareOptions = {
  name: "hostHeaderMiddleware",
  step: "build",
  priority: "low",
  tags: ["HOST"],
  override: true
};
var getHostHeaderPlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(hostHeaderMiddleware(options), hostHeaderMiddlewareOptions);
  }
}), "getHostHeaderPlugin");

// node_modules/@aws-sdk/middleware-logger/dist-es/loggerMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var loggerMiddleware = /* @__PURE__ */ __name(() => (next, context) => async (args) => {
  try {
    const response = await next(args);
    const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;
    const { overrideInputFilterSensitiveLog, overrideOutputFilterSensitiveLog } = dynamoDbDocumentClientOptions;
    const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;
    const outputFilterSensitiveLog = overrideOutputFilterSensitiveLog ?? context.outputFilterSensitiveLog;
    const { $metadata, ...outputWithoutMetadata } = response.output;
    logger?.info?.({
      clientName,
      commandName,
      input: inputFilterSensitiveLog(args.input),
      output: outputFilterSensitiveLog(outputWithoutMetadata),
      metadata: $metadata
    });
    return response;
  } catch (error) {
    const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;
    const { overrideInputFilterSensitiveLog } = dynamoDbDocumentClientOptions;
    const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;
    logger?.error?.({
      clientName,
      commandName,
      input: inputFilterSensitiveLog(args.input),
      error,
      metadata: error.$metadata
    });
    throw error;
  }
}, "loggerMiddleware");
var loggerMiddlewareOptions = {
  name: "loggerMiddleware",
  tags: ["LOGGER"],
  step: "initialize",
  override: true
};
var getLoggerPlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);
  }
}), "getLoggerPlugin");

// node_modules/@aws-sdk/middleware-recursion-detection/dist-es/getRecursionDetectionPlugin.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-recursion-detection/dist-es/configuration.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var recursionDetectionMiddlewareOptions = {
  step: "build",
  tags: ["RECURSION_DETECTION"],
  name: "recursionDetectionMiddleware",
  override: true,
  priority: "low"
};

// node_modules/@aws-sdk/middleware-recursion-detection/dist-es/recursionDetectionMiddleware.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var recursionDetectionMiddleware = /* @__PURE__ */ __name(() => (next) => async (args) => next(args), "recursionDetectionMiddleware");

// node_modules/@aws-sdk/middleware-recursion-detection/dist-es/getRecursionDetectionPlugin.js
var getRecursionDetectionPlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(recursionDetectionMiddleware(), recursionDetectionMiddlewareOptions);
  }
}), "getRecursionDetectionPlugin");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/check-content-length-header.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var CONTENT_LENGTH_HEADER = "content-length";
var DECODED_CONTENT_LENGTH_HEADER = "x-amz-decoded-content-length";
function checkContentLengthHeader() {
  return (next, context) => async (args) => {
    const { request } = args;
    if (HttpRequest.isInstance(request)) {
      if (!(CONTENT_LENGTH_HEADER in request.headers) && !(DECODED_CONTENT_LENGTH_HEADER in request.headers)) {
        const message = `Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.`;
        if (typeof context?.logger?.warn === "function" && !(context.logger instanceof NoOpLogger)) {
          context.logger.warn(message);
        } else {
          console.warn(message);
        }
      }
    }
    return next({ ...args });
  };
}
__name(checkContentLengthHeader, "checkContentLengthHeader");
var checkContentLengthHeaderMiddlewareOptions = {
  step: "finalizeRequest",
  tags: ["CHECK_CONTENT_LENGTH_HEADER"],
  name: "getCheckContentLengthHeaderPlugin",
  override: true
};
var getCheckContentLengthHeaderPlugin = /* @__PURE__ */ __name((unused) => ({
  applyToStack: (clientStack) => {
    clientStack.add(checkContentLengthHeader(), checkContentLengthHeaderMiddlewareOptions);
  }
}), "getCheckContentLengthHeaderPlugin");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-endpoint-middleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var regionRedirectEndpointMiddleware = /* @__PURE__ */ __name((config) => {
  return (next, context) => async (args) => {
    const originalRegion = await config.region();
    const regionProviderRef = config.region;
    let unlock = /* @__PURE__ */ __name(() => {
    }, "unlock");
    if (context.__s3RegionRedirect) {
      Object.defineProperty(config, "region", {
        writable: false,
        value: async () => {
          return context.__s3RegionRedirect;
        }
      });
      unlock = /* @__PURE__ */ __name(() => Object.defineProperty(config, "region", {
        writable: true,
        value: regionProviderRef
      }), "unlock");
    }
    try {
      const result = await next(args);
      if (context.__s3RegionRedirect) {
        unlock();
        const region = await config.region();
        if (originalRegion !== region) {
          throw new Error("Region was not restored following S3 region redirect.");
        }
      }
      return result;
    } catch (e2) {
      unlock();
      throw e2;
    }
  };
}, "regionRedirectEndpointMiddleware");
var regionRedirectEndpointMiddlewareOptions = {
  tags: ["REGION_REDIRECT", "S3"],
  name: "regionRedirectEndpointMiddleware",
  override: true,
  relation: "before",
  toMiddleware: "endpointV2Middleware"
};

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/region-redirect-middleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function regionRedirectMiddleware(clientConfig) {
  return (next, context) => async (args) => {
    try {
      return await next(args);
    } catch (err) {
      if (clientConfig.followRegionRedirects) {
        const statusCode = err?.$metadata?.httpStatusCode;
        const isHeadBucket = context.commandName === "HeadBucketCommand";
        const bucketRegionHeader = err?.$response?.headers?.["x-amz-bucket-region"];
        if (bucketRegionHeader) {
          if (statusCode === 301 || statusCode === 400 && (err?.name === "IllegalLocationConstraintException" || isHeadBucket)) {
            try {
              const actualRegion = bucketRegionHeader;
              context.logger?.debug(`Redirecting from ${await clientConfig.region()} to ${actualRegion}`);
              context.__s3RegionRedirect = actualRegion;
            } catch (e2) {
              throw new Error("Region redirect failed: " + e2);
            }
            return next(args);
          }
        }
      }
      throw err;
    }
  };
}
__name(regionRedirectMiddleware, "regionRedirectMiddleware");
var regionRedirectMiddlewareOptions = {
  step: "initialize",
  tags: ["REGION_REDIRECT", "S3"],
  name: "regionRedirectMiddleware",
  override: true
};
var getRegionRedirectMiddlewarePlugin = /* @__PURE__ */ __name((clientConfig) => ({
  applyToStack: (clientStack) => {
    clientStack.add(regionRedirectMiddleware(clientConfig), regionRedirectMiddlewareOptions);
    clientStack.addRelativeTo(regionRedirectEndpointMiddleware(clientConfig), regionRedirectEndpointMiddlewareOptions);
  }
}), "getRegionRedirectMiddlewarePlugin");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCache.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var _S3ExpressIdentityCache = class {
  data;
  lastPurgeTime = Date.now();
  constructor(data = {}) {
    this.data = data;
  }
  get(key) {
    const entry = this.data[key];
    if (!entry) {
      return;
    }
    return entry;
  }
  set(key, entry) {
    this.data[key] = entry;
    return entry;
  }
  delete(key) {
    delete this.data[key];
  }
  async purgeExpired() {
    const now = Date.now();
    if (this.lastPurgeTime + _S3ExpressIdentityCache.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS > now) {
      return;
    }
    for (const key in this.data) {
      const entry = this.data[key];
      if (!entry.isRefreshing) {
        const credential = await entry.identity;
        if (credential.expiration) {
          if (credential.expiration.getTime() < now) {
            delete this.data[key];
          }
        }
      }
    }
  }
};
var S3ExpressIdentityCache = _S3ExpressIdentityCache;
__name(S3ExpressIdentityCache, "S3ExpressIdentityCache");
__publicField(S3ExpressIdentityCache, "EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS", 3e4);

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityCacheEntry.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var S3ExpressIdentityCacheEntry = class {
  _identity;
  isRefreshing;
  accessed;
  constructor(_identity, isRefreshing = false, accessed = Date.now()) {
    this._identity = _identity;
    this.isRefreshing = isRefreshing;
    this.accessed = accessed;
  }
  get identity() {
    this.accessed = Date.now();
    return this._identity;
  }
};
__name(S3ExpressIdentityCacheEntry, "S3ExpressIdentityCacheEntry");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/S3ExpressIdentityProviderImpl.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var _S3ExpressIdentityProviderImpl = class {
  createSessionFn;
  cache;
  constructor(createSessionFn, cache2 = new S3ExpressIdentityCache()) {
    this.createSessionFn = createSessionFn;
    this.cache = cache2;
  }
  async getS3ExpressIdentity(awsIdentity, identityProperties) {
    const key = identityProperties.Bucket;
    const { cache: cache2 } = this;
    const entry = cache2.get(key);
    if (entry) {
      return entry.identity.then((identity) => {
        const isExpired = (identity.expiration?.getTime() ?? 0) < Date.now();
        if (isExpired) {
          return cache2.set(key, new S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;
        }
        const isExpiringSoon = (identity.expiration?.getTime() ?? 0) < Date.now() + _S3ExpressIdentityProviderImpl.REFRESH_WINDOW_MS;
        if (isExpiringSoon && !entry.isRefreshing) {
          entry.isRefreshing = true;
          this.getIdentity(key).then((id) => {
            cache2.set(key, new S3ExpressIdentityCacheEntry(Promise.resolve(id)));
          });
        }
        return identity;
      });
    }
    return cache2.set(key, new S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;
  }
  async getIdentity(key) {
    await this.cache.purgeExpired().catch((error) => {
      console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n" + error);
    });
    const session = await this.createSessionFn(key);
    if (!session.Credentials?.AccessKeyId || !session.Credentials?.SecretAccessKey) {
      throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");
    }
    const identity = {
      accessKeyId: session.Credentials.AccessKeyId,
      secretAccessKey: session.Credentials.SecretAccessKey,
      sessionToken: session.Credentials.SessionToken,
      expiration: session.Credentials.Expiration ? new Date(session.Credentials.Expiration) : void 0
    };
    return identity;
  }
};
var S3ExpressIdentityProviderImpl = _S3ExpressIdentityProviderImpl;
__name(S3ExpressIdentityProviderImpl, "S3ExpressIdentityProviderImpl");
__publicField(S3ExpressIdentityProviderImpl, "REFRESH_WINDOW_MS", 6e4);

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/SignatureV4S3Express.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var S3_EXPRESS_BUCKET_TYPE = "Directory";
var S3_EXPRESS_BACKEND = "S3Express";
var S3_EXPRESS_AUTH_SCHEME = "sigv4-s3express";
var SESSION_TOKEN_QUERY_PARAM = "X-Amz-S3session-Token";
var SESSION_TOKEN_HEADER = SESSION_TOKEN_QUERY_PARAM.toLowerCase();

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/classes/SignatureV4S3Express.js
var SignatureV4S3Express = class extends SignatureV4 {
  async signWithCredentials(requestToSign, credentials, options) {
    const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);
    requestToSign.headers[SESSION_TOKEN_HEADER] = credentials.sessionToken;
    const privateAccess = this;
    setSingleOverride(privateAccess, credentialsWithoutSessionToken);
    return privateAccess.signRequest(requestToSign, options ?? {});
  }
  async presignWithCredentials(requestToSign, credentials, options) {
    const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);
    delete requestToSign.headers[SESSION_TOKEN_HEADER];
    requestToSign.headers[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;
    requestToSign.query = requestToSign.query ?? {};
    requestToSign.query[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;
    const privateAccess = this;
    setSingleOverride(privateAccess, credentialsWithoutSessionToken);
    return this.presign(requestToSign, options);
  }
};
__name(SignatureV4S3Express, "SignatureV4S3Express");
function getCredentialsWithoutSessionToken(credentials) {
  const credentialsWithoutSessionToken = {
    accessKeyId: credentials.accessKeyId,
    secretAccessKey: credentials.secretAccessKey,
    expiration: credentials.expiration
  };
  return credentialsWithoutSessionToken;
}
__name(getCredentialsWithoutSessionToken, "getCredentialsWithoutSessionToken");
function setSingleOverride(privateAccess, credentialsWithoutSessionToken) {
  const id = setTimeout(() => {
    throw new Error("SignatureV4S3Express credential override was created but not called.");
  }, 10);
  const currentCredentialProvider = privateAccess.credentialProvider;
  const overrideCredentialsProviderOnce = /* @__PURE__ */ __name(() => {
    clearTimeout(id);
    privateAccess.credentialProvider = currentCredentialProvider;
    return Promise.resolve(credentialsWithoutSessionToken);
  }, "overrideCredentialsProviderOnce");
  privateAccess.credentialProvider = overrideCredentialsProviderOnce;
}
__name(setSingleOverride, "setSingleOverride");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var s3ExpressMiddleware = /* @__PURE__ */ __name((options) => {
  return (next, context) => async (args) => {
    if (context.endpointV2) {
      const endpoint = context.endpointV2;
      const isS3ExpressAuth = endpoint.properties?.authSchemes?.[0]?.name === S3_EXPRESS_AUTH_SCHEME;
      const isS3ExpressBucket = endpoint.properties?.backend === S3_EXPRESS_BACKEND || endpoint.properties?.bucketType === S3_EXPRESS_BUCKET_TYPE;
      if (isS3ExpressBucket) {
        setFeature(context, "S3_EXPRESS_BUCKET", "J");
        context.isS3ExpressBucket = true;
      }
      if (isS3ExpressAuth) {
        const requestBucket = args.input.Bucket;
        if (requestBucket) {
          const s3ExpressIdentity = await options.s3ExpressIdentityProvider.getS3ExpressIdentity(await options.credentials(), {
            Bucket: requestBucket
          });
          context.s3ExpressIdentity = s3ExpressIdentity;
          if (HttpRequest.isInstance(args.request) && s3ExpressIdentity.sessionToken) {
            args.request.headers[SESSION_TOKEN_HEADER] = s3ExpressIdentity.sessionToken;
          }
        }
      }
    }
    return next(args);
  };
}, "s3ExpressMiddleware");
var s3ExpressMiddlewareOptions = {
  name: "s3ExpressMiddleware",
  step: "build",
  tags: ["S3", "S3_EXPRESS"],
  override: true
};
var getS3ExpressPlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(s3ExpressMiddleware(options), s3ExpressMiddlewareOptions);
  }
}), "getS3ExpressPlugin");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressHttpSigningMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/signS3Express.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var signS3Express = /* @__PURE__ */ __name(async (s3ExpressIdentity, signingOptions, request, sigV4MultiRegionSigner) => {
  const signedRequest = await sigV4MultiRegionSigner.signWithCredentials(request, s3ExpressIdentity, {});
  if (signedRequest.headers["X-Amz-Security-Token"] || signedRequest.headers["x-amz-security-token"]) {
    throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");
  }
  return signedRequest;
}, "signS3Express");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3-express/functions/s3ExpressHttpSigningMiddleware.js
var defaultErrorHandler2 = /* @__PURE__ */ __name((signingProperties) => (error) => {
  throw error;
}, "defaultErrorHandler");
var defaultSuccessHandler2 = /* @__PURE__ */ __name((httpResponse, signingProperties) => {
}, "defaultSuccessHandler");
var s3ExpressHttpSigningMiddleware = /* @__PURE__ */ __name((config) => (next, context) => async (args) => {
  if (!HttpRequest.isInstance(args.request)) {
    return next(args);
  }
  const smithyContext = getSmithyContext(context);
  const scheme = smithyContext.selectedHttpAuthScheme;
  if (!scheme) {
    throw new Error(`No HttpAuthScheme was selected: unable to sign request`);
  }
  const { httpAuthOption: { signingProperties = {} }, identity, signer } = scheme;
  let request;
  if (context.s3ExpressIdentity) {
    request = await signS3Express(context.s3ExpressIdentity, signingProperties, args.request, await config.signer());
  } else {
    request = await signer.sign(args.request, identity, signingProperties);
  }
  const output = await next({
    ...args,
    request
  }).catch((signer.errorHandler || defaultErrorHandler2)(signingProperties));
  (signer.successHandler || defaultSuccessHandler2)(output.response, signingProperties);
  return output;
}, "s3ExpressHttpSigningMiddleware");
var getS3ExpressHttpSigningPlugin = /* @__PURE__ */ __name((config) => ({
  applyToStack: (clientStack) => {
    clientStack.addRelativeTo(s3ExpressHttpSigningMiddleware(config), httpSigningMiddlewareOptions);
  }
}), "getS3ExpressHttpSigningPlugin");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/s3Configuration.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveS3Config = /* @__PURE__ */ __name((input, { session }) => {
  const [s3ClientProvider, CreateSessionCommandCtor] = session;
  const { forcePathStyle, useAccelerateEndpoint, disableMultiregionAccessPoints, followRegionRedirects, s3ExpressIdentityProvider, bucketEndpoint, expectContinueHeader } = input;
  return Object.assign(input, {
    forcePathStyle: forcePathStyle ?? false,
    useAccelerateEndpoint: useAccelerateEndpoint ?? false,
    disableMultiregionAccessPoints: disableMultiregionAccessPoints ?? false,
    followRegionRedirects: followRegionRedirects ?? false,
    s3ExpressIdentityProvider: s3ExpressIdentityProvider ?? new S3ExpressIdentityProviderImpl(async (key) => s3ClientProvider().send(new CreateSessionCommandCtor({
      Bucket: key
    }))),
    bucketEndpoint: bucketEndpoint ?? false,
    expectContinueHeader: expectContinueHeader ?? 2097152
  });
}, "resolveS3Config");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/throw-200-exceptions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var THROW_IF_EMPTY_BODY = {
  CopyObjectCommand: true,
  UploadPartCopyCommand: true,
  CompleteMultipartUploadCommand: true
};
var MAX_BYTES_TO_INSPECT = 3e3;
var throw200ExceptionsMiddleware = /* @__PURE__ */ __name((config) => (next, context) => async (args) => {
  const result = await next(args);
  const { response } = result;
  if (!HttpResponse.isInstance(response)) {
    return result;
  }
  const { statusCode, body: sourceBody } = response;
  if (statusCode < 200 || statusCode >= 300) {
    return result;
  }
  const isSplittableStream = typeof sourceBody?.stream === "function" || typeof sourceBody?.pipe === "function" || typeof sourceBody?.tee === "function";
  if (!isSplittableStream) {
    return result;
  }
  let bodyCopy = sourceBody;
  let body = sourceBody;
  if (sourceBody && typeof sourceBody === "object" && !(sourceBody instanceof Uint8Array)) {
    [bodyCopy, body] = await splitStream(sourceBody);
  }
  response.body = body;
  const bodyBytes = await collectBody2(bodyCopy, {
    streamCollector: async (stream) => {
      return headStream(stream, MAX_BYTES_TO_INSPECT);
    }
  });
  if (typeof bodyCopy?.destroy === "function") {
    bodyCopy.destroy();
  }
  const bodyStringTail = config.utf8Encoder(bodyBytes.subarray(bodyBytes.length - 16));
  if (bodyBytes.length === 0 && THROW_IF_EMPTY_BODY[context.commandName]) {
    const err = new Error("S3 aborted request");
    err.name = "InternalError";
    throw err;
  }
  if (bodyStringTail && bodyStringTail.endsWith("</Error>")) {
    response.statusCode = 400;
  }
  return result;
}, "throw200ExceptionsMiddleware");
var collectBody2 = /* @__PURE__ */ __name((streamBody = new Uint8Array(), context) => {
  if (streamBody instanceof Uint8Array) {
    return Promise.resolve(streamBody);
  }
  return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());
}, "collectBody");
var throw200ExceptionsMiddlewareOptions = {
  relation: "after",
  toMiddleware: "deserializerMiddleware",
  tags: ["THROW_200_EXCEPTIONS", "S3"],
  name: "throw200ExceptionsMiddleware",
  override: true
};
var getThrow200ExceptionsPlugin = /* @__PURE__ */ __name((config) => ({
  applyToStack: (clientStack) => {
    clientStack.addRelativeTo(throw200ExceptionsMiddleware(config), throw200ExceptionsMiddlewareOptions);
  }
}), "getThrow200ExceptionsPlugin");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-arn-parser/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var validate = /* @__PURE__ */ __name((str) => typeof str === "string" && str.indexOf("arn:") === 0 && str.split(":").length >= 6, "validate");

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/bucket-endpoint-middleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function bucketEndpointMiddleware(options) {
  return (next, context) => async (args) => {
    if (options.bucketEndpoint) {
      const endpoint = context.endpointV2;
      if (endpoint) {
        const bucket = args.input.Bucket;
        if (typeof bucket === "string") {
          try {
            const bucketEndpointUrl = new URL(bucket);
            context.endpointV2 = {
              ...endpoint,
              url: bucketEndpointUrl
            };
          } catch (e2) {
            const warning = `@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${bucket} could not be parsed as URL.`;
            if (context.logger?.constructor?.name === "NoOpLogger") {
              console.warn(warning);
            } else {
              context.logger?.warn?.(warning);
            }
            throw e2;
          }
        }
      }
    }
    return next(args);
  };
}
__name(bucketEndpointMiddleware, "bucketEndpointMiddleware");
var bucketEndpointMiddlewareOptions = {
  name: "bucketEndpointMiddleware",
  override: true,
  relation: "after",
  toMiddleware: "endpointV2Middleware"
};

// node_modules/@aws-sdk/middleware-sdk-s3/dist-es/validate-bucket-name.js
function validateBucketNameMiddleware({ bucketEndpoint }) {
  return (next) => async (args) => {
    const { input: { Bucket } } = args;
    if (!bucketEndpoint && typeof Bucket === "string" && !validate(Bucket) && Bucket.indexOf("/") >= 0) {
      const err = new Error(`Bucket name shouldn't contain '/', received '${Bucket}'`);
      err.name = "InvalidBucketName";
      throw err;
    }
    return next({ ...args });
  };
}
__name(validateBucketNameMiddleware, "validateBucketNameMiddleware");
var validateBucketNameMiddlewareOptions = {
  step: "initialize",
  tags: ["VALIDATE_BUCKET_NAME"],
  name: "validateBucketNameMiddleware",
  override: true
};
var getValidateBucketNamePlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(validateBucketNameMiddleware(options), validateBucketNameMiddlewareOptions);
    clientStack.addRelativeTo(bucketEndpointMiddleware(options), bucketEndpointMiddlewareOptions);
  }
}), "getValidateBucketNamePlugin");

// node_modules/@aws-sdk/middleware-user-agent/dist-es/configurations.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DEFAULT_UA_APP_ID = void 0;
function isValidUserAgentAppId(appId) {
  if (appId === void 0) {
    return true;
  }
  return typeof appId === "string" && appId.length <= 50;
}
__name(isValidUserAgentAppId, "isValidUserAgentAppId");
function resolveUserAgentConfig(input) {
  const normalizedAppIdProvider = normalizeProvider2(input.userAgentAppId ?? DEFAULT_UA_APP_ID);
  const { customUserAgent } = input;
  return Object.assign(input, {
    customUserAgent: typeof customUserAgent === "string" ? [[customUserAgent]] : customUserAgent,
    userAgentAppId: async () => {
      const appId = await normalizedAppIdProvider();
      if (!isValidUserAgentAppId(appId)) {
        const logger = input.logger?.constructor?.name === "NoOpLogger" || !input.logger ? console : input.logger;
        if (typeof appId !== "string") {
          logger?.warn("userAgentAppId must be a string or undefined.");
        } else if (appId.length > 50) {
          logger?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.");
        }
      }
      return appId;
    }
  });
}
__name(resolveUserAgentConfig, "resolveUserAgentConfig");

// node_modules/@aws-sdk/middleware-user-agent/dist-es/user-agent-middleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/aws.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/cache/EndpointCache.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var EndpointCache = class {
  capacity;
  data = /* @__PURE__ */ new Map();
  parameters = [];
  constructor({ size, params }) {
    this.capacity = size ?? 50;
    if (params) {
      this.parameters = params;
    }
  }
  get(endpointParams, resolver) {
    const key = this.hash(endpointParams);
    if (key === false) {
      return resolver();
    }
    if (!this.data.has(key)) {
      if (this.data.size > this.capacity + 10) {
        const keys = this.data.keys();
        let i2 = 0;
        while (true) {
          const { value, done } = keys.next();
          this.data.delete(value);
          if (done || ++i2 > 10) {
            break;
          }
        }
      }
      this.data.set(key, resolver());
    }
    return this.data.get(key);
  }
  size() {
    return this.data.size;
  }
  hash(endpointParams) {
    let buffer = "";
    const { parameters } = this;
    if (parameters.length === 0) {
      return false;
    }
    for (const param of parameters) {
      const val = String(endpointParams[param] ?? "");
      if (val.includes("|;")) {
        return false;
      }
      buffer += val + "|;";
    }
    return buffer;
  }
};
__name(EndpointCache, "EndpointCache");

// node_modules/@smithy/util-endpoints/dist-es/lib/isIpAddress.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var IP_V4_REGEX = new RegExp(`^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$`);
var isIpAddress = /* @__PURE__ */ __name((value) => IP_V4_REGEX.test(value) || value.startsWith("[") && value.endsWith("]"), "isIpAddress");

// node_modules/@smithy/util-endpoints/dist-es/lib/isValidHostLabel.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var VALID_HOST_LABEL_REGEX = new RegExp(`^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$`);
var isValidHostLabel = /* @__PURE__ */ __name((value, allowSubDomains = false) => {
  if (!allowSubDomains) {
    return VALID_HOST_LABEL_REGEX.test(value);
  }
  const labels = value.split(".");
  for (const label of labels) {
    if (!isValidHostLabel(label)) {
      return false;
    }
  }
  return true;
}, "isValidHostLabel");

// node_modules/@smithy/util-endpoints/dist-es/utils/customEndpointFunctions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var customEndpointFunctions = {};

// node_modules/@smithy/util-endpoints/dist-es/resolveEndpoint.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/debug/debugId.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var debugId = "endpoints";

// node_modules/@smithy/util-endpoints/dist-es/debug/toDebugString.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function toDebugString(input) {
  if (typeof input !== "object" || input == null) {
    return input;
  }
  if ("ref" in input) {
    return `$${toDebugString(input.ref)}`;
  }
  if ("fn" in input) {
    return `${input.fn}(${(input.argv || []).map(toDebugString).join(", ")})`;
  }
  return JSON.stringify(input, null, 2);
}
__name(toDebugString, "toDebugString");

// node_modules/@smithy/util-endpoints/dist-es/types/EndpointError.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var EndpointError = class extends Error {
  constructor(message) {
    super(message);
    this.name = "EndpointError";
  }
};
__name(EndpointError, "EndpointError");

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateRules.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateConditions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateCondition.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/utils/callFunction.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateExpression.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/utils/endpointFunctions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/lib/booleanEquals.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var booleanEquals = /* @__PURE__ */ __name((value1, value2) => value1 === value2, "booleanEquals");

// node_modules/@smithy/util-endpoints/dist-es/lib/getAttr.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/lib/getAttrPathList.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getAttrPathList = /* @__PURE__ */ __name((path) => {
  const parts = path.split(".");
  const pathList = [];
  for (const part of parts) {
    const squareBracketIndex = part.indexOf("[");
    if (squareBracketIndex !== -1) {
      if (part.indexOf("]") !== part.length - 1) {
        throw new EndpointError(`Path: '${path}' does not end with ']'`);
      }
      const arrayIndex = part.slice(squareBracketIndex + 1, -1);
      if (Number.isNaN(parseInt(arrayIndex))) {
        throw new EndpointError(`Invalid array index: '${arrayIndex}' in path: '${path}'`);
      }
      if (squareBracketIndex !== 0) {
        pathList.push(part.slice(0, squareBracketIndex));
      }
      pathList.push(arrayIndex);
    } else {
      pathList.push(part);
    }
  }
  return pathList;
}, "getAttrPathList");

// node_modules/@smithy/util-endpoints/dist-es/lib/getAttr.js
var getAttr = /* @__PURE__ */ __name((value, path) => getAttrPathList(path).reduce((acc, index) => {
  if (typeof acc !== "object") {
    throw new EndpointError(`Index '${index}' in '${path}' not found in '${JSON.stringify(value)}'`);
  } else if (Array.isArray(acc)) {
    return acc[parseInt(index)];
  }
  return acc[index];
}, value), "getAttr");

// node_modules/@smithy/util-endpoints/dist-es/lib/isSet.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isSet = /* @__PURE__ */ __name((value) => value != null, "isSet");

// node_modules/@smithy/util-endpoints/dist-es/lib/not.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var not = /* @__PURE__ */ __name((value) => !value, "not");

// node_modules/@smithy/util-endpoints/dist-es/lib/parseURL.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DEFAULT_PORTS = {
  [EndpointURLScheme.HTTP]: 80,
  [EndpointURLScheme.HTTPS]: 443
};
var parseURL = /* @__PURE__ */ __name((value) => {
  const whatwgURL = (() => {
    try {
      if (value instanceof URL) {
        return value;
      }
      if (typeof value === "object" && "hostname" in value) {
        const { hostname: hostname2, port, protocol: protocol2 = "", path = "", query = {} } = value;
        const url = new URL(`${protocol2}//${hostname2}${port ? `:${port}` : ""}${path}`);
        url.search = Object.entries(query).map(([k2, v2]) => `${k2}=${v2}`).join("&");
        return url;
      }
      return new URL(value);
    } catch (error) {
      return null;
    }
  })();
  if (!whatwgURL) {
    console.error(`Unable to parse ${JSON.stringify(value)} as a whatwg URL.`);
    return null;
  }
  const urlString = whatwgURL.href;
  const { host, hostname, pathname, protocol, search } = whatwgURL;
  if (search) {
    return null;
  }
  const scheme = protocol.slice(0, -1);
  if (!Object.values(EndpointURLScheme).includes(scheme)) {
    return null;
  }
  const isIp = isIpAddress(hostname);
  const inputContainsDefaultPort = urlString.includes(`${host}:${DEFAULT_PORTS[scheme]}`) || typeof value === "string" && value.includes(`${host}:${DEFAULT_PORTS[scheme]}`);
  const authority = `${host}${inputContainsDefaultPort ? `:${DEFAULT_PORTS[scheme]}` : ``}`;
  return {
    scheme,
    authority,
    path: pathname,
    normalizedPath: pathname.endsWith("/") ? pathname : `${pathname}/`,
    isIp
  };
}, "parseURL");

// node_modules/@smithy/util-endpoints/dist-es/lib/stringEquals.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var stringEquals = /* @__PURE__ */ __name((value1, value2) => value1 === value2, "stringEquals");

// node_modules/@smithy/util-endpoints/dist-es/lib/substring.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var substring = /* @__PURE__ */ __name((input, start, stop, reverse) => {
  if (start >= stop || input.length < stop) {
    return null;
  }
  if (!reverse) {
    return input.substring(start, stop);
  }
  return input.substring(input.length - stop, input.length - start);
}, "substring");

// node_modules/@smithy/util-endpoints/dist-es/lib/uriEncode.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var uriEncode = /* @__PURE__ */ __name((value) => encodeURIComponent(value).replace(/[!*'()]/g, (c2) => `%${c2.charCodeAt(0).toString(16).toUpperCase()}`), "uriEncode");

// node_modules/@smithy/util-endpoints/dist-es/utils/endpointFunctions.js
var endpointFunctions = {
  booleanEquals,
  getAttr,
  isSet,
  isValidHostLabel,
  not,
  parseURL,
  stringEquals,
  substring,
  uriEncode
};

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateTemplate.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var evaluateTemplate = /* @__PURE__ */ __name((template, options) => {
  const evaluatedTemplateArr = [];
  const templateContext = {
    ...options.endpointParams,
    ...options.referenceRecord
  };
  let currentIndex = 0;
  while (currentIndex < template.length) {
    const openingBraceIndex = template.indexOf("{", currentIndex);
    if (openingBraceIndex === -1) {
      evaluatedTemplateArr.push(template.slice(currentIndex));
      break;
    }
    evaluatedTemplateArr.push(template.slice(currentIndex, openingBraceIndex));
    const closingBraceIndex = template.indexOf("}", openingBraceIndex);
    if (closingBraceIndex === -1) {
      evaluatedTemplateArr.push(template.slice(openingBraceIndex));
      break;
    }
    if (template[openingBraceIndex + 1] === "{" && template[closingBraceIndex + 1] === "}") {
      evaluatedTemplateArr.push(template.slice(openingBraceIndex + 1, closingBraceIndex));
      currentIndex = closingBraceIndex + 2;
    }
    const parameterName = template.substring(openingBraceIndex + 1, closingBraceIndex);
    if (parameterName.includes("#")) {
      const [refName, attrName] = parameterName.split("#");
      evaluatedTemplateArr.push(getAttr(templateContext[refName], attrName));
    } else {
      evaluatedTemplateArr.push(templateContext[parameterName]);
    }
    currentIndex = closingBraceIndex + 1;
  }
  return evaluatedTemplateArr.join("");
}, "evaluateTemplate");

// node_modules/@smithy/util-endpoints/dist-es/utils/getReferenceValue.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getReferenceValue = /* @__PURE__ */ __name(({ ref }, options) => {
  const referenceRecord = {
    ...options.endpointParams,
    ...options.referenceRecord
  };
  return referenceRecord[ref];
}, "getReferenceValue");

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateExpression.js
var evaluateExpression = /* @__PURE__ */ __name((obj, keyName, options) => {
  if (typeof obj === "string") {
    return evaluateTemplate(obj, options);
  } else if (obj["fn"]) {
    return group.callFunction(obj, options);
  } else if (obj["ref"]) {
    return getReferenceValue(obj, options);
  }
  throw new EndpointError(`'${keyName}': ${String(obj)} is not a string, function or reference.`);
}, "evaluateExpression");
var callFunction = /* @__PURE__ */ __name(({ fn, argv }, options) => {
  const evaluatedArgs = argv.map((arg) => ["boolean", "number"].includes(typeof arg) ? arg : group.evaluateExpression(arg, "arg", options));
  const fnSegments = fn.split(".");
  if (fnSegments[0] in customEndpointFunctions && fnSegments[1] != null) {
    return customEndpointFunctions[fnSegments[0]][fnSegments[1]](...evaluatedArgs);
  }
  return endpointFunctions[fn](...evaluatedArgs);
}, "callFunction");
var group = {
  evaluateExpression,
  callFunction
};

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateCondition.js
var evaluateCondition = /* @__PURE__ */ __name(({ assign, ...fnArgs }, options) => {
  if (assign && assign in options.referenceRecord) {
    throw new EndpointError(`'${assign}' is already defined in Reference Record.`);
  }
  const value = callFunction(fnArgs, options);
  options.logger?.debug?.(`${debugId} evaluateCondition: ${toDebugString(fnArgs)} = ${toDebugString(value)}`);
  return {
    result: value === "" ? true : !!value,
    ...assign != null && { toAssign: { name: assign, value } }
  };
}, "evaluateCondition");

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateConditions.js
var evaluateConditions = /* @__PURE__ */ __name((conditions = [], options) => {
  const conditionsReferenceRecord = {};
  for (const condition of conditions) {
    const { result, toAssign } = evaluateCondition(condition, {
      ...options,
      referenceRecord: {
        ...options.referenceRecord,
        ...conditionsReferenceRecord
      }
    });
    if (!result) {
      return { result };
    }
    if (toAssign) {
      conditionsReferenceRecord[toAssign.name] = toAssign.value;
      options.logger?.debug?.(`${debugId} assign: ${toAssign.name} := ${toDebugString(toAssign.value)}`);
    }
  }
  return { result: true, referenceRecord: conditionsReferenceRecord };
}, "evaluateConditions");

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateEndpointRule.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-endpoints/dist-es/utils/getEndpointHeaders.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getEndpointHeaders = /* @__PURE__ */ __name((headers, options) => Object.entries(headers).reduce((acc, [headerKey, headerVal]) => ({
  ...acc,
  [headerKey]: headerVal.map((headerValEntry) => {
    const processedExpr = evaluateExpression(headerValEntry, "Header value entry", options);
    if (typeof processedExpr !== "string") {
      throw new EndpointError(`Header '${headerKey}' value '${processedExpr}' is not a string`);
    }
    return processedExpr;
  })
}), {}), "getEndpointHeaders");

// node_modules/@smithy/util-endpoints/dist-es/utils/getEndpointProperties.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getEndpointProperties = /* @__PURE__ */ __name((properties, options) => Object.entries(properties).reduce((acc, [propertyKey, propertyVal]) => ({
  ...acc,
  [propertyKey]: group2.getEndpointProperty(propertyVal, options)
}), {}), "getEndpointProperties");
var getEndpointProperty = /* @__PURE__ */ __name((property, options) => {
  if (Array.isArray(property)) {
    return property.map((propertyEntry) => getEndpointProperty(propertyEntry, options));
  }
  switch (typeof property) {
    case "string":
      return evaluateTemplate(property, options);
    case "object":
      if (property === null) {
        throw new EndpointError(`Unexpected endpoint property: ${property}`);
      }
      return group2.getEndpointProperties(property, options);
    case "boolean":
      return property;
    default:
      throw new EndpointError(`Unexpected endpoint property type: ${typeof property}`);
  }
}, "getEndpointProperty");
var group2 = {
  getEndpointProperty,
  getEndpointProperties
};

// node_modules/@smithy/util-endpoints/dist-es/utils/getEndpointUrl.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getEndpointUrl = /* @__PURE__ */ __name((endpointUrl, options) => {
  const expression = evaluateExpression(endpointUrl, "Endpoint URL", options);
  if (typeof expression === "string") {
    try {
      return new URL(expression);
    } catch (error) {
      console.error(`Failed to construct URL with ${expression}`, error);
      throw error;
    }
  }
  throw new EndpointError(`Endpoint URL must be a string, got ${typeof expression}`);
}, "getEndpointUrl");

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateEndpointRule.js
var evaluateEndpointRule = /* @__PURE__ */ __name((endpointRule, options) => {
  const { conditions, endpoint } = endpointRule;
  const { result, referenceRecord } = evaluateConditions(conditions, options);
  if (!result) {
    return;
  }
  const endpointRuleOptions = {
    ...options,
    referenceRecord: { ...options.referenceRecord, ...referenceRecord }
  };
  const { url, properties, headers } = endpoint;
  options.logger?.debug?.(`${debugId} Resolving endpoint from template: ${toDebugString(endpoint)}`);
  return {
    ...headers != void 0 && {
      headers: getEndpointHeaders(headers, endpointRuleOptions)
    },
    ...properties != void 0 && {
      properties: getEndpointProperties(properties, endpointRuleOptions)
    },
    url: getEndpointUrl(url, endpointRuleOptions)
  };
}, "evaluateEndpointRule");

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateErrorRule.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var evaluateErrorRule = /* @__PURE__ */ __name((errorRule, options) => {
  const { conditions, error } = errorRule;
  const { result, referenceRecord } = evaluateConditions(conditions, options);
  if (!result) {
    return;
  }
  throw new EndpointError(evaluateExpression(error, "Error", {
    ...options,
    referenceRecord: { ...options.referenceRecord, ...referenceRecord }
  }));
}, "evaluateErrorRule");

// node_modules/@smithy/util-endpoints/dist-es/utils/evaluateRules.js
var evaluateRules = /* @__PURE__ */ __name((rules, options) => {
  for (const rule of rules) {
    if (rule.type === "endpoint") {
      const endpointOrUndefined = evaluateEndpointRule(rule, options);
      if (endpointOrUndefined) {
        return endpointOrUndefined;
      }
    } else if (rule.type === "error") {
      evaluateErrorRule(rule, options);
    } else if (rule.type === "tree") {
      const endpointOrUndefined = group3.evaluateTreeRule(rule, options);
      if (endpointOrUndefined) {
        return endpointOrUndefined;
      }
    } else {
      throw new EndpointError(`Unknown endpoint rule: ${rule}`);
    }
  }
  throw new EndpointError(`Rules evaluation failed`);
}, "evaluateRules");
var evaluateTreeRule = /* @__PURE__ */ __name((treeRule, options) => {
  const { conditions, rules } = treeRule;
  const { result, referenceRecord } = evaluateConditions(conditions, options);
  if (!result) {
    return;
  }
  return group3.evaluateRules(rules, {
    ...options,
    referenceRecord: { ...options.referenceRecord, ...referenceRecord }
  });
}, "evaluateTreeRule");
var group3 = {
  evaluateRules,
  evaluateTreeRule
};

// node_modules/@smithy/util-endpoints/dist-es/resolveEndpoint.js
var resolveEndpoint = /* @__PURE__ */ __name((ruleSetObject, options) => {
  const { endpointParams, logger } = options;
  const { parameters, rules } = ruleSetObject;
  options.logger?.debug?.(`${debugId} Initial EndpointParams: ${toDebugString(endpointParams)}`);
  const paramsWithDefault = Object.entries(parameters).filter(([, v2]) => v2.default != null).map(([k2, v2]) => [k2, v2.default]);
  if (paramsWithDefault.length > 0) {
    for (const [paramKey, paramDefaultValue] of paramsWithDefault) {
      endpointParams[paramKey] = endpointParams[paramKey] ?? paramDefaultValue;
    }
  }
  const requiredParams = Object.entries(parameters).filter(([, v2]) => v2.required).map(([k2]) => k2);
  for (const requiredParam of requiredParams) {
    if (endpointParams[requiredParam] == null) {
      throw new EndpointError(`Missing required parameter: '${requiredParam}'`);
    }
  }
  const endpoint = evaluateRules(rules, { endpointParams, logger, referenceRecord: {} });
  options.logger?.debug?.(`${debugId} Resolved endpoint: ${toDebugString(endpoint)}`);
  return endpoint;
}, "resolveEndpoint");

// node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/isVirtualHostableS3Bucket.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/lib/isIpAddress.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/isVirtualHostableS3Bucket.js
var isVirtualHostableS3Bucket = /* @__PURE__ */ __name((value, allowSubDomains = false) => {
  if (allowSubDomains) {
    for (const label of value.split(".")) {
      if (!isVirtualHostableS3Bucket(label)) {
        return false;
      }
    }
    return true;
  }
  if (!isValidHostLabel(value)) {
    return false;
  }
  if (value.length < 3 || value.length > 63) {
    return false;
  }
  if (value !== value.toLowerCase()) {
    return false;
  }
  if (isIpAddress(value)) {
    return false;
  }
  return true;
}, "isVirtualHostableS3Bucket");

// node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/parseArn.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ARN_DELIMITER = ":";
var RESOURCE_DELIMITER = "/";
var parseArn = /* @__PURE__ */ __name((value) => {
  const segments = value.split(ARN_DELIMITER);
  if (segments.length < 6)
    return null;
  const [arn, partition2, service, region, accountId, ...resourcePath] = segments;
  if (arn !== "arn" || partition2 === "" || service === "" || resourcePath.join(ARN_DELIMITER) === "")
    return null;
  const resourceId = resourcePath.map((resource) => resource.split(RESOURCE_DELIMITER)).flat();
  return {
    partition: partition2,
    service,
    region,
    accountId,
    resourceId
  };
}, "parseArn");

// node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/partition.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/partitions.json
var partitions_default = {
  partitions: [{
    id: "aws",
    outputs: {
      dnsSuffix: "amazonaws.com",
      dualStackDnsSuffix: "api.aws",
      implicitGlobalRegion: "us-east-1",
      name: "aws",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",
    regions: {
      "af-south-1": {
        description: "Africa (Cape Town)"
      },
      "ap-east-1": {
        description: "Asia Pacific (Hong Kong)"
      },
      "ap-east-2": {
        description: "Asia Pacific (Taipei)"
      },
      "ap-northeast-1": {
        description: "Asia Pacific (Tokyo)"
      },
      "ap-northeast-2": {
        description: "Asia Pacific (Seoul)"
      },
      "ap-northeast-3": {
        description: "Asia Pacific (Osaka)"
      },
      "ap-south-1": {
        description: "Asia Pacific (Mumbai)"
      },
      "ap-south-2": {
        description: "Asia Pacific (Hyderabad)"
      },
      "ap-southeast-1": {
        description: "Asia Pacific (Singapore)"
      },
      "ap-southeast-2": {
        description: "Asia Pacific (Sydney)"
      },
      "ap-southeast-3": {
        description: "Asia Pacific (Jakarta)"
      },
      "ap-southeast-4": {
        description: "Asia Pacific (Melbourne)"
      },
      "ap-southeast-5": {
        description: "Asia Pacific (Malaysia)"
      },
      "ap-southeast-6": {
        description: "Asia Pacific (New Zealand)"
      },
      "ap-southeast-7": {
        description: "Asia Pacific (Thailand)"
      },
      "aws-global": {
        description: "aws global region"
      },
      "ca-central-1": {
        description: "Canada (Central)"
      },
      "ca-west-1": {
        description: "Canada West (Calgary)"
      },
      "eu-central-1": {
        description: "Europe (Frankfurt)"
      },
      "eu-central-2": {
        description: "Europe (Zurich)"
      },
      "eu-north-1": {
        description: "Europe (Stockholm)"
      },
      "eu-south-1": {
        description: "Europe (Milan)"
      },
      "eu-south-2": {
        description: "Europe (Spain)"
      },
      "eu-west-1": {
        description: "Europe (Ireland)"
      },
      "eu-west-2": {
        description: "Europe (London)"
      },
      "eu-west-3": {
        description: "Europe (Paris)"
      },
      "il-central-1": {
        description: "Israel (Tel Aviv)"
      },
      "me-central-1": {
        description: "Middle East (UAE)"
      },
      "me-south-1": {
        description: "Middle East (Bahrain)"
      },
      "mx-central-1": {
        description: "Mexico (Central)"
      },
      "sa-east-1": {
        description: "South America (Sao Paulo)"
      },
      "us-east-1": {
        description: "US East (N. Virginia)"
      },
      "us-east-2": {
        description: "US East (Ohio)"
      },
      "us-west-1": {
        description: "US West (N. California)"
      },
      "us-west-2": {
        description: "US West (Oregon)"
      }
    }
  }, {
    id: "aws-cn",
    outputs: {
      dnsSuffix: "amazonaws.com.cn",
      dualStackDnsSuffix: "api.amazonwebservices.com.cn",
      implicitGlobalRegion: "cn-northwest-1",
      name: "aws-cn",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^cn\\-\\w+\\-\\d+$",
    regions: {
      "aws-cn-global": {
        description: "aws-cn global region"
      },
      "cn-north-1": {
        description: "China (Beijing)"
      },
      "cn-northwest-1": {
        description: "China (Ningxia)"
      }
    }
  }, {
    id: "aws-eusc",
    outputs: {
      dnsSuffix: "amazonaws.eu",
      dualStackDnsSuffix: "api.amazonwebservices.eu",
      implicitGlobalRegion: "eusc-de-east-1",
      name: "aws-eusc",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^eusc\\-(de)\\-\\w+\\-\\d+$",
    regions: {
      "eusc-de-east-1": {
        description: "EU (Germany)"
      }
    }
  }, {
    id: "aws-iso",
    outputs: {
      dnsSuffix: "c2s.ic.gov",
      dualStackDnsSuffix: "api.aws.ic.gov",
      implicitGlobalRegion: "us-iso-east-1",
      name: "aws-iso",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^us\\-iso\\-\\w+\\-\\d+$",
    regions: {
      "aws-iso-global": {
        description: "aws-iso global region"
      },
      "us-iso-east-1": {
        description: "US ISO East"
      },
      "us-iso-west-1": {
        description: "US ISO WEST"
      }
    }
  }, {
    id: "aws-iso-b",
    outputs: {
      dnsSuffix: "sc2s.sgov.gov",
      dualStackDnsSuffix: "api.aws.scloud",
      implicitGlobalRegion: "us-isob-east-1",
      name: "aws-iso-b",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^us\\-isob\\-\\w+\\-\\d+$",
    regions: {
      "aws-iso-b-global": {
        description: "aws-iso-b global region"
      },
      "us-isob-east-1": {
        description: "US ISOB East (Ohio)"
      },
      "us-isob-west-1": {
        description: "US ISOB West"
      }
    }
  }, {
    id: "aws-iso-e",
    outputs: {
      dnsSuffix: "cloud.adc-e.uk",
      dualStackDnsSuffix: "api.cloud-aws.adc-e.uk",
      implicitGlobalRegion: "eu-isoe-west-1",
      name: "aws-iso-e",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^eu\\-isoe\\-\\w+\\-\\d+$",
    regions: {
      "aws-iso-e-global": {
        description: "aws-iso-e global region"
      },
      "eu-isoe-west-1": {
        description: "EU ISOE West"
      }
    }
  }, {
    id: "aws-iso-f",
    outputs: {
      dnsSuffix: "csp.hci.ic.gov",
      dualStackDnsSuffix: "api.aws.hci.ic.gov",
      implicitGlobalRegion: "us-isof-south-1",
      name: "aws-iso-f",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^us\\-isof\\-\\w+\\-\\d+$",
    regions: {
      "aws-iso-f-global": {
        description: "aws-iso-f global region"
      },
      "us-isof-east-1": {
        description: "US ISOF EAST"
      },
      "us-isof-south-1": {
        description: "US ISOF SOUTH"
      }
    }
  }, {
    id: "aws-us-gov",
    outputs: {
      dnsSuffix: "amazonaws.com",
      dualStackDnsSuffix: "api.aws",
      implicitGlobalRegion: "us-gov-west-1",
      name: "aws-us-gov",
      supportsDualStack: true,
      supportsFIPS: true
    },
    regionRegex: "^us\\-gov\\-\\w+\\-\\d+$",
    regions: {
      "aws-us-gov-global": {
        description: "aws-us-gov global region"
      },
      "us-gov-east-1": {
        description: "AWS GovCloud (US-East)"
      },
      "us-gov-west-1": {
        description: "AWS GovCloud (US-West)"
      }
    }
  }],
  version: "1.1"
};

// node_modules/@aws-sdk/util-endpoints/dist-es/lib/aws/partition.js
var selectedPartitionsInfo = partitions_default;
var selectedUserAgentPrefix = "";
var partition = /* @__PURE__ */ __name((value) => {
  const { partitions } = selectedPartitionsInfo;
  for (const partition2 of partitions) {
    const { regions, outputs } = partition2;
    for (const [region, regionData] of Object.entries(regions)) {
      if (region === value) {
        return {
          ...outputs,
          ...regionData
        };
      }
    }
  }
  for (const partition2 of partitions) {
    const { regionRegex, outputs } = partition2;
    if (new RegExp(regionRegex).test(value)) {
      return {
        ...outputs
      };
    }
  }
  const DEFAULT_PARTITION = partitions.find((partition2) => partition2.id === "aws");
  if (!DEFAULT_PARTITION) {
    throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");
  }
  return {
    ...DEFAULT_PARTITION.outputs
  };
}, "partition");
var getUserAgentPrefix = /* @__PURE__ */ __name(() => selectedUserAgentPrefix, "getUserAgentPrefix");

// node_modules/@aws-sdk/util-endpoints/dist-es/aws.js
var awsEndpointFunctions = {
  isVirtualHostableS3Bucket,
  parseArn,
  partition
};
customEndpointFunctions.aws = awsEndpointFunctions;

// node_modules/@aws-sdk/util-endpoints/dist-es/resolveDefaultAwsRegionalEndpointsConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/url-parser/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/querystring-parser/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function parseQueryString(querystring) {
  const query = {};
  querystring = querystring.replace(/^\?/, "");
  if (querystring) {
    for (const pair of querystring.split("&")) {
      let [key, value = null] = pair.split("=");
      key = decodeURIComponent(key);
      if (value) {
        value = decodeURIComponent(value);
      }
      if (!(key in query)) {
        query[key] = value;
      } else if (Array.isArray(query[key])) {
        query[key].push(value);
      } else {
        query[key] = [query[key], value];
      }
    }
  }
  return query;
}
__name(parseQueryString, "parseQueryString");

// node_modules/@smithy/url-parser/dist-es/index.js
var parseUrl = /* @__PURE__ */ __name((url) => {
  if (typeof url === "string") {
    return parseUrl(new URL(url));
  }
  const { hostname, pathname, port, protocol, search } = url;
  let query;
  if (search) {
    query = parseQueryString(search);
  }
  return {
    hostname,
    port: port ? parseInt(port) : void 0,
    protocol,
    path: pathname,
    query
  };
}, "parseUrl");

// node_modules/@aws-sdk/util-endpoints/dist-es/resolveEndpoint.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/types/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/types/EndpointError.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/types/EndpointRuleObject.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/types/ErrorRuleObject.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/types/RuleSetObject.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/types/TreeRuleObject.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-endpoints/dist-es/types/shared.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/middleware-user-agent/dist-es/check-features.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var ACCOUNT_ID_ENDPOINT_REGEX = /\d{12}\.ddb/;
async function checkFeatures(context, config, args) {
  const request = args.request;
  if (request?.headers?.["smithy-protocol"] === "rpc-v2-cbor") {
    setFeature(context, "PROTOCOL_RPC_V2_CBOR", "M");
  }
  if (typeof config.retryStrategy === "function") {
    const retryStrategy = await config.retryStrategy();
    if (typeof retryStrategy.acquireInitialRetryToken === "function") {
      if (retryStrategy.constructor?.name?.includes("Adaptive")) {
        setFeature(context, "RETRY_MODE_ADAPTIVE", "F");
      } else {
        setFeature(context, "RETRY_MODE_STANDARD", "E");
      }
    } else {
      setFeature(context, "RETRY_MODE_LEGACY", "D");
    }
  }
  if (typeof config.accountIdEndpointMode === "function") {
    const endpointV2 = context.endpointV2;
    if (String(endpointV2?.url?.hostname).match(ACCOUNT_ID_ENDPOINT_REGEX)) {
      setFeature(context, "ACCOUNT_ID_ENDPOINT", "O");
    }
    switch (await config.accountIdEndpointMode?.()) {
      case "disabled":
        setFeature(context, "ACCOUNT_ID_MODE_DISABLED", "Q");
        break;
      case "preferred":
        setFeature(context, "ACCOUNT_ID_MODE_PREFERRED", "P");
        break;
      case "required":
        setFeature(context, "ACCOUNT_ID_MODE_REQUIRED", "R");
        break;
    }
  }
  const identity = context.__smithy_context?.selectedHttpAuthScheme?.identity;
  if (identity?.$source) {
    const credentials = identity;
    if (credentials.accountId) {
      setFeature(context, "RESOLVED_ACCOUNT_ID", "T");
    }
    for (const [key, value] of Object.entries(credentials.$source ?? {})) {
      setFeature(context, key, value);
    }
  }
}
__name(checkFeatures, "checkFeatures");

// node_modules/@aws-sdk/middleware-user-agent/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var USER_AGENT = "user-agent";
var X_AMZ_USER_AGENT = "x-amz-user-agent";
var SPACE = " ";
var UA_NAME_SEPARATOR = "/";
var UA_NAME_ESCAPE_REGEX = /[^!$%&'*+\-.^_`|~\w]/g;
var UA_VALUE_ESCAPE_REGEX = /[^!$%&'*+\-.^_`|~\w#]/g;
var UA_ESCAPE_CHAR = "-";

// node_modules/@aws-sdk/middleware-user-agent/dist-es/encode-features.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var BYTE_LIMIT = 1024;
function encodeFeatures(features) {
  let buffer = "";
  for (const key in features) {
    const val = features[key];
    if (buffer.length + val.length + 1 <= BYTE_LIMIT) {
      if (buffer.length) {
        buffer += "," + val;
      } else {
        buffer += val;
      }
      continue;
    }
    break;
  }
  return buffer;
}
__name(encodeFeatures, "encodeFeatures");

// node_modules/@aws-sdk/middleware-user-agent/dist-es/user-agent-middleware.js
var userAgentMiddleware = /* @__PURE__ */ __name((options) => (next, context) => async (args) => {
  const { request } = args;
  if (!HttpRequest.isInstance(request)) {
    return next(args);
  }
  const { headers } = request;
  const userAgent = context?.userAgent?.map(escapeUserAgent) || [];
  const defaultUserAgent = (await options.defaultUserAgentProvider()).map(escapeUserAgent);
  await checkFeatures(context, options, args);
  const awsContext = context;
  defaultUserAgent.push(`m/${encodeFeatures(Object.assign({}, context.__smithy_context?.features, awsContext.__aws_sdk_context?.features))}`);
  const customUserAgent = options?.customUserAgent?.map(escapeUserAgent) || [];
  const appId = await options.userAgentAppId();
  if (appId) {
    defaultUserAgent.push(escapeUserAgent([`app`, `${appId}`]));
  }
  const prefix = getUserAgentPrefix();
  const sdkUserAgentValue = (prefix ? [prefix] : []).concat([...defaultUserAgent, ...userAgent, ...customUserAgent]).join(SPACE);
  const normalUAValue = [
    ...defaultUserAgent.filter((section) => section.startsWith("aws-sdk-")),
    ...customUserAgent
  ].join(SPACE);
  if (options.runtime !== "browser") {
    if (normalUAValue) {
      headers[X_AMZ_USER_AGENT] = headers[X_AMZ_USER_AGENT] ? `${headers[USER_AGENT]} ${normalUAValue}` : normalUAValue;
    }
    headers[USER_AGENT] = sdkUserAgentValue;
  } else {
    headers[X_AMZ_USER_AGENT] = sdkUserAgentValue;
  }
  return next({
    ...args,
    request
  });
}, "userAgentMiddleware");
var escapeUserAgent = /* @__PURE__ */ __name((userAgentPair) => {
  const name = userAgentPair[0].split(UA_NAME_SEPARATOR).map((part) => part.replace(UA_NAME_ESCAPE_REGEX, UA_ESCAPE_CHAR)).join(UA_NAME_SEPARATOR);
  const version = userAgentPair[1]?.replace(UA_VALUE_ESCAPE_REGEX, UA_ESCAPE_CHAR);
  const prefixSeparatorIndex = name.indexOf(UA_NAME_SEPARATOR);
  const prefix = name.substring(0, prefixSeparatorIndex);
  let uaName = name.substring(prefixSeparatorIndex + 1);
  if (prefix === "api") {
    uaName = uaName.toLowerCase();
  }
  return [prefix, uaName, version].filter((item) => item && item.length > 0).reduce((acc, item, index) => {
    switch (index) {
      case 0:
        return item;
      case 1:
        return `${acc}/${item}`;
      default:
        return `${acc}#${item}`;
    }
  }, "");
}, "escapeUserAgent");
var getUserAgentMiddlewareOptions = {
  name: "getUserAgentMiddleware",
  step: "build",
  priority: "low",
  tags: ["SET_USER_AGENT", "USER_AGENT"],
  override: true
};
var getUserAgentPlugin = /* @__PURE__ */ __name((config) => ({
  applyToStack: (clientStack) => {
    clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);
  }
}), "getUserAgentPlugin");

// node_modules/@smithy/config-resolver/dist-es/endpointsConfig/NodeUseDualstackEndpointConfigOptions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DEFAULT_USE_DUALSTACK_ENDPOINT = false;

// node_modules/@smithy/config-resolver/dist-es/endpointsConfig/NodeUseFipsEndpointConfigOptions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DEFAULT_USE_FIPS_ENDPOINT = false;

// node_modules/@smithy/config-resolver/dist-es/regionConfig/resolveRegionConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/config-resolver/dist-es/regionConfig/checkRegion.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var validRegions = /* @__PURE__ */ new Set();
var checkRegion = /* @__PURE__ */ __name((region, check = isValidHostLabel) => {
  if (!validRegions.has(region) && !check(region)) {
    if (region === "*") {
      console.warn(`@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.`);
    } else {
      throw new Error(`Region not accepted: region="${region}" is not a valid hostname component.`);
    }
  } else {
    validRegions.add(region);
  }
}, "checkRegion");

// node_modules/@smithy/config-resolver/dist-es/regionConfig/getRealRegion.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/config-resolver/dist-es/regionConfig/isFipsRegion.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isFipsRegion = /* @__PURE__ */ __name((region) => typeof region === "string" && (region.startsWith("fips-") || region.endsWith("-fips")), "isFipsRegion");

// node_modules/@smithy/config-resolver/dist-es/regionConfig/getRealRegion.js
var getRealRegion = /* @__PURE__ */ __name((region) => isFipsRegion(region) ? ["fips-aws-global", "aws-fips"].includes(region) ? "us-east-1" : region.replace(/fips-(dkr-|prod-)?|-fips/, "") : region, "getRealRegion");

// node_modules/@smithy/config-resolver/dist-es/regionConfig/resolveRegionConfig.js
var resolveRegionConfig = /* @__PURE__ */ __name((input) => {
  const { region, useFipsEndpoint } = input;
  if (!region) {
    throw new Error("Region is missing");
  }
  return Object.assign(input, {
    region: async () => {
      const providedRegion = typeof region === "function" ? await region() : region;
      const realRegion = getRealRegion(providedRegion);
      checkRegion(realRegion);
      return realRegion;
    },
    useFipsEndpoint: async () => {
      const providedRegion = typeof region === "string" ? region : await region();
      if (isFipsRegion(providedRegion)) {
        return true;
      }
      return typeof useFipsEndpoint !== "function" ? Promise.resolve(!!useFipsEndpoint) : useFipsEndpoint();
    }
  });
}, "resolveRegionConfig");

// node_modules/@smithy/eventstream-serde-config-resolver/dist-es/EventStreamSerdeConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveEventStreamSerdeConfig = /* @__PURE__ */ __name((input) => Object.assign(input, {
  eventStreamMarshaller: input.eventStreamSerdeProvider(input)
}), "resolveEventStreamSerdeConfig");

// node_modules/@smithy/middleware-content-length/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var CONTENT_LENGTH_HEADER2 = "content-length";
function contentLengthMiddleware(bodyLengthChecker) {
  return (next) => async (args) => {
    const request = args.request;
    if (HttpRequest.isInstance(request)) {
      const { body, headers } = request;
      if (body && Object.keys(headers).map((str) => str.toLowerCase()).indexOf(CONTENT_LENGTH_HEADER2) === -1) {
        try {
          const length = bodyLengthChecker(body);
          request.headers = {
            ...request.headers,
            [CONTENT_LENGTH_HEADER2]: String(length)
          };
        } catch (error) {
        }
      }
    }
    return next({
      ...args,
      request
    });
  };
}
__name(contentLengthMiddleware, "contentLengthMiddleware");
var contentLengthMiddlewareOptions = {
  step: "build",
  tags: ["SET_CONTENT_LENGTH", "CONTENT_LENGTH"],
  name: "contentLengthMiddleware",
  override: true
};
var getContentLengthPlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);
  }
}), "getContentLengthPlugin");

// node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromInstructions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/middleware-endpoint/dist-es/service-customizations/s3.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveParamsForS3 = /* @__PURE__ */ __name(async (endpointParams) => {
  const bucket = endpointParams?.Bucket || "";
  if (typeof endpointParams.Bucket === "string") {
    endpointParams.Bucket = bucket.replace(/#/g, encodeURIComponent("#")).replace(/\?/g, encodeURIComponent("?"));
  }
  if (isArnBucketName(bucket)) {
    if (endpointParams.ForcePathStyle === true) {
      throw new Error("Path-style addressing cannot be used with ARN buckets");
    }
  } else if (!isDnsCompatibleBucketName(bucket) || bucket.indexOf(".") !== -1 && !String(endpointParams.Endpoint).startsWith("http:") || bucket.toLowerCase() !== bucket || bucket.length < 3) {
    endpointParams.ForcePathStyle = true;
  }
  if (endpointParams.DisableMultiRegionAccessPoints) {
    endpointParams.disableMultiRegionAccessPoints = true;
    endpointParams.DisableMRAP = true;
  }
  return endpointParams;
}, "resolveParamsForS3");
var DOMAIN_PATTERN = /^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/;
var IP_ADDRESS_PATTERN = /(\d+\.){3}\d+/;
var DOTS_PATTERN = /\.\./;
var isDnsCompatibleBucketName = /* @__PURE__ */ __name((bucketName) => DOMAIN_PATTERN.test(bucketName) && !IP_ADDRESS_PATTERN.test(bucketName) && !DOTS_PATTERN.test(bucketName), "isDnsCompatibleBucketName");
var isArnBucketName = /* @__PURE__ */ __name((bucketName) => {
  const [arn, partition2, service, , , bucket] = bucketName.split(":");
  const isArn = arn === "arn" && bucketName.split(":").length >= 6;
  const isValidArn = Boolean(isArn && partition2 && service && bucket);
  if (isArn && !isValidArn) {
    throw new Error(`Invalid ARN: ${bucketName} was an invalid ARN.`);
  }
  return isValidArn;
}, "isArnBucketName");

// node_modules/@smithy/middleware-endpoint/dist-es/adaptors/createConfigValueProvider.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var createConfigValueProvider = /* @__PURE__ */ __name((configKey, canonicalEndpointParamKey, config, isClientContextParam = false) => {
  const configProvider = /* @__PURE__ */ __name(async () => {
    let configValue;
    if (isClientContextParam) {
      const clientContextParams = config.clientContextParams;
      const nestedValue = clientContextParams?.[configKey];
      configValue = nestedValue ?? config[configKey] ?? config[canonicalEndpointParamKey];
    } else {
      configValue = config[configKey] ?? config[canonicalEndpointParamKey];
    }
    if (typeof configValue === "function") {
      return configValue();
    }
    return configValue;
  }, "configProvider");
  if (configKey === "credentialScope" || canonicalEndpointParamKey === "CredentialScope") {
    return async () => {
      const credentials = typeof config.credentials === "function" ? await config.credentials() : config.credentials;
      const configValue = credentials?.credentialScope ?? credentials?.CredentialScope;
      return configValue;
    };
  }
  if (configKey === "accountId" || canonicalEndpointParamKey === "AccountId") {
    return async () => {
      const credentials = typeof config.credentials === "function" ? await config.credentials() : config.credentials;
      const configValue = credentials?.accountId ?? credentials?.AccountId;
      return configValue;
    };
  }
  if (configKey === "endpoint" || canonicalEndpointParamKey === "endpoint") {
    return async () => {
      if (config.isCustomEndpoint === false) {
        return void 0;
      }
      const endpoint = await configProvider();
      if (endpoint && typeof endpoint === "object") {
        if ("url" in endpoint) {
          return endpoint.url.href;
        }
        if ("hostname" in endpoint) {
          const { protocol, hostname, port, path } = endpoint;
          return `${protocol}//${hostname}${port ? ":" + port : ""}${path}`;
        }
      }
      return endpoint;
    };
  }
  return configProvider;
}, "createConfigValueProvider");

// node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromConfig.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getEndpointFromConfig = /* @__PURE__ */ __name(async (serviceId) => void 0, "getEndpointFromConfig");

// node_modules/@smithy/middleware-endpoint/dist-es/adaptors/toEndpointV1.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var toEndpointV1 = /* @__PURE__ */ __name((endpoint) => {
  if (typeof endpoint === "object") {
    if ("url" in endpoint) {
      return parseUrl(endpoint.url);
    }
    return endpoint;
  }
  return parseUrl(endpoint);
}, "toEndpointV1");

// node_modules/@smithy/middleware-endpoint/dist-es/adaptors/getEndpointFromInstructions.js
var getEndpointFromInstructions = /* @__PURE__ */ __name(async (commandInput, instructionsSupplier, clientConfig, context) => {
  if (!clientConfig.isCustomEndpoint) {
    let endpointFromConfig;
    if (clientConfig.serviceConfiguredEndpoint) {
      endpointFromConfig = await clientConfig.serviceConfiguredEndpoint();
    } else {
      endpointFromConfig = await getEndpointFromConfig(clientConfig.serviceId);
    }
    if (endpointFromConfig) {
      clientConfig.endpoint = () => Promise.resolve(toEndpointV1(endpointFromConfig));
      clientConfig.isCustomEndpoint = true;
    }
  }
  const endpointParams = await resolveParams(commandInput, instructionsSupplier, clientConfig);
  if (typeof clientConfig.endpointProvider !== "function") {
    throw new Error("config.endpointProvider is not set.");
  }
  const endpoint = clientConfig.endpointProvider(endpointParams, context);
  return endpoint;
}, "getEndpointFromInstructions");
var resolveParams = /* @__PURE__ */ __name(async (commandInput, instructionsSupplier, clientConfig) => {
  const endpointParams = {};
  const instructions = instructionsSupplier?.getEndpointParameterInstructions?.() || {};
  for (const [name, instruction] of Object.entries(instructions)) {
    switch (instruction.type) {
      case "staticContextParams":
        endpointParams[name] = instruction.value;
        break;
      case "contextParams":
        endpointParams[name] = commandInput[instruction.name];
        break;
      case "clientContextParams":
      case "builtInParams":
        endpointParams[name] = await createConfigValueProvider(instruction.name, name, clientConfig, instruction.type !== "builtInParams")();
        break;
      case "operationContextParams":
        endpointParams[name] = instruction.get(commandInput);
        break;
      default:
        throw new Error("Unrecognized endpoint parameter instruction: " + JSON.stringify(instruction));
    }
  }
  if (Object.keys(instructions).length === 0) {
    Object.assign(endpointParams, clientConfig);
  }
  if (String(clientConfig.serviceId).toLowerCase() === "s3") {
    await resolveParamsForS3(endpointParams);
  }
  return endpointParams;
}, "resolveParams");

// node_modules/@smithy/middleware-endpoint/dist-es/endpointMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var endpointMiddleware = /* @__PURE__ */ __name(({ config, instructions }) => {
  return (next, context) => async (args) => {
    if (config.isCustomEndpoint) {
      setFeature2(context, "ENDPOINT_OVERRIDE", "N");
    }
    const endpoint = await getEndpointFromInstructions(args.input, {
      getEndpointParameterInstructions() {
        return instructions;
      }
    }, { ...config }, context);
    context.endpointV2 = endpoint;
    context.authSchemes = endpoint.properties?.authSchemes;
    const authScheme = context.authSchemes?.[0];
    if (authScheme) {
      context["signing_region"] = authScheme.signingRegion;
      context["signing_service"] = authScheme.signingName;
      const smithyContext = getSmithyContext(context);
      const httpAuthOption = smithyContext?.selectedHttpAuthScheme?.httpAuthOption;
      if (httpAuthOption) {
        httpAuthOption.signingProperties = Object.assign(httpAuthOption.signingProperties || {}, {
          signing_region: authScheme.signingRegion,
          signingRegion: authScheme.signingRegion,
          signing_service: authScheme.signingName,
          signingName: authScheme.signingName,
          signingRegionSet: authScheme.signingRegionSet
        }, authScheme.properties);
      }
    }
    return next({
      ...args
    });
  };
}, "endpointMiddleware");

// node_modules/@smithy/middleware-endpoint/dist-es/getEndpointPlugin.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var endpointMiddlewareOptions = {
  step: "serialize",
  tags: ["ENDPOINT_PARAMETERS", "ENDPOINT_V2", "ENDPOINT"],
  name: "endpointV2Middleware",
  override: true,
  relation: "before",
  toMiddleware: serializerMiddlewareOption.name
};
var getEndpointPlugin = /* @__PURE__ */ __name((config, instructions) => ({
  applyToStack: (clientStack) => {
    clientStack.addRelativeTo(endpointMiddleware({
      config,
      instructions
    }), endpointMiddlewareOptions);
  }
}), "getEndpointPlugin");

// node_modules/@smithy/middleware-endpoint/dist-es/resolveEndpointConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveEndpointConfig = /* @__PURE__ */ __name((input) => {
  const tls = input.tls ?? true;
  const { endpoint, useDualstackEndpoint, useFipsEndpoint } = input;
  const customEndpointProvider = endpoint != null ? async () => toEndpointV1(await normalizeProvider(endpoint)()) : void 0;
  const isCustomEndpoint = !!endpoint;
  const resolvedConfig = Object.assign(input, {
    endpoint: customEndpointProvider,
    tls,
    isCustomEndpoint,
    useDualstackEndpoint: normalizeProvider(useDualstackEndpoint ?? false),
    useFipsEndpoint: normalizeProvider(useFipsEndpoint ?? false)
  });
  let configuredEndpointPromise = void 0;
  resolvedConfig.serviceConfiguredEndpoint = async () => {
    if (input.serviceId && !configuredEndpointPromise) {
      configuredEndpointPromise = getEndpointFromConfig(input.serviceId);
    }
    return configuredEndpointPromise;
  };
  return resolvedConfig;
}, "resolveEndpointConfig");

// node_modules/@smithy/util-retry/dist-es/AdaptiveRetryStrategy.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-retry/dist-es/config.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var RETRY_MODES;
(function(RETRY_MODES2) {
  RETRY_MODES2["STANDARD"] = "standard";
  RETRY_MODES2["ADAPTIVE"] = "adaptive";
})(RETRY_MODES || (RETRY_MODES = {}));
var DEFAULT_MAX_ATTEMPTS = 3;
var DEFAULT_RETRY_MODE = RETRY_MODES.STANDARD;

// node_modules/@smithy/util-retry/dist-es/DefaultRateLimiter.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/service-error-classification/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/service-error-classification/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var THROTTLING_ERROR_CODES = [
  "BandwidthLimitExceeded",
  "EC2ThrottledException",
  "LimitExceededException",
  "PriorRequestNotComplete",
  "ProvisionedThroughputExceededException",
  "RequestLimitExceeded",
  "RequestThrottled",
  "RequestThrottledException",
  "SlowDown",
  "ThrottledException",
  "Throttling",
  "ThrottlingException",
  "TooManyRequestsException",
  "TransactionInProgressException"
];
var TRANSIENT_ERROR_CODES = ["TimeoutError", "RequestTimeout", "RequestTimeoutException"];
var TRANSIENT_ERROR_STATUS_CODES = [500, 502, 503, 504];
var NODEJS_TIMEOUT_ERROR_CODES = ["ECONNRESET", "ECONNREFUSED", "EPIPE", "ETIMEDOUT"];
var NODEJS_NETWORK_ERROR_CODES = ["EHOSTUNREACH", "ENETUNREACH", "ENOTFOUND"];

// node_modules/@smithy/service-error-classification/dist-es/index.js
var isRetryableByTrait = /* @__PURE__ */ __name((error) => error?.$retryable !== void 0, "isRetryableByTrait");
var isClockSkewCorrectedError = /* @__PURE__ */ __name((error) => error.$metadata?.clockSkewCorrected, "isClockSkewCorrectedError");
var isBrowserNetworkError = /* @__PURE__ */ __name((error) => {
  const errorMessages = /* @__PURE__ */ new Set([
    "Failed to fetch",
    "NetworkError when attempting to fetch resource",
    "The Internet connection appears to be offline",
    "Load failed",
    "Network request failed"
  ]);
  const isValid = error && error instanceof TypeError;
  if (!isValid) {
    return false;
  }
  return errorMessages.has(error.message);
}, "isBrowserNetworkError");
var isThrottlingError = /* @__PURE__ */ __name((error) => error.$metadata?.httpStatusCode === 429 || THROTTLING_ERROR_CODES.includes(error.name) || error.$retryable?.throttling == true, "isThrottlingError");
var isTransientError = /* @__PURE__ */ __name((error, depth = 0) => isRetryableByTrait(error) || isClockSkewCorrectedError(error) || TRANSIENT_ERROR_CODES.includes(error.name) || NODEJS_TIMEOUT_ERROR_CODES.includes(error?.code || "") || NODEJS_NETWORK_ERROR_CODES.includes(error?.code || "") || TRANSIENT_ERROR_STATUS_CODES.includes(error.$metadata?.httpStatusCode || 0) || isBrowserNetworkError(error) || error.cause !== void 0 && depth <= 10 && isTransientError(error.cause, depth + 1), "isTransientError");
var isServerError = /* @__PURE__ */ __name((error) => {
  if (error.$metadata?.httpStatusCode !== void 0) {
    const statusCode = error.$metadata.httpStatusCode;
    if (500 <= statusCode && statusCode <= 599 && !isTransientError(error)) {
      return true;
    }
    return false;
  }
  return false;
}, "isServerError");

// node_modules/@smithy/util-retry/dist-es/DefaultRateLimiter.js
var _DefaultRateLimiter = class {
  beta;
  minCapacity;
  minFillRate;
  scaleConstant;
  smooth;
  currentCapacity = 0;
  enabled = false;
  lastMaxRate = 0;
  measuredTxRate = 0;
  requestCount = 0;
  fillRate;
  lastThrottleTime;
  lastTimestamp = 0;
  lastTxRateBucket;
  maxCapacity;
  timeWindow = 0;
  constructor(options) {
    this.beta = options?.beta ?? 0.7;
    this.minCapacity = options?.minCapacity ?? 1;
    this.minFillRate = options?.minFillRate ?? 0.5;
    this.scaleConstant = options?.scaleConstant ?? 0.4;
    this.smooth = options?.smooth ?? 0.8;
    const currentTimeInSeconds = this.getCurrentTimeInSeconds();
    this.lastThrottleTime = currentTimeInSeconds;
    this.lastTxRateBucket = Math.floor(this.getCurrentTimeInSeconds());
    this.fillRate = this.minFillRate;
    this.maxCapacity = this.minCapacity;
  }
  getCurrentTimeInSeconds() {
    return Date.now() / 1e3;
  }
  async getSendToken() {
    return this.acquireTokenBucket(1);
  }
  async acquireTokenBucket(amount) {
    if (!this.enabled) {
      return;
    }
    this.refillTokenBucket();
    if (amount > this.currentCapacity) {
      const delay = (amount - this.currentCapacity) / this.fillRate * 1e3;
      await new Promise((resolve) => _DefaultRateLimiter.setTimeoutFn(resolve, delay));
    }
    this.currentCapacity = this.currentCapacity - amount;
  }
  refillTokenBucket() {
    const timestamp = this.getCurrentTimeInSeconds();
    if (!this.lastTimestamp) {
      this.lastTimestamp = timestamp;
      return;
    }
    const fillAmount = (timestamp - this.lastTimestamp) * this.fillRate;
    this.currentCapacity = Math.min(this.maxCapacity, this.currentCapacity + fillAmount);
    this.lastTimestamp = timestamp;
  }
  updateClientSendingRate(response) {
    let calculatedRate;
    this.updateMeasuredRate();
    if (isThrottlingError(response)) {
      const rateToUse = !this.enabled ? this.measuredTxRate : Math.min(this.measuredTxRate, this.fillRate);
      this.lastMaxRate = rateToUse;
      this.calculateTimeWindow();
      this.lastThrottleTime = this.getCurrentTimeInSeconds();
      calculatedRate = this.cubicThrottle(rateToUse);
      this.enableTokenBucket();
    } else {
      this.calculateTimeWindow();
      calculatedRate = this.cubicSuccess(this.getCurrentTimeInSeconds());
    }
    const newRate = Math.min(calculatedRate, 2 * this.measuredTxRate);
    this.updateTokenBucketRate(newRate);
  }
  calculateTimeWindow() {
    this.timeWindow = this.getPrecise(Math.pow(this.lastMaxRate * (1 - this.beta) / this.scaleConstant, 1 / 3));
  }
  cubicThrottle(rateToUse) {
    return this.getPrecise(rateToUse * this.beta);
  }
  cubicSuccess(timestamp) {
    return this.getPrecise(this.scaleConstant * Math.pow(timestamp - this.lastThrottleTime - this.timeWindow, 3) + this.lastMaxRate);
  }
  enableTokenBucket() {
    this.enabled = true;
  }
  updateTokenBucketRate(newRate) {
    this.refillTokenBucket();
    this.fillRate = Math.max(newRate, this.minFillRate);
    this.maxCapacity = Math.max(newRate, this.minCapacity);
    this.currentCapacity = Math.min(this.currentCapacity, this.maxCapacity);
  }
  updateMeasuredRate() {
    const t2 = this.getCurrentTimeInSeconds();
    const timeBucket = Math.floor(t2 * 2) / 2;
    this.requestCount++;
    if (timeBucket > this.lastTxRateBucket) {
      const currentRate = this.requestCount / (timeBucket - this.lastTxRateBucket);
      this.measuredTxRate = this.getPrecise(currentRate * this.smooth + this.measuredTxRate * (1 - this.smooth));
      this.requestCount = 0;
      this.lastTxRateBucket = timeBucket;
    }
  }
  getPrecise(num) {
    return parseFloat(num.toFixed(8));
  }
};
var DefaultRateLimiter = _DefaultRateLimiter;
__name(DefaultRateLimiter, "DefaultRateLimiter");
__publicField(DefaultRateLimiter, "setTimeoutFn", setTimeout);

// node_modules/@smithy/util-retry/dist-es/StandardRetryStrategy.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-retry/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DEFAULT_RETRY_DELAY_BASE = 100;
var MAXIMUM_RETRY_DELAY = 20 * 1e3;
var THROTTLING_RETRY_DELAY_BASE = 500;
var INITIAL_RETRY_TOKENS = 500;
var RETRY_COST = 5;
var TIMEOUT_RETRY_COST = 10;
var NO_RETRY_INCREMENT = 1;
var INVOCATION_ID_HEADER = "amz-sdk-invocation-id";
var REQUEST_HEADER = "amz-sdk-request";

// node_modules/@smithy/util-retry/dist-es/defaultRetryBackoffStrategy.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getDefaultRetryBackoffStrategy = /* @__PURE__ */ __name(() => {
  let delayBase = DEFAULT_RETRY_DELAY_BASE;
  const computeNextBackoffDelay = /* @__PURE__ */ __name((attempts) => {
    return Math.floor(Math.min(MAXIMUM_RETRY_DELAY, Math.random() * 2 ** attempts * delayBase));
  }, "computeNextBackoffDelay");
  const setDelayBase = /* @__PURE__ */ __name((delay) => {
    delayBase = delay;
  }, "setDelayBase");
  return {
    computeNextBackoffDelay,
    setDelayBase
  };
}, "getDefaultRetryBackoffStrategy");

// node_modules/@smithy/util-retry/dist-es/defaultRetryToken.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var createDefaultRetryToken = /* @__PURE__ */ __name(({ retryDelay, retryCount, retryCost }) => {
  const getRetryCount = /* @__PURE__ */ __name(() => retryCount, "getRetryCount");
  const getRetryDelay = /* @__PURE__ */ __name(() => Math.min(MAXIMUM_RETRY_DELAY, retryDelay), "getRetryDelay");
  const getRetryCost = /* @__PURE__ */ __name(() => retryCost, "getRetryCost");
  return {
    getRetryCount,
    getRetryDelay,
    getRetryCost
  };
}, "createDefaultRetryToken");

// node_modules/@smithy/util-retry/dist-es/StandardRetryStrategy.js
var StandardRetryStrategy = class {
  maxAttempts;
  mode = RETRY_MODES.STANDARD;
  capacity = INITIAL_RETRY_TOKENS;
  retryBackoffStrategy = getDefaultRetryBackoffStrategy();
  maxAttemptsProvider;
  constructor(maxAttempts) {
    this.maxAttempts = maxAttempts;
    this.maxAttemptsProvider = typeof maxAttempts === "function" ? maxAttempts : async () => maxAttempts;
  }
  async acquireInitialRetryToken(retryTokenScope) {
    return createDefaultRetryToken({
      retryDelay: DEFAULT_RETRY_DELAY_BASE,
      retryCount: 0
    });
  }
  async refreshRetryTokenForRetry(token, errorInfo) {
    const maxAttempts = await this.getMaxAttempts();
    if (this.shouldRetry(token, errorInfo, maxAttempts)) {
      const errorType = errorInfo.errorType;
      this.retryBackoffStrategy.setDelayBase(errorType === "THROTTLING" ? THROTTLING_RETRY_DELAY_BASE : DEFAULT_RETRY_DELAY_BASE);
      const delayFromErrorType = this.retryBackoffStrategy.computeNextBackoffDelay(token.getRetryCount());
      const retryDelay = errorInfo.retryAfterHint ? Math.max(errorInfo.retryAfterHint.getTime() - Date.now() || 0, delayFromErrorType) : delayFromErrorType;
      const capacityCost = this.getCapacityCost(errorType);
      this.capacity -= capacityCost;
      return createDefaultRetryToken({
        retryDelay,
        retryCount: token.getRetryCount() + 1,
        retryCost: capacityCost
      });
    }
    throw new Error("No retry token available");
  }
  recordSuccess(token) {
    this.capacity = Math.max(INITIAL_RETRY_TOKENS, this.capacity + (token.getRetryCost() ?? NO_RETRY_INCREMENT));
  }
  getCapacity() {
    return this.capacity;
  }
  async getMaxAttempts() {
    try {
      return await this.maxAttemptsProvider();
    } catch (error) {
      console.warn(`Max attempts provider could not resolve. Using default of ${DEFAULT_MAX_ATTEMPTS}`);
      return DEFAULT_MAX_ATTEMPTS;
    }
  }
  shouldRetry(tokenToRenew, errorInfo, maxAttempts) {
    const attempts = tokenToRenew.getRetryCount() + 1;
    return attempts < maxAttempts && this.capacity >= this.getCapacityCost(errorInfo.errorType) && this.isRetryableError(errorInfo.errorType);
  }
  getCapacityCost(errorType) {
    return errorType === "TRANSIENT" ? TIMEOUT_RETRY_COST : RETRY_COST;
  }
  isRetryableError(errorType) {
    return errorType === "THROTTLING" || errorType === "TRANSIENT";
  }
};
__name(StandardRetryStrategy, "StandardRetryStrategy");

// node_modules/@smithy/util-retry/dist-es/AdaptiveRetryStrategy.js
var AdaptiveRetryStrategy = class {
  maxAttemptsProvider;
  rateLimiter;
  standardRetryStrategy;
  mode = RETRY_MODES.ADAPTIVE;
  constructor(maxAttemptsProvider, options) {
    this.maxAttemptsProvider = maxAttemptsProvider;
    const { rateLimiter } = options ?? {};
    this.rateLimiter = rateLimiter ?? new DefaultRateLimiter();
    this.standardRetryStrategy = new StandardRetryStrategy(maxAttemptsProvider);
  }
  async acquireInitialRetryToken(retryTokenScope) {
    await this.rateLimiter.getSendToken();
    return this.standardRetryStrategy.acquireInitialRetryToken(retryTokenScope);
  }
  async refreshRetryTokenForRetry(tokenToRenew, errorInfo) {
    this.rateLimiter.updateClientSendingRate(errorInfo);
    return this.standardRetryStrategy.refreshRetryTokenForRetry(tokenToRenew, errorInfo);
  }
  recordSuccess(token) {
    this.rateLimiter.updateClientSendingRate({});
    this.standardRetryStrategy.recordSuccess(token);
  }
};
__name(AdaptiveRetryStrategy, "AdaptiveRetryStrategy");

// node_modules/@smithy/middleware-retry/dist-es/util.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var asSdkError = /* @__PURE__ */ __name((error) => {
  if (error instanceof Error)
    return error;
  if (error instanceof Object)
    return Object.assign(new Error(), error);
  if (typeof error === "string")
    return new Error(error);
  return new Error(`AWS SDK error wrapper for ${error}`);
}, "asSdkError");

// node_modules/@smithy/middleware-retry/dist-es/configurations.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveRetryConfig = /* @__PURE__ */ __name((input) => {
  const { retryStrategy, retryMode: _retryMode, maxAttempts: _maxAttempts } = input;
  const maxAttempts = normalizeProvider(_maxAttempts ?? DEFAULT_MAX_ATTEMPTS);
  return Object.assign(input, {
    maxAttempts,
    retryStrategy: async () => {
      if (retryStrategy) {
        return retryStrategy;
      }
      const retryMode = await normalizeProvider(_retryMode)();
      if (retryMode === RETRY_MODES.ADAPTIVE) {
        return new AdaptiveRetryStrategy(maxAttempts);
      }
      return new StandardRetryStrategy(maxAttempts);
    }
  });
}, "resolveRetryConfig");

// node_modules/@smithy/middleware-retry/dist-es/retryMiddleware.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/middleware-retry/dist-es/isStreamingPayload/isStreamingPayload.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var isStreamingPayload = /* @__PURE__ */ __name((request) => request?.body instanceof ReadableStream, "isStreamingPayload");

// node_modules/@smithy/middleware-retry/dist-es/retryMiddleware.js
var retryMiddleware = /* @__PURE__ */ __name((options) => (next, context) => async (args) => {
  let retryStrategy = await options.retryStrategy();
  const maxAttempts = await options.maxAttempts();
  if (isRetryStrategyV2(retryStrategy)) {
    retryStrategy = retryStrategy;
    let retryToken = await retryStrategy.acquireInitialRetryToken(context["partition_id"]);
    let lastError = new Error();
    let attempts = 0;
    let totalRetryDelay = 0;
    const { request } = args;
    const isRequest = HttpRequest.isInstance(request);
    if (isRequest) {
      request.headers[INVOCATION_ID_HEADER] = v4();
    }
    while (true) {
      try {
        if (isRequest) {
          request.headers[REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;
        }
        const { response, output } = await next(args);
        retryStrategy.recordSuccess(retryToken);
        output.$metadata.attempts = attempts + 1;
        output.$metadata.totalRetryDelay = totalRetryDelay;
        return { response, output };
      } catch (e2) {
        const retryErrorInfo = getRetryErrorInfo(e2);
        lastError = asSdkError(e2);
        if (isRequest && isStreamingPayload(request)) {
          (context.logger instanceof NoOpLogger ? console : context.logger)?.warn("An error was encountered in a non-retryable streaming request.");
          throw lastError;
        }
        try {
          retryToken = await retryStrategy.refreshRetryTokenForRetry(retryToken, retryErrorInfo);
        } catch (refreshError) {
          if (!lastError.$metadata) {
            lastError.$metadata = {};
          }
          lastError.$metadata.attempts = attempts + 1;
          lastError.$metadata.totalRetryDelay = totalRetryDelay;
          throw lastError;
        }
        attempts = retryToken.getRetryCount();
        const delay = retryToken.getRetryDelay();
        totalRetryDelay += delay;
        await new Promise((resolve) => setTimeout(resolve, delay));
      }
    }
  } else {
    retryStrategy = retryStrategy;
    if (retryStrategy?.mode)
      context.userAgent = [...context.userAgent || [], ["cfg/retry-mode", retryStrategy.mode]];
    return retryStrategy.retry(next, args);
  }
}, "retryMiddleware");
var isRetryStrategyV2 = /* @__PURE__ */ __name((retryStrategy) => typeof retryStrategy.acquireInitialRetryToken !== "undefined" && typeof retryStrategy.refreshRetryTokenForRetry !== "undefined" && typeof retryStrategy.recordSuccess !== "undefined", "isRetryStrategyV2");
var getRetryErrorInfo = /* @__PURE__ */ __name((error) => {
  const errorInfo = {
    error,
    errorType: getRetryErrorType(error)
  };
  const retryAfterHint = getRetryAfterHint(error.$response);
  if (retryAfterHint) {
    errorInfo.retryAfterHint = retryAfterHint;
  }
  return errorInfo;
}, "getRetryErrorInfo");
var getRetryErrorType = /* @__PURE__ */ __name((error) => {
  if (isThrottlingError(error))
    return "THROTTLING";
  if (isTransientError(error))
    return "TRANSIENT";
  if (isServerError(error))
    return "SERVER_ERROR";
  return "CLIENT_ERROR";
}, "getRetryErrorType");
var retryMiddlewareOptions = {
  name: "retryMiddleware",
  tags: ["RETRY"],
  step: "finalizeRequest",
  priority: "high",
  override: true
};
var getRetryPlugin = /* @__PURE__ */ __name((options) => ({
  applyToStack: (clientStack) => {
    clientStack.add(retryMiddleware(options), retryMiddlewareOptions);
  }
}), "getRetryPlugin");
var getRetryAfterHint = /* @__PURE__ */ __name((response) => {
  if (!HttpResponse.isInstance(response))
    return;
  const retryAfterHeaderName = Object.keys(response.headers).find((key) => key.toLowerCase() === "retry-after");
  if (!retryAfterHeaderName)
    return;
  const retryAfter = response.headers[retryAfterHeaderName];
  const retryAfterSeconds = Number(retryAfter);
  if (!Number.isNaN(retryAfterSeconds))
    return new Date(retryAfterSeconds * 1e3);
  const retryAfterDate = new Date(retryAfter);
  return retryAfterDate;
}, "getRetryAfterHint");

// node_modules/@aws-sdk/client-s3/dist-es/auth/httpAuthSchemeProvider.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/signature-v4-multi-region/dist-es/SignatureV4MultiRegion.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/signature-v4-multi-region/dist-es/signature-v4-crt-container.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var signatureV4CrtContainer = {
  CrtSignerV4: null
};

// node_modules/@aws-sdk/signature-v4-multi-region/dist-es/SignatureV4MultiRegion.js
var SignatureV4MultiRegion = class {
  sigv4aSigner;
  sigv4Signer;
  signerOptions;
  static sigv4aDependency() {
    if (typeof signatureV4CrtContainer.CrtSignerV4 === "function") {
      return "crt";
    } else if (typeof signatureV4aContainer.SignatureV4a === "function") {
      return "js";
    }
    return "none";
  }
  constructor(options) {
    this.sigv4Signer = new SignatureV4S3Express(options);
    this.signerOptions = options;
  }
  async sign(requestToSign, options = {}) {
    if (options.signingRegion === "*") {
      return this.getSigv4aSigner().sign(requestToSign, options);
    }
    return this.sigv4Signer.sign(requestToSign, options);
  }
  async signWithCredentials(requestToSign, credentials, options = {}) {
    if (options.signingRegion === "*") {
      const signer = this.getSigv4aSigner();
      const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;
      if (CrtSignerV4 && signer instanceof CrtSignerV4) {
        return signer.signWithCredentials(requestToSign, credentials, options);
      } else {
        throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);
      }
    }
    return this.sigv4Signer.signWithCredentials(requestToSign, credentials, options);
  }
  async presign(originalRequest, options = {}) {
    if (options.signingRegion === "*") {
      const signer = this.getSigv4aSigner();
      const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;
      if (CrtSignerV4 && signer instanceof CrtSignerV4) {
        return signer.presign(originalRequest, options);
      } else {
        throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);
      }
    }
    return this.sigv4Signer.presign(originalRequest, options);
  }
  async presignWithCredentials(originalRequest, credentials, options = {}) {
    if (options.signingRegion === "*") {
      throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");
    }
    return this.sigv4Signer.presignWithCredentials(originalRequest, credentials, options);
  }
  getSigv4aSigner() {
    if (!this.sigv4aSigner) {
      const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;
      const JsSigV4aSigner = signatureV4aContainer.SignatureV4a;
      if (this.signerOptions.runtime === "node") {
        if (!CrtSignerV4 && !JsSigV4aSigner) {
          throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");
        }
        if (CrtSignerV4 && typeof CrtSignerV4 === "function") {
          this.sigv4aSigner = new CrtSignerV4({
            ...this.signerOptions,
            signingAlgorithm: 1
          });
        } else if (JsSigV4aSigner && typeof JsSigV4aSigner === "function") {
          this.sigv4aSigner = new JsSigV4aSigner({
            ...this.signerOptions
          });
        } else {
          throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");
        }
      } else {
        if (!JsSigV4aSigner || typeof JsSigV4aSigner !== "function") {
          throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");
        }
        this.sigv4aSigner = new JsSigV4aSigner({
          ...this.signerOptions
        });
      }
    }
    return this.sigv4aSigner;
  }
};
__name(SignatureV4MultiRegion, "SignatureV4MultiRegion");

// node_modules/@aws-sdk/client-s3/dist-es/endpoint/endpointResolver.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/client-s3/dist-es/endpoint/ruleset.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var cs = "required";
var ct = "type";
var cu = "rules";
var cv = "conditions";
var cw = "fn";
var cx = "argv";
var cy = "ref";
var cz = "assign";
var cA = "url";
var cB = "properties";
var cC = "backend";
var cD = "authSchemes";
var cE = "disableDoubleEncoding";
var cF = "signingName";
var cG = "signingRegion";
var cH = "headers";
var cI = "signingRegionSet";
var a = 6;
var b = false;
var c = true;
var d = "isSet";
var e = "booleanEquals";
var f = "error";
var g = "aws.partition";
var h = "stringEquals";
var i = "getAttr";
var j = "name";
var k = "substring";
var l = "bucketSuffix";
var m = "parseURL";
var n = "endpoint";
var o = "tree";
var p = "aws.isVirtualHostableS3Bucket";
var q = "{url#scheme}://{Bucket}.{url#authority}{url#path}";
var r = "not";
var s = "accessPointSuffix";
var t = "{url#scheme}://{url#authority}{url#path}";
var u = "hardwareType";
var v = "regionPrefix";
var w = "bucketAliasSuffix";
var x = "outpostId";
var y = "isValidHostLabel";
var z = "sigv4a";
var A = "s3-outposts";
var B = "s3";
var C = "{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}";
var D = "https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}";
var E = "https://{Bucket}.s3.{partitionResult#dnsSuffix}";
var F = "aws.parseArn";
var G = "bucketArn";
var H = "arnType";
var I = "";
var J = "s3-object-lambda";
var K = "accesspoint";
var L = "accessPointName";
var M = "{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}";
var N = "mrapPartition";
var O = "outpostType";
var P = "arnPrefix";
var Q = "{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}";
var R = "https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}";
var S = "https://s3.{partitionResult#dnsSuffix}";
var T = { [cs]: false, [ct]: "string" };
var U = { [cs]: true, "default": false, [ct]: "boolean" };
var V = { [cs]: false, [ct]: "boolean" };
var W = { [cw]: e, [cx]: [{ [cy]: "Accelerate" }, true] };
var X = { [cw]: e, [cx]: [{ [cy]: "UseFIPS" }, true] };
var Y = { [cw]: e, [cx]: [{ [cy]: "UseDualStack" }, true] };
var Z = { [cw]: d, [cx]: [{ [cy]: "Endpoint" }] };
var aa = { [cw]: g, [cx]: [{ [cy]: "Region" }], [cz]: "partitionResult" };
var ab = { [cw]: h, [cx]: [{ [cw]: i, [cx]: [{ [cy]: "partitionResult" }, j] }, "aws-cn"] };
var ac = { [cw]: d, [cx]: [{ [cy]: "Bucket" }] };
var ad = { [cy]: "Bucket" };
var ae = { [cv]: [W], [f]: "S3Express does not support S3 Accelerate.", [ct]: f };
var af = { [cv]: [Z, { [cw]: m, [cx]: [{ [cy]: "Endpoint" }], [cz]: "url" }], [cu]: [{ [cv]: [{ [cw]: d, [cx]: [{ [cy]: "DisableS3ExpressSessionAuth" }] }, { [cw]: e, [cx]: [{ [cy]: "DisableS3ExpressSessionAuth" }, true] }], [cu]: [{ [cv]: [{ [cw]: e, [cx]: [{ [cw]: i, [cx]: [{ [cy]: "url" }, "isIp"] }, true] }], [cu]: [{ [cv]: [{ [cw]: "uriEncode", [cx]: [ad], [cz]: "uri_encoded_bucket" }], [cu]: [{ [n]: { [cA]: "{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}", [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }], [ct]: o }], [ct]: o }, { [cv]: [{ [cw]: p, [cx]: [ad, false] }], [cu]: [{ [n]: { [cA]: q, [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }], [ct]: o }, { [f]: "S3Express bucket name is not a valid virtual hostable name.", [ct]: f }], [ct]: o }, { [cv]: [{ [cw]: e, [cx]: [{ [cw]: i, [cx]: [{ [cy]: "url" }, "isIp"] }, true] }], [cu]: [{ [cv]: [{ [cw]: "uriEncode", [cx]: [ad], [cz]: "uri_encoded_bucket" }], [cu]: [{ [n]: { [cA]: "{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}", [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4-s3express", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }], [ct]: o }], [ct]: o }, { [cv]: [{ [cw]: p, [cx]: [ad, false] }], [cu]: [{ [n]: { [cA]: q, [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4-s3express", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }], [ct]: o }, { [f]: "S3Express bucket name is not a valid virtual hostable name.", [ct]: f }], [ct]: o };
var ag = { [cw]: m, [cx]: [{ [cy]: "Endpoint" }], [cz]: "url" };
var ah = { [cw]: e, [cx]: [{ [cw]: i, [cx]: [{ [cy]: "url" }, "isIp"] }, true] };
var ai = { [cy]: "url" };
var aj = { [cw]: "uriEncode", [cx]: [ad], [cz]: "uri_encoded_bucket" };
var ak = { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: "s3express", [cG]: "{Region}" }] };
var al = {};
var am = { [cw]: p, [cx]: [ad, false] };
var an = { [f]: "S3Express bucket name is not a valid virtual hostable name.", [ct]: f };
var ao = { [cw]: d, [cx]: [{ [cy]: "UseS3ExpressControlEndpoint" }] };
var ap = { [cw]: e, [cx]: [{ [cy]: "UseS3ExpressControlEndpoint" }, true] };
var aq = { [cw]: r, [cx]: [Z] };
var ar = { [cw]: e, [cx]: [{ [cy]: "UseDualStack" }, false] };
var as = { [cw]: e, [cx]: [{ [cy]: "UseFIPS" }, false] };
var at = { [f]: "Unrecognized S3Express bucket name format.", [ct]: f };
var au = { [cw]: r, [cx]: [ac] };
var av = { [cy]: u };
var aw = { [cv]: [aq], [f]: "Expected a endpoint to be specified but no endpoint was found", [ct]: f };
var ax = { [cD]: [{ [cE]: true, [j]: z, [cF]: A, [cI]: ["*"] }, { [cE]: true, [j]: "sigv4", [cF]: A, [cG]: "{Region}" }] };
var ay = { [cw]: e, [cx]: [{ [cy]: "ForcePathStyle" }, false] };
var az = { [cy]: "ForcePathStyle" };
var aA = { [cw]: e, [cx]: [{ [cy]: "Accelerate" }, false] };
var aB = { [cw]: h, [cx]: [{ [cy]: "Region" }, "aws-global"] };
var aC = { [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: B, [cG]: "us-east-1" }] };
var aD = { [cw]: r, [cx]: [aB] };
var aE = { [cw]: e, [cx]: [{ [cy]: "UseGlobalEndpoint" }, true] };
var aF = { [cA]: "https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: { [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: B, [cG]: "{Region}" }] }, [cH]: {} };
var aG = { [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: B, [cG]: "{Region}" }] };
var aH = { [cw]: e, [cx]: [{ [cy]: "UseGlobalEndpoint" }, false] };
var aI = { [cA]: "https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var aJ = { [cA]: "https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var aK = { [cA]: "https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var aL = { [cw]: e, [cx]: [{ [cw]: i, [cx]: [ai, "isIp"] }, false] };
var aM = { [cA]: C, [cB]: aG, [cH]: {} };
var aN = { [cA]: q, [cB]: aG, [cH]: {} };
var aO = { [n]: aN, [ct]: n };
var aP = { [cA]: D, [cB]: aG, [cH]: {} };
var aQ = { [cA]: "https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var aR = { [f]: "Invalid region: region was not a valid DNS name.", [ct]: f };
var aS = { [cy]: G };
var aT = { [cy]: H };
var aU = { [cw]: i, [cx]: [aS, "service"] };
var aV = { [cy]: L };
var aW = { [cv]: [Y], [f]: "S3 Object Lambda does not support Dual-stack", [ct]: f };
var aX = { [cv]: [W], [f]: "S3 Object Lambda does not support S3 Accelerate", [ct]: f };
var aY = { [cv]: [{ [cw]: d, [cx]: [{ [cy]: "DisableAccessPoints" }] }, { [cw]: e, [cx]: [{ [cy]: "DisableAccessPoints" }, true] }], [f]: "Access points are not supported for this operation", [ct]: f };
var aZ = { [cv]: [{ [cw]: d, [cx]: [{ [cy]: "UseArnRegion" }] }, { [cw]: e, [cx]: [{ [cy]: "UseArnRegion" }, false] }, { [cw]: r, [cx]: [{ [cw]: h, [cx]: [{ [cw]: i, [cx]: [aS, "region"] }, "{Region}"] }] }], [f]: "Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`", [ct]: f };
var ba = { [cw]: i, [cx]: [{ [cy]: "bucketPartition" }, j] };
var bb = { [cw]: i, [cx]: [aS, "accountId"] };
var bc = { [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: J, [cG]: "{bucketArn#region}" }] };
var bd = { [f]: "Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`", [ct]: f };
var be = { [f]: "Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`", [ct]: f };
var bf = { [f]: "Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)", [ct]: f };
var bg = { [f]: "Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`", [ct]: f };
var bh = { [f]: "Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.", [ct]: f };
var bi = { [f]: "Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided", [ct]: f };
var bj = { [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: B, [cG]: "{bucketArn#region}" }] };
var bk = { [cD]: [{ [cE]: true, [j]: z, [cF]: A, [cI]: ["*"] }, { [cE]: true, [j]: "sigv4", [cF]: A, [cG]: "{bucketArn#region}" }] };
var bl = { [cw]: F, [cx]: [ad] };
var bm = { [cA]: "https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: aG, [cH]: {} };
var bn = { [cA]: "https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: aG, [cH]: {} };
var bo = { [cA]: "https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: aG, [cH]: {} };
var bp = { [cA]: Q, [cB]: aG, [cH]: {} };
var bq = { [cA]: "https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: aG, [cH]: {} };
var br = { [cy]: "UseObjectLambdaEndpoint" };
var bs = { [cD]: [{ [cE]: true, [j]: "sigv4", [cF]: J, [cG]: "{Region}" }] };
var bt = { [cA]: "https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var bu = { [cA]: "https://s3-fips.{Region}.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var bv = { [cA]: "https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var bw = { [cA]: t, [cB]: aG, [cH]: {} };
var bx = { [cA]: "https://s3.{Region}.{partitionResult#dnsSuffix}", [cB]: aG, [cH]: {} };
var by = [{ [cy]: "Region" }];
var bz = [{ [cy]: "Endpoint" }];
var bA = [ad];
var bB = [W];
var bC = [Z, ag];
var bD = [{ [cw]: d, [cx]: [{ [cy]: "DisableS3ExpressSessionAuth" }] }, { [cw]: e, [cx]: [{ [cy]: "DisableS3ExpressSessionAuth" }, true] }];
var bE = [aj];
var bF = [am];
var bG = [aa];
var bH = [X, Y];
var bI = [X, ar];
var bJ = [as, Y];
var bK = [as, ar];
var bL = [{ [cw]: k, [cx]: [ad, 6, 14, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 14, 16, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bM = [{ [cv]: [X, Y], [n]: { [cA]: "https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: {} }, [ct]: n }, { [cv]: bI, [n]: { [cA]: "https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: {} }, [ct]: n }, { [cv]: bJ, [n]: { [cA]: "https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: {} }, [ct]: n }, { [cv]: bK, [n]: { [cA]: "https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: {} }, [ct]: n }];
var bN = [{ [cw]: k, [cx]: [ad, 6, 15, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 15, 17, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bO = [{ [cw]: k, [cx]: [ad, 6, 19, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 19, 21, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bP = [{ [cw]: k, [cx]: [ad, 6, 20, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 20, 22, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bQ = [{ [cw]: k, [cx]: [ad, 6, 26, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 26, 28, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bR = [{ [cv]: [X, Y], [n]: { [cA]: "https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4-s3express", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }, { [cv]: bI, [n]: { [cA]: "https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}", [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4-s3express", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }, { [cv]: bJ, [n]: { [cA]: "https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4-s3express", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }, { [cv]: bK, [n]: { [cA]: "https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}", [cB]: { [cC]: "S3Express", [cD]: [{ [cE]: true, [j]: "sigv4-s3express", [cF]: "s3express", [cG]: "{Region}" }] }, [cH]: {} }, [ct]: n }];
var bS = [ad, 0, 7, true];
var bT = [{ [cw]: k, [cx]: [ad, 7, 15, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 15, 17, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bU = [{ [cw]: k, [cx]: [ad, 7, 16, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 16, 18, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bV = [{ [cw]: k, [cx]: [ad, 7, 20, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 20, 22, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bW = [{ [cw]: k, [cx]: [ad, 7, 21, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 21, 23, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bX = [{ [cw]: k, [cx]: [ad, 7, 27, true], [cz]: "s3expressAvailabilityZoneId" }, { [cw]: k, [cx]: [ad, 27, 29, true], [cz]: "s3expressAvailabilityZoneDelim" }, { [cw]: h, [cx]: [{ [cy]: "s3expressAvailabilityZoneDelim" }, "--"] }];
var bY = [ac];
var bZ = [{ [cw]: y, [cx]: [{ [cy]: x }, false] }];
var ca = [{ [cw]: h, [cx]: [{ [cy]: v }, "beta"] }];
var cb = ["*"];
var cc = [{ [cw]: y, [cx]: [{ [cy]: "Region" }, false] }];
var cd = [{ [cw]: h, [cx]: [{ [cy]: "Region" }, "us-east-1"] }];
var ce = [{ [cw]: h, [cx]: [aT, K] }];
var cf = [{ [cw]: i, [cx]: [aS, "resourceId[1]"], [cz]: L }, { [cw]: r, [cx]: [{ [cw]: h, [cx]: [aV, I] }] }];
var cg = [aS, "resourceId[1]"];
var ch = [Y];
var ci = [{ [cw]: r, [cx]: [{ [cw]: h, [cx]: [{ [cw]: i, [cx]: [aS, "region"] }, I] }] }];
var cj = [{ [cw]: r, [cx]: [{ [cw]: d, [cx]: [{ [cw]: i, [cx]: [aS, "resourceId[2]"] }] }] }];
var ck = [aS, "resourceId[2]"];
var cl = [{ [cw]: g, [cx]: [{ [cw]: i, [cx]: [aS, "region"] }], [cz]: "bucketPartition" }];
var cm = [{ [cw]: h, [cx]: [ba, { [cw]: i, [cx]: [{ [cy]: "partitionResult" }, j] }] }];
var cn = [{ [cw]: y, [cx]: [{ [cw]: i, [cx]: [aS, "region"] }, true] }];
var co = [{ [cw]: y, [cx]: [bb, false] }];
var cp = [{ [cw]: y, [cx]: [aV, false] }];
var cq = [X];
var cr = [{ [cw]: y, [cx]: [{ [cy]: "Region" }, true] }];
var _data = { version: "1.0", parameters: { Bucket: T, Region: T, UseFIPS: U, UseDualStack: U, Endpoint: T, ForcePathStyle: U, Accelerate: U, UseGlobalEndpoint: U, UseObjectLambdaEndpoint: V, Key: T, Prefix: T, CopySource: T, DisableAccessPoints: V, DisableMultiRegionAccessPoints: U, UseArnRegion: V, UseS3ExpressControlEndpoint: V, DisableS3ExpressSessionAuth: V }, [cu]: [{ [cv]: [{ [cw]: d, [cx]: by }], [cu]: [{ [cv]: [W, X], error: "Accelerate cannot be used with FIPS", [ct]: f }, { [cv]: [Y, Z], error: "Cannot set dual-stack in combination with a custom endpoint.", [ct]: f }, { [cv]: [Z, X], error: "A custom endpoint cannot be combined with FIPS", [ct]: f }, { [cv]: [Z, W], error: "A custom endpoint cannot be combined with S3 Accelerate", [ct]: f }, { [cv]: [X, aa, ab], error: "Partition does not support FIPS", [ct]: f }, { [cv]: [ac, { [cw]: k, [cx]: [ad, 0, a, c], [cz]: l }, { [cw]: h, [cx]: [{ [cy]: l }, "--x-s3"] }], [cu]: [ae, af, { [cv]: [ao, ap], [cu]: [{ [cv]: bG, [cu]: [{ [cv]: [aj, aq], [cu]: [{ [cv]: bH, endpoint: { [cA]: "https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: ak, [cH]: al }, [ct]: n }, { [cv]: bI, endpoint: { [cA]: "https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: ak, [cH]: al }, [ct]: n }, { [cv]: bJ, endpoint: { [cA]: "https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: ak, [cH]: al }, [ct]: n }, { [cv]: bK, endpoint: { [cA]: "https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: ak, [cH]: al }, [ct]: n }], [ct]: o }], [ct]: o }], [ct]: o }, { [cv]: bF, [cu]: [{ [cv]: bG, [cu]: [{ [cv]: bD, [cu]: [{ [cv]: bL, [cu]: bM, [ct]: o }, { [cv]: bN, [cu]: bM, [ct]: o }, { [cv]: bO, [cu]: bM, [ct]: o }, { [cv]: bP, [cu]: bM, [ct]: o }, { [cv]: bQ, [cu]: bM, [ct]: o }, at], [ct]: o }, { [cv]: bL, [cu]: bR, [ct]: o }, { [cv]: bN, [cu]: bR, [ct]: o }, { [cv]: bO, [cu]: bR, [ct]: o }, { [cv]: bP, [cu]: bR, [ct]: o }, { [cv]: bQ, [cu]: bR, [ct]: o }, at], [ct]: o }], [ct]: o }, an], [ct]: o }, { [cv]: [ac, { [cw]: k, [cx]: bS, [cz]: s }, { [cw]: h, [cx]: [{ [cy]: s }, "--xa-s3"] }], [cu]: [ae, af, { [cv]: bF, [cu]: [{ [cv]: bG, [cu]: [{ [cv]: bD, [cu]: [{ [cv]: bT, [cu]: bM, [ct]: o }, { [cv]: bU, [cu]: bM, [ct]: o }, { [cv]: bV, [cu]: bM, [ct]: o }, { [cv]: bW, [cu]: bM, [ct]: o }, { [cv]: bX, [cu]: bM, [ct]: o }, at], [ct]: o }, { [cv]: bT, [cu]: bR, [ct]: o }, { [cv]: bU, [cu]: bR, [ct]: o }, { [cv]: bV, [cu]: bR, [ct]: o }, { [cv]: bW, [cu]: bR, [ct]: o }, { [cv]: bX, [cu]: bR, [ct]: o }, at], [ct]: o }], [ct]: o }, an], [ct]: o }, { [cv]: [au, ao, ap], [cu]: [{ [cv]: bG, [cu]: [{ [cv]: bC, endpoint: { [cA]: t, [cB]: ak, [cH]: al }, [ct]: n }, { [cv]: bH, endpoint: { [cA]: "https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: al }, [ct]: n }, { [cv]: bI, endpoint: { [cA]: "https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: al }, [ct]: n }, { [cv]: bJ, endpoint: { [cA]: "https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: al }, [ct]: n }, { [cv]: bK, endpoint: { [cA]: "https://s3express-control.{Region}.{partitionResult#dnsSuffix}", [cB]: ak, [cH]: al }, [ct]: n }], [ct]: o }], [ct]: o }, { [cv]: [ac, { [cw]: k, [cx]: [ad, 49, 50, c], [cz]: u }, { [cw]: k, [cx]: [ad, 8, 12, c], [cz]: v }, { [cw]: k, [cx]: bS, [cz]: w }, { [cw]: k, [cx]: [ad, 32, 49, c], [cz]: x }, { [cw]: g, [cx]: by, [cz]: "regionPartition" }, { [cw]: h, [cx]: [{ [cy]: w }, "--op-s3"] }], [cu]: [{ [cv]: bZ, [cu]: [{ [cv]: [{ [cw]: h, [cx]: [av, "e"] }], [cu]: [{ [cv]: ca, [cu]: [aw, { [cv]: bC, endpoint: { [cA]: "https://{Bucket}.ec2.{url#authority}", [cB]: ax, [cH]: al }, [ct]: n }], [ct]: o }, { endpoint: { [cA]: "https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}", [cB]: ax, [cH]: al }, [ct]: n }], [ct]: o }, { [cv]: [{ [cw]: h, [cx]: [av, "o"] }], [cu]: [{ [cv]: ca, [cu]: [aw, { [cv]: bC, endpoint: { [cA]: "https://{Bucket}.op-{outpostId}.{url#authority}", [cB]: ax, [cH]: al }, [ct]: n }], [ct]: o }, { endpoint: { [cA]: "https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}", [cB]: ax, [cH]: al }, [ct]: n }], [ct]: o }, { error: 'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"', [ct]: f }], [ct]: o }, { error: "Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.", [ct]: f }], [ct]: o }, { [cv]: bY, [cu]: [{ [cv]: [Z, { [cw]: r, [cx]: [{ [cw]: d, [cx]: [{ [cw]: m, [cx]: bz }] }] }], error: "Custom endpoint `{Endpoint}` was not a valid URI", [ct]: f }, { [cv]: [ay, am], [cu]: [{ [cv]: bG, [cu]: [{ [cv]: cc, [cu]: [{ [cv]: [W, ab], error: "S3 Accelerate cannot be used in this region", [ct]: f }, { [cv]: [Y, X, aA, aq, aB], endpoint: { [cA]: "https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [Y, X, aA, aq, aD, aE], [cu]: [{ endpoint: aF, [ct]: n }], [ct]: o }, { [cv]: [Y, X, aA, aq, aD, aH], endpoint: aF, [ct]: n }, { [cv]: [ar, X, aA, aq, aB], endpoint: { [cA]: "https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, X, aA, aq, aD, aE], [cu]: [{ endpoint: aI, [ct]: n }], [ct]: o }, { [cv]: [ar, X, aA, aq, aD, aH], endpoint: aI, [ct]: n }, { [cv]: [Y, as, W, aq, aB], endpoint: { [cA]: "https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [Y, as, W, aq, aD, aE], [cu]: [{ endpoint: aJ, [ct]: n }], [ct]: o }, { [cv]: [Y, as, W, aq, aD, aH], endpoint: aJ, [ct]: n }, { [cv]: [Y, as, aA, aq, aB], endpoint: { [cA]: "https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [Y, as, aA, aq, aD, aE], [cu]: [{ endpoint: aK, [ct]: n }], [ct]: o }, { [cv]: [Y, as, aA, aq, aD, aH], endpoint: aK, [ct]: n }, { [cv]: [ar, as, aA, Z, ag, ah, aB], endpoint: { [cA]: C, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, as, aA, Z, ag, aL, aB], endpoint: { [cA]: q, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, as, aA, Z, ag, ah, aD, aE], [cu]: [{ [cv]: cd, endpoint: aM, [ct]: n }, { endpoint: aM, [ct]: n }], [ct]: o }, { [cv]: [ar, as, aA, Z, ag, aL, aD, aE], [cu]: [{ [cv]: cd, endpoint: aN, [ct]: n }, aO], [ct]: o }, { [cv]: [ar, as, aA, Z, ag, ah, aD, aH], endpoint: aM, [ct]: n }, { [cv]: [ar, as, aA, Z, ag, aL, aD, aH], endpoint: aN, [ct]: n }, { [cv]: [ar, as, W, aq, aB], endpoint: { [cA]: D, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, as, W, aq, aD, aE], [cu]: [{ [cv]: cd, endpoint: aP, [ct]: n }, { endpoint: aP, [ct]: n }], [ct]: o }, { [cv]: [ar, as, W, aq, aD, aH], endpoint: aP, [ct]: n }, { [cv]: [ar, as, aA, aq, aB], endpoint: { [cA]: E, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, as, aA, aq, aD, aE], [cu]: [{ [cv]: cd, endpoint: { [cA]: E, [cB]: aG, [cH]: al }, [ct]: n }, { endpoint: aQ, [ct]: n }], [ct]: o }, { [cv]: [ar, as, aA, aq, aD, aH], endpoint: aQ, [ct]: n }], [ct]: o }, aR], [ct]: o }], [ct]: o }, { [cv]: [Z, ag, { [cw]: h, [cx]: [{ [cw]: i, [cx]: [ai, "scheme"] }, "http"] }, { [cw]: p, [cx]: [ad, c] }, ay, as, ar, aA], [cu]: [{ [cv]: bG, [cu]: [{ [cv]: cc, [cu]: [aO], [ct]: o }, aR], [ct]: o }], [ct]: o }, { [cv]: [ay, { [cw]: F, [cx]: bA, [cz]: G }], [cu]: [{ [cv]: [{ [cw]: i, [cx]: [aS, "resourceId[0]"], [cz]: H }, { [cw]: r, [cx]: [{ [cw]: h, [cx]: [aT, I] }] }], [cu]: [{ [cv]: [{ [cw]: h, [cx]: [aU, J] }], [cu]: [{ [cv]: ce, [cu]: [{ [cv]: cf, [cu]: [aW, aX, { [cv]: ci, [cu]: [aY, { [cv]: cj, [cu]: [aZ, { [cv]: cl, [cu]: [{ [cv]: bG, [cu]: [{ [cv]: cm, [cu]: [{ [cv]: cn, [cu]: [{ [cv]: [{ [cw]: h, [cx]: [bb, I] }], error: "Invalid ARN: Missing account id", [ct]: f }, { [cv]: co, [cu]: [{ [cv]: cp, [cu]: [{ [cv]: bC, endpoint: { [cA]: M, [cB]: bc, [cH]: al }, [ct]: n }, { [cv]: cq, endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}", [cB]: bc, [cH]: al }, [ct]: n }, { endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}", [cB]: bc, [cH]: al }, [ct]: n }], [ct]: o }, bd], [ct]: o }, be], [ct]: o }, bf], [ct]: o }, bg], [ct]: o }], [ct]: o }], [ct]: o }, bh], [ct]: o }, { error: "Invalid ARN: bucket ARN is missing a region", [ct]: f }], [ct]: o }, bi], [ct]: o }, { error: "Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`", [ct]: f }], [ct]: o }, { [cv]: ce, [cu]: [{ [cv]: cf, [cu]: [{ [cv]: ci, [cu]: [{ [cv]: ce, [cu]: [{ [cv]: ci, [cu]: [aY, { [cv]: cj, [cu]: [aZ, { [cv]: cl, [cu]: [{ [cv]: bG, [cu]: [{ [cv]: [{ [cw]: h, [cx]: [ba, "{partitionResult#name}"] }], [cu]: [{ [cv]: cn, [cu]: [{ [cv]: [{ [cw]: h, [cx]: [aU, B] }], [cu]: [{ [cv]: co, [cu]: [{ [cv]: cp, [cu]: [{ [cv]: bB, error: "Access Points do not support S3 Accelerate", [ct]: f }, { [cv]: bH, endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}", [cB]: bj, [cH]: al }, [ct]: n }, { [cv]: bI, endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}", [cB]: bj, [cH]: al }, [ct]: n }, { [cv]: bJ, endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}", [cB]: bj, [cH]: al }, [ct]: n }, { [cv]: [as, ar, Z, ag], endpoint: { [cA]: M, [cB]: bj, [cH]: al }, [ct]: n }, { [cv]: bK, endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}", [cB]: bj, [cH]: al }, [ct]: n }], [ct]: o }, bd], [ct]: o }, be], [ct]: o }, { error: "Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}", [ct]: f }], [ct]: o }, bf], [ct]: o }, bg], [ct]: o }], [ct]: o }], [ct]: o }, bh], [ct]: o }], [ct]: o }], [ct]: o }, { [cv]: [{ [cw]: y, [cx]: [aV, c] }], [cu]: [{ [cv]: ch, error: "S3 MRAP does not support dual-stack", [ct]: f }, { [cv]: cq, error: "S3 MRAP does not support FIPS", [ct]: f }, { [cv]: bB, error: "S3 MRAP does not support S3 Accelerate", [ct]: f }, { [cv]: [{ [cw]: e, [cx]: [{ [cy]: "DisableMultiRegionAccessPoints" }, c] }], error: "Invalid configuration: Multi-Region Access Point ARNs are disabled.", [ct]: f }, { [cv]: [{ [cw]: g, [cx]: by, [cz]: N }], [cu]: [{ [cv]: [{ [cw]: h, [cx]: [{ [cw]: i, [cx]: [{ [cy]: N }, j] }, { [cw]: i, [cx]: [aS, "partition"] }] }], [cu]: [{ endpoint: { [cA]: "https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}", [cB]: { [cD]: [{ [cE]: c, name: z, [cF]: B, [cI]: cb }] }, [cH]: al }, [ct]: n }], [ct]: o }, { error: "Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`", [ct]: f }], [ct]: o }], [ct]: o }, { error: "Invalid Access Point Name", [ct]: f }], [ct]: o }, bi], [ct]: o }, { [cv]: [{ [cw]: h, [cx]: [aU, A] }], [cu]: [{ [cv]: ch, error: "S3 Outposts does not support Dual-stack", [ct]: f }, { [cv]: cq, error: "S3 Outposts does not support FIPS", [ct]: f }, { [cv]: bB, error: "S3 Outposts does not support S3 Accelerate", [ct]: f }, { [cv]: [{ [cw]: d, [cx]: [{ [cw]: i, [cx]: [aS, "resourceId[4]"] }] }], error: "Invalid Arn: Outpost Access Point ARN contains sub resources", [ct]: f }, { [cv]: [{ [cw]: i, [cx]: cg, [cz]: x }], [cu]: [{ [cv]: bZ, [cu]: [aZ, { [cv]: cl, [cu]: [{ [cv]: bG, [cu]: [{ [cv]: cm, [cu]: [{ [cv]: cn, [cu]: [{ [cv]: co, [cu]: [{ [cv]: [{ [cw]: i, [cx]: ck, [cz]: O }], [cu]: [{ [cv]: [{ [cw]: i, [cx]: [aS, "resourceId[3]"], [cz]: L }], [cu]: [{ [cv]: [{ [cw]: h, [cx]: [{ [cy]: O }, K] }], [cu]: [{ [cv]: bC, endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}", [cB]: bk, [cH]: al }, [ct]: n }, { endpoint: { [cA]: "https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}", [cB]: bk, [cH]: al }, [ct]: n }], [ct]: o }, { error: "Expected an outpost type `accesspoint`, found {outpostType}", [ct]: f }], [ct]: o }, { error: "Invalid ARN: expected an access point name", [ct]: f }], [ct]: o }, { error: "Invalid ARN: Expected a 4-component resource", [ct]: f }], [ct]: o }, be], [ct]: o }, bf], [ct]: o }, bg], [ct]: o }], [ct]: o }], [ct]: o }, { error: "Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`", [ct]: f }], [ct]: o }, { error: "Invalid ARN: The Outpost Id was not set", [ct]: f }], [ct]: o }, { error: "Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})", [ct]: f }], [ct]: o }, { error: "Invalid ARN: No ARN type specified", [ct]: f }], [ct]: o }, { [cv]: [{ [cw]: k, [cx]: [ad, 0, 4, b], [cz]: P }, { [cw]: h, [cx]: [{ [cy]: P }, "arn:"] }, { [cw]: r, [cx]: [{ [cw]: d, [cx]: [bl] }] }], error: "Invalid ARN: `{Bucket}` was not a valid ARN", [ct]: f }, { [cv]: [{ [cw]: e, [cx]: [az, c] }, bl], error: "Path-style addressing cannot be used with ARN buckets", [ct]: f }, { [cv]: bE, [cu]: [{ [cv]: bG, [cu]: [{ [cv]: [aA], [cu]: [{ [cv]: [Y, aq, X, aB], endpoint: { [cA]: "https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [Y, aq, X, aD, aE], [cu]: [{ endpoint: bm, [ct]: n }], [ct]: o }, { [cv]: [Y, aq, X, aD, aH], endpoint: bm, [ct]: n }, { [cv]: [ar, aq, X, aB], endpoint: { [cA]: "https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, aq, X, aD, aE], [cu]: [{ endpoint: bn, [ct]: n }], [ct]: o }, { [cv]: [ar, aq, X, aD, aH], endpoint: bn, [ct]: n }, { [cv]: [Y, aq, as, aB], endpoint: { [cA]: "https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [Y, aq, as, aD, aE], [cu]: [{ endpoint: bo, [ct]: n }], [ct]: o }, { [cv]: [Y, aq, as, aD, aH], endpoint: bo, [ct]: n }, { [cv]: [ar, Z, ag, as, aB], endpoint: { [cA]: Q, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, Z, ag, as, aD, aE], [cu]: [{ [cv]: cd, endpoint: bp, [ct]: n }, { endpoint: bp, [ct]: n }], [ct]: o }, { [cv]: [ar, Z, ag, as, aD, aH], endpoint: bp, [ct]: n }, { [cv]: [ar, aq, as, aB], endpoint: { [cA]: R, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [ar, aq, as, aD, aE], [cu]: [{ [cv]: cd, endpoint: { [cA]: R, [cB]: aG, [cH]: al }, [ct]: n }, { endpoint: bq, [ct]: n }], [ct]: o }, { [cv]: [ar, aq, as, aD, aH], endpoint: bq, [ct]: n }], [ct]: o }, { error: "Path-style addressing cannot be used with S3 Accelerate", [ct]: f }], [ct]: o }], [ct]: o }], [ct]: o }, { [cv]: [{ [cw]: d, [cx]: [br] }, { [cw]: e, [cx]: [br, c] }], [cu]: [{ [cv]: bG, [cu]: [{ [cv]: cr, [cu]: [aW, aX, { [cv]: bC, endpoint: { [cA]: t, [cB]: bs, [cH]: al }, [ct]: n }, { [cv]: cq, endpoint: { [cA]: "https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}", [cB]: bs, [cH]: al }, [ct]: n }, { endpoint: { [cA]: "https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}", [cB]: bs, [cH]: al }, [ct]: n }], [ct]: o }, aR], [ct]: o }], [ct]: o }, { [cv]: [au], [cu]: [{ [cv]: bG, [cu]: [{ [cv]: cr, [cu]: [{ [cv]: [X, Y, aq, aB], endpoint: { [cA]: "https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [X, Y, aq, aD, aE], [cu]: [{ endpoint: bt, [ct]: n }], [ct]: o }, { [cv]: [X, Y, aq, aD, aH], endpoint: bt, [ct]: n }, { [cv]: [X, ar, aq, aB], endpoint: { [cA]: "https://s3-fips.us-east-1.{partitionResult#dnsSuffix}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [X, ar, aq, aD, aE], [cu]: [{ endpoint: bu, [ct]: n }], [ct]: o }, { [cv]: [X, ar, aq, aD, aH], endpoint: bu, [ct]: n }, { [cv]: [as, Y, aq, aB], endpoint: { [cA]: "https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}", [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [as, Y, aq, aD, aE], [cu]: [{ endpoint: bv, [ct]: n }], [ct]: o }, { [cv]: [as, Y, aq, aD, aH], endpoint: bv, [ct]: n }, { [cv]: [as, ar, Z, ag, aB], endpoint: { [cA]: t, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [as, ar, Z, ag, aD, aE], [cu]: [{ [cv]: cd, endpoint: bw, [ct]: n }, { endpoint: bw, [ct]: n }], [ct]: o }, { [cv]: [as, ar, Z, ag, aD, aH], endpoint: bw, [ct]: n }, { [cv]: [as, ar, aq, aB], endpoint: { [cA]: S, [cB]: aC, [cH]: al }, [ct]: n }, { [cv]: [as, ar, aq, aD, aE], [cu]: [{ [cv]: cd, endpoint: { [cA]: S, [cB]: aG, [cH]: al }, [ct]: n }, { endpoint: bx, [ct]: n }], [ct]: o }, { [cv]: [as, ar, aq, aD, aH], endpoint: bx, [ct]: n }], [ct]: o }, aR], [ct]: o }], [ct]: o }], [ct]: o }, { error: "A region must be set when sending requests to S3.", [ct]: f }] };
var ruleSet = _data;

// node_modules/@aws-sdk/client-s3/dist-es/endpoint/endpointResolver.js
var cache = new EndpointCache({
  size: 50,
  params: [
    "Accelerate",
    "Bucket",
    "DisableAccessPoints",
    "DisableMultiRegionAccessPoints",
    "DisableS3ExpressSessionAuth",
    "Endpoint",
    "ForcePathStyle",
    "Region",
    "UseArnRegion",
    "UseDualStack",
    "UseFIPS",
    "UseGlobalEndpoint",
    "UseObjectLambdaEndpoint",
    "UseS3ExpressControlEndpoint"
  ]
});
var defaultEndpointResolver = /* @__PURE__ */ __name((endpointParams, context = {}) => {
  return cache.get(endpointParams, () => resolveEndpoint(ruleSet, {
    endpointParams,
    logger: context.logger
  }));
}, "defaultEndpointResolver");
customEndpointFunctions.aws = awsEndpointFunctions;

// node_modules/@aws-sdk/client-s3/dist-es/auth/httpAuthSchemeProvider.js
var createEndpointRuleSetHttpAuthSchemeParametersProvider = /* @__PURE__ */ __name((defaultHttpAuthSchemeParametersProvider) => async (config, context, input) => {
  if (!input) {
    throw new Error(`Could not find \`input\` for \`defaultEndpointRuleSetHttpAuthSchemeParametersProvider\``);
  }
  const defaultParameters = await defaultHttpAuthSchemeParametersProvider(config, context, input);
  const instructionsFn = getSmithyContext(context)?.commandInstance?.constructor?.getEndpointParameterInstructions;
  if (!instructionsFn) {
    throw new Error(`getEndpointParameterInstructions() is not defined on \`${context.commandName}\``);
  }
  const endpointParameters = await resolveParams(input, { getEndpointParameterInstructions: instructionsFn }, config);
  return Object.assign(defaultParameters, endpointParameters);
}, "createEndpointRuleSetHttpAuthSchemeParametersProvider");
var _defaultS3HttpAuthSchemeParametersProvider = /* @__PURE__ */ __name(async (config, context, input) => {
  return {
    operation: getSmithyContext(context).operation,
    region: await normalizeProvider(config.region)() || (() => {
      throw new Error("expected `region` to be configured for `aws.auth#sigv4`");
    })()
  };
}, "_defaultS3HttpAuthSchemeParametersProvider");
var defaultS3HttpAuthSchemeParametersProvider = createEndpointRuleSetHttpAuthSchemeParametersProvider(_defaultS3HttpAuthSchemeParametersProvider);
function createAwsAuthSigv4HttpAuthOption(authParameters) {
  return {
    schemeId: "aws.auth#sigv4",
    signingProperties: {
      name: "s3",
      region: authParameters.region
    },
    propertiesExtractor: (config, context) => ({
      signingProperties: {
        config,
        context
      }
    })
  };
}
__name(createAwsAuthSigv4HttpAuthOption, "createAwsAuthSigv4HttpAuthOption");
function createAwsAuthSigv4aHttpAuthOption(authParameters) {
  return {
    schemeId: "aws.auth#sigv4a",
    signingProperties: {
      name: "s3",
      region: authParameters.region
    },
    propertiesExtractor: (config, context) => ({
      signingProperties: {
        config,
        context
      }
    })
  };
}
__name(createAwsAuthSigv4aHttpAuthOption, "createAwsAuthSigv4aHttpAuthOption");
var createEndpointRuleSetHttpAuthSchemeProvider = /* @__PURE__ */ __name((defaultEndpointResolver2, defaultHttpAuthSchemeResolver, createHttpAuthOptionFunctions) => {
  const endpointRuleSetHttpAuthSchemeProvider = /* @__PURE__ */ __name((authParameters) => {
    const endpoint = defaultEndpointResolver2(authParameters);
    const authSchemes = endpoint.properties?.authSchemes;
    if (!authSchemes) {
      return defaultHttpAuthSchemeResolver(authParameters);
    }
    const options = [];
    for (const scheme of authSchemes) {
      const { name: resolvedName, properties = {}, ...rest } = scheme;
      const name = resolvedName.toLowerCase();
      if (resolvedName !== name) {
        console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${resolvedName}\` to \`${name}\``);
      }
      let schemeId;
      if (name === "sigv4a") {
        schemeId = "aws.auth#sigv4a";
        const sigv4Present = authSchemes.find((s2) => {
          const name2 = s2.name.toLowerCase();
          return name2 !== "sigv4a" && name2.startsWith("sigv4");
        });
        if (SignatureV4MultiRegion.sigv4aDependency() === "none" && sigv4Present) {
          continue;
        }
      } else if (name.startsWith("sigv4")) {
        schemeId = "aws.auth#sigv4";
      } else {
        throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${name}\``);
      }
      const createOption = createHttpAuthOptionFunctions[schemeId];
      if (!createOption) {
        throw new Error(`Could not find HttpAuthOption create function for \`${schemeId}\``);
      }
      const option = createOption(authParameters);
      option.schemeId = schemeId;
      option.signingProperties = { ...option.signingProperties || {}, ...rest, ...properties };
      options.push(option);
    }
    return options;
  }, "endpointRuleSetHttpAuthSchemeProvider");
  return endpointRuleSetHttpAuthSchemeProvider;
}, "createEndpointRuleSetHttpAuthSchemeProvider");
var _defaultS3HttpAuthSchemeProvider = /* @__PURE__ */ __name((authParameters) => {
  const options = [];
  switch (authParameters.operation) {
    default: {
      options.push(createAwsAuthSigv4HttpAuthOption(authParameters));
      options.push(createAwsAuthSigv4aHttpAuthOption(authParameters));
    }
  }
  return options;
}, "_defaultS3HttpAuthSchemeProvider");
var defaultS3HttpAuthSchemeProvider = createEndpointRuleSetHttpAuthSchemeProvider(defaultEndpointResolver, _defaultS3HttpAuthSchemeProvider, {
  "aws.auth#sigv4": createAwsAuthSigv4HttpAuthOption,
  "aws.auth#sigv4a": createAwsAuthSigv4aHttpAuthOption
});
var resolveHttpAuthSchemeConfig = /* @__PURE__ */ __name((config) => {
  const config_0 = resolveAwsSdkSigV4Config(config);
  const config_1 = resolveAwsSdkSigV4AConfig(config_0);
  return Object.assign(config_1, {
    authSchemePreference: normalizeProvider(config.authSchemePreference ?? [])
  });
}, "resolveHttpAuthSchemeConfig");

// node_modules/@aws-sdk/client-s3/dist-es/commands/CreateSessionCommand.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/client-s3/dist-es/endpoint/EndpointParameters.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var resolveClientEndpointParameters = /* @__PURE__ */ __name((options) => {
  return Object.assign(options, {
    useFipsEndpoint: options.useFipsEndpoint ?? false,
    useDualstackEndpoint: options.useDualstackEndpoint ?? false,
    forcePathStyle: options.forcePathStyle ?? false,
    useAccelerateEndpoint: options.useAccelerateEndpoint ?? false,
    useGlobalEndpoint: options.useGlobalEndpoint ?? false,
    disableMultiregionAccessPoints: options.disableMultiregionAccessPoints ?? false,
    defaultSigningName: "s3",
    clientContextParams: options.clientContextParams ?? {}
  });
}, "resolveClientEndpointParameters");
var commonParams = {
  ForcePathStyle: { type: "clientContextParams", name: "forcePathStyle" },
  UseArnRegion: { type: "clientContextParams", name: "useArnRegion" },
  DisableMultiRegionAccessPoints: { type: "clientContextParams", name: "disableMultiregionAccessPoints" },
  Accelerate: { type: "clientContextParams", name: "useAccelerateEndpoint" },
  DisableS3ExpressSessionAuth: { type: "clientContextParams", name: "disableS3ExpressSessionAuth" },
  UseGlobalEndpoint: { type: "builtInParams", name: "useGlobalEndpoint" },
  UseFIPS: { type: "builtInParams", name: "useFipsEndpoint" },
  Endpoint: { type: "builtInParams", name: "endpoint" },
  Region: { type: "builtInParams", name: "region" },
  UseDualStack: { type: "builtInParams", name: "useDualstackEndpoint" }
};

// node_modules/@aws-sdk/client-s3/dist-es/schemas/schemas_0.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/client-s3/dist-es/models/errors.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/client-s3/dist-es/models/S3ServiceException.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var S3ServiceException = class extends ServiceException {
  constructor(options) {
    super(options);
    Object.setPrototypeOf(this, S3ServiceException.prototype);
  }
};
__name(S3ServiceException, "S3ServiceException");

// node_modules/@aws-sdk/client-s3/dist-es/models/errors.js
var NoSuchUpload = class extends S3ServiceException {
  name = "NoSuchUpload";
  $fault = "client";
  constructor(opts) {
    super({
      name: "NoSuchUpload",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, NoSuchUpload.prototype);
  }
};
__name(NoSuchUpload, "NoSuchUpload");
var ObjectNotInActiveTierError = class extends S3ServiceException {
  name = "ObjectNotInActiveTierError";
  $fault = "client";
  constructor(opts) {
    super({
      name: "ObjectNotInActiveTierError",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, ObjectNotInActiveTierError.prototype);
  }
};
__name(ObjectNotInActiveTierError, "ObjectNotInActiveTierError");
var BucketAlreadyExists = class extends S3ServiceException {
  name = "BucketAlreadyExists";
  $fault = "client";
  constructor(opts) {
    super({
      name: "BucketAlreadyExists",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, BucketAlreadyExists.prototype);
  }
};
__name(BucketAlreadyExists, "BucketAlreadyExists");
var BucketAlreadyOwnedByYou = class extends S3ServiceException {
  name = "BucketAlreadyOwnedByYou";
  $fault = "client";
  constructor(opts) {
    super({
      name: "BucketAlreadyOwnedByYou",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, BucketAlreadyOwnedByYou.prototype);
  }
};
__name(BucketAlreadyOwnedByYou, "BucketAlreadyOwnedByYou");
var NoSuchBucket = class extends S3ServiceException {
  name = "NoSuchBucket";
  $fault = "client";
  constructor(opts) {
    super({
      name: "NoSuchBucket",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, NoSuchBucket.prototype);
  }
};
__name(NoSuchBucket, "NoSuchBucket");
var InvalidObjectState = class extends S3ServiceException {
  name = "InvalidObjectState";
  $fault = "client";
  StorageClass;
  AccessTier;
  constructor(opts) {
    super({
      name: "InvalidObjectState",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, InvalidObjectState.prototype);
    this.StorageClass = opts.StorageClass;
    this.AccessTier = opts.AccessTier;
  }
};
__name(InvalidObjectState, "InvalidObjectState");
var NoSuchKey = class extends S3ServiceException {
  name = "NoSuchKey";
  $fault = "client";
  constructor(opts) {
    super({
      name: "NoSuchKey",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, NoSuchKey.prototype);
  }
};
__name(NoSuchKey, "NoSuchKey");
var NotFound = class extends S3ServiceException {
  name = "NotFound";
  $fault = "client";
  constructor(opts) {
    super({
      name: "NotFound",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, NotFound.prototype);
  }
};
__name(NotFound, "NotFound");
var EncryptionTypeMismatch = class extends S3ServiceException {
  name = "EncryptionTypeMismatch";
  $fault = "client";
  constructor(opts) {
    super({
      name: "EncryptionTypeMismatch",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, EncryptionTypeMismatch.prototype);
  }
};
__name(EncryptionTypeMismatch, "EncryptionTypeMismatch");
var InvalidRequest = class extends S3ServiceException {
  name = "InvalidRequest";
  $fault = "client";
  constructor(opts) {
    super({
      name: "InvalidRequest",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, InvalidRequest.prototype);
  }
};
__name(InvalidRequest, "InvalidRequest");
var InvalidWriteOffset = class extends S3ServiceException {
  name = "InvalidWriteOffset";
  $fault = "client";
  constructor(opts) {
    super({
      name: "InvalidWriteOffset",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, InvalidWriteOffset.prototype);
  }
};
__name(InvalidWriteOffset, "InvalidWriteOffset");
var TooManyParts = class extends S3ServiceException {
  name = "TooManyParts";
  $fault = "client";
  constructor(opts) {
    super({
      name: "TooManyParts",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, TooManyParts.prototype);
  }
};
__name(TooManyParts, "TooManyParts");
var IdempotencyParameterMismatch = class extends S3ServiceException {
  name = "IdempotencyParameterMismatch";
  $fault = "client";
  constructor(opts) {
    super({
      name: "IdempotencyParameterMismatch",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, IdempotencyParameterMismatch.prototype);
  }
};
__name(IdempotencyParameterMismatch, "IdempotencyParameterMismatch");
var ObjectAlreadyInActiveTierError = class extends S3ServiceException {
  name = "ObjectAlreadyInActiveTierError";
  $fault = "client";
  constructor(opts) {
    super({
      name: "ObjectAlreadyInActiveTierError",
      $fault: "client",
      ...opts
    });
    Object.setPrototypeOf(this, ObjectAlreadyInActiveTierError.prototype);
  }
};
__name(ObjectAlreadyInActiveTierError, "ObjectAlreadyInActiveTierError");

// node_modules/@aws-sdk/client-s3/dist-es/schemas/schemas_0.js
var _A = "Account";
var _AAO = "AnalyticsAndOperator";
var _AC = "AccelerateConfiguration";
var _ACL = "AccessControlList";
var _ACL_ = "ACL";
var _ACLn = "AnalyticsConfigurationList";
var _ACP = "AccessControlPolicy";
var _ACT = "AccessControlTranslation";
var _ACn = "AnalyticsConfiguration";
var _AD = "AbortDate";
var _AED = "AnalyticsExportDestination";
var _AF = "AnalyticsFilter";
var _AH = "AllowedHeaders";
var _AHl = "AllowedHeader";
var _AI = "AccountId";
var _AIMU = "AbortIncompleteMultipartUpload";
var _AKI = "AccessKeyId";
var _AM = "AllowedMethods";
var _AMU = "AbortMultipartUpload";
var _AMUO = "AbortMultipartUploadOutput";
var _AMUR = "AbortMultipartUploadRequest";
var _AMl = "AllowedMethod";
var _AO = "AllowedOrigins";
var _AOl = "AllowedOrigin";
var _APA = "AccessPointAlias";
var _APAc = "AccessPointArn";
var _AQRD = "AllowQuotedRecordDelimiter";
var _AR = "AcceptRanges";
var _ARI = "AbortRuleId";
var _AS = "AbacStatus";
var _ASBD = "AnalyticsS3BucketDestination";
var _ASSEBD = "ApplyServerSideEncryptionByDefault";
var _ASr = "ArchiveStatus";
var _AT = "AccessTier";
var _An = "And";
var _B = "Bucket";
var _BA = "BucketArn";
var _BAE = "BucketAlreadyExists";
var _BAI = "BucketAccountId";
var _BAOBY = "BucketAlreadyOwnedByYou";
var _BET = "BlockedEncryptionTypes";
var _BGR = "BypassGovernanceRetention";
var _BI = "BucketInfo";
var _BKE = "BucketKeyEnabled";
var _BLC = "BucketLifecycleConfiguration";
var _BLN = "BucketLocationName";
var _BLS = "BucketLoggingStatus";
var _BLT = "BucketLocationType";
var _BN = "BucketName";
var _BP = "BytesProcessed";
var _BPA = "BlockPublicAcls";
var _BPP = "BlockPublicPolicy";
var _BR = "BucketRegion";
var _BRy = "BytesReturned";
var _BS = "BytesScanned";
var _Bo = "Body";
var _Bu = "Buckets";
var _C = "Checksum";
var _CA = "ChecksumAlgorithm";
var _CACL = "CannedACL";
var _CB = "CreateBucket";
var _CBC = "CreateBucketConfiguration";
var _CBMC = "CreateBucketMetadataConfiguration";
var _CBMCR = "CreateBucketMetadataConfigurationRequest";
var _CBMTC = "CreateBucketMetadataTableConfiguration";
var _CBMTCR = "CreateBucketMetadataTableConfigurationRequest";
var _CBO = "CreateBucketOutput";
var _CBR = "CreateBucketRequest";
var _CC = "CacheControl";
var _CCRC = "ChecksumCRC32";
var _CCRCC = "ChecksumCRC32C";
var _CCRCNVME = "ChecksumCRC64NVME";
var _CC_ = "Cache-Control";
var _CD = "CreationDate";
var _CD_ = "Content-Disposition";
var _CDo = "ContentDisposition";
var _CE = "ContinuationEvent";
var _CE_ = "Content-Encoding";
var _CEo = "ContentEncoding";
var _CF = "CloudFunction";
var _CFC = "CloudFunctionConfiguration";
var _CL = "ContentLanguage";
var _CL_ = "Content-Language";
var _CL__ = "Content-Length";
var _CLo = "ContentLength";
var _CM = "Content-MD5";
var _CMD = "ContentMD5";
var _CMU = "CompletedMultipartUpload";
var _CMUO = "CompleteMultipartUploadOutput";
var _CMUOr = "CreateMultipartUploadOutput";
var _CMUR = "CompleteMultipartUploadResult";
var _CMURo = "CompleteMultipartUploadRequest";
var _CMURr = "CreateMultipartUploadRequest";
var _CMUo = "CompleteMultipartUpload";
var _CMUr = "CreateMultipartUpload";
var _CMh = "ChecksumMode";
var _CO = "CopyObject";
var _COO = "CopyObjectOutput";
var _COR = "CopyObjectResult";
var _CORSC = "CORSConfiguration";
var _CORSR = "CORSRules";
var _CORSRu = "CORSRule";
var _CORo = "CopyObjectRequest";
var _CP = "CommonPrefix";
var _CPL = "CommonPrefixList";
var _CPLo = "CompletedPartList";
var _CPR = "CopyPartResult";
var _CPo = "CompletedPart";
var _CPom = "CommonPrefixes";
var _CR = "ContentRange";
var _CRSBA = "ConfirmRemoveSelfBucketAccess";
var _CR_ = "Content-Range";
var _CS = "CopySource";
var _CSHA = "ChecksumSHA1";
var _CSHAh = "ChecksumSHA256";
var _CSIM = "CopySourceIfMatch";
var _CSIMS = "CopySourceIfModifiedSince";
var _CSINM = "CopySourceIfNoneMatch";
var _CSIUS = "CopySourceIfUnmodifiedSince";
var _CSO = "CreateSessionOutput";
var _CSR = "CreateSessionResult";
var _CSRo = "CopySourceRange";
var _CSRr = "CreateSessionRequest";
var _CSSSECA = "CopySourceSSECustomerAlgorithm";
var _CSSSECK = "CopySourceSSECustomerKey";
var _CSSSECKMD = "CopySourceSSECustomerKeyMD5";
var _CSV = "CSV";
var _CSVI = "CopySourceVersionId";
var _CSVIn = "CSVInput";
var _CSVO = "CSVOutput";
var _CSo = "ConfigurationState";
var _CSr = "CreateSession";
var _CT = "ChecksumType";
var _CT_ = "Content-Type";
var _CTl = "ClientToken";
var _CTo = "ContentType";
var _CTom = "CompressionType";
var _CTon = "ContinuationToken";
var _Co = "Condition";
var _Cod = "Code";
var _Com = "Comments";
var _Con = "Contents";
var _Cont = "Cont";
var _Cr = "Credentials";
var _D = "Days";
var _DAI = "DaysAfterInitiation";
var _DB = "DeleteBucket";
var _DBAC = "DeleteBucketAnalyticsConfiguration";
var _DBACR = "DeleteBucketAnalyticsConfigurationRequest";
var _DBC = "DeleteBucketCors";
var _DBCR = "DeleteBucketCorsRequest";
var _DBE = "DeleteBucketEncryption";
var _DBER = "DeleteBucketEncryptionRequest";
var _DBIC = "DeleteBucketInventoryConfiguration";
var _DBICR = "DeleteBucketInventoryConfigurationRequest";
var _DBITC = "DeleteBucketIntelligentTieringConfiguration";
var _DBITCR = "DeleteBucketIntelligentTieringConfigurationRequest";
var _DBL = "DeleteBucketLifecycle";
var _DBLR = "DeleteBucketLifecycleRequest";
var _DBMC = "DeleteBucketMetadataConfiguration";
var _DBMCR = "DeleteBucketMetadataConfigurationRequest";
var _DBMCRe = "DeleteBucketMetricsConfigurationRequest";
var _DBMCe = "DeleteBucketMetricsConfiguration";
var _DBMTC = "DeleteBucketMetadataTableConfiguration";
var _DBMTCR = "DeleteBucketMetadataTableConfigurationRequest";
var _DBOC = "DeleteBucketOwnershipControls";
var _DBOCR = "DeleteBucketOwnershipControlsRequest";
var _DBP = "DeleteBucketPolicy";
var _DBPR = "DeleteBucketPolicyRequest";
var _DBR = "DeleteBucketRequest";
var _DBRR = "DeleteBucketReplicationRequest";
var _DBRe = "DeleteBucketReplication";
var _DBT = "DeleteBucketTagging";
var _DBTR = "DeleteBucketTaggingRequest";
var _DBW = "DeleteBucketWebsite";
var _DBWR = "DeleteBucketWebsiteRequest";
var _DE = "DataExport";
var _DIM = "DestinationIfMatch";
var _DIMS = "DestinationIfModifiedSince";
var _DINM = "DestinationIfNoneMatch";
var _DIUS = "DestinationIfUnmodifiedSince";
var _DM = "DeleteMarker";
var _DME = "DeleteMarkerEntry";
var _DMR = "DeleteMarkerReplication";
var _DMVI = "DeleteMarkerVersionId";
var _DMe = "DeleteMarkers";
var _DN = "DisplayName";
var _DO = "DeletedObject";
var _DOO = "DeleteObjectOutput";
var _DOOe = "DeleteObjectsOutput";
var _DOR = "DeleteObjectRequest";
var _DORe = "DeleteObjectsRequest";
var _DOT = "DeleteObjectTagging";
var _DOTO = "DeleteObjectTaggingOutput";
var _DOTR = "DeleteObjectTaggingRequest";
var _DOe = "DeletedObjects";
var _DOel = "DeleteObject";
var _DOele = "DeleteObjects";
var _DPAB = "DeletePublicAccessBlock";
var _DPABR = "DeletePublicAccessBlockRequest";
var _DR = "DataRedundancy";
var _DRe = "DefaultRetention";
var _DRel = "DeleteResult";
var _DRes = "DestinationResult";
var _Da = "Date";
var _De = "Delete";
var _Del = "Deleted";
var _Deli = "Delimiter";
var _Des = "Destination";
var _Desc = "Description";
var _Det = "Details";
var _E = "Expiration";
var _EA = "EmailAddress";
var _EBC = "EventBridgeConfiguration";
var _EBO = "ExpectedBucketOwner";
var _EC = "EncryptionConfiguration";
var _ECr = "ErrorCode";
var _ED = "ErrorDetails";
var _EDr = "ErrorDocument";
var _EE = "EndEvent";
var _EH = "ExposeHeaders";
var _EHx = "ExposeHeader";
var _EM = "ErrorMessage";
var _EODM = "ExpiredObjectDeleteMarker";
var _EOR = "ExistingObjectReplication";
var _ES = "ExpiresString";
var _ESBO = "ExpectedSourceBucketOwner";
var _ET = "EncryptionType";
var _ETL = "EncryptionTypeList";
var _ETM = "EncryptionTypeMismatch";
var _ETa = "ETag";
var _ETn = "EncodingType";
var _ETv = "EventThreshold";
var _ETx = "ExpressionType";
var _En = "Encryption";
var _Ena = "Enabled";
var _End = "End";
var _Er = "Errors";
var _Err = "Error";
var _Ev = "Events";
var _Eve = "Event";
var _Ex = "Expires";
var _Exp = "Expression";
var _F = "Filter";
var _FD = "FieldDelimiter";
var _FHI = "FileHeaderInfo";
var _FO = "FetchOwner";
var _FR = "FilterRule";
var _FRL = "FilterRuleList";
var _FRi = "FilterRules";
var _Fi = "Field";
var _Fo = "Format";
var _Fr = "Frequency";
var _G = "Grants";
var _GBA = "GetBucketAbac";
var _GBAC = "GetBucketAccelerateConfiguration";
var _GBACO = "GetBucketAccelerateConfigurationOutput";
var _GBACOe = "GetBucketAnalyticsConfigurationOutput";
var _GBACR = "GetBucketAccelerateConfigurationRequest";
var _GBACRe = "GetBucketAnalyticsConfigurationRequest";
var _GBACe = "GetBucketAnalyticsConfiguration";
var _GBAO = "GetBucketAbacOutput";
var _GBAOe = "GetBucketAclOutput";
var _GBAR = "GetBucketAbacRequest";
var _GBARe = "GetBucketAclRequest";
var _GBAe = "GetBucketAcl";
var _GBC = "GetBucketCors";
var _GBCO = "GetBucketCorsOutput";
var _GBCR = "GetBucketCorsRequest";
var _GBE = "GetBucketEncryption";
var _GBEO = "GetBucketEncryptionOutput";
var _GBER = "GetBucketEncryptionRequest";
var _GBIC = "GetBucketInventoryConfiguration";
var _GBICO = "GetBucketInventoryConfigurationOutput";
var _GBICR = "GetBucketInventoryConfigurationRequest";
var _GBITC = "GetBucketIntelligentTieringConfiguration";
var _GBITCO = "GetBucketIntelligentTieringConfigurationOutput";
var _GBITCR = "GetBucketIntelligentTieringConfigurationRequest";
var _GBL = "GetBucketLocation";
var _GBLC = "GetBucketLifecycleConfiguration";
var _GBLCO = "GetBucketLifecycleConfigurationOutput";
var _GBLCR = "GetBucketLifecycleConfigurationRequest";
var _GBLO = "GetBucketLocationOutput";
var _GBLOe = "GetBucketLoggingOutput";
var _GBLR = "GetBucketLocationRequest";
var _GBLRe = "GetBucketLoggingRequest";
var _GBLe = "GetBucketLogging";
var _GBMC = "GetBucketMetadataConfiguration";
var _GBMCO = "GetBucketMetadataConfigurationOutput";
var _GBMCOe = "GetBucketMetricsConfigurationOutput";
var _GBMCR = "GetBucketMetadataConfigurationResult";
var _GBMCRe = "GetBucketMetadataConfigurationRequest";
var _GBMCRet = "GetBucketMetricsConfigurationRequest";
var _GBMCe = "GetBucketMetricsConfiguration";
var _GBMTC = "GetBucketMetadataTableConfiguration";
var _GBMTCO = "GetBucketMetadataTableConfigurationOutput";
var _GBMTCR = "GetBucketMetadataTableConfigurationResult";
var _GBMTCRe = "GetBucketMetadataTableConfigurationRequest";
var _GBNC = "GetBucketNotificationConfiguration";
var _GBNCR = "GetBucketNotificationConfigurationRequest";
var _GBOC = "GetBucketOwnershipControls";
var _GBOCO = "GetBucketOwnershipControlsOutput";
var _GBOCR = "GetBucketOwnershipControlsRequest";
var _GBP = "GetBucketPolicy";
var _GBPO = "GetBucketPolicyOutput";
var _GBPR = "GetBucketPolicyRequest";
var _GBPS = "GetBucketPolicyStatus";
var _GBPSO = "GetBucketPolicyStatusOutput";
var _GBPSR = "GetBucketPolicyStatusRequest";
var _GBR = "GetBucketReplication";
var _GBRO = "GetBucketReplicationOutput";
var _GBRP = "GetBucketRequestPayment";
var _GBRPO = "GetBucketRequestPaymentOutput";
var _GBRPR = "GetBucketRequestPaymentRequest";
var _GBRR = "GetBucketReplicationRequest";
var _GBT = "GetBucketTagging";
var _GBTO = "GetBucketTaggingOutput";
var _GBTR = "GetBucketTaggingRequest";
var _GBV = "GetBucketVersioning";
var _GBVO = "GetBucketVersioningOutput";
var _GBVR = "GetBucketVersioningRequest";
var _GBW = "GetBucketWebsite";
var _GBWO = "GetBucketWebsiteOutput";
var _GBWR = "GetBucketWebsiteRequest";
var _GFC = "GrantFullControl";
var _GJP = "GlacierJobParameters";
var _GO = "GetObject";
var _GOA = "GetObjectAcl";
var _GOAO = "GetObjectAclOutput";
var _GOAOe = "GetObjectAttributesOutput";
var _GOAP = "GetObjectAttributesParts";
var _GOAR = "GetObjectAclRequest";
var _GOARe = "GetObjectAttributesResponse";
var _GOARet = "GetObjectAttributesRequest";
var _GOAe = "GetObjectAttributes";
var _GOLC = "GetObjectLockConfiguration";
var _GOLCO = "GetObjectLockConfigurationOutput";
var _GOLCR = "GetObjectLockConfigurationRequest";
var _GOLH = "GetObjectLegalHold";
var _GOLHO = "GetObjectLegalHoldOutput";
var _GOLHR = "GetObjectLegalHoldRequest";
var _GOO = "GetObjectOutput";
var _GOR = "GetObjectRequest";
var _GORO = "GetObjectRetentionOutput";
var _GORR = "GetObjectRetentionRequest";
var _GORe = "GetObjectRetention";
var _GOT = "GetObjectTagging";
var _GOTO = "GetObjectTaggingOutput";
var _GOTOe = "GetObjectTorrentOutput";
var _GOTR = "GetObjectTaggingRequest";
var _GOTRe = "GetObjectTorrentRequest";
var _GOTe = "GetObjectTorrent";
var _GPAB = "GetPublicAccessBlock";
var _GPABO = "GetPublicAccessBlockOutput";
var _GPABR = "GetPublicAccessBlockRequest";
var _GR = "GrantRead";
var _GRACP = "GrantReadACP";
var _GW = "GrantWrite";
var _GWACP = "GrantWriteACP";
var _Gr = "Grant";
var _Gra = "Grantee";
var _HB = "HeadBucket";
var _HBO = "HeadBucketOutput";
var _HBR = "HeadBucketRequest";
var _HECRE = "HttpErrorCodeReturnedEquals";
var _HN = "HostName";
var _HO = "HeadObject";
var _HOO = "HeadObjectOutput";
var _HOR = "HeadObjectRequest";
var _HRC = "HttpRedirectCode";
var _I = "Id";
var _IC = "InventoryConfiguration";
var _ICL = "InventoryConfigurationList";
var _ID = "ID";
var _IDn = "IndexDocument";
var _IDnv = "InventoryDestination";
var _IE = "IsEnabled";
var _IEn = "InventoryEncryption";
var _IF = "InventoryFilter";
var _IL = "IsLatest";
var _IM = "IfMatch";
var _IMIT = "IfMatchInitiatedTime";
var _IMLMT = "IfMatchLastModifiedTime";
var _IMS = "IfMatchSize";
var _IMS_ = "If-Modified-Since";
var _IMSf = "IfModifiedSince";
var _IMUR = "InitiateMultipartUploadResult";
var _IM_ = "If-Match";
var _INM = "IfNoneMatch";
var _INM_ = "If-None-Match";
var _IOF = "InventoryOptionalFields";
var _IOS = "InvalidObjectState";
var _IOV = "IncludedObjectVersions";
var _IP = "IsPublic";
var _IPA = "IgnorePublicAcls";
var _IPM = "IdempotencyParameterMismatch";
var _IR = "InvalidRequest";
var _IRIP = "IsRestoreInProgress";
var _IS = "InputSerialization";
var _ISBD = "InventoryS3BucketDestination";
var _ISn = "InventorySchedule";
var _IT = "IsTruncated";
var _ITAO = "IntelligentTieringAndOperator";
var _ITC = "IntelligentTieringConfiguration";
var _ITCL = "IntelligentTieringConfigurationList";
var _ITCR = "InventoryTableConfigurationResult";
var _ITCU = "InventoryTableConfigurationUpdates";
var _ITCn = "InventoryTableConfiguration";
var _ITF = "IntelligentTieringFilter";
var _IUS = "IfUnmodifiedSince";
var _IUS_ = "If-Unmodified-Since";
var _IWO = "InvalidWriteOffset";
var _In = "Initiator";
var _Ini = "Initiated";
var _JSON = "JSON";
var _JSONI = "JSONInput";
var _JSONO = "JSONOutput";
var _JTC = "JournalTableConfiguration";
var _JTCR = "JournalTableConfigurationResult";
var _JTCU = "JournalTableConfigurationUpdates";
var _K = "Key";
var _KC = "KeyCount";
var _KI = "KeyId";
var _KKA = "KmsKeyArn";
var _KM = "KeyMarker";
var _KMSC = "KMSContext";
var _KMSKI = "KMSKeyId";
var _KMSMKID = "KMSMasterKeyID";
var _KPE = "KeyPrefixEquals";
var _L = "Location";
var _LAMBR = "ListAllMyBucketsResult";
var _LAMDBR = "ListAllMyDirectoryBucketsResult";
var _LB = "ListBuckets";
var _LBAC = "ListBucketAnalyticsConfigurations";
var _LBACO = "ListBucketAnalyticsConfigurationsOutput";
var _LBACR = "ListBucketAnalyticsConfigurationResult";
var _LBACRi = "ListBucketAnalyticsConfigurationsRequest";
var _LBIC = "ListBucketInventoryConfigurations";
var _LBICO = "ListBucketInventoryConfigurationsOutput";
var _LBICR = "ListBucketInventoryConfigurationsRequest";
var _LBITC = "ListBucketIntelligentTieringConfigurations";
var _LBITCO = "ListBucketIntelligentTieringConfigurationsOutput";
var _LBITCR = "ListBucketIntelligentTieringConfigurationsRequest";
var _LBMC = "ListBucketMetricsConfigurations";
var _LBMCO = "ListBucketMetricsConfigurationsOutput";
var _LBMCR = "ListBucketMetricsConfigurationsRequest";
var _LBO = "ListBucketsOutput";
var _LBR = "ListBucketsRequest";
var _LBRi = "ListBucketResult";
var _LC = "LocationConstraint";
var _LCi = "LifecycleConfiguration";
var _LDB = "ListDirectoryBuckets";
var _LDBO = "ListDirectoryBucketsOutput";
var _LDBR = "ListDirectoryBucketsRequest";
var _LE = "LoggingEnabled";
var _LEi = "LifecycleExpiration";
var _LFA = "LambdaFunctionArn";
var _LFC = "LambdaFunctionConfiguration";
var _LFCL = "LambdaFunctionConfigurationList";
var _LFCa = "LambdaFunctionConfigurations";
var _LH = "LegalHold";
var _LI = "LocationInfo";
var _LICR = "ListInventoryConfigurationsResult";
var _LM = "LastModified";
var _LMCR = "ListMetricsConfigurationsResult";
var _LMT = "LastModifiedTime";
var _LMU = "ListMultipartUploads";
var _LMUO = "ListMultipartUploadsOutput";
var _LMUR = "ListMultipartUploadsResult";
var _LMURi = "ListMultipartUploadsRequest";
var _LM_ = "Last-Modified";
var _LO = "ListObjects";
var _LOO = "ListObjectsOutput";
var _LOR = "ListObjectsRequest";
var _LOV = "ListObjectsV2";
var _LOVO = "ListObjectsV2Output";
var _LOVOi = "ListObjectVersionsOutput";
var _LOVR = "ListObjectsV2Request";
var _LOVRi = "ListObjectVersionsRequest";
var _LOVi = "ListObjectVersions";
var _LP = "ListParts";
var _LPO = "ListPartsOutput";
var _LPR = "ListPartsResult";
var _LPRi = "ListPartsRequest";
var _LR = "LifecycleRule";
var _LRAO = "LifecycleRuleAndOperator";
var _LRF = "LifecycleRuleFilter";
var _LRi = "LifecycleRules";
var _LVR = "ListVersionsResult";
var _M = "Metadata";
var _MAO = "MetricsAndOperator";
var _MAS = "MaxAgeSeconds";
var _MB = "MaxBuckets";
var _MC = "MetadataConfiguration";
var _MCL = "MetricsConfigurationList";
var _MCR = "MetadataConfigurationResult";
var _MCe = "MetricsConfiguration";
var _MD = "MetadataDirective";
var _MDB = "MaxDirectoryBuckets";
var _MDf = "MfaDelete";
var _ME = "MetadataEntry";
var _MF = "MetricsFilter";
var _MFA = "MFA";
var _MFAD = "MFADelete";
var _MK = "MaxKeys";
var _MM = "MissingMeta";
var _MOS = "MpuObjectSize";
var _MP = "MaxParts";
var _MTC = "MetadataTableConfiguration";
var _MTCR = "MetadataTableConfigurationResult";
var _MTEC = "MetadataTableEncryptionConfiguration";
var _MU = "MultipartUpload";
var _MUL = "MultipartUploadList";
var _MUa = "MaxUploads";
var _Ma = "Marker";
var _Me = "Metrics";
var _Mes = "Message";
var _Mi = "Minutes";
var _Mo = "Mode";
var _N = "Name";
var _NC = "NotificationConfiguration";
var _NCF = "NotificationConfigurationFilter";
var _NCT = "NextContinuationToken";
var _ND = "NoncurrentDays";
var _NF = "NotFound";
var _NKM = "NextKeyMarker";
var _NM = "NextMarker";
var _NNV = "NewerNoncurrentVersions";
var _NPNM = "NextPartNumberMarker";
var _NSB = "NoSuchBucket";
var _NSK = "NoSuchKey";
var _NSU = "NoSuchUpload";
var _NUIM = "NextUploadIdMarker";
var _NVE = "NoncurrentVersionExpiration";
var _NVIM = "NextVersionIdMarker";
var _NVT = "NoncurrentVersionTransitions";
var _NVTL = "NoncurrentVersionTransitionList";
var _NVTo = "NoncurrentVersionTransition";
var _O = "Owner";
var _OA = "ObjectAttributes";
var _OAIATE = "ObjectAlreadyInActiveTierError";
var _OC = "OwnershipControls";
var _OCR = "OwnershipControlsRule";
var _OCRw = "OwnershipControlsRules";
var _OF = "OptionalFields";
var _OI = "ObjectIdentifier";
var _OIL = "ObjectIdentifierList";
var _OL = "OutputLocation";
var _OLC = "ObjectLockConfiguration";
var _OLE = "ObjectLockEnabled";
var _OLEFB = "ObjectLockEnabledForBucket";
var _OLLH = "ObjectLockLegalHold";
var _OLLHS = "ObjectLockLegalHoldStatus";
var _OLM = "ObjectLockMode";
var _OLR = "ObjectLockRetention";
var _OLRUD = "ObjectLockRetainUntilDate";
var _OLRb = "ObjectLockRule";
var _OLb = "ObjectList";
var _ONIATE = "ObjectNotInActiveTierError";
var _OO = "ObjectOwnership";
var _OOA = "OptionalObjectAttributes";
var _OP = "ObjectParts";
var _OPb = "ObjectPart";
var _OS = "ObjectSize";
var _OSGT = "ObjectSizeGreaterThan";
var _OSLT = "ObjectSizeLessThan";
var _OSV = "OutputSchemaVersion";
var _OSu = "OutputSerialization";
var _OV = "ObjectVersion";
var _OVL = "ObjectVersionList";
var _Ob = "Objects";
var _Obj = "Object";
var _P = "Prefix";
var _PABC = "PublicAccessBlockConfiguration";
var _PBA = "PutBucketAbac";
var _PBAC = "PutBucketAccelerateConfiguration";
var _PBACR = "PutBucketAccelerateConfigurationRequest";
var _PBACRu = "PutBucketAnalyticsConfigurationRequest";
var _PBACu = "PutBucketAnalyticsConfiguration";
var _PBAR = "PutBucketAbacRequest";
var _PBARu = "PutBucketAclRequest";
var _PBAu = "PutBucketAcl";
var _PBC = "PutBucketCors";
var _PBCR = "PutBucketCorsRequest";
var _PBE = "PutBucketEncryption";
var _PBER = "PutBucketEncryptionRequest";
var _PBIC = "PutBucketInventoryConfiguration";
var _PBICR = "PutBucketInventoryConfigurationRequest";
var _PBITC = "PutBucketIntelligentTieringConfiguration";
var _PBITCR = "PutBucketIntelligentTieringConfigurationRequest";
var _PBL = "PutBucketLogging";
var _PBLC = "PutBucketLifecycleConfiguration";
var _PBLCO = "PutBucketLifecycleConfigurationOutput";
var _PBLCR = "PutBucketLifecycleConfigurationRequest";
var _PBLR = "PutBucketLoggingRequest";
var _PBMC = "PutBucketMetricsConfiguration";
var _PBMCR = "PutBucketMetricsConfigurationRequest";
var _PBNC = "PutBucketNotificationConfiguration";
var _PBNCR = "PutBucketNotificationConfigurationRequest";
var _PBOC = "PutBucketOwnershipControls";
var _PBOCR = "PutBucketOwnershipControlsRequest";
var _PBP = "PutBucketPolicy";
var _PBPR = "PutBucketPolicyRequest";
var _PBR = "PutBucketReplication";
var _PBRP = "PutBucketRequestPayment";
var _PBRPR = "PutBucketRequestPaymentRequest";
var _PBRR = "PutBucketReplicationRequest";
var _PBT = "PutBucketTagging";
var _PBTR = "PutBucketTaggingRequest";
var _PBV = "PutBucketVersioning";
var _PBVR = "PutBucketVersioningRequest";
var _PBW = "PutBucketWebsite";
var _PBWR = "PutBucketWebsiteRequest";
var _PC = "PartsCount";
var _PDS = "PartitionDateSource";
var _PE = "ProgressEvent";
var _PI = "ParquetInput";
var _PL = "PartsList";
var _PN = "PartNumber";
var _PNM = "PartNumberMarker";
var _PO = "PutObject";
var _POA = "PutObjectAcl";
var _POAO = "PutObjectAclOutput";
var _POAR = "PutObjectAclRequest";
var _POLC = "PutObjectLockConfiguration";
var _POLCO = "PutObjectLockConfigurationOutput";
var _POLCR = "PutObjectLockConfigurationRequest";
var _POLH = "PutObjectLegalHold";
var _POLHO = "PutObjectLegalHoldOutput";
var _POLHR = "PutObjectLegalHoldRequest";
var _POO = "PutObjectOutput";
var _POR = "PutObjectRequest";
var _PORO = "PutObjectRetentionOutput";
var _PORR = "PutObjectRetentionRequest";
var _PORu = "PutObjectRetention";
var _POT = "PutObjectTagging";
var _POTO = "PutObjectTaggingOutput";
var _POTR = "PutObjectTaggingRequest";
var _PP = "PartitionedPrefix";
var _PPAB = "PutPublicAccessBlock";
var _PPABR = "PutPublicAccessBlockRequest";
var _PS = "PolicyStatus";
var _Pa = "Parts";
var _Par = "Part";
var _Parq = "Parquet";
var _Pay = "Payer";
var _Payl = "Payload";
var _Pe = "Permission";
var _Po = "Policy";
var _Pr = "Progress";
var _Pri = "Priority";
var _Pro = "Protocol";
var _Q = "Quiet";
var _QA = "QueueArn";
var _QC = "QuoteCharacter";
var _QCL = "QueueConfigurationList";
var _QCu = "QueueConfigurations";
var _QCue = "QueueConfiguration";
var _QEC = "QuoteEscapeCharacter";
var _QF = "QuoteFields";
var _Qu = "Queue";
var _R = "Rules";
var _RART = "RedirectAllRequestsTo";
var _RC = "RequestCharged";
var _RCC = "ResponseCacheControl";
var _RCD = "ResponseContentDisposition";
var _RCE = "ResponseContentEncoding";
var _RCL = "ResponseContentLanguage";
var _RCT = "ResponseContentType";
var _RCe = "ReplicationConfiguration";
var _RD = "RecordDelimiter";
var _RE = "ResponseExpires";
var _RED = "RestoreExpiryDate";
var _REe = "RecordExpiration";
var _REec = "RecordsEvent";
var _RKKID = "ReplicaKmsKeyID";
var _RKPW = "ReplaceKeyPrefixWith";
var _RKW = "ReplaceKeyWith";
var _RM = "ReplicaModifications";
var _RO = "RenameObject";
var _ROO = "RenameObjectOutput";
var _ROOe = "RestoreObjectOutput";
var _ROP = "RestoreOutputPath";
var _ROR = "RenameObjectRequest";
var _RORe = "RestoreObjectRequest";
var _ROe = "RestoreObject";
var _RP = "RequestPayer";
var _RPB = "RestrictPublicBuckets";
var _RPC = "RequestPaymentConfiguration";
var _RPe = "RequestProgress";
var _RR = "RoutingRules";
var _RRAO = "ReplicationRuleAndOperator";
var _RRF = "ReplicationRuleFilter";
var _RRe = "ReplicationRule";
var _RRep = "ReplicationRules";
var _RReq = "RequestRoute";
var _RRes = "RestoreRequest";
var _RRo = "RoutingRule";
var _RS = "ReplicationStatus";
var _RSe = "RestoreStatus";
var _RSen = "RenameSource";
var _RT = "ReplicationTime";
var _RTV = "ReplicationTimeValue";
var _RTe = "RequestToken";
var _RUD = "RetainUntilDate";
var _Ra = "Range";
var _Re = "Restore";
var _Rec = "Records";
var _Red = "Redirect";
var _Ret = "Retention";
var _Ro = "Role";
var _Ru = "Rule";
var _S = "Status";
var _SA = "StartAfter";
var _SAK = "SecretAccessKey";
var _SAs = "SseAlgorithm";
var _SB = "StreamingBlob";
var _SBD = "S3BucketDestination";
var _SC = "StorageClass";
var _SCA = "StorageClassAnalysis";
var _SCADE = "StorageClassAnalysisDataExport";
var _SCV = "SessionCredentialValue";
var _SCe = "SessionCredentials";
var _SCt = "StatusCode";
var _SDV = "SkipDestinationValidation";
var _SE = "StatsEvent";
var _SIM = "SourceIfMatch";
var _SIMS = "SourceIfModifiedSince";
var _SINM = "SourceIfNoneMatch";
var _SIUS = "SourceIfUnmodifiedSince";
var _SK = "SSE-KMS";
var _SKEO = "SseKmsEncryptedObjects";
var _SKF = "S3KeyFilter";
var _SKe = "S3Key";
var _SL = "S3Location";
var _SM = "SessionMode";
var _SOC = "SelectObjectContent";
var _SOCES = "SelectObjectContentEventStream";
var _SOCO = "SelectObjectContentOutput";
var _SOCR = "SelectObjectContentRequest";
var _SP = "SelectParameters";
var _SPi = "SimplePrefix";
var _SR = "ScanRange";
var _SS = "SSE-S3";
var _SSC = "SourceSelectionCriteria";
var _SSE = "ServerSideEncryption";
var _SSEA = "SSEAlgorithm";
var _SSEBD = "ServerSideEncryptionByDefault";
var _SSEC = "ServerSideEncryptionConfiguration";
var _SSECA = "SSECustomerAlgorithm";
var _SSECK = "SSECustomerKey";
var _SSECKMD = "SSECustomerKeyMD5";
var _SSEKMS = "SSEKMS";
var _SSEKMSEC = "SSEKMSEncryptionContext";
var _SSEKMSKI = "SSEKMSKeyId";
var _SSER = "ServerSideEncryptionRule";
var _SSERe = "ServerSideEncryptionRules";
var _SSES = "SSES3";
var _ST = "SessionToken";
var _STD = "S3TablesDestination";
var _STDR = "S3TablesDestinationResult";
var _S_ = "S3";
var _Sc = "Schedule";
var _Si = "Size";
var _St = "Start";
var _Sta = "Stats";
var _Su = "Suffix";
var _T = "Tags";
var _TA = "TableArn";
var _TAo = "TopicArn";
var _TB = "TargetBucket";
var _TBA = "TableBucketArn";
var _TBT = "TableBucketType";
var _TC = "TagCount";
var _TCL = "TopicConfigurationList";
var _TCo = "TopicConfigurations";
var _TCop = "TopicConfiguration";
var _TD = "TaggingDirective";
var _TDMOS = "TransitionDefaultMinimumObjectSize";
var _TG = "TargetGrants";
var _TGa = "TargetGrant";
var _TL = "TieringList";
var _TLr = "TransitionList";
var _TMP = "TooManyParts";
var _TN = "TableNamespace";
var _TNa = "TableName";
var _TOKF = "TargetObjectKeyFormat";
var _TP = "TargetPrefix";
var _TPC = "TotalPartsCount";
var _TS = "TagSet";
var _TSa = "TableStatus";
var _Ta = "Tag";
var _Tag = "Tagging";
var _Ti = "Tier";
var _Tie = "Tierings";
var _Tier = "Tiering";
var _Tim = "Time";
var _To = "Token";
var _Top = "Topic";
var _Tr = "Transitions";
var _Tra = "Transition";
var _Ty = "Type";
var _U = "Uploads";
var _UBMITC = "UpdateBucketMetadataInventoryTableConfiguration";
var _UBMITCR = "UpdateBucketMetadataInventoryTableConfigurationRequest";
var _UBMJTC = "UpdateBucketMetadataJournalTableConfiguration";
var _UBMJTCR = "UpdateBucketMetadataJournalTableConfigurationRequest";
var _UI = "UploadId";
var _UIM = "UploadIdMarker";
var _UM = "UserMetadata";
var _UP = "UploadPart";
var _UPC = "UploadPartCopy";
var _UPCO = "UploadPartCopyOutput";
var _UPCR = "UploadPartCopyRequest";
var _UPO = "UploadPartOutput";
var _UPR = "UploadPartRequest";
var _URI = "URI";
var _Up = "Upload";
var _V = "Value";
var _VC = "VersioningConfiguration";
var _VI = "VersionId";
var _VIM = "VersionIdMarker";
var _Ve = "Versions";
var _Ver = "Version";
var _WC = "WebsiteConfiguration";
var _WGOR = "WriteGetObjectResponse";
var _WGORR = "WriteGetObjectResponseRequest";
var _WOB = "WriteOffsetBytes";
var _WRL = "WebsiteRedirectLocation";
var _Y = "Years";
var _ar = "accept-ranges";
var _br = "bucket-region";
var _c = "client";
var _ct = "continuation-token";
var _d = "delimiter";
var _e = "error";
var _eP = "eventPayload";
var _en = "endpoint";
var _et = "encoding-type";
var _fo = "fetch-owner";
var _h = "http";
var _hE = "httpError";
var _hH = "httpHeader";
var _hL = "hostLabel";
var _hP = "httpPayload";
var _hPH = "httpPrefixHeaders";
var _hQ = "httpQuery";
var _hi = "http://www.w3.org/2001/XMLSchema-instance";
var _i = "id";
var _iT = "idempotencyToken";
var _km = "key-marker";
var _m = "marker";
var _mb = "max-buckets";
var _mdb = "max-directory-buckets";
var _mk = "max-keys";
var _mp = "max-parts";
var _mu = "max-uploads";
var _p = "prefix";
var _pN = "partNumber";
var _pnm = "part-number-marker";
var _rcc = "response-cache-control";
var _rcd = "response-content-disposition";
var _rce = "response-content-encoding";
var _rcl = "response-content-language";
var _rct = "response-content-type";
var _re = "response-expires";
var _s = "streaming";
var _sa = "start-after";
var _sm = "smithy.ts.sdk.synthetic.com.amazonaws.s3";
var _uI = "uploadId";
var _uim = "upload-id-marker";
var _vI = "versionId";
var _vim = "version-id-marker";
var _x = "xsi";
var _xA = "xmlAttribute";
var _xF = "xmlFlattened";
var _xN = "xmlName";
var _xNm = "xmlNamespace";
var _xaa = "x-amz-acl";
var _xaad = "x-amz-abort-date";
var _xaapa = "x-amz-access-point-alias";
var _xaari = "x-amz-abort-rule-id";
var _xaas = "x-amz-archive-status";
var _xaba = "x-amz-bucket-arn";
var _xabgr = "x-amz-bypass-governance-retention";
var _xabln = "x-amz-bucket-location-name";
var _xablt = "x-amz-bucket-location-type";
var _xabole = "x-amz-bucket-object-lock-enabled";
var _xabolt = "x-amz-bucket-object-lock-token";
var _xabr = "x-amz-bucket-region";
var _xaca = "x-amz-checksum-algorithm";
var _xacc = "x-amz-checksum-crc32";
var _xacc_ = "x-amz-checksum-crc32c";
var _xacc__ = "x-amz-checksum-crc64nvme";
var _xacm = "x-amz-checksum-mode";
var _xacrsba = "x-amz-confirm-remove-self-bucket-access";
var _xacs = "x-amz-checksum-sha1";
var _xacs_ = "x-amz-checksum-sha256";
var _xacs__ = "x-amz-copy-source";
var _xacsim = "x-amz-copy-source-if-match";
var _xacsims = "x-amz-copy-source-if-modified-since";
var _xacsinm = "x-amz-copy-source-if-none-match";
var _xacsius = "x-amz-copy-source-if-unmodified-since";
var _xacsm = "x-amz-create-session-mode";
var _xacsr = "x-amz-copy-source-range";
var _xacssseca = "x-amz-copy-source-server-side-encryption-customer-algorithm";
var _xacssseck = "x-amz-copy-source-server-side-encryption-customer-key";
var _xacssseckM = "x-amz-copy-source-server-side-encryption-customer-key-MD5";
var _xacsvi = "x-amz-copy-source-version-id";
var _xact = "x-amz-checksum-type";
var _xact_ = "x-amz-client-token";
var _xadm = "x-amz-delete-marker";
var _xae = "x-amz-expiration";
var _xaebo = "x-amz-expected-bucket-owner";
var _xafec = "x-amz-fwd-error-code";
var _xafem = "x-amz-fwd-error-message";
var _xafhCC = "x-amz-fwd-header-Cache-Control";
var _xafhCD = "x-amz-fwd-header-Content-Disposition";
var _xafhCE = "x-amz-fwd-header-Content-Encoding";
var _xafhCL = "x-amz-fwd-header-Content-Language";
var _xafhCR = "x-amz-fwd-header-Content-Range";
var _xafhCT = "x-amz-fwd-header-Content-Type";
var _xafhE = "x-amz-fwd-header-ETag";
var _xafhE_ = "x-amz-fwd-header-Expires";
var _xafhLM = "x-amz-fwd-header-Last-Modified";
var _xafhar = "x-amz-fwd-header-accept-ranges";
var _xafhxacc = "x-amz-fwd-header-x-amz-checksum-crc32";
var _xafhxacc_ = "x-amz-fwd-header-x-amz-checksum-crc32c";
var _xafhxacc__ = "x-amz-fwd-header-x-amz-checksum-crc64nvme";
var _xafhxacs = "x-amz-fwd-header-x-amz-checksum-sha1";
var _xafhxacs_ = "x-amz-fwd-header-x-amz-checksum-sha256";
var _xafhxadm = "x-amz-fwd-header-x-amz-delete-marker";
var _xafhxae = "x-amz-fwd-header-x-amz-expiration";
var _xafhxamm = "x-amz-fwd-header-x-amz-missing-meta";
var _xafhxampc = "x-amz-fwd-header-x-amz-mp-parts-count";
var _xafhxaollh = "x-amz-fwd-header-x-amz-object-lock-legal-hold";
var _xafhxaolm = "x-amz-fwd-header-x-amz-object-lock-mode";
var _xafhxaolrud = "x-amz-fwd-header-x-amz-object-lock-retain-until-date";
var _xafhxar = "x-amz-fwd-header-x-amz-restore";
var _xafhxarc = "x-amz-fwd-header-x-amz-request-charged";
var _xafhxars = "x-amz-fwd-header-x-amz-replication-status";
var _xafhxasc = "x-amz-fwd-header-x-amz-storage-class";
var _xafhxasse = "x-amz-fwd-header-x-amz-server-side-encryption";
var _xafhxasseakki = "x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id";
var _xafhxassebke = "x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled";
var _xafhxasseca = "x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm";
var _xafhxasseckM = "x-amz-fwd-header-x-amz-server-side-encryption-customer-key-MD5";
var _xafhxatc = "x-amz-fwd-header-x-amz-tagging-count";
var _xafhxavi = "x-amz-fwd-header-x-amz-version-id";
var _xafs = "x-amz-fwd-status";
var _xagfc = "x-amz-grant-full-control";
var _xagr = "x-amz-grant-read";
var _xagra = "x-amz-grant-read-acp";
var _xagw = "x-amz-grant-write";
var _xagwa = "x-amz-grant-write-acp";
var _xaimit = "x-amz-if-match-initiated-time";
var _xaimlmt = "x-amz-if-match-last-modified-time";
var _xaims = "x-amz-if-match-size";
var _xam = "x-amz-meta-";
var _xam_ = "x-amz-mfa";
var _xamd = "x-amz-metadata-directive";
var _xamm = "x-amz-missing-meta";
var _xamos = "x-amz-mp-object-size";
var _xamp = "x-amz-max-parts";
var _xampc = "x-amz-mp-parts-count";
var _xaoa = "x-amz-object-attributes";
var _xaollh = "x-amz-object-lock-legal-hold";
var _xaolm = "x-amz-object-lock-mode";
var _xaolrud = "x-amz-object-lock-retain-until-date";
var _xaoo = "x-amz-object-ownership";
var _xaooa = "x-amz-optional-object-attributes";
var _xaos = "x-amz-object-size";
var _xapnm = "x-amz-part-number-marker";
var _xar = "x-amz-restore";
var _xarc = "x-amz-request-charged";
var _xarop = "x-amz-restore-output-path";
var _xarp = "x-amz-request-payer";
var _xarr = "x-amz-request-route";
var _xars = "x-amz-replication-status";
var _xars_ = "x-amz-rename-source";
var _xarsim = "x-amz-rename-source-if-match";
var _xarsims = "x-amz-rename-source-if-modified-since";
var _xarsinm = "x-amz-rename-source-if-none-match";
var _xarsius = "x-amz-rename-source-if-unmodified-since";
var _xart = "x-amz-request-token";
var _xasc = "x-amz-storage-class";
var _xasca = "x-amz-sdk-checksum-algorithm";
var _xasdv = "x-amz-skip-destination-validation";
var _xasebo = "x-amz-source-expected-bucket-owner";
var _xasse = "x-amz-server-side-encryption";
var _xasseakki = "x-amz-server-side-encryption-aws-kms-key-id";
var _xassebke = "x-amz-server-side-encryption-bucket-key-enabled";
var _xassec = "x-amz-server-side-encryption-context";
var _xasseca = "x-amz-server-side-encryption-customer-algorithm";
var _xasseck = "x-amz-server-side-encryption-customer-key";
var _xasseckM = "x-amz-server-side-encryption-customer-key-MD5";
var _xat = "x-amz-tagging";
var _xatc = "x-amz-tagging-count";
var _xatd = "x-amz-tagging-directive";
var _xatdmos = "x-amz-transition-default-minimum-object-size";
var _xavi = "x-amz-version-id";
var _xawob = "x-amz-write-offset-bytes";
var _xawrl = "x-amz-website-redirect-location";
var _xs = "xsi:type";
var n0 = "com.amazonaws.s3";
var CopySourceSSECustomerKey = [0, n0, _CSSSECK, 8, 0];
var SessionCredentialValue = [0, n0, _SCV, 8, 0];
var SSECustomerKey = [0, n0, _SSECK, 8, 0];
var SSEKMSEncryptionContext = [0, n0, _SSEKMSEC, 8, 0];
var SSEKMSKeyId = [0, n0, _SSEKMSKI, 8, 0];
var StreamingBlob = [0, n0, _SB, { [_s]: 1 }, 42];
var AbacStatus$ = [3, n0, _AS, 0, [_S], [0]];
var AbortIncompleteMultipartUpload$ = [3, n0, _AIMU, 0, [_DAI], [1]];
var AbortMultipartUploadOutput$ = [3, n0, _AMUO, 0, [_RC], [[0, { [_hH]: _xarc }]]];
var AbortMultipartUploadRequest$ = [
  3,
  n0,
  _AMUR,
  0,
  [_B, _K, _UI, _RP, _EBO, _IMIT],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _uI }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }],
    [6, { [_hH]: _xaimit }]
  ]
];
var AccelerateConfiguration$ = [3, n0, _AC, 0, [_S], [0]];
var AccessControlPolicy$ = [
  3,
  n0,
  _ACP,
  0,
  [_G, _O],
  [[() => Grants, { [_xN]: _ACL }], () => Owner$]
];
var AccessControlTranslation$ = [3, n0, _ACT, 0, [_O], [0]];
var AnalyticsAndOperator$ = [
  3,
  n0,
  _AAO,
  0,
  [_P, _T],
  [0, [() => TagSet, { [_xN]: _Ta, [_xF]: 1 }]]
];
var AnalyticsConfiguration$ = [
  3,
  n0,
  _ACn,
  0,
  [_I, _F, _SCA],
  [0, [() => AnalyticsFilter$, 0], () => StorageClassAnalysis$]
];
var AnalyticsExportDestination$ = [
  3,
  n0,
  _AED,
  0,
  [_SBD],
  [() => AnalyticsS3BucketDestination$]
];
var AnalyticsS3BucketDestination$ = [3, n0, _ASBD, 0, [_Fo, _BAI, _B, _P], [0, 0, 0, 0]];
var BlockedEncryptionTypes$ = [
  3,
  n0,
  _BET,
  0,
  [_ET],
  [[() => EncryptionTypeList, { [_xF]: 1 }]]
];
var Bucket$ = [3, n0, _B, 0, [_N, _CD, _BR, _BA], [0, 4, 0, 0]];
var BucketAlreadyExists$ = [-3, n0, _BAE, { [_e]: _c, [_hE]: 409 }, [], []];
TypeRegistry.for(n0).registerError(BucketAlreadyExists$, BucketAlreadyExists);
var BucketAlreadyOwnedByYou$ = [-3, n0, _BAOBY, { [_e]: _c, [_hE]: 409 }, [], []];
TypeRegistry.for(n0).registerError(BucketAlreadyOwnedByYou$, BucketAlreadyOwnedByYou);
var BucketInfo$ = [3, n0, _BI, 0, [_DR, _Ty], [0, 0]];
var BucketLifecycleConfiguration$ = [
  3,
  n0,
  _BLC,
  0,
  [_R],
  [[() => LifecycleRules, { [_xN]: _Ru, [_xF]: 1 }]]
];
var BucketLoggingStatus$ = [3, n0, _BLS, 0, [_LE], [[() => LoggingEnabled$, 0]]];
var Checksum$ = [
  3,
  n0,
  _C,
  0,
  [_CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh, _CT],
  [0, 0, 0, 0, 0, 0]
];
var CommonPrefix$ = [3, n0, _CP, 0, [_P], [0]];
var CompletedMultipartUpload$ = [
  3,
  n0,
  _CMU,
  0,
  [_Pa],
  [[() => CompletedPartList, { [_xN]: _Par, [_xF]: 1 }]]
];
var CompletedPart$ = [
  3,
  n0,
  _CPo,
  0,
  [_ETa, _CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh, _PN],
  [0, 0, 0, 0, 0, 0, 1]
];
var CompleteMultipartUploadOutput$ = [
  3,
  n0,
  _CMUO,
  { [_xN]: _CMUR },
  [_L, _B, _K, _E, _ETa, _CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh, _CT, _SSE, _VI, _SSEKMSKI, _BKE, _RC],
  [
    0,
    0,
    0,
    [0, { [_hH]: _xae }],
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xavi }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xarc }]
  ]
];
var CompleteMultipartUploadRequest$ = [
  3,
  n0,
  _CMURo,
  0,
  [
    _B,
    _K,
    _MU,
    _UI,
    _CCRC,
    _CCRCC,
    _CCRCNVME,
    _CSHA,
    _CSHAh,
    _CT,
    _MOS,
    _RP,
    _EBO,
    _IM,
    _INM,
    _SSECA,
    _SSECK,
    _SSECKMD
  ],
  [
    [0, 1],
    [0, 1],
    [() => CompletedMultipartUpload$, { [_xN]: _CMUo, [_hP]: 1 }],
    [0, { [_hQ]: _uI }],
    [0, { [_hH]: _xacc }],
    [0, { [_hH]: _xacc_ }],
    [0, { [_hH]: _xacc__ }],
    [0, { [_hH]: _xacs }],
    [0, { [_hH]: _xacs_ }],
    [0, { [_hH]: _xact }],
    [1, { [_hH]: _xamos }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _IM_ }],
    [0, { [_hH]: _INM_ }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }]
  ]
];
var Condition$ = [3, n0, _Co, 0, [_HECRE, _KPE], [0, 0]];
var ContinuationEvent$ = [3, n0, _CE, 0, [], []];
var CopyObjectOutput$ = [
  3,
  n0,
  _COO,
  0,
  [_COR, _E, _CSVI, _VI, _SSE, _SSECA, _SSECKMD, _SSEKMSKI, _SSEKMSEC, _BKE, _RC],
  [
    [() => CopyObjectResult$, 16],
    [0, { [_hH]: _xae }],
    [0, { [_hH]: _xacsvi }],
    [0, { [_hH]: _xavi }],
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xasseca }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xarc }]
  ]
];
var CopyObjectRequest$ = [
  3,
  n0,
  _CORo,
  0,
  [
    _ACL_,
    _B,
    _CC,
    _CA,
    _CDo,
    _CEo,
    _CL,
    _CTo,
    _CS,
    _CSIM,
    _CSIMS,
    _CSINM,
    _CSIUS,
    _Ex,
    _GFC,
    _GR,
    _GRACP,
    _GWACP,
    _IM,
    _INM,
    _K,
    _M,
    _MD,
    _TD,
    _SSE,
    _SC,
    _WRL,
    _SSECA,
    _SSECK,
    _SSECKMD,
    _SSEKMSKI,
    _SSEKMSEC,
    _BKE,
    _CSSSECA,
    _CSSSECK,
    _CSSSECKMD,
    _RP,
    _Tag,
    _OLM,
    _OLRUD,
    _OLLHS,
    _EBO,
    _ESBO
  ],
  [
    [0, { [_hH]: _xaa }],
    [0, 1],
    [0, { [_hH]: _CC_ }],
    [0, { [_hH]: _xaca }],
    [0, { [_hH]: _CD_ }],
    [0, { [_hH]: _CE_ }],
    [0, { [_hH]: _CL_ }],
    [0, { [_hH]: _CT_ }],
    [0, { [_hH]: _xacs__ }],
    [0, { [_hH]: _xacsim }],
    [4, { [_hH]: _xacsims }],
    [0, { [_hH]: _xacsinm }],
    [4, { [_hH]: _xacsius }],
    [4, { [_hH]: _Ex }],
    [0, { [_hH]: _xagfc }],
    [0, { [_hH]: _xagr }],
    [0, { [_hH]: _xagra }],
    [0, { [_hH]: _xagwa }],
    [0, { [_hH]: _IM_ }],
    [0, { [_hH]: _INM_ }],
    [0, 1],
    [128 | 0, { [_hPH]: _xam }],
    [0, { [_hH]: _xamd }],
    [0, { [_hH]: _xatd }],
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xasc }],
    [0, { [_hH]: _xawrl }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xacssseca }],
    [() => CopySourceSSECustomerKey, { [_hH]: _xacssseck }],
    [0, { [_hH]: _xacssseckM }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xat }],
    [0, { [_hH]: _xaolm }],
    [5, { [_hH]: _xaolrud }],
    [0, { [_hH]: _xaollh }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xasebo }]
  ]
];
var CopyObjectResult$ = [
  3,
  n0,
  _COR,
  0,
  [_ETa, _LM, _CT, _CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh],
  [0, 4, 0, 0, 0, 0, 0, 0]
];
var CopyPartResult$ = [
  3,
  n0,
  _CPR,
  0,
  [_ETa, _LM, _CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh],
  [0, 4, 0, 0, 0, 0, 0]
];
var CORSConfiguration$ = [
  3,
  n0,
  _CORSC,
  0,
  [_CORSR],
  [[() => CORSRules, { [_xN]: _CORSRu, [_xF]: 1 }]]
];
var CORSRule$ = [
  3,
  n0,
  _CORSRu,
  0,
  [_ID, _AH, _AM, _AO, _EH, _MAS],
  [
    0,
    [64 | 0, { [_xN]: _AHl, [_xF]: 1 }],
    [64 | 0, { [_xN]: _AMl, [_xF]: 1 }],
    [64 | 0, { [_xN]: _AOl, [_xF]: 1 }],
    [64 | 0, { [_xN]: _EHx, [_xF]: 1 }],
    1
  ]
];
var CreateBucketConfiguration$ = [
  3,
  n0,
  _CBC,
  0,
  [_LC, _L, _B, _T],
  [0, () => LocationInfo$, () => BucketInfo$, [() => TagSet, 0]]
];
var CreateBucketMetadataConfigurationRequest$ = [
  3,
  n0,
  _CBMCR,
  0,
  [_B, _CMD, _CA, _MC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => MetadataConfiguration$, { [_xN]: _MC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var CreateBucketMetadataTableConfigurationRequest$ = [
  3,
  n0,
  _CBMTCR,
  0,
  [_B, _CMD, _CA, _MTC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => MetadataTableConfiguration$, { [_xN]: _MTC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var CreateBucketOutput$ = [
  3,
  n0,
  _CBO,
  0,
  [_L, _BA],
  [
    [0, { [_hH]: _L }],
    [0, { [_hH]: _xaba }]
  ]
];
var CreateBucketRequest$ = [
  3,
  n0,
  _CBR,
  0,
  [_ACL_, _B, _CBC, _GFC, _GR, _GRACP, _GW, _GWACP, _OLEFB, _OO],
  [
    [0, { [_hH]: _xaa }],
    [0, 1],
    [() => CreateBucketConfiguration$, { [_xN]: _CBC, [_hP]: 1 }],
    [0, { [_hH]: _xagfc }],
    [0, { [_hH]: _xagr }],
    [0, { [_hH]: _xagra }],
    [0, { [_hH]: _xagw }],
    [0, { [_hH]: _xagwa }],
    [2, { [_hH]: _xabole }],
    [0, { [_hH]: _xaoo }]
  ]
];
var CreateMultipartUploadOutput$ = [
  3,
  n0,
  _CMUOr,
  { [_xN]: _IMUR },
  [_AD, _ARI, _B, _K, _UI, _SSE, _SSECA, _SSECKMD, _SSEKMSKI, _SSEKMSEC, _BKE, _RC, _CA, _CT],
  [
    [4, { [_hH]: _xaad }],
    [0, { [_hH]: _xaari }],
    [0, { [_xN]: _B }],
    0,
    0,
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xasseca }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xarc }],
    [0, { [_hH]: _xaca }],
    [0, { [_hH]: _xact }]
  ]
];
var CreateMultipartUploadRequest$ = [
  3,
  n0,
  _CMURr,
  0,
  [
    _ACL_,
    _B,
    _CC,
    _CDo,
    _CEo,
    _CL,
    _CTo,
    _Ex,
    _GFC,
    _GR,
    _GRACP,
    _GWACP,
    _K,
    _M,
    _SSE,
    _SC,
    _WRL,
    _SSECA,
    _SSECK,
    _SSECKMD,
    _SSEKMSKI,
    _SSEKMSEC,
    _BKE,
    _RP,
    _Tag,
    _OLM,
    _OLRUD,
    _OLLHS,
    _EBO,
    _CA,
    _CT
  ],
  [
    [0, { [_hH]: _xaa }],
    [0, 1],
    [0, { [_hH]: _CC_ }],
    [0, { [_hH]: _CD_ }],
    [0, { [_hH]: _CE_ }],
    [0, { [_hH]: _CL_ }],
    [0, { [_hH]: _CT_ }],
    [4, { [_hH]: _Ex }],
    [0, { [_hH]: _xagfc }],
    [0, { [_hH]: _xagr }],
    [0, { [_hH]: _xagra }],
    [0, { [_hH]: _xagwa }],
    [0, 1],
    [128 | 0, { [_hPH]: _xam }],
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xasc }],
    [0, { [_hH]: _xawrl }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xat }],
    [0, { [_hH]: _xaolm }],
    [5, { [_hH]: _xaolrud }],
    [0, { [_hH]: _xaollh }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xaca }],
    [0, { [_hH]: _xact }]
  ]
];
var CreateSessionOutput$ = [
  3,
  n0,
  _CSO,
  { [_xN]: _CSR },
  [_SSE, _SSEKMSKI, _SSEKMSEC, _BKE, _Cr],
  [
    [0, { [_hH]: _xasse }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }],
    [() => SessionCredentials$, { [_xN]: _Cr }]
  ]
];
var CreateSessionRequest$ = [
  3,
  n0,
  _CSRr,
  0,
  [_SM, _B, _SSE, _SSEKMSKI, _SSEKMSEC, _BKE],
  [
    [0, { [_hH]: _xacsm }],
    [0, 1],
    [0, { [_hH]: _xasse }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }]
  ]
];
var CSVInput$ = [
  3,
  n0,
  _CSVIn,
  0,
  [_FHI, _Com, _QEC, _RD, _FD, _QC, _AQRD],
  [0, 0, 0, 0, 0, 0, 2]
];
var CSVOutput$ = [3, n0, _CSVO, 0, [_QF, _QEC, _RD, _FD, _QC], [0, 0, 0, 0, 0]];
var DefaultRetention$ = [3, n0, _DRe, 0, [_Mo, _D, _Y], [0, 1, 1]];
var Delete$ = [
  3,
  n0,
  _De,
  0,
  [_Ob, _Q],
  [[() => ObjectIdentifierList, { [_xN]: _Obj, [_xF]: 1 }], 2]
];
var DeleteBucketAnalyticsConfigurationRequest$ = [
  3,
  n0,
  _DBACR,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketCorsRequest$ = [
  3,
  n0,
  _DBCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketEncryptionRequest$ = [
  3,
  n0,
  _DBER,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketIntelligentTieringConfigurationRequest$ = [
  3,
  n0,
  _DBITCR,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketInventoryConfigurationRequest$ = [
  3,
  n0,
  _DBICR,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketLifecycleRequest$ = [
  3,
  n0,
  _DBLR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketMetadataConfigurationRequest$ = [
  3,
  n0,
  _DBMCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketMetadataTableConfigurationRequest$ = [
  3,
  n0,
  _DBMTCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketMetricsConfigurationRequest$ = [
  3,
  n0,
  _DBMCRe,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketOwnershipControlsRequest$ = [
  3,
  n0,
  _DBOCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketPolicyRequest$ = [
  3,
  n0,
  _DBPR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketReplicationRequest$ = [
  3,
  n0,
  _DBRR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketRequest$ = [
  3,
  n0,
  _DBR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketTaggingRequest$ = [
  3,
  n0,
  _DBTR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeleteBucketWebsiteRequest$ = [
  3,
  n0,
  _DBWR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeletedObject$ = [3, n0, _DO, 0, [_K, _VI, _DM, _DMVI], [0, 0, 2, 0]];
var DeleteMarkerEntry$ = [
  3,
  n0,
  _DME,
  0,
  [_O, _K, _VI, _IL, _LM],
  [() => Owner$, 0, 0, 2, 4]
];
var DeleteMarkerReplication$ = [3, n0, _DMR, 0, [_S], [0]];
var DeleteObjectOutput$ = [
  3,
  n0,
  _DOO,
  0,
  [_DM, _VI, _RC],
  [
    [2, { [_hH]: _xadm }],
    [0, { [_hH]: _xavi }],
    [0, { [_hH]: _xarc }]
  ]
];
var DeleteObjectRequest$ = [
  3,
  n0,
  _DOR,
  0,
  [_B, _K, _MFA, _VI, _RP, _BGR, _EBO, _IM, _IMLMT, _IMS],
  [
    [0, 1],
    [0, 1],
    [0, { [_hH]: _xam_ }],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xarp }],
    [2, { [_hH]: _xabgr }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _IM_ }],
    [6, { [_hH]: _xaimlmt }],
    [1, { [_hH]: _xaims }]
  ]
];
var DeleteObjectsOutput$ = [
  3,
  n0,
  _DOOe,
  { [_xN]: _DRel },
  [_Del, _RC, _Er],
  [
    [() => DeletedObjects, { [_xF]: 1 }],
    [0, { [_hH]: _xarc }],
    [() => Errors, { [_xN]: _Err, [_xF]: 1 }]
  ]
];
var DeleteObjectsRequest$ = [
  3,
  n0,
  _DORe,
  0,
  [_B, _De, _MFA, _RP, _BGR, _EBO, _CA],
  [
    [0, 1],
    [() => Delete$, { [_xN]: _De, [_hP]: 1 }],
    [0, { [_hH]: _xam_ }],
    [0, { [_hH]: _xarp }],
    [2, { [_hH]: _xabgr }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xasca }]
  ]
];
var DeleteObjectTaggingOutput$ = [3, n0, _DOTO, 0, [_VI], [[0, { [_hH]: _xavi }]]];
var DeleteObjectTaggingRequest$ = [
  3,
  n0,
  _DOTR,
  0,
  [_B, _K, _VI, _EBO],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xaebo }]
  ]
];
var DeletePublicAccessBlockRequest$ = [
  3,
  n0,
  _DPABR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var Destination$ = [
  3,
  n0,
  _Des,
  0,
  [_B, _A, _SC, _ACT, _EC, _RT, _Me],
  [0, 0, 0, () => AccessControlTranslation$, () => EncryptionConfiguration$, () => ReplicationTime$, () => Metrics$]
];
var DestinationResult$ = [3, n0, _DRes, 0, [_TBT, _TBA, _TN], [0, 0, 0]];
var Encryption$ = [3, n0, _En, 0, [_ET, _KMSKI, _KMSC], [0, [() => SSEKMSKeyId, 0], 0]];
var EncryptionConfiguration$ = [3, n0, _EC, 0, [_RKKID], [0]];
var EncryptionTypeMismatch$ = [-3, n0, _ETM, { [_e]: _c, [_hE]: 400 }, [], []];
TypeRegistry.for(n0).registerError(EncryptionTypeMismatch$, EncryptionTypeMismatch);
var EndEvent$ = [3, n0, _EE, 0, [], []];
var _Error$ = [3, n0, _Err, 0, [_K, _VI, _Cod, _Mes], [0, 0, 0, 0]];
var ErrorDetails$ = [3, n0, _ED, 0, [_ECr, _EM], [0, 0]];
var ErrorDocument$ = [3, n0, _EDr, 0, [_K], [0]];
var EventBridgeConfiguration$ = [3, n0, _EBC, 0, [], []];
var ExistingObjectReplication$ = [3, n0, _EOR, 0, [_S], [0]];
var FilterRule$ = [3, n0, _FR, 0, [_N, _V], [0, 0]];
var GetBucketAbacOutput$ = [3, n0, _GBAO, 0, [_AS], [[() => AbacStatus$, 16]]];
var GetBucketAbacRequest$ = [
  3,
  n0,
  _GBAR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketAccelerateConfigurationOutput$ = [
  3,
  n0,
  _GBACO,
  { [_xN]: _AC },
  [_S, _RC],
  [0, [0, { [_hH]: _xarc }]]
];
var GetBucketAccelerateConfigurationRequest$ = [
  3,
  n0,
  _GBACR,
  0,
  [_B, _EBO, _RP],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xarp }]
  ]
];
var GetBucketAclOutput$ = [
  3,
  n0,
  _GBAOe,
  { [_xN]: _ACP },
  [_O, _G],
  [() => Owner$, [() => Grants, { [_xN]: _ACL }]]
];
var GetBucketAclRequest$ = [
  3,
  n0,
  _GBARe,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketAnalyticsConfigurationOutput$ = [
  3,
  n0,
  _GBACOe,
  0,
  [_ACn],
  [[() => AnalyticsConfiguration$, 16]]
];
var GetBucketAnalyticsConfigurationRequest$ = [
  3,
  n0,
  _GBACRe,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketCorsOutput$ = [
  3,
  n0,
  _GBCO,
  { [_xN]: _CORSC },
  [_CORSR],
  [[() => CORSRules, { [_xN]: _CORSRu, [_xF]: 1 }]]
];
var GetBucketCorsRequest$ = [
  3,
  n0,
  _GBCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketEncryptionOutput$ = [
  3,
  n0,
  _GBEO,
  0,
  [_SSEC],
  [[() => ServerSideEncryptionConfiguration$, 16]]
];
var GetBucketEncryptionRequest$ = [
  3,
  n0,
  _GBER,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketIntelligentTieringConfigurationOutput$ = [
  3,
  n0,
  _GBITCO,
  0,
  [_ITC],
  [[() => IntelligentTieringConfiguration$, 16]]
];
var GetBucketIntelligentTieringConfigurationRequest$ = [
  3,
  n0,
  _GBITCR,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketInventoryConfigurationOutput$ = [
  3,
  n0,
  _GBICO,
  0,
  [_IC],
  [[() => InventoryConfiguration$, 16]]
];
var GetBucketInventoryConfigurationRequest$ = [
  3,
  n0,
  _GBICR,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketLifecycleConfigurationOutput$ = [
  3,
  n0,
  _GBLCO,
  { [_xN]: _LCi },
  [_R, _TDMOS],
  [
    [() => LifecycleRules, { [_xN]: _Ru, [_xF]: 1 }],
    [0, { [_hH]: _xatdmos }]
  ]
];
var GetBucketLifecycleConfigurationRequest$ = [
  3,
  n0,
  _GBLCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketLocationOutput$ = [3, n0, _GBLO, { [_xN]: _LC }, [_LC], [0]];
var GetBucketLocationRequest$ = [
  3,
  n0,
  _GBLR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketLoggingOutput$ = [
  3,
  n0,
  _GBLOe,
  { [_xN]: _BLS },
  [_LE],
  [[() => LoggingEnabled$, 0]]
];
var GetBucketLoggingRequest$ = [
  3,
  n0,
  _GBLRe,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketMetadataConfigurationOutput$ = [
  3,
  n0,
  _GBMCO,
  0,
  [_GBMCR],
  [[() => GetBucketMetadataConfigurationResult$, 16]]
];
var GetBucketMetadataConfigurationRequest$ = [
  3,
  n0,
  _GBMCRe,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketMetadataConfigurationResult$ = [
  3,
  n0,
  _GBMCR,
  0,
  [_MCR],
  [() => MetadataConfigurationResult$]
];
var GetBucketMetadataTableConfigurationOutput$ = [
  3,
  n0,
  _GBMTCO,
  0,
  [_GBMTCR],
  [[() => GetBucketMetadataTableConfigurationResult$, 16]]
];
var GetBucketMetadataTableConfigurationRequest$ = [
  3,
  n0,
  _GBMTCRe,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketMetadataTableConfigurationResult$ = [
  3,
  n0,
  _GBMTCR,
  0,
  [_MTCR, _S, _Err],
  [() => MetadataTableConfigurationResult$, 0, () => ErrorDetails$]
];
var GetBucketMetricsConfigurationOutput$ = [
  3,
  n0,
  _GBMCOe,
  0,
  [_MCe],
  [[() => MetricsConfiguration$, 16]]
];
var GetBucketMetricsConfigurationRequest$ = [
  3,
  n0,
  _GBMCRet,
  0,
  [_B, _I, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketNotificationConfigurationRequest$ = [
  3,
  n0,
  _GBNCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketOwnershipControlsOutput$ = [
  3,
  n0,
  _GBOCO,
  0,
  [_OC],
  [[() => OwnershipControls$, 16]]
];
var GetBucketOwnershipControlsRequest$ = [
  3,
  n0,
  _GBOCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketPolicyOutput$ = [3, n0, _GBPO, 0, [_Po], [[0, 16]]];
var GetBucketPolicyRequest$ = [
  3,
  n0,
  _GBPR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketPolicyStatusOutput$ = [3, n0, _GBPSO, 0, [_PS], [[() => PolicyStatus$, 16]]];
var GetBucketPolicyStatusRequest$ = [
  3,
  n0,
  _GBPSR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketReplicationOutput$ = [
  3,
  n0,
  _GBRO,
  0,
  [_RCe],
  [[() => ReplicationConfiguration$, 16]]
];
var GetBucketReplicationRequest$ = [
  3,
  n0,
  _GBRR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketRequestPaymentOutput$ = [3, n0, _GBRPO, { [_xN]: _RPC }, [_Pay], [0]];
var GetBucketRequestPaymentRequest$ = [
  3,
  n0,
  _GBRPR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketTaggingOutput$ = [3, n0, _GBTO, { [_xN]: _Tag }, [_TS], [[() => TagSet, 0]]];
var GetBucketTaggingRequest$ = [
  3,
  n0,
  _GBTR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketVersioningOutput$ = [
  3,
  n0,
  _GBVO,
  { [_xN]: _VC },
  [_S, _MFAD],
  [0, [0, { [_xN]: _MDf }]]
];
var GetBucketVersioningRequest$ = [
  3,
  n0,
  _GBVR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetBucketWebsiteOutput$ = [
  3,
  n0,
  _GBWO,
  { [_xN]: _WC },
  [_RART, _IDn, _EDr, _RR],
  [() => RedirectAllRequestsTo$, () => IndexDocument$, () => ErrorDocument$, [() => RoutingRules, 0]]
];
var GetBucketWebsiteRequest$ = [
  3,
  n0,
  _GBWR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetObjectAclOutput$ = [
  3,
  n0,
  _GOAO,
  { [_xN]: _ACP },
  [_O, _G, _RC],
  [() => Owner$, [() => Grants, { [_xN]: _ACL }], [0, { [_hH]: _xarc }]]
];
var GetObjectAclRequest$ = [
  3,
  n0,
  _GOAR,
  0,
  [_B, _K, _VI, _RP, _EBO],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetObjectAttributesOutput$ = [
  3,
  n0,
  _GOAOe,
  { [_xN]: _GOARe },
  [_DM, _LM, _VI, _RC, _ETa, _C, _OP, _SC, _OS],
  [
    [2, { [_hH]: _xadm }],
    [4, { [_hH]: _LM_ }],
    [0, { [_hH]: _xavi }],
    [0, { [_hH]: _xarc }],
    0,
    () => Checksum$,
    [() => GetObjectAttributesParts$, 0],
    0,
    1
  ]
];
var GetObjectAttributesParts$ = [
  3,
  n0,
  _GOAP,
  0,
  [_TPC, _PNM, _NPNM, _MP, _IT, _Pa],
  [[1, { [_xN]: _PC }], 0, 0, 1, 2, [() => PartsList, { [_xN]: _Par, [_xF]: 1 }]]
];
var GetObjectAttributesRequest$ = [
  3,
  n0,
  _GOARet,
  0,
  [_B, _K, _VI, _MP, _PNM, _SSECA, _SSECK, _SSECKMD, _RP, _EBO, _OA],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [1, { [_hH]: _xamp }],
    [0, { [_hH]: _xapnm }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }],
    [64 | 0, { [_hH]: _xaoa }]
  ]
];
var GetObjectLegalHoldOutput$ = [
  3,
  n0,
  _GOLHO,
  0,
  [_LH],
  [[() => ObjectLockLegalHold$, { [_xN]: _LH, [_hP]: 1 }]]
];
var GetObjectLegalHoldRequest$ = [
  3,
  n0,
  _GOLHR,
  0,
  [_B, _K, _VI, _RP, _EBO],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetObjectLockConfigurationOutput$ = [
  3,
  n0,
  _GOLCO,
  0,
  [_OLC],
  [[() => ObjectLockConfiguration$, 16]]
];
var GetObjectLockConfigurationRequest$ = [
  3,
  n0,
  _GOLCR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetObjectOutput$ = [
  3,
  n0,
  _GOO,
  0,
  [
    _Bo,
    _DM,
    _AR,
    _E,
    _Re,
    _LM,
    _CLo,
    _ETa,
    _CCRC,
    _CCRCC,
    _CCRCNVME,
    _CSHA,
    _CSHAh,
    _CT,
    _MM,
    _VI,
    _CC,
    _CDo,
    _CEo,
    _CL,
    _CR,
    _CTo,
    _Ex,
    _ES,
    _WRL,
    _SSE,
    _M,
    _SSECA,
    _SSECKMD,
    _SSEKMSKI,
    _BKE,
    _SC,
    _RC,
    _RS,
    _PC,
    _TC,
    _OLM,
    _OLRUD,
    _OLLHS
  ],
  [
    [() => StreamingBlob, 16],
    [2, { [_hH]: _xadm }],
    [0, { [_hH]: _ar }],
    [0, { [_hH]: _xae }],
    [0, { [_hH]: _xar }],
    [4, { [_hH]: _LM_ }],
    [1, { [_hH]: _CL__ }],
    [0, { [_hH]: _ETa }],
    [0, { [_hH]: _xacc }],
    [0, { [_hH]: _xacc_ }],
    [0, { [_hH]: _xacc__ }],
    [0, { [_hH]: _xacs }],
    [0, { [_hH]: _xacs_ }],
    [0, { [_hH]: _xact }],
    [1, { [_hH]: _xamm }],
    [0, { [_hH]: _xavi }],
    [0, { [_hH]: _CC_ }],
    [0, { [_hH]: _CD_ }],
    [0, { [_hH]: _CE_ }],
    [0, { [_hH]: _CL_ }],
    [0, { [_hH]: _CR_ }],
    [0, { [_hH]: _CT_ }],
    [4, { [_hH]: _Ex }],
    [0, { [_hH]: _ES }],
    [0, { [_hH]: _xawrl }],
    [0, { [_hH]: _xasse }],
    [128 | 0, { [_hPH]: _xam }],
    [0, { [_hH]: _xasseca }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xasc }],
    [0, { [_hH]: _xarc }],
    [0, { [_hH]: _xars }],
    [1, { [_hH]: _xampc }],
    [1, { [_hH]: _xatc }],
    [0, { [_hH]: _xaolm }],
    [5, { [_hH]: _xaolrud }],
    [0, { [_hH]: _xaollh }]
  ]
];
var GetObjectRequest$ = [
  3,
  n0,
  _GOR,
  0,
  [
    _B,
    _IM,
    _IMSf,
    _INM,
    _IUS,
    _K,
    _Ra,
    _RCC,
    _RCD,
    _RCE,
    _RCL,
    _RCT,
    _RE,
    _VI,
    _SSECA,
    _SSECK,
    _SSECKMD,
    _RP,
    _PN,
    _EBO,
    _CMh
  ],
  [
    [0, 1],
    [0, { [_hH]: _IM_ }],
    [4, { [_hH]: _IMS_ }],
    [0, { [_hH]: _INM_ }],
    [4, { [_hH]: _IUS_ }],
    [0, 1],
    [0, { [_hH]: _Ra }],
    [0, { [_hQ]: _rcc }],
    [0, { [_hQ]: _rcd }],
    [0, { [_hQ]: _rce }],
    [0, { [_hQ]: _rcl }],
    [0, { [_hQ]: _rct }],
    [6, { [_hQ]: _re }],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [0, { [_hH]: _xarp }],
    [1, { [_hQ]: _pN }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xacm }]
  ]
];
var GetObjectRetentionOutput$ = [
  3,
  n0,
  _GORO,
  0,
  [_Ret],
  [[() => ObjectLockRetention$, { [_xN]: _Ret, [_hP]: 1 }]]
];
var GetObjectRetentionRequest$ = [
  3,
  n0,
  _GORR,
  0,
  [_B, _K, _VI, _RP, _EBO],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetObjectTaggingOutput$ = [
  3,
  n0,
  _GOTO,
  { [_xN]: _Tag },
  [_VI, _TS],
  [
    [0, { [_hH]: _xavi }],
    [() => TagSet, 0]
  ]
];
var GetObjectTaggingRequest$ = [
  3,
  n0,
  _GOTR,
  0,
  [_B, _K, _VI, _EBO, _RP],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xarp }]
  ]
];
var GetObjectTorrentOutput$ = [
  3,
  n0,
  _GOTOe,
  0,
  [_Bo, _RC],
  [
    [() => StreamingBlob, 16],
    [0, { [_hH]: _xarc }]
  ]
];
var GetObjectTorrentRequest$ = [
  3,
  n0,
  _GOTRe,
  0,
  [_B, _K, _RP, _EBO],
  [
    [0, 1],
    [0, 1],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }]
  ]
];
var GetPublicAccessBlockOutput$ = [
  3,
  n0,
  _GPABO,
  0,
  [_PABC],
  [[() => PublicAccessBlockConfiguration$, 16]]
];
var GetPublicAccessBlockRequest$ = [
  3,
  n0,
  _GPABR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var GlacierJobParameters$ = [3, n0, _GJP, 0, [_Ti], [0]];
var Grant$ = [3, n0, _Gr, 0, [_Gra, _Pe], [[() => Grantee$, { [_xNm]: [_x, _hi] }], 0]];
var Grantee$ = [
  3,
  n0,
  _Gra,
  0,
  [_DN, _EA, _ID, _URI, _Ty],
  [0, 0, 0, 0, [0, { [_xN]: _xs, [_xA]: 1 }]]
];
var HeadBucketOutput$ = [
  3,
  n0,
  _HBO,
  0,
  [_BA, _BLT, _BLN, _BR, _APA],
  [
    [0, { [_hH]: _xaba }],
    [0, { [_hH]: _xablt }],
    [0, { [_hH]: _xabln }],
    [0, { [_hH]: _xabr }],
    [2, { [_hH]: _xaapa }]
  ]
];
var HeadBucketRequest$ = [
  3,
  n0,
  _HBR,
  0,
  [_B, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _xaebo }]
  ]
];
var HeadObjectOutput$ = [
  3,
  n0,
  _HOO,
  0,
  [
    _DM,
    _AR,
    _E,
    _Re,
    _ASr,
    _LM,
    _CLo,
    _CCRC,
    _CCRCC,
    _CCRCNVME,
    _CSHA,
    _CSHAh,
    _CT,
    _ETa,
    _MM,
    _VI,
    _CC,
    _CDo,
    _CEo,
    _CL,
    _CTo,
    _CR,
    _Ex,
    _ES,
    _WRL,
    _SSE,
    _M,
    _SSECA,
    _SSECKMD,
    _SSEKMSKI,
    _BKE,
    _SC,
    _RC,
    _RS,
    _PC,
    _TC,
    _OLM,
    _OLRUD,
    _OLLHS
  ],
  [
    [2, { [_hH]: _xadm }],
    [0, { [_hH]: _ar }],
    [0, { [_hH]: _xae }],
    [0, { [_hH]: _xar }],
    [0, { [_hH]: _xaas }],
    [4, { [_hH]: _LM_ }],
    [1, { [_hH]: _CL__ }],
    [0, { [_hH]: _xacc }],
    [0, { [_hH]: _xacc_ }],
    [0, { [_hH]: _xacc__ }],
    [0, { [_hH]: _xacs }],
    [0, { [_hH]: _xacs_ }],
    [0, { [_hH]: _xact }],
    [0, { [_hH]: _ETa }],
    [1, { [_hH]: _xamm }],
    [0, { [_hH]: _xavi }],
    [0, { [_hH]: _CC_ }],
    [0, { [_hH]: _CD_ }],
    [0, { [_hH]: _CE_ }],
    [0, { [_hH]: _CL_ }],
    [0, { [_hH]: _CT_ }],
    [0, { [_hH]: _CR_ }],
    [4, { [_hH]: _Ex }],
    [0, { [_hH]: _ES }],
    [0, { [_hH]: _xawrl }],
    [0, { [_hH]: _xasse }],
    [128 | 0, { [_hPH]: _xam }],
    [0, { [_hH]: _xasseca }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xasc }],
    [0, { [_hH]: _xarc }],
    [0, { [_hH]: _xars }],
    [1, { [_hH]: _xampc }],
    [1, { [_hH]: _xatc }],
    [0, { [_hH]: _xaolm }],
    [5, { [_hH]: _xaolrud }],
    [0, { [_hH]: _xaollh }]
  ]
];
var HeadObjectRequest$ = [
  3,
  n0,
  _HOR,
  0,
  [
    _B,
    _IM,
    _IMSf,
    _INM,
    _IUS,
    _K,
    _Ra,
    _RCC,
    _RCD,
    _RCE,
    _RCL,
    _RCT,
    _RE,
    _VI,
    _SSECA,
    _SSECK,
    _SSECKMD,
    _RP,
    _PN,
    _EBO,
    _CMh
  ],
  [
    [0, 1],
    [0, { [_hH]: _IM_ }],
    [4, { [_hH]: _IMS_ }],
    [0, { [_hH]: _INM_ }],
    [4, { [_hH]: _IUS_ }],
    [0, 1],
    [0, { [_hH]: _Ra }],
    [0, { [_hQ]: _rcc }],
    [0, { [_hQ]: _rcd }],
    [0, { [_hQ]: _rce }],
    [0, { [_hQ]: _rcl }],
    [0, { [_hQ]: _rct }],
    [6, { [_hQ]: _re }],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [0, { [_hH]: _xarp }],
    [1, { [_hQ]: _pN }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xacm }]
  ]
];
var IdempotencyParameterMismatch$ = [-3, n0, _IPM, { [_e]: _c, [_hE]: 400 }, [], []];
TypeRegistry.for(n0).registerError(IdempotencyParameterMismatch$, IdempotencyParameterMismatch);
var IndexDocument$ = [3, n0, _IDn, 0, [_Su], [0]];
var Initiator$ = [3, n0, _In, 0, [_ID, _DN], [0, 0]];
var InputSerialization$ = [
  3,
  n0,
  _IS,
  0,
  [_CSV, _CTom, _JSON, _Parq],
  [() => CSVInput$, 0, () => JSONInput$, () => ParquetInput$]
];
var IntelligentTieringAndOperator$ = [
  3,
  n0,
  _ITAO,
  0,
  [_P, _T],
  [0, [() => TagSet, { [_xN]: _Ta, [_xF]: 1 }]]
];
var IntelligentTieringConfiguration$ = [
  3,
  n0,
  _ITC,
  0,
  [_I, _F, _S, _Tie],
  [0, [() => IntelligentTieringFilter$, 0], 0, [() => TieringList, { [_xN]: _Tier, [_xF]: 1 }]]
];
var IntelligentTieringFilter$ = [
  3,
  n0,
  _ITF,
  0,
  [_P, _Ta, _An],
  [0, () => Tag$, [() => IntelligentTieringAndOperator$, 0]]
];
var InvalidObjectState$ = [-3, n0, _IOS, { [_e]: _c, [_hE]: 403 }, [_SC, _AT], [0, 0]];
TypeRegistry.for(n0).registerError(InvalidObjectState$, InvalidObjectState);
var InvalidRequest$ = [-3, n0, _IR, { [_e]: _c, [_hE]: 400 }, [], []];
TypeRegistry.for(n0).registerError(InvalidRequest$, InvalidRequest);
var InvalidWriteOffset$ = [-3, n0, _IWO, { [_e]: _c, [_hE]: 400 }, [], []];
TypeRegistry.for(n0).registerError(InvalidWriteOffset$, InvalidWriteOffset);
var InventoryConfiguration$ = [
  3,
  n0,
  _IC,
  0,
  [_Des, _IE, _F, _I, _IOV, _OF, _Sc],
  [
    [() => InventoryDestination$, 0],
    2,
    () => InventoryFilter$,
    0,
    0,
    [() => InventoryOptionalFields, 0],
    () => InventorySchedule$
  ]
];
var InventoryDestination$ = [
  3,
  n0,
  _IDnv,
  0,
  [_SBD],
  [[() => InventoryS3BucketDestination$, 0]]
];
var InventoryEncryption$ = [
  3,
  n0,
  _IEn,
  0,
  [_SSES, _SSEKMS],
  [
    [() => SSES3$, { [_xN]: _SS }],
    [() => SSEKMS$, { [_xN]: _SK }]
  ]
];
var InventoryFilter$ = [3, n0, _IF, 0, [_P], [0]];
var InventoryS3BucketDestination$ = [
  3,
  n0,
  _ISBD,
  0,
  [_AI, _B, _Fo, _P, _En],
  [0, 0, 0, 0, [() => InventoryEncryption$, 0]]
];
var InventorySchedule$ = [3, n0, _ISn, 0, [_Fr], [0]];
var InventoryTableConfiguration$ = [
  3,
  n0,
  _ITCn,
  0,
  [_CSo, _EC],
  [0, () => MetadataTableEncryptionConfiguration$]
];
var InventoryTableConfigurationResult$ = [
  3,
  n0,
  _ITCR,
  0,
  [_CSo, _TSa, _Err, _TNa, _TA],
  [0, 0, () => ErrorDetails$, 0, 0]
];
var InventoryTableConfigurationUpdates$ = [
  3,
  n0,
  _ITCU,
  0,
  [_CSo, _EC],
  [0, () => MetadataTableEncryptionConfiguration$]
];
var JournalTableConfiguration$ = [
  3,
  n0,
  _JTC,
  0,
  [_REe, _EC],
  [() => RecordExpiration$, () => MetadataTableEncryptionConfiguration$]
];
var JournalTableConfigurationResult$ = [
  3,
  n0,
  _JTCR,
  0,
  [_TSa, _Err, _TNa, _TA, _REe],
  [0, () => ErrorDetails$, 0, 0, () => RecordExpiration$]
];
var JournalTableConfigurationUpdates$ = [
  3,
  n0,
  _JTCU,
  0,
  [_REe],
  [() => RecordExpiration$]
];
var JSONInput$ = [3, n0, _JSONI, 0, [_Ty], [0]];
var JSONOutput$ = [3, n0, _JSONO, 0, [_RD], [0]];
var LambdaFunctionConfiguration$ = [
  3,
  n0,
  _LFC,
  0,
  [_I, _LFA, _Ev, _F],
  [0, [0, { [_xN]: _CF }], [64 | 0, { [_xN]: _Eve, [_xF]: 1 }], [() => NotificationConfigurationFilter$, 0]]
];
var LifecycleExpiration$ = [3, n0, _LEi, 0, [_Da, _D, _EODM], [5, 1, 2]];
var LifecycleRule$ = [
  3,
  n0,
  _LR,
  0,
  [_E, _ID, _P, _F, _S, _Tr, _NVT, _NVE, _AIMU],
  [
    () => LifecycleExpiration$,
    0,
    0,
    [() => LifecycleRuleFilter$, 0],
    0,
    [() => TransitionList, { [_xN]: _Tra, [_xF]: 1 }],
    [() => NoncurrentVersionTransitionList, { [_xN]: _NVTo, [_xF]: 1 }],
    () => NoncurrentVersionExpiration$,
    () => AbortIncompleteMultipartUpload$
  ]
];
var LifecycleRuleAndOperator$ = [
  3,
  n0,
  _LRAO,
  0,
  [_P, _T, _OSGT, _OSLT],
  [0, [() => TagSet, { [_xN]: _Ta, [_xF]: 1 }], 1, 1]
];
var LifecycleRuleFilter$ = [
  3,
  n0,
  _LRF,
  0,
  [_P, _Ta, _OSGT, _OSLT, _An],
  [0, () => Tag$, 1, 1, [() => LifecycleRuleAndOperator$, 0]]
];
var ListBucketAnalyticsConfigurationsOutput$ = [
  3,
  n0,
  _LBACO,
  { [_xN]: _LBACR },
  [_IT, _CTon, _NCT, _ACLn],
  [2, 0, 0, [() => AnalyticsConfigurationList, { [_xN]: _ACn, [_xF]: 1 }]]
];
var ListBucketAnalyticsConfigurationsRequest$ = [
  3,
  n0,
  _LBACRi,
  0,
  [_B, _CTon, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _ct }],
    [0, { [_hH]: _xaebo }]
  ]
];
var ListBucketIntelligentTieringConfigurationsOutput$ = [
  3,
  n0,
  _LBITCO,
  0,
  [_IT, _CTon, _NCT, _ITCL],
  [2, 0, 0, [() => IntelligentTieringConfigurationList, { [_xN]: _ITC, [_xF]: 1 }]]
];
var ListBucketIntelligentTieringConfigurationsRequest$ = [
  3,
  n0,
  _LBITCR,
  0,
  [_B, _CTon, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _ct }],
    [0, { [_hH]: _xaebo }]
  ]
];
var ListBucketInventoryConfigurationsOutput$ = [
  3,
  n0,
  _LBICO,
  { [_xN]: _LICR },
  [_CTon, _ICL, _IT, _NCT],
  [0, [() => InventoryConfigurationList, { [_xN]: _IC, [_xF]: 1 }], 2, 0]
];
var ListBucketInventoryConfigurationsRequest$ = [
  3,
  n0,
  _LBICR,
  0,
  [_B, _CTon, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _ct }],
    [0, { [_hH]: _xaebo }]
  ]
];
var ListBucketMetricsConfigurationsOutput$ = [
  3,
  n0,
  _LBMCO,
  { [_xN]: _LMCR },
  [_IT, _CTon, _NCT, _MCL],
  [2, 0, 0, [() => MetricsConfigurationList, { [_xN]: _MCe, [_xF]: 1 }]]
];
var ListBucketMetricsConfigurationsRequest$ = [
  3,
  n0,
  _LBMCR,
  0,
  [_B, _CTon, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _ct }],
    [0, { [_hH]: _xaebo }]
  ]
];
var ListBucketsOutput$ = [
  3,
  n0,
  _LBO,
  { [_xN]: _LAMBR },
  [_Bu, _O, _CTon, _P],
  [[() => Buckets, 0], () => Owner$, 0, 0]
];
var ListBucketsRequest$ = [
  3,
  n0,
  _LBR,
  0,
  [_MB, _CTon, _P, _BR],
  [
    [1, { [_hQ]: _mb }],
    [0, { [_hQ]: _ct }],
    [0, { [_hQ]: _p }],
    [0, { [_hQ]: _br }]
  ]
];
var ListDirectoryBucketsOutput$ = [
  3,
  n0,
  _LDBO,
  { [_xN]: _LAMDBR },
  [_Bu, _CTon],
  [[() => Buckets, 0], 0]
];
var ListDirectoryBucketsRequest$ = [
  3,
  n0,
  _LDBR,
  0,
  [_CTon, _MDB],
  [
    [0, { [_hQ]: _ct }],
    [1, { [_hQ]: _mdb }]
  ]
];
var ListMultipartUploadsOutput$ = [
  3,
  n0,
  _LMUO,
  { [_xN]: _LMUR },
  [_B, _KM, _UIM, _NKM, _P, _Deli, _NUIM, _MUa, _IT, _U, _CPom, _ETn, _RC],
  [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    1,
    2,
    [() => MultipartUploadList, { [_xN]: _Up, [_xF]: 1 }],
    [() => CommonPrefixList, { [_xF]: 1 }],
    0,
    [0, { [_hH]: _xarc }]
  ]
];
var ListMultipartUploadsRequest$ = [
  3,
  n0,
  _LMURi,
  0,
  [_B, _Deli, _ETn, _KM, _MUa, _P, _UIM, _EBO, _RP],
  [
    [0, 1],
    [0, { [_hQ]: _d }],
    [0, { [_hQ]: _et }],
    [0, { [_hQ]: _km }],
    [1, { [_hQ]: _mu }],
    [0, { [_hQ]: _p }],
    [0, { [_hQ]: _uim }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xarp }]
  ]
];
var ListObjectsOutput$ = [
  3,
  n0,
  _LOO,
  { [_xN]: _LBRi },
  [_IT, _Ma, _NM, _Con, _N, _P, _Deli, _MK, _CPom, _ETn, _RC],
  [
    2,
    0,
    0,
    [() => ObjectList, { [_xF]: 1 }],
    0,
    0,
    0,
    1,
    [() => CommonPrefixList, { [_xF]: 1 }],
    0,
    [0, { [_hH]: _xarc }]
  ]
];
var ListObjectsRequest$ = [
  3,
  n0,
  _LOR,
  0,
  [_B, _Deli, _ETn, _Ma, _MK, _P, _RP, _EBO, _OOA],
  [
    [0, 1],
    [0, { [_hQ]: _d }],
    [0, { [_hQ]: _et }],
    [0, { [_hQ]: _m }],
    [1, { [_hQ]: _mk }],
    [0, { [_hQ]: _p }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }],
    [64 | 0, { [_hH]: _xaooa }]
  ]
];
var ListObjectsV2Output$ = [
  3,
  n0,
  _LOVO,
  { [_xN]: _LBRi },
  [_IT, _Con, _N, _P, _Deli, _MK, _CPom, _ETn, _KC, _CTon, _NCT, _SA, _RC],
  [
    2,
    [() => ObjectList, { [_xF]: 1 }],
    0,
    0,
    0,
    1,
    [() => CommonPrefixList, { [_xF]: 1 }],
    0,
    1,
    0,
    0,
    0,
    [0, { [_hH]: _xarc }]
  ]
];
var ListObjectsV2Request$ = [
  3,
  n0,
  _LOVR,
  0,
  [_B, _Deli, _ETn, _MK, _P, _CTon, _FO, _SA, _RP, _EBO, _OOA],
  [
    [0, 1],
    [0, { [_hQ]: _d }],
    [0, { [_hQ]: _et }],
    [1, { [_hQ]: _mk }],
    [0, { [_hQ]: _p }],
    [0, { [_hQ]: _ct }],
    [2, { [_hQ]: _fo }],
    [0, { [_hQ]: _sa }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }],
    [64 | 0, { [_hH]: _xaooa }]
  ]
];
var ListObjectVersionsOutput$ = [
  3,
  n0,
  _LOVOi,
  { [_xN]: _LVR },
  [_IT, _KM, _VIM, _NKM, _NVIM, _Ve, _DMe, _N, _P, _Deli, _MK, _CPom, _ETn, _RC],
  [
    2,
    0,
    0,
    0,
    0,
    [() => ObjectVersionList, { [_xN]: _Ver, [_xF]: 1 }],
    [() => DeleteMarkers, { [_xN]: _DM, [_xF]: 1 }],
    0,
    0,
    0,
    1,
    [() => CommonPrefixList, { [_xF]: 1 }],
    0,
    [0, { [_hH]: _xarc }]
  ]
];
var ListObjectVersionsRequest$ = [
  3,
  n0,
  _LOVRi,
  0,
  [_B, _Deli, _ETn, _KM, _MK, _P, _VIM, _EBO, _RP, _OOA],
  [
    [0, 1],
    [0, { [_hQ]: _d }],
    [0, { [_hQ]: _et }],
    [0, { [_hQ]: _km }],
    [1, { [_hQ]: _mk }],
    [0, { [_hQ]: _p }],
    [0, { [_hQ]: _vim }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xarp }],
    [64 | 0, { [_hH]: _xaooa }]
  ]
];
var ListPartsOutput$ = [
  3,
  n0,
  _LPO,
  { [_xN]: _LPR },
  [_AD, _ARI, _B, _K, _UI, _PNM, _NPNM, _MP, _IT, _Pa, _In, _O, _SC, _RC, _CA, _CT],
  [
    [4, { [_hH]: _xaad }],
    [0, { [_hH]: _xaari }],
    0,
    0,
    0,
    0,
    0,
    1,
    2,
    [() => Parts, { [_xN]: _Par, [_xF]: 1 }],
    () => Initiator$,
    () => Owner$,
    0,
    [0, { [_hH]: _xarc }],
    0,
    0
  ]
];
var ListPartsRequest$ = [
  3,
  n0,
  _LPRi,
  0,
  [_B, _K, _MP, _PNM, _UI, _RP, _EBO, _SSECA, _SSECK, _SSECKMD],
  [
    [0, 1],
    [0, 1],
    [1, { [_hQ]: _mp }],
    [0, { [_hQ]: _pnm }],
    [0, { [_hQ]: _uI }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }]
  ]
];
var LocationInfo$ = [3, n0, _LI, 0, [_Ty, _N], [0, 0]];
var LoggingEnabled$ = [
  3,
  n0,
  _LE,
  0,
  [_TB, _TG, _TP, _TOKF],
  [0, [() => TargetGrants, 0], 0, [() => TargetObjectKeyFormat$, 0]]
];
var MetadataConfiguration$ = [
  3,
  n0,
  _MC,
  0,
  [_JTC, _ITCn],
  [() => JournalTableConfiguration$, () => InventoryTableConfiguration$]
];
var MetadataConfigurationResult$ = [
  3,
  n0,
  _MCR,
  0,
  [_DRes, _JTCR, _ITCR],
  [() => DestinationResult$, () => JournalTableConfigurationResult$, () => InventoryTableConfigurationResult$]
];
var MetadataEntry$ = [3, n0, _ME, 0, [_N, _V], [0, 0]];
var MetadataTableConfiguration$ = [3, n0, _MTC, 0, [_STD], [() => S3TablesDestination$]];
var MetadataTableConfigurationResult$ = [
  3,
  n0,
  _MTCR,
  0,
  [_STDR],
  [() => S3TablesDestinationResult$]
];
var MetadataTableEncryptionConfiguration$ = [3, n0, _MTEC, 0, [_SAs, _KKA], [0, 0]];
var Metrics$ = [3, n0, _Me, 0, [_S, _ETv], [0, () => ReplicationTimeValue$]];
var MetricsAndOperator$ = [
  3,
  n0,
  _MAO,
  0,
  [_P, _T, _APAc],
  [0, [() => TagSet, { [_xN]: _Ta, [_xF]: 1 }], 0]
];
var MetricsConfiguration$ = [3, n0, _MCe, 0, [_I, _F], [0, [() => MetricsFilter$, 0]]];
var MultipartUpload$ = [
  3,
  n0,
  _MU,
  0,
  [_UI, _K, _Ini, _SC, _O, _In, _CA, _CT],
  [0, 0, 4, 0, () => Owner$, () => Initiator$, 0, 0]
];
var NoncurrentVersionExpiration$ = [3, n0, _NVE, 0, [_ND, _NNV], [1, 1]];
var NoncurrentVersionTransition$ = [3, n0, _NVTo, 0, [_ND, _SC, _NNV], [1, 0, 1]];
var NoSuchBucket$ = [-3, n0, _NSB, { [_e]: _c, [_hE]: 404 }, [], []];
TypeRegistry.for(n0).registerError(NoSuchBucket$, NoSuchBucket);
var NoSuchKey$ = [-3, n0, _NSK, { [_e]: _c, [_hE]: 404 }, [], []];
TypeRegistry.for(n0).registerError(NoSuchKey$, NoSuchKey);
var NoSuchUpload$ = [-3, n0, _NSU, { [_e]: _c, [_hE]: 404 }, [], []];
TypeRegistry.for(n0).registerError(NoSuchUpload$, NoSuchUpload);
var NotFound$ = [-3, n0, _NF, { [_e]: _c }, [], []];
TypeRegistry.for(n0).registerError(NotFound$, NotFound);
var NotificationConfiguration$ = [
  3,
  n0,
  _NC,
  0,
  [_TCo, _QCu, _LFCa, _EBC],
  [
    [() => TopicConfigurationList, { [_xN]: _TCop, [_xF]: 1 }],
    [() => QueueConfigurationList, { [_xN]: _QCue, [_xF]: 1 }],
    [() => LambdaFunctionConfigurationList, { [_xN]: _CFC, [_xF]: 1 }],
    () => EventBridgeConfiguration$
  ]
];
var NotificationConfigurationFilter$ = [
  3,
  n0,
  _NCF,
  0,
  [_K],
  [[() => S3KeyFilter$, { [_xN]: _SKe }]]
];
var _Object$ = [
  3,
  n0,
  _Obj,
  0,
  [_K, _LM, _ETa, _CA, _CT, _Si, _SC, _O, _RSe],
  [0, 4, 0, [64 | 0, { [_xF]: 1 }], 0, 1, 0, () => Owner$, () => RestoreStatus$]
];
var ObjectAlreadyInActiveTierError$ = [-3, n0, _OAIATE, { [_e]: _c, [_hE]: 403 }, [], []];
TypeRegistry.for(n0).registerError(ObjectAlreadyInActiveTierError$, ObjectAlreadyInActiveTierError);
var ObjectIdentifier$ = [3, n0, _OI, 0, [_K, _VI, _ETa, _LMT, _Si], [0, 0, 0, 6, 1]];
var ObjectLockConfiguration$ = [3, n0, _OLC, 0, [_OLE, _Ru], [0, () => ObjectLockRule$]];
var ObjectLockLegalHold$ = [3, n0, _OLLH, 0, [_S], [0]];
var ObjectLockRetention$ = [3, n0, _OLR, 0, [_Mo, _RUD], [0, 5]];
var ObjectLockRule$ = [3, n0, _OLRb, 0, [_DRe], [() => DefaultRetention$]];
var ObjectNotInActiveTierError$ = [-3, n0, _ONIATE, { [_e]: _c, [_hE]: 403 }, [], []];
TypeRegistry.for(n0).registerError(ObjectNotInActiveTierError$, ObjectNotInActiveTierError);
var ObjectPart$ = [
  3,
  n0,
  _OPb,
  0,
  [_PN, _Si, _CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh],
  [1, 1, 0, 0, 0, 0, 0]
];
var ObjectVersion$ = [
  3,
  n0,
  _OV,
  0,
  [_ETa, _CA, _CT, _Si, _SC, _K, _VI, _IL, _LM, _O, _RSe],
  [0, [64 | 0, { [_xF]: 1 }], 0, 1, 0, 0, 0, 2, 4, () => Owner$, () => RestoreStatus$]
];
var OutputLocation$ = [3, n0, _OL, 0, [_S_], [[() => S3Location$, 0]]];
var OutputSerialization$ = [
  3,
  n0,
  _OSu,
  0,
  [_CSV, _JSON],
  [() => CSVOutput$, () => JSONOutput$]
];
var Owner$ = [3, n0, _O, 0, [_DN, _ID], [0, 0]];
var OwnershipControls$ = [
  3,
  n0,
  _OC,
  0,
  [_R],
  [[() => OwnershipControlsRules, { [_xN]: _Ru, [_xF]: 1 }]]
];
var OwnershipControlsRule$ = [3, n0, _OCR, 0, [_OO], [0]];
var ParquetInput$ = [3, n0, _PI, 0, [], []];
var Part$ = [
  3,
  n0,
  _Par,
  0,
  [_PN, _LM, _ETa, _Si, _CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh],
  [1, 4, 0, 1, 0, 0, 0, 0, 0]
];
var PartitionedPrefix$ = [3, n0, _PP, { [_xN]: _PP }, [_PDS], [0]];
var PolicyStatus$ = [3, n0, _PS, 0, [_IP], [[2, { [_xN]: _IP }]]];
var Progress$ = [3, n0, _Pr, 0, [_BS, _BP, _BRy], [1, 1, 1]];
var ProgressEvent$ = [3, n0, _PE, 0, [_Det], [[() => Progress$, { [_eP]: 1 }]]];
var PublicAccessBlockConfiguration$ = [
  3,
  n0,
  _PABC,
  0,
  [_BPA, _IPA, _BPP, _RPB],
  [
    [2, { [_xN]: _BPA }],
    [2, { [_xN]: _IPA }],
    [2, { [_xN]: _BPP }],
    [2, { [_xN]: _RPB }]
  ]
];
var PutBucketAbacRequest$ = [
  3,
  n0,
  _PBAR,
  0,
  [_B, _CMD, _CA, _EBO, _AS],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xaebo }],
    [() => AbacStatus$, { [_xN]: _AS, [_hP]: 1 }]
  ]
];
var PutBucketAccelerateConfigurationRequest$ = [
  3,
  n0,
  _PBACR,
  0,
  [_B, _AC, _EBO, _CA],
  [
    [0, 1],
    [() => AccelerateConfiguration$, { [_xN]: _AC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xasca }]
  ]
];
var PutBucketAclRequest$ = [
  3,
  n0,
  _PBARu,
  0,
  [_ACL_, _ACP, _B, _CMD, _CA, _GFC, _GR, _GRACP, _GW, _GWACP, _EBO],
  [
    [0, { [_hH]: _xaa }],
    [() => AccessControlPolicy$, { [_xN]: _ACP, [_hP]: 1 }],
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xagfc }],
    [0, { [_hH]: _xagr }],
    [0, { [_hH]: _xagra }],
    [0, { [_hH]: _xagw }],
    [0, { [_hH]: _xagwa }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketAnalyticsConfigurationRequest$ = [
  3,
  n0,
  _PBACRu,
  0,
  [_B, _I, _ACn, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [() => AnalyticsConfiguration$, { [_xN]: _ACn, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketCorsRequest$ = [
  3,
  n0,
  _PBCR,
  0,
  [_B, _CORSC, _CMD, _CA, _EBO],
  [
    [0, 1],
    [() => CORSConfiguration$, { [_xN]: _CORSC, [_hP]: 1 }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketEncryptionRequest$ = [
  3,
  n0,
  _PBER,
  0,
  [_B, _CMD, _CA, _SSEC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => ServerSideEncryptionConfiguration$, { [_xN]: _SSEC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketIntelligentTieringConfigurationRequest$ = [
  3,
  n0,
  _PBITCR,
  0,
  [_B, _I, _EBO, _ITC],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [0, { [_hH]: _xaebo }],
    [() => IntelligentTieringConfiguration$, { [_xN]: _ITC, [_hP]: 1 }]
  ]
];
var PutBucketInventoryConfigurationRequest$ = [
  3,
  n0,
  _PBICR,
  0,
  [_B, _I, _IC, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [() => InventoryConfiguration$, { [_xN]: _IC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketLifecycleConfigurationOutput$ = [
  3,
  n0,
  _PBLCO,
  0,
  [_TDMOS],
  [[0, { [_hH]: _xatdmos }]]
];
var PutBucketLifecycleConfigurationRequest$ = [
  3,
  n0,
  _PBLCR,
  0,
  [_B, _CA, _LCi, _EBO, _TDMOS],
  [
    [0, 1],
    [0, { [_hH]: _xasca }],
    [() => BucketLifecycleConfiguration$, { [_xN]: _LCi, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xatdmos }]
  ]
];
var PutBucketLoggingRequest$ = [
  3,
  n0,
  _PBLR,
  0,
  [_B, _BLS, _CMD, _CA, _EBO],
  [
    [0, 1],
    [() => BucketLoggingStatus$, { [_xN]: _BLS, [_hP]: 1 }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketMetricsConfigurationRequest$ = [
  3,
  n0,
  _PBMCR,
  0,
  [_B, _I, _MCe, _EBO],
  [
    [0, 1],
    [0, { [_hQ]: _i }],
    [() => MetricsConfiguration$, { [_xN]: _MCe, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketNotificationConfigurationRequest$ = [
  3,
  n0,
  _PBNCR,
  0,
  [_B, _NC, _EBO, _SDV],
  [
    [0, 1],
    [() => NotificationConfiguration$, { [_xN]: _NC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }],
    [2, { [_hH]: _xasdv }]
  ]
];
var PutBucketOwnershipControlsRequest$ = [
  3,
  n0,
  _PBOCR,
  0,
  [_B, _CMD, _EBO, _OC, _CA],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xaebo }],
    [() => OwnershipControls$, { [_xN]: _OC, [_hP]: 1 }],
    [0, { [_hH]: _xasca }]
  ]
];
var PutBucketPolicyRequest$ = [
  3,
  n0,
  _PBPR,
  0,
  [_B, _CMD, _CA, _CRSBA, _Po, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [2, { [_hH]: _xacrsba }],
    [0, 16],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketReplicationRequest$ = [
  3,
  n0,
  _PBRR,
  0,
  [_B, _CMD, _CA, _RCe, _To, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => ReplicationConfiguration$, { [_xN]: _RCe, [_hP]: 1 }],
    [0, { [_hH]: _xabolt }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketRequestPaymentRequest$ = [
  3,
  n0,
  _PBRPR,
  0,
  [_B, _CMD, _CA, _RPC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => RequestPaymentConfiguration$, { [_xN]: _RPC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketTaggingRequest$ = [
  3,
  n0,
  _PBTR,
  0,
  [_B, _CMD, _CA, _Tag, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => Tagging$, { [_xN]: _Tag, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketVersioningRequest$ = [
  3,
  n0,
  _PBVR,
  0,
  [_B, _CMD, _CA, _MFA, _VC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xam_ }],
    [() => VersioningConfiguration$, { [_xN]: _VC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutBucketWebsiteRequest$ = [
  3,
  n0,
  _PBWR,
  0,
  [_B, _CMD, _CA, _WC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => WebsiteConfiguration$, { [_xN]: _WC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutObjectAclOutput$ = [3, n0, _POAO, 0, [_RC], [[0, { [_hH]: _xarc }]]];
var PutObjectAclRequest$ = [
  3,
  n0,
  _POAR,
  0,
  [_ACL_, _ACP, _B, _CMD, _CA, _GFC, _GR, _GRACP, _GW, _GWACP, _K, _RP, _VI, _EBO],
  [
    [0, { [_hH]: _xaa }],
    [() => AccessControlPolicy$, { [_xN]: _ACP, [_hP]: 1 }],
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xagfc }],
    [0, { [_hH]: _xagr }],
    [0, { [_hH]: _xagra }],
    [0, { [_hH]: _xagw }],
    [0, { [_hH]: _xagwa }],
    [0, 1],
    [0, { [_hH]: _xarp }],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutObjectLegalHoldOutput$ = [3, n0, _POLHO, 0, [_RC], [[0, { [_hH]: _xarc }]]];
var PutObjectLegalHoldRequest$ = [
  3,
  n0,
  _POLHR,
  0,
  [_B, _K, _LH, _RP, _VI, _CMD, _CA, _EBO],
  [
    [0, 1],
    [0, 1],
    [() => ObjectLockLegalHold$, { [_xN]: _LH, [_hP]: 1 }],
    [0, { [_hH]: _xarp }],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutObjectLockConfigurationOutput$ = [
  3,
  n0,
  _POLCO,
  0,
  [_RC],
  [[0, { [_hH]: _xarc }]]
];
var PutObjectLockConfigurationRequest$ = [
  3,
  n0,
  _POLCR,
  0,
  [_B, _OLC, _RP, _To, _CMD, _CA, _EBO],
  [
    [0, 1],
    [() => ObjectLockConfiguration$, { [_xN]: _OLC, [_hP]: 1 }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xabolt }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutObjectOutput$ = [
  3,
  n0,
  _POO,
  0,
  [
    _E,
    _ETa,
    _CCRC,
    _CCRCC,
    _CCRCNVME,
    _CSHA,
    _CSHAh,
    _CT,
    _SSE,
    _VI,
    _SSECA,
    _SSECKMD,
    _SSEKMSKI,
    _SSEKMSEC,
    _BKE,
    _Si,
    _RC
  ],
  [
    [0, { [_hH]: _xae }],
    [0, { [_hH]: _ETa }],
    [0, { [_hH]: _xacc }],
    [0, { [_hH]: _xacc_ }],
    [0, { [_hH]: _xacc__ }],
    [0, { [_hH]: _xacs }],
    [0, { [_hH]: _xacs_ }],
    [0, { [_hH]: _xact }],
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xavi }],
    [0, { [_hH]: _xasseca }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }],
    [1, { [_hH]: _xaos }],
    [0, { [_hH]: _xarc }]
  ]
];
var PutObjectRequest$ = [
  3,
  n0,
  _POR,
  0,
  [
    _ACL_,
    _Bo,
    _B,
    _CC,
    _CDo,
    _CEo,
    _CL,
    _CLo,
    _CMD,
    _CTo,
    _CA,
    _CCRC,
    _CCRCC,
    _CCRCNVME,
    _CSHA,
    _CSHAh,
    _Ex,
    _IM,
    _INM,
    _GFC,
    _GR,
    _GRACP,
    _GWACP,
    _K,
    _WOB,
    _M,
    _SSE,
    _SC,
    _WRL,
    _SSECA,
    _SSECK,
    _SSECKMD,
    _SSEKMSKI,
    _SSEKMSEC,
    _BKE,
    _RP,
    _Tag,
    _OLM,
    _OLRUD,
    _OLLHS,
    _EBO
  ],
  [
    [0, { [_hH]: _xaa }],
    [() => StreamingBlob, 16],
    [0, 1],
    [0, { [_hH]: _CC_ }],
    [0, { [_hH]: _CD_ }],
    [0, { [_hH]: _CE_ }],
    [0, { [_hH]: _CL_ }],
    [1, { [_hH]: _CL__ }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _CT_ }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xacc }],
    [0, { [_hH]: _xacc_ }],
    [0, { [_hH]: _xacc__ }],
    [0, { [_hH]: _xacs }],
    [0, { [_hH]: _xacs_ }],
    [4, { [_hH]: _Ex }],
    [0, { [_hH]: _IM_ }],
    [0, { [_hH]: _INM_ }],
    [0, { [_hH]: _xagfc }],
    [0, { [_hH]: _xagr }],
    [0, { [_hH]: _xagra }],
    [0, { [_hH]: _xagwa }],
    [0, 1],
    [1, { [_hH]: _xawob }],
    [128 | 0, { [_hPH]: _xam }],
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xasc }],
    [0, { [_hH]: _xawrl }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [() => SSEKMSEncryptionContext, { [_hH]: _xassec }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xat }],
    [0, { [_hH]: _xaolm }],
    [5, { [_hH]: _xaolrud }],
    [0, { [_hH]: _xaollh }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutObjectRetentionOutput$ = [3, n0, _PORO, 0, [_RC], [[0, { [_hH]: _xarc }]]];
var PutObjectRetentionRequest$ = [
  3,
  n0,
  _PORR,
  0,
  [_B, _K, _Ret, _RP, _VI, _BGR, _CMD, _CA, _EBO],
  [
    [0, 1],
    [0, 1],
    [() => ObjectLockRetention$, { [_xN]: _Ret, [_hP]: 1 }],
    [0, { [_hH]: _xarp }],
    [0, { [_hQ]: _vI }],
    [2, { [_hH]: _xabgr }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xaebo }]
  ]
];
var PutObjectTaggingOutput$ = [3, n0, _POTO, 0, [_VI], [[0, { [_hH]: _xavi }]]];
var PutObjectTaggingRequest$ = [
  3,
  n0,
  _POTR,
  0,
  [_B, _K, _VI, _CMD, _CA, _Tag, _EBO, _RP],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => Tagging$, { [_xN]: _Tag, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xarp }]
  ]
];
var PutPublicAccessBlockRequest$ = [
  3,
  n0,
  _PPABR,
  0,
  [_B, _CMD, _CA, _PABC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => PublicAccessBlockConfiguration$, { [_xN]: _PABC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var QueueConfiguration$ = [
  3,
  n0,
  _QCue,
  0,
  [_I, _QA, _Ev, _F],
  [0, [0, { [_xN]: _Qu }], [64 | 0, { [_xN]: _Eve, [_xF]: 1 }], [() => NotificationConfigurationFilter$, 0]]
];
var RecordExpiration$ = [3, n0, _REe, 0, [_E, _D], [0, 1]];
var RecordsEvent$ = [3, n0, _REec, 0, [_Payl], [[21, { [_eP]: 1 }]]];
var Redirect$ = [3, n0, _Red, 0, [_HN, _HRC, _Pro, _RKPW, _RKW], [0, 0, 0, 0, 0]];
var RedirectAllRequestsTo$ = [3, n0, _RART, 0, [_HN, _Pro], [0, 0]];
var RenameObjectOutput$ = [3, n0, _ROO, 0, [], []];
var RenameObjectRequest$ = [
  3,
  n0,
  _ROR,
  0,
  [_B, _K, _RSen, _DIM, _DINM, _DIMS, _DIUS, _SIM, _SINM, _SIMS, _SIUS, _CTl],
  [
    [0, 1],
    [0, 1],
    [0, { [_hH]: _xars_ }],
    [0, { [_hH]: _IM_ }],
    [0, { [_hH]: _INM_ }],
    [4, { [_hH]: _IMS_ }],
    [4, { [_hH]: _IUS_ }],
    [0, { [_hH]: _xarsim }],
    [0, { [_hH]: _xarsinm }],
    [6, { [_hH]: _xarsims }],
    [6, { [_hH]: _xarsius }],
    [0, { [_hH]: _xact_, [_iT]: 1 }]
  ]
];
var ReplicaModifications$ = [3, n0, _RM, 0, [_S], [0]];
var ReplicationConfiguration$ = [
  3,
  n0,
  _RCe,
  0,
  [_Ro, _R],
  [0, [() => ReplicationRules, { [_xN]: _Ru, [_xF]: 1 }]]
];
var ReplicationRule$ = [
  3,
  n0,
  _RRe,
  0,
  [_ID, _Pri, _P, _F, _S, _SSC, _EOR, _Des, _DMR],
  [
    0,
    1,
    0,
    [() => ReplicationRuleFilter$, 0],
    0,
    () => SourceSelectionCriteria$,
    () => ExistingObjectReplication$,
    () => Destination$,
    () => DeleteMarkerReplication$
  ]
];
var ReplicationRuleAndOperator$ = [
  3,
  n0,
  _RRAO,
  0,
  [_P, _T],
  [0, [() => TagSet, { [_xN]: _Ta, [_xF]: 1 }]]
];
var ReplicationRuleFilter$ = [
  3,
  n0,
  _RRF,
  0,
  [_P, _Ta, _An],
  [0, () => Tag$, [() => ReplicationRuleAndOperator$, 0]]
];
var ReplicationTime$ = [3, n0, _RT, 0, [_S, _Tim], [0, () => ReplicationTimeValue$]];
var ReplicationTimeValue$ = [3, n0, _RTV, 0, [_Mi], [1]];
var RequestPaymentConfiguration$ = [3, n0, _RPC, 0, [_Pay], [0]];
var RequestProgress$ = [3, n0, _RPe, 0, [_Ena], [2]];
var RestoreObjectOutput$ = [
  3,
  n0,
  _ROOe,
  0,
  [_RC, _ROP],
  [
    [0, { [_hH]: _xarc }],
    [0, { [_hH]: _xarop }]
  ]
];
var RestoreObjectRequest$ = [
  3,
  n0,
  _RORe,
  0,
  [_B, _K, _VI, _RRes, _RP, _CA, _EBO],
  [
    [0, 1],
    [0, 1],
    [0, { [_hQ]: _vI }],
    [() => RestoreRequest$, { [_hP]: 1, [_xN]: _RRes }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xaebo }]
  ]
];
var RestoreRequest$ = [
  3,
  n0,
  _RRes,
  0,
  [_D, _GJP, _Ty, _Ti, _Desc, _SP, _OL],
  [1, () => GlacierJobParameters$, 0, 0, 0, () => SelectParameters$, [() => OutputLocation$, 0]]
];
var RestoreStatus$ = [3, n0, _RSe, 0, [_IRIP, _RED], [2, 4]];
var RoutingRule$ = [3, n0, _RRo, 0, [_Co, _Red], [() => Condition$, () => Redirect$]];
var S3KeyFilter$ = [
  3,
  n0,
  _SKF,
  0,
  [_FRi],
  [[() => FilterRuleList, { [_xN]: _FR, [_xF]: 1 }]]
];
var S3Location$ = [
  3,
  n0,
  _SL,
  0,
  [_BN, _P, _En, _CACL, _ACL, _Tag, _UM, _SC],
  [0, 0, [() => Encryption$, 0], 0, [() => Grants, 0], [() => Tagging$, 0], [() => UserMetadata, 0], 0]
];
var S3TablesDestination$ = [3, n0, _STD, 0, [_TBA, _TNa], [0, 0]];
var S3TablesDestinationResult$ = [3, n0, _STDR, 0, [_TBA, _TNa, _TA, _TN], [0, 0, 0, 0]];
var ScanRange$ = [3, n0, _SR, 0, [_St, _End], [1, 1]];
var SelectObjectContentOutput$ = [
  3,
  n0,
  _SOCO,
  0,
  [_Payl],
  [[() => SelectObjectContentEventStream$, 16]]
];
var SelectObjectContentRequest$ = [
  3,
  n0,
  _SOCR,
  0,
  [_B, _K, _SSECA, _SSECK, _SSECKMD, _Exp, _ETx, _RPe, _IS, _OSu, _SR, _EBO],
  [
    [0, 1],
    [0, 1],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    0,
    0,
    () => RequestProgress$,
    () => InputSerialization$,
    () => OutputSerialization$,
    () => ScanRange$,
    [0, { [_hH]: _xaebo }]
  ]
];
var SelectParameters$ = [
  3,
  n0,
  _SP,
  0,
  [_IS, _ETx, _Exp, _OSu],
  [() => InputSerialization$, 0, 0, () => OutputSerialization$]
];
var ServerSideEncryptionByDefault$ = [
  3,
  n0,
  _SSEBD,
  0,
  [_SSEA, _KMSMKID],
  [0, [() => SSEKMSKeyId, 0]]
];
var ServerSideEncryptionConfiguration$ = [
  3,
  n0,
  _SSEC,
  0,
  [_R],
  [[() => ServerSideEncryptionRules, { [_xN]: _Ru, [_xF]: 1 }]]
];
var ServerSideEncryptionRule$ = [
  3,
  n0,
  _SSER,
  0,
  [_ASSEBD, _BKE, _BET],
  [[() => ServerSideEncryptionByDefault$, 0], 2, [() => BlockedEncryptionTypes$, 0]]
];
var SessionCredentials$ = [
  3,
  n0,
  _SCe,
  0,
  [_AKI, _SAK, _ST, _E],
  [
    [0, { [_xN]: _AKI }],
    [() => SessionCredentialValue, { [_xN]: _SAK }],
    [() => SessionCredentialValue, { [_xN]: _ST }],
    [4, { [_xN]: _E }]
  ]
];
var SimplePrefix$ = [3, n0, _SPi, { [_xN]: _SPi }, [], []];
var SourceSelectionCriteria$ = [
  3,
  n0,
  _SSC,
  0,
  [_SKEO, _RM],
  [() => SseKmsEncryptedObjects$, () => ReplicaModifications$]
];
var SSEKMS$ = [3, n0, _SSEKMS, { [_xN]: _SK }, [_KI], [[() => SSEKMSKeyId, 0]]];
var SseKmsEncryptedObjects$ = [3, n0, _SKEO, 0, [_S], [0]];
var SSES3$ = [3, n0, _SSES, { [_xN]: _SS }, [], []];
var Stats$ = [3, n0, _Sta, 0, [_BS, _BP, _BRy], [1, 1, 1]];
var StatsEvent$ = [3, n0, _SE, 0, [_Det], [[() => Stats$, { [_eP]: 1 }]]];
var StorageClassAnalysis$ = [
  3,
  n0,
  _SCA,
  0,
  [_DE],
  [() => StorageClassAnalysisDataExport$]
];
var StorageClassAnalysisDataExport$ = [
  3,
  n0,
  _SCADE,
  0,
  [_OSV, _Des],
  [0, () => AnalyticsExportDestination$]
];
var Tag$ = [3, n0, _Ta, 0, [_K, _V], [0, 0]];
var Tagging$ = [3, n0, _Tag, 0, [_TS], [[() => TagSet, 0]]];
var TargetGrant$ = [
  3,
  n0,
  _TGa,
  0,
  [_Gra, _Pe],
  [[() => Grantee$, { [_xNm]: [_x, _hi] }], 0]
];
var TargetObjectKeyFormat$ = [
  3,
  n0,
  _TOKF,
  0,
  [_SPi, _PP],
  [
    [() => SimplePrefix$, { [_xN]: _SPi }],
    [() => PartitionedPrefix$, { [_xN]: _PP }]
  ]
];
var Tiering$ = [3, n0, _Tier, 0, [_D, _AT], [1, 0]];
var TooManyParts$ = [-3, n0, _TMP, { [_e]: _c, [_hE]: 400 }, [], []];
TypeRegistry.for(n0).registerError(TooManyParts$, TooManyParts);
var TopicConfiguration$ = [
  3,
  n0,
  _TCop,
  0,
  [_I, _TAo, _Ev, _F],
  [0, [0, { [_xN]: _Top }], [64 | 0, { [_xN]: _Eve, [_xF]: 1 }], [() => NotificationConfigurationFilter$, 0]]
];
var Transition$ = [3, n0, _Tra, 0, [_Da, _D, _SC], [5, 1, 0]];
var UpdateBucketMetadataInventoryTableConfigurationRequest$ = [
  3,
  n0,
  _UBMITCR,
  0,
  [_B, _CMD, _CA, _ITCn, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => InventoryTableConfigurationUpdates$, { [_xN]: _ITCn, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var UpdateBucketMetadataJournalTableConfigurationRequest$ = [
  3,
  n0,
  _UBMJTCR,
  0,
  [_B, _CMD, _CA, _JTC, _EBO],
  [
    [0, 1],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [() => JournalTableConfigurationUpdates$, { [_xN]: _JTC, [_hP]: 1 }],
    [0, { [_hH]: _xaebo }]
  ]
];
var UploadPartCopyOutput$ = [
  3,
  n0,
  _UPCO,
  0,
  [_CSVI, _CPR, _SSE, _SSECA, _SSECKMD, _SSEKMSKI, _BKE, _RC],
  [
    [0, { [_hH]: _xacsvi }],
    [() => CopyPartResult$, 16],
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _xasseca }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xarc }]
  ]
];
var UploadPartCopyRequest$ = [
  3,
  n0,
  _UPCR,
  0,
  [
    _B,
    _CS,
    _CSIM,
    _CSIMS,
    _CSINM,
    _CSIUS,
    _CSRo,
    _K,
    _PN,
    _UI,
    _SSECA,
    _SSECK,
    _SSECKMD,
    _CSSSECA,
    _CSSSECK,
    _CSSSECKMD,
    _RP,
    _EBO,
    _ESBO
  ],
  [
    [0, 1],
    [0, { [_hH]: _xacs__ }],
    [0, { [_hH]: _xacsim }],
    [4, { [_hH]: _xacsims }],
    [0, { [_hH]: _xacsinm }],
    [4, { [_hH]: _xacsius }],
    [0, { [_hH]: _xacsr }],
    [0, 1],
    [1, { [_hQ]: _pN }],
    [0, { [_hQ]: _uI }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [0, { [_hH]: _xacssseca }],
    [() => CopySourceSSECustomerKey, { [_hH]: _xacssseck }],
    [0, { [_hH]: _xacssseckM }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }],
    [0, { [_hH]: _xasebo }]
  ]
];
var UploadPartOutput$ = [
  3,
  n0,
  _UPO,
  0,
  [_SSE, _ETa, _CCRC, _CCRCC, _CCRCNVME, _CSHA, _CSHAh, _SSECA, _SSECKMD, _SSEKMSKI, _BKE, _RC],
  [
    [0, { [_hH]: _xasse }],
    [0, { [_hH]: _ETa }],
    [0, { [_hH]: _xacc }],
    [0, { [_hH]: _xacc_ }],
    [0, { [_hH]: _xacc__ }],
    [0, { [_hH]: _xacs }],
    [0, { [_hH]: _xacs_ }],
    [0, { [_hH]: _xasseca }],
    [0, { [_hH]: _xasseckM }],
    [() => SSEKMSKeyId, { [_hH]: _xasseakki }],
    [2, { [_hH]: _xassebke }],
    [0, { [_hH]: _xarc }]
  ]
];
var UploadPartRequest$ = [
  3,
  n0,
  _UPR,
  0,
  [
    _Bo,
    _B,
    _CLo,
    _CMD,
    _CA,
    _CCRC,
    _CCRCC,
    _CCRCNVME,
    _CSHA,
    _CSHAh,
    _K,
    _PN,
    _UI,
    _SSECA,
    _SSECK,
    _SSECKMD,
    _RP,
    _EBO
  ],
  [
    [() => StreamingBlob, 16],
    [0, 1],
    [1, { [_hH]: _CL__ }],
    [0, { [_hH]: _CM }],
    [0, { [_hH]: _xasca }],
    [0, { [_hH]: _xacc }],
    [0, { [_hH]: _xacc_ }],
    [0, { [_hH]: _xacc__ }],
    [0, { [_hH]: _xacs }],
    [0, { [_hH]: _xacs_ }],
    [0, 1],
    [1, { [_hQ]: _pN }],
    [0, { [_hQ]: _uI }],
    [0, { [_hH]: _xasseca }],
    [() => SSECustomerKey, { [_hH]: _xasseck }],
    [0, { [_hH]: _xasseckM }],
    [0, { [_hH]: _xarp }],
    [0, { [_hH]: _xaebo }]
  ]
];
var VersioningConfiguration$ = [3, n0, _VC, 0, [_MFAD, _S], [[0, { [_xN]: _MDf }], 0]];
var WebsiteConfiguration$ = [
  3,
  n0,
  _WC,
  0,
  [_EDr, _IDn, _RART, _RR],
  [() => ErrorDocument$, () => IndexDocument$, () => RedirectAllRequestsTo$, [() => RoutingRules, 0]]
];
var WriteGetObjectResponseRequest$ = [
  3,
  n0,
  _WGORR,
  0,
  [
    _RReq,
    _RTe,
    _Bo,
    _SCt,
    _ECr,
    _EM,
    _AR,
    _CC,
    _CDo,
    _CEo,
    _CL,
    _CLo,
    _CR,
    _CTo,
    _CCRC,
    _CCRCC,
    _CCRCNVME,
    _CSHA,
    _CSHAh,
    _DM,
    _ETa,
    _Ex,
    _E,
    _LM,
    _MM,
    _M,
    _OLM,
    _OLLHS,
    _OLRUD,
    _PC,
    _RS,
    _RC,
    _Re,
    _SSE,
    _SSECA,
    _SSEKMSKI,
    _SSECKMD,
    _SC,
    _TC,
    _VI,
    _BKE
  ],
  [
    [0, { [_hL]: 1, [_hH]: _xarr }],
    [0, { [_hH]: _xart }],
    [() => StreamingBlob, 16],
    [1, { [_hH]: _xafs }],
    [0, { [_hH]: _xafec }],
    [0, { [_hH]: _xafem }],
    [0, { [_hH]: _xafhar }],
    [0, { [_hH]: _xafhCC }],
    [0, { [_hH]: _xafhCD }],
    [0, { [_hH]: _xafhCE }],
    [0, { [_hH]: _xafhCL }],
    [1, { [_hH]: _CL__ }],
    [0, { [_hH]: _xafhCR }],
    [0, { [_hH]: _xafhCT }],
    [0, { [_hH]: _xafhxacc }],
    [0, { [_hH]: _xafhxacc_ }],
    [0, { [_hH]: _xafhxacc__ }],
    [0, { [_hH]: _xafhxacs }],
    [0, { [_hH]: _xafhxacs_ }],
    [2, { [_hH]: _xafhxadm }],
    [0, { [_hH]: _xafhE }],
    [4, { [_hH]: _xafhE_ }],
    [0, { [_hH]: _xafhxae }],
    [4, { [_hH]: _xafhLM }],
    [1, { [_hH]: _xafhxamm }],
    [128 | 0, { [_hPH]: _xam }],
    [0, { [_hH]: _xafhxaolm }],
    [0, { [_hH]: _xafhxaollh }],
    [5, { [_hH]: _xafhxaolrud }],
    [1, { [_hH]: _xafhxampc }],
    [0, { [_hH]: _xafhxars }],
    [0, { [_hH]: _xafhxarc }],
    [0, { [_hH]: _xafhxar }],
    [0, { [_hH]: _xafhxasse }],
    [0, { [_hH]: _xafhxasseca }],
    [() => SSEKMSKeyId, { [_hH]: _xafhxasseakki }],
    [0, { [_hH]: _xafhxasseckM }],
    [0, { [_hH]: _xafhxasc }],
    [1, { [_hH]: _xafhxatc }],
    [0, { [_hH]: _xafhxavi }],
    [2, { [_hH]: _xafhxassebke }]
  ]
];
var __Unit = "unit";
var S3ServiceException$ = [-3, _sm, "S3ServiceException", 0, [], []];
TypeRegistry.for(_sm).registerError(S3ServiceException$, S3ServiceException);
var AllowedHeaders = 64 | 0;
var AllowedMethods = 64 | 0;
var AllowedOrigins = 64 | 0;
var AnalyticsConfigurationList = [1, n0, _ACLn, 0, [() => AnalyticsConfiguration$, 0]];
var Buckets = [1, n0, _Bu, 0, [() => Bucket$, { [_xN]: _B }]];
var ChecksumAlgorithmList = 64 | 0;
var CommonPrefixList = [1, n0, _CPL, 0, () => CommonPrefix$];
var CompletedPartList = [1, n0, _CPLo, 0, () => CompletedPart$];
var CORSRules = [1, n0, _CORSR, 0, [() => CORSRule$, 0]];
var DeletedObjects = [1, n0, _DOe, 0, () => DeletedObject$];
var DeleteMarkers = [1, n0, _DMe, 0, () => DeleteMarkerEntry$];
var EncryptionTypeList = [1, n0, _ETL, 0, [0, { [_xN]: _ET }]];
var Errors = [1, n0, _Er, 0, () => _Error$];
var EventList = 64 | 0;
var ExposeHeaders = 64 | 0;
var FilterRuleList = [1, n0, _FRL, 0, () => FilterRule$];
var Grants = [1, n0, _G, 0, [() => Grant$, { [_xN]: _Gr }]];
var IntelligentTieringConfigurationList = [
  1,
  n0,
  _ITCL,
  0,
  [() => IntelligentTieringConfiguration$, 0]
];
var InventoryConfigurationList = [1, n0, _ICL, 0, [() => InventoryConfiguration$, 0]];
var InventoryOptionalFields = [1, n0, _IOF, 0, [0, { [_xN]: _Fi }]];
var LambdaFunctionConfigurationList = [1, n0, _LFCL, 0, [() => LambdaFunctionConfiguration$, 0]];
var LifecycleRules = [1, n0, _LRi, 0, [() => LifecycleRule$, 0]];
var MetricsConfigurationList = [1, n0, _MCL, 0, [() => MetricsConfiguration$, 0]];
var MultipartUploadList = [1, n0, _MUL, 0, () => MultipartUpload$];
var NoncurrentVersionTransitionList = [1, n0, _NVTL, 0, () => NoncurrentVersionTransition$];
var ObjectAttributesList = 64 | 0;
var ObjectIdentifierList = [1, n0, _OIL, 0, () => ObjectIdentifier$];
var ObjectList = [1, n0, _OLb, 0, [() => _Object$, 0]];
var ObjectVersionList = [1, n0, _OVL, 0, [() => ObjectVersion$, 0]];
var OptionalObjectAttributesList = 64 | 0;
var OwnershipControlsRules = [1, n0, _OCRw, 0, () => OwnershipControlsRule$];
var Parts = [1, n0, _Pa, 0, () => Part$];
var PartsList = [1, n0, _PL, 0, () => ObjectPart$];
var QueueConfigurationList = [1, n0, _QCL, 0, [() => QueueConfiguration$, 0]];
var ReplicationRules = [1, n0, _RRep, 0, [() => ReplicationRule$, 0]];
var RoutingRules = [1, n0, _RR, 0, [() => RoutingRule$, { [_xN]: _RRo }]];
var ServerSideEncryptionRules = [1, n0, _SSERe, 0, [() => ServerSideEncryptionRule$, 0]];
var TagSet = [1, n0, _TS, 0, [() => Tag$, { [_xN]: _Ta }]];
var TargetGrants = [1, n0, _TG, 0, [() => TargetGrant$, { [_xN]: _Gr }]];
var TieringList = [1, n0, _TL, 0, () => Tiering$];
var TopicConfigurationList = [1, n0, _TCL, 0, [() => TopicConfiguration$, 0]];
var TransitionList = [1, n0, _TLr, 0, () => Transition$];
var UserMetadata = [1, n0, _UM, 0, [() => MetadataEntry$, { [_xN]: _ME }]];
var Metadata = 128 | 0;
var AnalyticsFilter$ = [
  3,
  n0,
  _AF,
  0,
  [_P, _Ta, _An],
  [0, () => Tag$, [() => AnalyticsAndOperator$, 0]]
];
var MetricsFilter$ = [
  3,
  n0,
  _MF,
  0,
  [_P, _Ta, _APAc, _An],
  [0, () => Tag$, 0, [() => MetricsAndOperator$, 0]]
];
var SelectObjectContentEventStream$ = [
  3,
  n0,
  _SOCES,
  { [_s]: 1 },
  [_Rec, _Sta, _Pr, _Cont, _End],
  [
    [() => RecordsEvent$, 0],
    [() => StatsEvent$, 0],
    [() => ProgressEvent$, 0],
    () => ContinuationEvent$,
    () => EndEvent$
  ]
];
var AbortMultipartUpload$ = [
  9,
  n0,
  _AMU,
  { [_h]: ["DELETE", "/{Key+}?x-id=AbortMultipartUpload", 204] },
  () => AbortMultipartUploadRequest$,
  () => AbortMultipartUploadOutput$
];
var CompleteMultipartUpload$ = [
  9,
  n0,
  _CMUo,
  { [_h]: ["POST", "/{Key+}", 200] },
  () => CompleteMultipartUploadRequest$,
  () => CompleteMultipartUploadOutput$
];
var CopyObject$ = [
  9,
  n0,
  _CO,
  { [_h]: ["PUT", "/{Key+}?x-id=CopyObject", 200] },
  () => CopyObjectRequest$,
  () => CopyObjectOutput$
];
var CreateBucket$ = [
  9,
  n0,
  _CB,
  { [_h]: ["PUT", "/", 200] },
  () => CreateBucketRequest$,
  () => CreateBucketOutput$
];
var CreateBucketMetadataConfiguration$ = [
  9,
  n0,
  _CBMC,
  { [_h]: ["POST", "/?metadataConfiguration", 200] },
  () => CreateBucketMetadataConfigurationRequest$,
  () => __Unit
];
var CreateBucketMetadataTableConfiguration$ = [
  9,
  n0,
  _CBMTC,
  { [_h]: ["POST", "/?metadataTable", 200] },
  () => CreateBucketMetadataTableConfigurationRequest$,
  () => __Unit
];
var CreateMultipartUpload$ = [
  9,
  n0,
  _CMUr,
  { [_h]: ["POST", "/{Key+}?uploads", 200] },
  () => CreateMultipartUploadRequest$,
  () => CreateMultipartUploadOutput$
];
var CreateSession$ = [
  9,
  n0,
  _CSr,
  { [_h]: ["GET", "/?session", 200] },
  () => CreateSessionRequest$,
  () => CreateSessionOutput$
];
var DeleteBucket$ = [
  9,
  n0,
  _DB,
  { [_h]: ["DELETE", "/", 204] },
  () => DeleteBucketRequest$,
  () => __Unit
];
var DeleteBucketAnalyticsConfiguration$ = [
  9,
  n0,
  _DBAC,
  { [_h]: ["DELETE", "/?analytics", 204] },
  () => DeleteBucketAnalyticsConfigurationRequest$,
  () => __Unit
];
var DeleteBucketCors$ = [
  9,
  n0,
  _DBC,
  { [_h]: ["DELETE", "/?cors", 204] },
  () => DeleteBucketCorsRequest$,
  () => __Unit
];
var DeleteBucketEncryption$ = [
  9,
  n0,
  _DBE,
  { [_h]: ["DELETE", "/?encryption", 204] },
  () => DeleteBucketEncryptionRequest$,
  () => __Unit
];
var DeleteBucketIntelligentTieringConfiguration$ = [
  9,
  n0,
  _DBITC,
  { [_h]: ["DELETE", "/?intelligent-tiering", 204] },
  () => DeleteBucketIntelligentTieringConfigurationRequest$,
  () => __Unit
];
var DeleteBucketInventoryConfiguration$ = [
  9,
  n0,
  _DBIC,
  { [_h]: ["DELETE", "/?inventory", 204] },
  () => DeleteBucketInventoryConfigurationRequest$,
  () => __Unit
];
var DeleteBucketLifecycle$ = [
  9,
  n0,
  _DBL,
  { [_h]: ["DELETE", "/?lifecycle", 204] },
  () => DeleteBucketLifecycleRequest$,
  () => __Unit
];
var DeleteBucketMetadataConfiguration$ = [
  9,
  n0,
  _DBMC,
  { [_h]: ["DELETE", "/?metadataConfiguration", 204] },
  () => DeleteBucketMetadataConfigurationRequest$,
  () => __Unit
];
var DeleteBucketMetadataTableConfiguration$ = [
  9,
  n0,
  _DBMTC,
  { [_h]: ["DELETE", "/?metadataTable", 204] },
  () => DeleteBucketMetadataTableConfigurationRequest$,
  () => __Unit
];
var DeleteBucketMetricsConfiguration$ = [
  9,
  n0,
  _DBMCe,
  { [_h]: ["DELETE", "/?metrics", 204] },
  () => DeleteBucketMetricsConfigurationRequest$,
  () => __Unit
];
var DeleteBucketOwnershipControls$ = [
  9,
  n0,
  _DBOC,
  { [_h]: ["DELETE", "/?ownershipControls", 204] },
  () => DeleteBucketOwnershipControlsRequest$,
  () => __Unit
];
var DeleteBucketPolicy$ = [
  9,
  n0,
  _DBP,
  { [_h]: ["DELETE", "/?policy", 204] },
  () => DeleteBucketPolicyRequest$,
  () => __Unit
];
var DeleteBucketReplication$ = [
  9,
  n0,
  _DBRe,
  { [_h]: ["DELETE", "/?replication", 204] },
  () => DeleteBucketReplicationRequest$,
  () => __Unit
];
var DeleteBucketTagging$ = [
  9,
  n0,
  _DBT,
  { [_h]: ["DELETE", "/?tagging", 204] },
  () => DeleteBucketTaggingRequest$,
  () => __Unit
];
var DeleteBucketWebsite$ = [
  9,
  n0,
  _DBW,
  { [_h]: ["DELETE", "/?website", 204] },
  () => DeleteBucketWebsiteRequest$,
  () => __Unit
];
var DeleteObject$ = [
  9,
  n0,
  _DOel,
  { [_h]: ["DELETE", "/{Key+}?x-id=DeleteObject", 204] },
  () => DeleteObjectRequest$,
  () => DeleteObjectOutput$
];
var DeleteObjects$ = [
  9,
  n0,
  _DOele,
  { [_h]: ["POST", "/?delete", 200] },
  () => DeleteObjectsRequest$,
  () => DeleteObjectsOutput$
];
var DeleteObjectTagging$ = [
  9,
  n0,
  _DOT,
  { [_h]: ["DELETE", "/{Key+}?tagging", 204] },
  () => DeleteObjectTaggingRequest$,
  () => DeleteObjectTaggingOutput$
];
var DeletePublicAccessBlock$ = [
  9,
  n0,
  _DPAB,
  { [_h]: ["DELETE", "/?publicAccessBlock", 204] },
  () => DeletePublicAccessBlockRequest$,
  () => __Unit
];
var GetBucketAbac$ = [
  9,
  n0,
  _GBA,
  { [_h]: ["GET", "/?abac", 200] },
  () => GetBucketAbacRequest$,
  () => GetBucketAbacOutput$
];
var GetBucketAccelerateConfiguration$ = [
  9,
  n0,
  _GBAC,
  { [_h]: ["GET", "/?accelerate", 200] },
  () => GetBucketAccelerateConfigurationRequest$,
  () => GetBucketAccelerateConfigurationOutput$
];
var GetBucketAcl$ = [
  9,
  n0,
  _GBAe,
  { [_h]: ["GET", "/?acl", 200] },
  () => GetBucketAclRequest$,
  () => GetBucketAclOutput$
];
var GetBucketAnalyticsConfiguration$ = [
  9,
  n0,
  _GBACe,
  { [_h]: ["GET", "/?analytics&x-id=GetBucketAnalyticsConfiguration", 200] },
  () => GetBucketAnalyticsConfigurationRequest$,
  () => GetBucketAnalyticsConfigurationOutput$
];
var GetBucketCors$ = [
  9,
  n0,
  _GBC,
  { [_h]: ["GET", "/?cors", 200] },
  () => GetBucketCorsRequest$,
  () => GetBucketCorsOutput$
];
var GetBucketEncryption$ = [
  9,
  n0,
  _GBE,
  { [_h]: ["GET", "/?encryption", 200] },
  () => GetBucketEncryptionRequest$,
  () => GetBucketEncryptionOutput$
];
var GetBucketIntelligentTieringConfiguration$ = [
  9,
  n0,
  _GBITC,
  { [_h]: ["GET", "/?intelligent-tiering&x-id=GetBucketIntelligentTieringConfiguration", 200] },
  () => GetBucketIntelligentTieringConfigurationRequest$,
  () => GetBucketIntelligentTieringConfigurationOutput$
];
var GetBucketInventoryConfiguration$ = [
  9,
  n0,
  _GBIC,
  { [_h]: ["GET", "/?inventory&x-id=GetBucketInventoryConfiguration", 200] },
  () => GetBucketInventoryConfigurationRequest$,
  () => GetBucketInventoryConfigurationOutput$
];
var GetBucketLifecycleConfiguration$ = [
  9,
  n0,
  _GBLC,
  { [_h]: ["GET", "/?lifecycle", 200] },
  () => GetBucketLifecycleConfigurationRequest$,
  () => GetBucketLifecycleConfigurationOutput$
];
var GetBucketLocation$ = [
  9,
  n0,
  _GBL,
  { [_h]: ["GET", "/?location", 200] },
  () => GetBucketLocationRequest$,
  () => GetBucketLocationOutput$
];
var GetBucketLogging$ = [
  9,
  n0,
  _GBLe,
  { [_h]: ["GET", "/?logging", 200] },
  () => GetBucketLoggingRequest$,
  () => GetBucketLoggingOutput$
];
var GetBucketMetadataConfiguration$ = [
  9,
  n0,
  _GBMC,
  { [_h]: ["GET", "/?metadataConfiguration", 200] },
  () => GetBucketMetadataConfigurationRequest$,
  () => GetBucketMetadataConfigurationOutput$
];
var GetBucketMetadataTableConfiguration$ = [
  9,
  n0,
  _GBMTC,
  { [_h]: ["GET", "/?metadataTable", 200] },
  () => GetBucketMetadataTableConfigurationRequest$,
  () => GetBucketMetadataTableConfigurationOutput$
];
var GetBucketMetricsConfiguration$ = [
  9,
  n0,
  _GBMCe,
  { [_h]: ["GET", "/?metrics&x-id=GetBucketMetricsConfiguration", 200] },
  () => GetBucketMetricsConfigurationRequest$,
  () => GetBucketMetricsConfigurationOutput$
];
var GetBucketNotificationConfiguration$ = [
  9,
  n0,
  _GBNC,
  { [_h]: ["GET", "/?notification", 200] },
  () => GetBucketNotificationConfigurationRequest$,
  () => NotificationConfiguration$
];
var GetBucketOwnershipControls$ = [
  9,
  n0,
  _GBOC,
  { [_h]: ["GET", "/?ownershipControls", 200] },
  () => GetBucketOwnershipControlsRequest$,
  () => GetBucketOwnershipControlsOutput$
];
var GetBucketPolicy$ = [
  9,
  n0,
  _GBP,
  { [_h]: ["GET", "/?policy", 200] },
  () => GetBucketPolicyRequest$,
  () => GetBucketPolicyOutput$
];
var GetBucketPolicyStatus$ = [
  9,
  n0,
  _GBPS,
  { [_h]: ["GET", "/?policyStatus", 200] },
  () => GetBucketPolicyStatusRequest$,
  () => GetBucketPolicyStatusOutput$
];
var GetBucketReplication$ = [
  9,
  n0,
  _GBR,
  { [_h]: ["GET", "/?replication", 200] },
  () => GetBucketReplicationRequest$,
  () => GetBucketReplicationOutput$
];
var GetBucketRequestPayment$ = [
  9,
  n0,
  _GBRP,
  { [_h]: ["GET", "/?requestPayment", 200] },
  () => GetBucketRequestPaymentRequest$,
  () => GetBucketRequestPaymentOutput$
];
var GetBucketTagging$ = [
  9,
  n0,
  _GBT,
  { [_h]: ["GET", "/?tagging", 200] },
  () => GetBucketTaggingRequest$,
  () => GetBucketTaggingOutput$
];
var GetBucketVersioning$ = [
  9,
  n0,
  _GBV,
  { [_h]: ["GET", "/?versioning", 200] },
  () => GetBucketVersioningRequest$,
  () => GetBucketVersioningOutput$
];
var GetBucketWebsite$ = [
  9,
  n0,
  _GBW,
  { [_h]: ["GET", "/?website", 200] },
  () => GetBucketWebsiteRequest$,
  () => GetBucketWebsiteOutput$
];
var GetObject$ = [
  9,
  n0,
  _GO,
  { [_h]: ["GET", "/{Key+}?x-id=GetObject", 200] },
  () => GetObjectRequest$,
  () => GetObjectOutput$
];
var GetObjectAcl$ = [
  9,
  n0,
  _GOA,
  { [_h]: ["GET", "/{Key+}?acl", 200] },
  () => GetObjectAclRequest$,
  () => GetObjectAclOutput$
];
var GetObjectAttributes$ = [
  9,
  n0,
  _GOAe,
  { [_h]: ["GET", "/{Key+}?attributes", 200] },
  () => GetObjectAttributesRequest$,
  () => GetObjectAttributesOutput$
];
var GetObjectLegalHold$ = [
  9,
  n0,
  _GOLH,
  { [_h]: ["GET", "/{Key+}?legal-hold", 200] },
  () => GetObjectLegalHoldRequest$,
  () => GetObjectLegalHoldOutput$
];
var GetObjectLockConfiguration$ = [
  9,
  n0,
  _GOLC,
  { [_h]: ["GET", "/?object-lock", 200] },
  () => GetObjectLockConfigurationRequest$,
  () => GetObjectLockConfigurationOutput$
];
var GetObjectRetention$ = [
  9,
  n0,
  _GORe,
  { [_h]: ["GET", "/{Key+}?retention", 200] },
  () => GetObjectRetentionRequest$,
  () => GetObjectRetentionOutput$
];
var GetObjectTagging$ = [
  9,
  n0,
  _GOT,
  { [_h]: ["GET", "/{Key+}?tagging", 200] },
  () => GetObjectTaggingRequest$,
  () => GetObjectTaggingOutput$
];
var GetObjectTorrent$ = [
  9,
  n0,
  _GOTe,
  { [_h]: ["GET", "/{Key+}?torrent", 200] },
  () => GetObjectTorrentRequest$,
  () => GetObjectTorrentOutput$
];
var GetPublicAccessBlock$ = [
  9,
  n0,
  _GPAB,
  { [_h]: ["GET", "/?publicAccessBlock", 200] },
  () => GetPublicAccessBlockRequest$,
  () => GetPublicAccessBlockOutput$
];
var HeadBucket$ = [
  9,
  n0,
  _HB,
  { [_h]: ["HEAD", "/", 200] },
  () => HeadBucketRequest$,
  () => HeadBucketOutput$
];
var HeadObject$ = [
  9,
  n0,
  _HO,
  { [_h]: ["HEAD", "/{Key+}", 200] },
  () => HeadObjectRequest$,
  () => HeadObjectOutput$
];
var ListBucketAnalyticsConfigurations$ = [
  9,
  n0,
  _LBAC,
  { [_h]: ["GET", "/?analytics&x-id=ListBucketAnalyticsConfigurations", 200] },
  () => ListBucketAnalyticsConfigurationsRequest$,
  () => ListBucketAnalyticsConfigurationsOutput$
];
var ListBucketIntelligentTieringConfigurations$ = [
  9,
  n0,
  _LBITC,
  { [_h]: ["GET", "/?intelligent-tiering&x-id=ListBucketIntelligentTieringConfigurations", 200] },
  () => ListBucketIntelligentTieringConfigurationsRequest$,
  () => ListBucketIntelligentTieringConfigurationsOutput$
];
var ListBucketInventoryConfigurations$ = [
  9,
  n0,
  _LBIC,
  { [_h]: ["GET", "/?inventory&x-id=ListBucketInventoryConfigurations", 200] },
  () => ListBucketInventoryConfigurationsRequest$,
  () => ListBucketInventoryConfigurationsOutput$
];
var ListBucketMetricsConfigurations$ = [
  9,
  n0,
  _LBMC,
  { [_h]: ["GET", "/?metrics&x-id=ListBucketMetricsConfigurations", 200] },
  () => ListBucketMetricsConfigurationsRequest$,
  () => ListBucketMetricsConfigurationsOutput$
];
var ListBuckets$ = [
  9,
  n0,
  _LB,
  { [_h]: ["GET", "/?x-id=ListBuckets", 200] },
  () => ListBucketsRequest$,
  () => ListBucketsOutput$
];
var ListDirectoryBuckets$ = [
  9,
  n0,
  _LDB,
  { [_h]: ["GET", "/?x-id=ListDirectoryBuckets", 200] },
  () => ListDirectoryBucketsRequest$,
  () => ListDirectoryBucketsOutput$
];
var ListMultipartUploads$ = [
  9,
  n0,
  _LMU,
  { [_h]: ["GET", "/?uploads", 200] },
  () => ListMultipartUploadsRequest$,
  () => ListMultipartUploadsOutput$
];
var ListObjects$ = [
  9,
  n0,
  _LO,
  { [_h]: ["GET", "/", 200] },
  () => ListObjectsRequest$,
  () => ListObjectsOutput$
];
var ListObjectsV2$ = [
  9,
  n0,
  _LOV,
  { [_h]: ["GET", "/?list-type=2", 200] },
  () => ListObjectsV2Request$,
  () => ListObjectsV2Output$
];
var ListObjectVersions$ = [
  9,
  n0,
  _LOVi,
  { [_h]: ["GET", "/?versions", 200] },
  () => ListObjectVersionsRequest$,
  () => ListObjectVersionsOutput$
];
var ListParts$ = [
  9,
  n0,
  _LP,
  { [_h]: ["GET", "/{Key+}?x-id=ListParts", 200] },
  () => ListPartsRequest$,
  () => ListPartsOutput$
];
var PutBucketAbac$ = [
  9,
  n0,
  _PBA,
  { [_h]: ["PUT", "/?abac", 200] },
  () => PutBucketAbacRequest$,
  () => __Unit
];
var PutBucketAccelerateConfiguration$ = [
  9,
  n0,
  _PBAC,
  { [_h]: ["PUT", "/?accelerate", 200] },
  () => PutBucketAccelerateConfigurationRequest$,
  () => __Unit
];
var PutBucketAcl$ = [
  9,
  n0,
  _PBAu,
  { [_h]: ["PUT", "/?acl", 200] },
  () => PutBucketAclRequest$,
  () => __Unit
];
var PutBucketAnalyticsConfiguration$ = [
  9,
  n0,
  _PBACu,
  { [_h]: ["PUT", "/?analytics", 200] },
  () => PutBucketAnalyticsConfigurationRequest$,
  () => __Unit
];
var PutBucketCors$ = [
  9,
  n0,
  _PBC,
  { [_h]: ["PUT", "/?cors", 200] },
  () => PutBucketCorsRequest$,
  () => __Unit
];
var PutBucketEncryption$ = [
  9,
  n0,
  _PBE,
  { [_h]: ["PUT", "/?encryption", 200] },
  () => PutBucketEncryptionRequest$,
  () => __Unit
];
var PutBucketIntelligentTieringConfiguration$ = [
  9,
  n0,
  _PBITC,
  { [_h]: ["PUT", "/?intelligent-tiering", 200] },
  () => PutBucketIntelligentTieringConfigurationRequest$,
  () => __Unit
];
var PutBucketInventoryConfiguration$ = [
  9,
  n0,
  _PBIC,
  { [_h]: ["PUT", "/?inventory", 200] },
  () => PutBucketInventoryConfigurationRequest$,
  () => __Unit
];
var PutBucketLifecycleConfiguration$ = [
  9,
  n0,
  _PBLC,
  { [_h]: ["PUT", "/?lifecycle", 200] },
  () => PutBucketLifecycleConfigurationRequest$,
  () => PutBucketLifecycleConfigurationOutput$
];
var PutBucketLogging$ = [
  9,
  n0,
  _PBL,
  { [_h]: ["PUT", "/?logging", 200] },
  () => PutBucketLoggingRequest$,
  () => __Unit
];
var PutBucketMetricsConfiguration$ = [
  9,
  n0,
  _PBMC,
  { [_h]: ["PUT", "/?metrics", 200] },
  () => PutBucketMetricsConfigurationRequest$,
  () => __Unit
];
var PutBucketNotificationConfiguration$ = [
  9,
  n0,
  _PBNC,
  { [_h]: ["PUT", "/?notification", 200] },
  () => PutBucketNotificationConfigurationRequest$,
  () => __Unit
];
var PutBucketOwnershipControls$ = [
  9,
  n0,
  _PBOC,
  { [_h]: ["PUT", "/?ownershipControls", 200] },
  () => PutBucketOwnershipControlsRequest$,
  () => __Unit
];
var PutBucketPolicy$ = [
  9,
  n0,
  _PBP,
  { [_h]: ["PUT", "/?policy", 200] },
  () => PutBucketPolicyRequest$,
  () => __Unit
];
var PutBucketReplication$ = [
  9,
  n0,
  _PBR,
  { [_h]: ["PUT", "/?replication", 200] },
  () => PutBucketReplicationRequest$,
  () => __Unit
];
var PutBucketRequestPayment$ = [
  9,
  n0,
  _PBRP,
  { [_h]: ["PUT", "/?requestPayment", 200] },
  () => PutBucketRequestPaymentRequest$,
  () => __Unit
];
var PutBucketTagging$ = [
  9,
  n0,
  _PBT,
  { [_h]: ["PUT", "/?tagging", 200] },
  () => PutBucketTaggingRequest$,
  () => __Unit
];
var PutBucketVersioning$ = [
  9,
  n0,
  _PBV,
  { [_h]: ["PUT", "/?versioning", 200] },
  () => PutBucketVersioningRequest$,
  () => __Unit
];
var PutBucketWebsite$ = [
  9,
  n0,
  _PBW,
  { [_h]: ["PUT", "/?website", 200] },
  () => PutBucketWebsiteRequest$,
  () => __Unit
];
var PutObject$ = [
  9,
  n0,
  _PO,
  { [_h]: ["PUT", "/{Key+}?x-id=PutObject", 200] },
  () => PutObjectRequest$,
  () => PutObjectOutput$
];
var PutObjectAcl$ = [
  9,
  n0,
  _POA,
  { [_h]: ["PUT", "/{Key+}?acl", 200] },
  () => PutObjectAclRequest$,
  () => PutObjectAclOutput$
];
var PutObjectLegalHold$ = [
  9,
  n0,
  _POLH,
  { [_h]: ["PUT", "/{Key+}?legal-hold", 200] },
  () => PutObjectLegalHoldRequest$,
  () => PutObjectLegalHoldOutput$
];
var PutObjectLockConfiguration$ = [
  9,
  n0,
  _POLC,
  { [_h]: ["PUT", "/?object-lock", 200] },
  () => PutObjectLockConfigurationRequest$,
  () => PutObjectLockConfigurationOutput$
];
var PutObjectRetention$ = [
  9,
  n0,
  _PORu,
  { [_h]: ["PUT", "/{Key+}?retention", 200] },
  () => PutObjectRetentionRequest$,
  () => PutObjectRetentionOutput$
];
var PutObjectTagging$ = [
  9,
  n0,
  _POT,
  { [_h]: ["PUT", "/{Key+}?tagging", 200] },
  () => PutObjectTaggingRequest$,
  () => PutObjectTaggingOutput$
];
var PutPublicAccessBlock$ = [
  9,
  n0,
  _PPAB,
  { [_h]: ["PUT", "/?publicAccessBlock", 200] },
  () => PutPublicAccessBlockRequest$,
  () => __Unit
];
var RenameObject$ = [
  9,
  n0,
  _RO,
  { [_h]: ["PUT", "/{Key+}?renameObject", 200] },
  () => RenameObjectRequest$,
  () => RenameObjectOutput$
];
var RestoreObject$ = [
  9,
  n0,
  _ROe,
  { [_h]: ["POST", "/{Key+}?restore", 200] },
  () => RestoreObjectRequest$,
  () => RestoreObjectOutput$
];
var SelectObjectContent$ = [
  9,
  n0,
  _SOC,
  { [_h]: ["POST", "/{Key+}?select&select-type=2", 200] },
  () => SelectObjectContentRequest$,
  () => SelectObjectContentOutput$
];
var UpdateBucketMetadataInventoryTableConfiguration$ = [
  9,
  n0,
  _UBMITC,
  { [_h]: ["PUT", "/?metadataInventoryTable", 200] },
  () => UpdateBucketMetadataInventoryTableConfigurationRequest$,
  () => __Unit
];
var UpdateBucketMetadataJournalTableConfiguration$ = [
  9,
  n0,
  _UBMJTC,
  { [_h]: ["PUT", "/?metadataJournalTable", 200] },
  () => UpdateBucketMetadataJournalTableConfigurationRequest$,
  () => __Unit
];
var UploadPart$ = [
  9,
  n0,
  _UP,
  { [_h]: ["PUT", "/{Key+}?x-id=UploadPart", 200] },
  () => UploadPartRequest$,
  () => UploadPartOutput$
];
var UploadPartCopy$ = [
  9,
  n0,
  _UPC,
  { [_h]: ["PUT", "/{Key+}?x-id=UploadPartCopy", 200] },
  () => UploadPartCopyRequest$,
  () => UploadPartCopyOutput$
];
var WriteGetObjectResponse$ = [
  9,
  n0,
  _WGOR,
  { [_en]: ["{RequestRoute}."], [_h]: ["POST", "/WriteGetObjectResponse", 200] },
  () => WriteGetObjectResponseRequest$,
  () => __Unit
];

// node_modules/@aws-sdk/client-s3/dist-es/commands/CreateSessionCommand.js
var CreateSessionCommand = class extends Command.classBuilder().ep({
  ...commonParams,
  DisableS3ExpressSessionAuth: { type: "staticContextParams", value: true },
  Bucket: { type: "contextParams", name: "Bucket" }
}).m(function(Command2, cs2, config, o2) {
  return [getEndpointPlugin(config, Command2.getEndpointParameterInstructions()), getThrow200ExceptionsPlugin(config)];
}).s("AmazonS3", "CreateSession", {}).n("S3Client", "CreateSessionCommand").sc(CreateSession$).build() {
};
__name(CreateSessionCommand, "CreateSessionCommand");

// node_modules/@aws-sdk/client-s3/dist-es/runtimeConfig.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/client-s3/package.json
var package_default = {
  name: "@aws-sdk/client-s3",
  description: "AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",
  version: "3.955.0",
  scripts: {
    build: "concurrently 'yarn:build:types' 'yarn:build:es' && yarn build:cjs",
    "build:cjs": "node ../../scripts/compilation/inline client-s3",
    "build:es": "tsc -p tsconfig.es.json",
    "build:include:deps": "lerna run --scope $npm_package_name --include-dependencies build",
    "build:types": "tsc -p tsconfig.types.json",
    "build:types:downlevel": "downlevel-dts dist-types dist-types/ts3.4",
    clean: "rimraf ./dist-* && rimraf *.tsbuildinfo",
    "extract:docs": "api-extractor run --local",
    "generate:client": "node ../../scripts/generate-clients/single-service --solo s3",
    test: "yarn g:vitest run",
    "test:browser": "node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts",
    "test:browser:watch": "node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts",
    "test:e2e": "yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser",
    "test:e2e:watch": "yarn g:vitest watch -c vitest.config.e2e.mts",
    "test:index": "tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs",
    "test:integration": "yarn g:vitest run -c vitest.config.integ.mts",
    "test:integration:watch": "yarn g:vitest watch -c vitest.config.integ.mts",
    "test:watch": "yarn g:vitest watch"
  },
  main: "./dist-cjs/index.js",
  types: "./dist-types/index.d.ts",
  module: "./dist-es/index.js",
  sideEffects: false,
  dependencies: {
    "@aws-crypto/sha1-browser": "5.2.0",
    "@aws-crypto/sha256-browser": "5.2.0",
    "@aws-crypto/sha256-js": "5.2.0",
    "@aws-sdk/core": "3.954.0",
    "@aws-sdk/credential-provider-node": "3.955.0",
    "@aws-sdk/middleware-bucket-endpoint": "3.953.0",
    "@aws-sdk/middleware-expect-continue": "3.953.0",
    "@aws-sdk/middleware-flexible-checksums": "3.954.0",
    "@aws-sdk/middleware-host-header": "3.953.0",
    "@aws-sdk/middleware-location-constraint": "3.953.0",
    "@aws-sdk/middleware-logger": "3.953.0",
    "@aws-sdk/middleware-recursion-detection": "3.953.0",
    "@aws-sdk/middleware-sdk-s3": "3.954.0",
    "@aws-sdk/middleware-ssec": "3.953.0",
    "@aws-sdk/middleware-user-agent": "3.954.0",
    "@aws-sdk/region-config-resolver": "3.953.0",
    "@aws-sdk/signature-v4-multi-region": "3.954.0",
    "@aws-sdk/types": "3.953.0",
    "@aws-sdk/util-endpoints": "3.953.0",
    "@aws-sdk/util-user-agent-browser": "3.953.0",
    "@aws-sdk/util-user-agent-node": "3.954.0",
    "@smithy/config-resolver": "^4.4.4",
    "@smithy/core": "^3.19.0",
    "@smithy/eventstream-serde-browser": "^4.2.6",
    "@smithy/eventstream-serde-config-resolver": "^4.3.6",
    "@smithy/eventstream-serde-node": "^4.2.6",
    "@smithy/fetch-http-handler": "^5.3.7",
    "@smithy/hash-blob-browser": "^4.2.7",
    "@smithy/hash-node": "^4.2.6",
    "@smithy/hash-stream-node": "^4.2.6",
    "@smithy/invalid-dependency": "^4.2.6",
    "@smithy/md5-js": "^4.2.6",
    "@smithy/middleware-content-length": "^4.2.6",
    "@smithy/middleware-endpoint": "^4.4.0",
    "@smithy/middleware-retry": "^4.4.16",
    "@smithy/middleware-serde": "^4.2.7",
    "@smithy/middleware-stack": "^4.2.6",
    "@smithy/node-config-provider": "^4.3.6",
    "@smithy/node-http-handler": "^4.4.6",
    "@smithy/protocol-http": "^5.3.6",
    "@smithy/smithy-client": "^4.10.1",
    "@smithy/types": "^4.10.0",
    "@smithy/url-parser": "^4.2.6",
    "@smithy/util-base64": "^4.3.0",
    "@smithy/util-body-length-browser": "^4.2.0",
    "@smithy/util-body-length-node": "^4.2.1",
    "@smithy/util-defaults-mode-browser": "^4.3.15",
    "@smithy/util-defaults-mode-node": "^4.2.18",
    "@smithy/util-endpoints": "^3.2.6",
    "@smithy/util-middleware": "^4.2.6",
    "@smithy/util-retry": "^4.2.6",
    "@smithy/util-stream": "^4.5.7",
    "@smithy/util-utf8": "^4.2.0",
    "@smithy/util-waiter": "^4.2.6",
    tslib: "^2.6.2"
  },
  devDependencies: {
    "@aws-sdk/signature-v4-crt": "3.954.0",
    "@tsconfig/node18": "18.2.4",
    "@types/node": "^18.19.69",
    concurrently: "7.0.0",
    "downlevel-dts": "0.10.1",
    rimraf: "3.0.2",
    typescript: "~5.8.3"
  },
  engines: {
    node: ">=18.0.0"
  },
  typesVersions: {
    "<4.0": {
      "dist-types/*": [
        "dist-types/ts3.4/*"
      ]
    }
  },
  files: [
    "dist-*/**"
  ],
  author: {
    name: "AWS SDK for JavaScript Team",
    url: "https://aws.amazon.com/javascript/"
  },
  license: "Apache-2.0",
  browser: {
    "./dist-es/runtimeConfig": "./dist-es/runtimeConfig.browser"
  },
  "react-native": {
    "./dist-es/runtimeConfig": "./dist-es/runtimeConfig.native"
  },
  homepage: "https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",
  repository: {
    type: "git",
    url: "https://github.com/aws/aws-sdk-js-v3.git",
    directory: "clients/client-s3"
  }
};

// node_modules/@aws-crypto/sha1-browser/build/module/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha1-browser/build/module/crossPlatformSha1.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha1-browser/build/module/webCryptoSha1.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha1-browser/node_modules/@smithy/util-utf8/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha1-browser/node_modules/@smithy/util-utf8/dist-es/fromUtf8.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var fromUtf84 = /* @__PURE__ */ __name((input) => new TextEncoder().encode(input), "fromUtf8");

// node_modules/@aws-crypto/sha1-browser/node_modules/@smithy/util-utf8/dist-es/toUint8Array.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha1-browser/node_modules/@smithy/util-utf8/dist-es/toUtf8.browser.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha1-browser/build/module/isEmptyData.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function isEmptyData2(data) {
  if (typeof data === "string") {
    return data.length === 0;
  }
  return data.byteLength === 0;
}
__name(isEmptyData2, "isEmptyData");

// node_modules/@aws-crypto/sha1-browser/build/module/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SHA_1_HASH = { name: "SHA-1" };
var SHA_1_HMAC_ALGO = {
  name: "HMAC",
  hash: SHA_1_HASH
};
var EMPTY_DATA_SHA_1 = new Uint8Array([
  218,
  57,
  163,
  238,
  94,
  107,
  75,
  13,
  50,
  85,
  191,
  239,
  149,
  96,
  24,
  144,
  175,
  216,
  7,
  9
]);

// node_modules/@aws-sdk/util-locate-window/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var fallbackWindow = {};
function locateWindow() {
  if (typeof window !== "undefined") {
    return window;
  } else if (typeof self !== "undefined") {
    return self;
  }
  return fallbackWindow;
}
__name(locateWindow, "locateWindow");

// node_modules/@aws-crypto/sha1-browser/build/module/webCryptoSha1.js
var Sha1 = (
  /** @class */
  function() {
    function Sha13(secret) {
      this.toHash = new Uint8Array(0);
      if (secret !== void 0) {
        this.key = new Promise(function(resolve, reject) {
          locateWindow().crypto.subtle.importKey("raw", convertToBuffer2(secret), SHA_1_HMAC_ALGO, false, ["sign"]).then(resolve, reject);
        });
        this.key.catch(function() {
        });
      }
    }
    __name(Sha13, "Sha1");
    Sha13.prototype.update = function(data) {
      if (isEmptyData2(data)) {
        return;
      }
      var update = convertToBuffer2(data);
      var typedArray = new Uint8Array(this.toHash.byteLength + update.byteLength);
      typedArray.set(this.toHash, 0);
      typedArray.set(update, this.toHash.byteLength);
      this.toHash = typedArray;
    };
    Sha13.prototype.digest = function() {
      var _this = this;
      if (this.key) {
        return this.key.then(function(key) {
          return locateWindow().crypto.subtle.sign(SHA_1_HMAC_ALGO, key, _this.toHash).then(function(data) {
            return new Uint8Array(data);
          });
        });
      }
      if (isEmptyData2(this.toHash)) {
        return Promise.resolve(EMPTY_DATA_SHA_1);
      }
      return Promise.resolve().then(function() {
        return locateWindow().crypto.subtle.digest(SHA_1_HASH, _this.toHash);
      }).then(function(data) {
        return Promise.resolve(new Uint8Array(data));
      });
    };
    Sha13.prototype.reset = function() {
      this.toHash = new Uint8Array(0);
    };
    return Sha13;
  }()
);
function convertToBuffer2(data) {
  if (typeof data === "string") {
    return fromUtf84(data);
  }
  if (ArrayBuffer.isView(data)) {
    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);
  }
  return new Uint8Array(data);
}
__name(convertToBuffer2, "convertToBuffer");

// node_modules/@aws-crypto/supports-web-crypto/build/module/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/supports-web-crypto/build/module/supportsWebCrypto.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var subtleCryptoMethods = [
  "decrypt",
  "digest",
  "encrypt",
  "exportKey",
  "generateKey",
  "importKey",
  "sign",
  "verify"
];
function supportsWebCrypto(window2) {
  if (supportsSecureRandom(window2) && typeof window2.crypto.subtle === "object") {
    var subtle = window2.crypto.subtle;
    return supportsSubtleCrypto(subtle);
  }
  return false;
}
__name(supportsWebCrypto, "supportsWebCrypto");
function supportsSecureRandom(window2) {
  if (typeof window2 === "object" && typeof window2.crypto === "object") {
    var getRandomValues = window2.crypto.getRandomValues;
    return typeof getRandomValues === "function";
  }
  return false;
}
__name(supportsSecureRandom, "supportsSecureRandom");
function supportsSubtleCrypto(subtle) {
  return subtle && subtleCryptoMethods.every(function(methodName) {
    return typeof subtle[methodName] === "function";
  });
}
__name(supportsSubtleCrypto, "supportsSubtleCrypto");

// node_modules/@aws-crypto/sha1-browser/build/module/crossPlatformSha1.js
var Sha12 = (
  /** @class */
  function() {
    function Sha13(secret) {
      if (supportsWebCrypto(locateWindow())) {
        this.hash = new Sha1(secret);
      } else {
        throw new Error("SHA1 not supported");
      }
    }
    __name(Sha13, "Sha1");
    Sha13.prototype.update = function(data, encoding) {
      this.hash.update(convertToBuffer(data));
    };
    Sha13.prototype.digest = function() {
      return this.hash.digest();
    };
    Sha13.prototype.reset = function() {
      this.hash.reset();
    };
    return Sha13;
  }()
);

// node_modules/@aws-crypto/sha256-browser/build/module/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha256-browser/build/module/crossPlatformSha256.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha256-browser/build/module/webCryptoSha256.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha256-browser/build/module/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SHA_256_HASH = { name: "SHA-256" };
var SHA_256_HMAC_ALGO = {
  name: "HMAC",
  hash: SHA_256_HASH
};
var EMPTY_DATA_SHA_256 = new Uint8Array([
  227,
  176,
  196,
  66,
  152,
  252,
  28,
  20,
  154,
  251,
  244,
  200,
  153,
  111,
  185,
  36,
  39,
  174,
  65,
  228,
  100,
  155,
  147,
  76,
  164,
  149,
  153,
  27,
  120,
  82,
  184,
  85
]);

// node_modules/@aws-crypto/sha256-browser/build/module/webCryptoSha256.js
var Sha256 = (
  /** @class */
  function() {
    function Sha2564(secret) {
      this.toHash = new Uint8Array(0);
      this.secret = secret;
      this.reset();
    }
    __name(Sha2564, "Sha256");
    Sha2564.prototype.update = function(data) {
      if (isEmptyData(data)) {
        return;
      }
      var update = convertToBuffer(data);
      var typedArray = new Uint8Array(this.toHash.byteLength + update.byteLength);
      typedArray.set(this.toHash, 0);
      typedArray.set(update, this.toHash.byteLength);
      this.toHash = typedArray;
    };
    Sha2564.prototype.digest = function() {
      var _this = this;
      if (this.key) {
        return this.key.then(function(key) {
          return locateWindow().crypto.subtle.sign(SHA_256_HMAC_ALGO, key, _this.toHash).then(function(data) {
            return new Uint8Array(data);
          });
        });
      }
      if (isEmptyData(this.toHash)) {
        return Promise.resolve(EMPTY_DATA_SHA_256);
      }
      return Promise.resolve().then(function() {
        return locateWindow().crypto.subtle.digest(SHA_256_HASH, _this.toHash);
      }).then(function(data) {
        return Promise.resolve(new Uint8Array(data));
      });
    };
    Sha2564.prototype.reset = function() {
      var _this = this;
      this.toHash = new Uint8Array(0);
      if (this.secret && this.secret !== void 0) {
        this.key = new Promise(function(resolve, reject) {
          locateWindow().crypto.subtle.importKey("raw", convertToBuffer(_this.secret), SHA_256_HMAC_ALGO, false, ["sign"]).then(resolve, reject);
        });
        this.key.catch(function() {
        });
      }
    };
    return Sha2564;
  }()
);

// node_modules/@aws-crypto/sha256-js/build/module/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha256-js/build/module/jsSha256.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-crypto/sha256-js/build/module/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var BLOCK_SIZE = 64;
var DIGEST_LENGTH = 32;
var KEY = new Uint32Array([
  1116352408,
  1899447441,
  3049323471,
  3921009573,
  961987163,
  1508970993,
  2453635748,
  2870763221,
  3624381080,
  310598401,
  607225278,
  1426881987,
  1925078388,
  2162078206,
  2614888103,
  3248222580,
  3835390401,
  4022224774,
  264347078,
  604807628,
  770255983,
  1249150122,
  1555081692,
  1996064986,
  2554220882,
  2821834349,
  2952996808,
  3210313671,
  3336571891,
  3584528711,
  113926993,
  338241895,
  666307205,
  773529912,
  1294757372,
  1396182291,
  1695183700,
  1986661051,
  2177026350,
  2456956037,
  2730485921,
  2820302411,
  3259730800,
  3345764771,
  3516065817,
  3600352804,
  4094571909,
  275423344,
  430227734,
  506948616,
  659060556,
  883997877,
  958139571,
  1322822218,
  1537002063,
  1747873779,
  1955562222,
  2024104815,
  2227730452,
  2361852424,
  2428436474,
  2756734187,
  3204031479,
  3329325298
]);
var INIT = [
  1779033703,
  3144134277,
  1013904242,
  2773480762,
  1359893119,
  2600822924,
  528734635,
  1541459225
];
var MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;

// node_modules/@aws-crypto/sha256-js/build/module/RawSha256.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var RawSha256 = (
  /** @class */
  function() {
    function RawSha2562() {
      this.state = Int32Array.from(INIT);
      this.temp = new Int32Array(64);
      this.buffer = new Uint8Array(64);
      this.bufferLength = 0;
      this.bytesHashed = 0;
      this.finished = false;
    }
    __name(RawSha2562, "RawSha256");
    RawSha2562.prototype.update = function(data) {
      if (this.finished) {
        throw new Error("Attempted to update an already finished hash.");
      }
      var position = 0;
      var byteLength = data.byteLength;
      this.bytesHashed += byteLength;
      if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {
        throw new Error("Cannot hash more than 2^53 - 1 bits");
      }
      while (byteLength > 0) {
        this.buffer[this.bufferLength++] = data[position++];
        byteLength--;
        if (this.bufferLength === BLOCK_SIZE) {
          this.hashBuffer();
          this.bufferLength = 0;
        }
      }
    };
    RawSha2562.prototype.digest = function() {
      if (!this.finished) {
        var bitsHashed = this.bytesHashed * 8;
        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);
        var undecoratedLength = this.bufferLength;
        bufferView.setUint8(this.bufferLength++, 128);
        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {
          for (var i2 = this.bufferLength; i2 < BLOCK_SIZE; i2++) {
            bufferView.setUint8(i2, 0);
          }
          this.hashBuffer();
          this.bufferLength = 0;
        }
        for (var i2 = this.bufferLength; i2 < BLOCK_SIZE - 8; i2++) {
          bufferView.setUint8(i2, 0);
        }
        bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 4294967296), true);
        bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);
        this.hashBuffer();
        this.finished = true;
      }
      var out = new Uint8Array(DIGEST_LENGTH);
      for (var i2 = 0; i2 < 8; i2++) {
        out[i2 * 4] = this.state[i2] >>> 24 & 255;
        out[i2 * 4 + 1] = this.state[i2] >>> 16 & 255;
        out[i2 * 4 + 2] = this.state[i2] >>> 8 & 255;
        out[i2 * 4 + 3] = this.state[i2] >>> 0 & 255;
      }
      return out;
    };
    RawSha2562.prototype.hashBuffer = function() {
      var _a = this, buffer = _a.buffer, state = _a.state;
      var state0 = state[0], state1 = state[1], state2 = state[2], state3 = state[3], state4 = state[4], state5 = state[5], state6 = state[6], state7 = state[7];
      for (var i2 = 0; i2 < BLOCK_SIZE; i2++) {
        if (i2 < 16) {
          this.temp[i2] = (buffer[i2 * 4] & 255) << 24 | (buffer[i2 * 4 + 1] & 255) << 16 | (buffer[i2 * 4 + 2] & 255) << 8 | buffer[i2 * 4 + 3] & 255;
        } else {
          var u2 = this.temp[i2 - 2];
          var t1_1 = (u2 >>> 17 | u2 << 15) ^ (u2 >>> 19 | u2 << 13) ^ u2 >>> 10;
          u2 = this.temp[i2 - 15];
          var t2_1 = (u2 >>> 7 | u2 << 25) ^ (u2 >>> 18 | u2 << 14) ^ u2 >>> 3;
          this.temp[i2] = (t1_1 + this.temp[i2 - 7] | 0) + (t2_1 + this.temp[i2 - 16] | 0);
        }
        var t1 = (((state4 >>> 6 | state4 << 26) ^ (state4 >>> 11 | state4 << 21) ^ (state4 >>> 25 | state4 << 7)) + (state4 & state5 ^ ~state4 & state6) | 0) + (state7 + (KEY[i2] + this.temp[i2] | 0) | 0) | 0;
        var t2 = ((state0 >>> 2 | state0 << 30) ^ (state0 >>> 13 | state0 << 19) ^ (state0 >>> 22 | state0 << 10)) + (state0 & state1 ^ state0 & state2 ^ state1 & state2) | 0;
        state7 = state6;
        state6 = state5;
        state5 = state4;
        state4 = state3 + t1 | 0;
        state3 = state2;
        state2 = state1;
        state1 = state0;
        state0 = t1 + t2 | 0;
      }
      state[0] += state0;
      state[1] += state1;
      state[2] += state2;
      state[3] += state3;
      state[4] += state4;
      state[5] += state5;
      state[6] += state6;
      state[7] += state7;
    };
    return RawSha2562;
  }()
);

// node_modules/@aws-crypto/sha256-js/build/module/jsSha256.js
var Sha2562 = (
  /** @class */
  function() {
    function Sha2564(secret) {
      this.secret = secret;
      this.hash = new RawSha256();
      this.reset();
    }
    __name(Sha2564, "Sha256");
    Sha2564.prototype.update = function(toHash) {
      if (isEmptyData(toHash) || this.error) {
        return;
      }
      try {
        this.hash.update(convertToBuffer(toHash));
      } catch (e2) {
        this.error = e2;
      }
    };
    Sha2564.prototype.digestSync = function() {
      if (this.error) {
        throw this.error;
      }
      if (this.outer) {
        if (!this.outer.finished) {
          this.outer.update(this.hash.digest());
        }
        return this.outer.digest();
      }
      return this.hash.digest();
    };
    Sha2564.prototype.digest = function() {
      return __awaiter(this, void 0, void 0, function() {
        return __generator(this, function(_a) {
          return [2, this.digestSync()];
        });
      });
    };
    Sha2564.prototype.reset = function() {
      this.hash = new RawSha256();
      if (this.secret) {
        this.outer = new RawSha256();
        var inner = bufferFromSecret(this.secret);
        var outer = new Uint8Array(BLOCK_SIZE);
        outer.set(inner);
        for (var i2 = 0; i2 < BLOCK_SIZE; i2++) {
          inner[i2] ^= 54;
          outer[i2] ^= 92;
        }
        this.hash.update(inner);
        this.outer.update(outer);
        for (var i2 = 0; i2 < inner.byteLength; i2++) {
          inner[i2] = 0;
        }
      }
    };
    return Sha2564;
  }()
);
function bufferFromSecret(secret) {
  var input = convertToBuffer(secret);
  if (input.byteLength > BLOCK_SIZE) {
    var bufferHash = new RawSha256();
    bufferHash.update(input);
    input = bufferHash.digest();
  }
  var buffer = new Uint8Array(BLOCK_SIZE);
  buffer.set(input);
  return buffer;
}
__name(bufferFromSecret, "bufferFromSecret");

// node_modules/@aws-crypto/sha256-browser/build/module/crossPlatformSha256.js
var Sha2563 = (
  /** @class */
  function() {
    function Sha2564(secret) {
      if (supportsWebCrypto(locateWindow())) {
        this.hash = new Sha256(secret);
      } else {
        this.hash = new Sha2562(secret);
      }
    }
    __name(Sha2564, "Sha256");
    Sha2564.prototype.update = function(data, encoding) {
      this.hash.update(convertToBuffer(data));
    };
    Sha2564.prototype.digest = function() {
      return this.hash.digest();
    };
    Sha2564.prototype.reset = function() {
      this.hash.reset();
    };
    return Sha2564;
  }()
);

// node_modules/@aws-sdk/util-user-agent-browser/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var createDefaultUserAgentProvider = /* @__PURE__ */ __name(({ serviceId, clientVersion }) => async (config) => {
  const navigator = typeof window !== "undefined" ? window.navigator : void 0;
  const uaString = navigator?.userAgent ?? "";
  const osName = navigator?.userAgentData?.platform ?? fallback.os(uaString) ?? "other";
  const osVersion = void 0;
  const brands = navigator?.userAgentData?.brands ?? [];
  const brand = brands[brands.length - 1];
  const browserName = brand?.brand ?? fallback.browser(uaString) ?? "unknown";
  const browserVersion = brand?.version ?? "unknown";
  const sections = [
    ["aws-sdk-js", clientVersion],
    ["ua", "2.1"],
    [`os/${osName}`, osVersion],
    ["lang/js"],
    ["md/browser", `${browserName}_${browserVersion}`]
  ];
  if (serviceId) {
    sections.push([`api/${serviceId}`, clientVersion]);
  }
  const appId = await config?.userAgentAppId?.();
  if (appId) {
    sections.push([`app/${appId}`]);
  }
  return sections;
}, "createDefaultUserAgentProvider");
var fallback = {
  os(ua) {
    if (/iPhone|iPad|iPod/.test(ua))
      return "iOS";
    if (/Macintosh|Mac OS X/.test(ua))
      return "macOS";
    if (/Windows NT/.test(ua))
      return "Windows";
    if (/Android/.test(ua))
      return "Android";
    if (/Linux/.test(ua))
      return "Linux";
    return void 0;
  },
  browser(ua) {
    if (/EdgiOS|EdgA|Edg\//.test(ua))
      return "Microsoft Edge";
    if (/Firefox\//.test(ua))
      return "Firefox";
    if (/Chrome\//.test(ua))
      return "Chrome";
    if (/Safari\//.test(ua))
      return "Safari";
    return void 0;
  }
};

// node_modules/@smithy/eventstream-serde-browser/dist-es/EventStreamMarshaller.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/eventstream-serde-universal/dist-es/EventStreamMarshaller.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/eventstream-codec/dist-es/EventStreamCodec.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/eventstream-codec/dist-es/HeaderMarshaller.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/eventstream-codec/dist-es/Int64.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var Int642 = class {
  bytes;
  constructor(bytes) {
    this.bytes = bytes;
    if (bytes.byteLength !== 8) {
      throw new Error("Int64 buffers must be exactly 8 bytes");
    }
  }
  static fromNumber(number) {
    if (number > 9223372036854776e3 || number < -9223372036854776e3) {
      throw new Error(`${number} is too large (or, if negative, too small) to represent as an Int64`);
    }
    const bytes = new Uint8Array(8);
    for (let i2 = 7, remaining = Math.abs(Math.round(number)); i2 > -1 && remaining > 0; i2--, remaining /= 256) {
      bytes[i2] = remaining;
    }
    if (number < 0) {
      negate2(bytes);
    }
    return new Int642(bytes);
  }
  valueOf() {
    const bytes = this.bytes.slice(0);
    const negative = bytes[0] & 128;
    if (negative) {
      negate2(bytes);
    }
    return parseInt(toHex(bytes), 16) * (negative ? -1 : 1);
  }
  toString() {
    return String(this.valueOf());
  }
};
__name(Int642, "Int64");
function negate2(bytes) {
  for (let i2 = 0; i2 < 8; i2++) {
    bytes[i2] ^= 255;
  }
  for (let i2 = 7; i2 > -1; i2--) {
    bytes[i2]++;
    if (bytes[i2] !== 0)
      break;
  }
}
__name(negate2, "negate");

// node_modules/@smithy/eventstream-codec/dist-es/HeaderMarshaller.js
var HeaderMarshaller = class {
  toUtf8;
  fromUtf8;
  constructor(toUtf82, fromUtf85) {
    this.toUtf8 = toUtf82;
    this.fromUtf8 = fromUtf85;
  }
  format(headers) {
    const chunks = [];
    for (const headerName of Object.keys(headers)) {
      const bytes = this.fromUtf8(headerName);
      chunks.push(Uint8Array.from([bytes.byteLength]), bytes, this.formatHeaderValue(headers[headerName]));
    }
    const out = new Uint8Array(chunks.reduce((carry, bytes) => carry + bytes.byteLength, 0));
    let position = 0;
    for (const chunk of chunks) {
      out.set(chunk, position);
      position += chunk.byteLength;
    }
    return out;
  }
  formatHeaderValue(header) {
    switch (header.type) {
      case "boolean":
        return Uint8Array.from([header.value ? 0 : 1]);
      case "byte":
        return Uint8Array.from([2, header.value]);
      case "short":
        const shortView = new DataView(new ArrayBuffer(3));
        shortView.setUint8(0, 3);
        shortView.setInt16(1, header.value, false);
        return new Uint8Array(shortView.buffer);
      case "integer":
        const intView = new DataView(new ArrayBuffer(5));
        intView.setUint8(0, 4);
        intView.setInt32(1, header.value, false);
        return new Uint8Array(intView.buffer);
      case "long":
        const longBytes = new Uint8Array(9);
        longBytes[0] = 5;
        longBytes.set(header.value.bytes, 1);
        return longBytes;
      case "binary":
        const binView = new DataView(new ArrayBuffer(3 + header.value.byteLength));
        binView.setUint8(0, 6);
        binView.setUint16(1, header.value.byteLength, false);
        const binBytes = new Uint8Array(binView.buffer);
        binBytes.set(header.value, 3);
        return binBytes;
      case "string":
        const utf8Bytes = this.fromUtf8(header.value);
        const strView = new DataView(new ArrayBuffer(3 + utf8Bytes.byteLength));
        strView.setUint8(0, 7);
        strView.setUint16(1, utf8Bytes.byteLength, false);
        const strBytes = new Uint8Array(strView.buffer);
        strBytes.set(utf8Bytes, 3);
        return strBytes;
      case "timestamp":
        const tsBytes = new Uint8Array(9);
        tsBytes[0] = 8;
        tsBytes.set(Int642.fromNumber(header.value.valueOf()).bytes, 1);
        return tsBytes;
      case "uuid":
        if (!UUID_PATTERN2.test(header.value)) {
          throw new Error(`Invalid UUID received: ${header.value}`);
        }
        const uuidBytes = new Uint8Array(17);
        uuidBytes[0] = 9;
        uuidBytes.set(fromHex(header.value.replace(/\-/g, "")), 1);
        return uuidBytes;
    }
  }
  parse(headers) {
    const out = {};
    let position = 0;
    while (position < headers.byteLength) {
      const nameLength = headers.getUint8(position++);
      const name = this.toUtf8(new Uint8Array(headers.buffer, headers.byteOffset + position, nameLength));
      position += nameLength;
      switch (headers.getUint8(position++)) {
        case 0:
          out[name] = {
            type: BOOLEAN_TAG,
            value: true
          };
          break;
        case 1:
          out[name] = {
            type: BOOLEAN_TAG,
            value: false
          };
          break;
        case 2:
          out[name] = {
            type: BYTE_TAG,
            value: headers.getInt8(position++)
          };
          break;
        case 3:
          out[name] = {
            type: SHORT_TAG,
            value: headers.getInt16(position, false)
          };
          position += 2;
          break;
        case 4:
          out[name] = {
            type: INT_TAG,
            value: headers.getInt32(position, false)
          };
          position += 4;
          break;
        case 5:
          out[name] = {
            type: LONG_TAG,
            value: new Int642(new Uint8Array(headers.buffer, headers.byteOffset + position, 8))
          };
          position += 8;
          break;
        case 6:
          const binaryLength = headers.getUint16(position, false);
          position += 2;
          out[name] = {
            type: BINARY_TAG,
            value: new Uint8Array(headers.buffer, headers.byteOffset + position, binaryLength)
          };
          position += binaryLength;
          break;
        case 7:
          const stringLength = headers.getUint16(position, false);
          position += 2;
          out[name] = {
            type: STRING_TAG,
            value: this.toUtf8(new Uint8Array(headers.buffer, headers.byteOffset + position, stringLength))
          };
          position += stringLength;
          break;
        case 8:
          out[name] = {
            type: TIMESTAMP_TAG,
            value: new Date(new Int642(new Uint8Array(headers.buffer, headers.byteOffset + position, 8)).valueOf())
          };
          position += 8;
          break;
        case 9:
          const uuidBytes = new Uint8Array(headers.buffer, headers.byteOffset + position, 16);
          position += 16;
          out[name] = {
            type: UUID_TAG,
            value: `${toHex(uuidBytes.subarray(0, 4))}-${toHex(uuidBytes.subarray(4, 6))}-${toHex(uuidBytes.subarray(6, 8))}-${toHex(uuidBytes.subarray(8, 10))}-${toHex(uuidBytes.subarray(10))}`
          };
          break;
        default:
          throw new Error(`Unrecognized header type tag`);
      }
    }
    return out;
  }
};
__name(HeaderMarshaller, "HeaderMarshaller");
var HEADER_VALUE_TYPE2;
(function(HEADER_VALUE_TYPE3) {
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["boolTrue"] = 0] = "boolTrue";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["boolFalse"] = 1] = "boolFalse";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["byte"] = 2] = "byte";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["short"] = 3] = "short";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["integer"] = 4] = "integer";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["long"] = 5] = "long";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["byteArray"] = 6] = "byteArray";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["string"] = 7] = "string";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["timestamp"] = 8] = "timestamp";
  HEADER_VALUE_TYPE3[HEADER_VALUE_TYPE3["uuid"] = 9] = "uuid";
})(HEADER_VALUE_TYPE2 || (HEADER_VALUE_TYPE2 = {}));
var BOOLEAN_TAG = "boolean";
var BYTE_TAG = "byte";
var SHORT_TAG = "short";
var INT_TAG = "integer";
var LONG_TAG = "long";
var BINARY_TAG = "binary";
var STRING_TAG = "string";
var TIMESTAMP_TAG = "timestamp";
var UUID_TAG = "uuid";
var UUID_PATTERN2 = /^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;

// node_modules/@smithy/eventstream-codec/dist-es/splitMessage.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var PRELUDE_MEMBER_LENGTH = 4;
var PRELUDE_LENGTH = PRELUDE_MEMBER_LENGTH * 2;
var CHECKSUM_LENGTH = 4;
var MINIMUM_MESSAGE_LENGTH = PRELUDE_LENGTH + CHECKSUM_LENGTH * 2;
function splitMessage({ byteLength, byteOffset, buffer }) {
  if (byteLength < MINIMUM_MESSAGE_LENGTH) {
    throw new Error("Provided message too short to accommodate event stream message overhead");
  }
  const view = new DataView(buffer, byteOffset, byteLength);
  const messageLength = view.getUint32(0, false);
  if (byteLength !== messageLength) {
    throw new Error("Reported message length does not match received message length");
  }
  const headerLength = view.getUint32(PRELUDE_MEMBER_LENGTH, false);
  const expectedPreludeChecksum = view.getUint32(PRELUDE_LENGTH, false);
  const expectedMessageChecksum = view.getUint32(byteLength - CHECKSUM_LENGTH, false);
  const checksummer = new Crc32().update(new Uint8Array(buffer, byteOffset, PRELUDE_LENGTH));
  if (expectedPreludeChecksum !== checksummer.digest()) {
    throw new Error(`The prelude checksum specified in the message (${expectedPreludeChecksum}) does not match the calculated CRC32 checksum (${checksummer.digest()})`);
  }
  checksummer.update(new Uint8Array(buffer, byteOffset + PRELUDE_LENGTH, byteLength - (PRELUDE_LENGTH + CHECKSUM_LENGTH)));
  if (expectedMessageChecksum !== checksummer.digest()) {
    throw new Error(`The message checksum (${checksummer.digest()}) did not match the expected value of ${expectedMessageChecksum}`);
  }
  return {
    headers: new DataView(buffer, byteOffset + PRELUDE_LENGTH + CHECKSUM_LENGTH, headerLength),
    body: new Uint8Array(buffer, byteOffset + PRELUDE_LENGTH + CHECKSUM_LENGTH + headerLength, messageLength - headerLength - (PRELUDE_LENGTH + CHECKSUM_LENGTH + CHECKSUM_LENGTH))
  };
}
__name(splitMessage, "splitMessage");

// node_modules/@smithy/eventstream-codec/dist-es/EventStreamCodec.js
var EventStreamCodec = class {
  headerMarshaller;
  messageBuffer;
  isEndOfStream;
  constructor(toUtf82, fromUtf85) {
    this.headerMarshaller = new HeaderMarshaller(toUtf82, fromUtf85);
    this.messageBuffer = [];
    this.isEndOfStream = false;
  }
  feed(message) {
    this.messageBuffer.push(this.decode(message));
  }
  endOfStream() {
    this.isEndOfStream = true;
  }
  getMessage() {
    const message = this.messageBuffer.pop();
    const isEndOfStream = this.isEndOfStream;
    return {
      getMessage() {
        return message;
      },
      isEndOfStream() {
        return isEndOfStream;
      }
    };
  }
  getAvailableMessages() {
    const messages = this.messageBuffer;
    this.messageBuffer = [];
    const isEndOfStream = this.isEndOfStream;
    return {
      getMessages() {
        return messages;
      },
      isEndOfStream() {
        return isEndOfStream;
      }
    };
  }
  encode({ headers: rawHeaders, body }) {
    const headers = this.headerMarshaller.format(rawHeaders);
    const length = headers.byteLength + body.byteLength + 16;
    const out = new Uint8Array(length);
    const view = new DataView(out.buffer, out.byteOffset, out.byteLength);
    const checksum = new Crc32();
    view.setUint32(0, length, false);
    view.setUint32(4, headers.byteLength, false);
    view.setUint32(8, checksum.update(out.subarray(0, 8)).digest(), false);
    out.set(headers, 12);
    out.set(body, headers.byteLength + 12);
    view.setUint32(length - 4, checksum.update(out.subarray(8, length - 4)).digest(), false);
    return out;
  }
  decode(message) {
    const { headers, body } = splitMessage(message);
    return { headers: this.headerMarshaller.parse(headers), body };
  }
  formatHeaders(rawHeaders) {
    return this.headerMarshaller.format(rawHeaders);
  }
};
__name(EventStreamCodec, "EventStreamCodec");

// node_modules/@smithy/eventstream-codec/dist-es/MessageDecoderStream.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var MessageDecoderStream = class {
  options;
  constructor(options) {
    this.options = options;
  }
  [Symbol.asyncIterator]() {
    return this.asyncIterator();
  }
  async *asyncIterator() {
    for await (const bytes of this.options.inputStream) {
      const decoded = this.options.decoder.decode(bytes);
      yield decoded;
    }
  }
};
__name(MessageDecoderStream, "MessageDecoderStream");

// node_modules/@smithy/eventstream-codec/dist-es/MessageEncoderStream.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var MessageEncoderStream = class {
  options;
  constructor(options) {
    this.options = options;
  }
  [Symbol.asyncIterator]() {
    return this.asyncIterator();
  }
  async *asyncIterator() {
    for await (const msg of this.options.messageStream) {
      const encoded = this.options.encoder.encode(msg);
      yield encoded;
    }
    if (this.options.includeEndFrame) {
      yield new Uint8Array(0);
    }
  }
};
__name(MessageEncoderStream, "MessageEncoderStream");

// node_modules/@smithy/eventstream-codec/dist-es/SmithyMessageDecoderStream.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SmithyMessageDecoderStream = class {
  options;
  constructor(options) {
    this.options = options;
  }
  [Symbol.asyncIterator]() {
    return this.asyncIterator();
  }
  async *asyncIterator() {
    for await (const message of this.options.messageStream) {
      const deserialized = await this.options.deserializer(message);
      if (deserialized === void 0)
        continue;
      yield deserialized;
    }
  }
};
__name(SmithyMessageDecoderStream, "SmithyMessageDecoderStream");

// node_modules/@smithy/eventstream-codec/dist-es/SmithyMessageEncoderStream.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var SmithyMessageEncoderStream = class {
  options;
  constructor(options) {
    this.options = options;
  }
  [Symbol.asyncIterator]() {
    return this.asyncIterator();
  }
  async *asyncIterator() {
    for await (const chunk of this.options.inputStream) {
      const payloadBuf = this.options.serializer(chunk);
      yield payloadBuf;
    }
  }
};
__name(SmithyMessageEncoderStream, "SmithyMessageEncoderStream");

// node_modules/@smithy/eventstream-serde-universal/dist-es/getChunkedStream.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function getChunkedStream(source) {
  let currentMessageTotalLength = 0;
  let currentMessagePendingLength = 0;
  let currentMessage = null;
  let messageLengthBuffer = null;
  const allocateMessage = /* @__PURE__ */ __name((size) => {
    if (typeof size !== "number") {
      throw new Error("Attempted to allocate an event message where size was not a number: " + size);
    }
    currentMessageTotalLength = size;
    currentMessagePendingLength = 4;
    currentMessage = new Uint8Array(size);
    const currentMessageView = new DataView(currentMessage.buffer);
    currentMessageView.setUint32(0, size, false);
  }, "allocateMessage");
  const iterator = /* @__PURE__ */ __name(async function* () {
    const sourceIterator = source[Symbol.asyncIterator]();
    while (true) {
      const { value, done } = await sourceIterator.next();
      if (done) {
        if (!currentMessageTotalLength) {
          return;
        } else if (currentMessageTotalLength === currentMessagePendingLength) {
          yield currentMessage;
        } else {
          throw new Error("Truncated event message received.");
        }
        return;
      }
      const chunkLength = value.length;
      let currentOffset = 0;
      while (currentOffset < chunkLength) {
        if (!currentMessage) {
          const bytesRemaining = chunkLength - currentOffset;
          if (!messageLengthBuffer) {
            messageLengthBuffer = new Uint8Array(4);
          }
          const numBytesForTotal = Math.min(4 - currentMessagePendingLength, bytesRemaining);
          messageLengthBuffer.set(value.slice(currentOffset, currentOffset + numBytesForTotal), currentMessagePendingLength);
          currentMessagePendingLength += numBytesForTotal;
          currentOffset += numBytesForTotal;
          if (currentMessagePendingLength < 4) {
            break;
          }
          allocateMessage(new DataView(messageLengthBuffer.buffer).getUint32(0, false));
          messageLengthBuffer = null;
        }
        const numBytesToWrite = Math.min(currentMessageTotalLength - currentMessagePendingLength, chunkLength - currentOffset);
        currentMessage.set(value.slice(currentOffset, currentOffset + numBytesToWrite), currentMessagePendingLength);
        currentMessagePendingLength += numBytesToWrite;
        currentOffset += numBytesToWrite;
        if (currentMessageTotalLength && currentMessageTotalLength === currentMessagePendingLength) {
          yield currentMessage;
          currentMessage = null;
          currentMessageTotalLength = 0;
          currentMessagePendingLength = 0;
        }
      }
    }
  }, "iterator");
  return {
    [Symbol.asyncIterator]: iterator
  };
}
__name(getChunkedStream, "getChunkedStream");

// node_modules/@smithy/eventstream-serde-universal/dist-es/getUnmarshalledStream.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function getMessageUnmarshaller(deserializer, toUtf82) {
  return async function(message) {
    const { value: messageType } = message.headers[":message-type"];
    if (messageType === "error") {
      const unmodeledError = new Error(message.headers[":error-message"].value || "UnknownError");
      unmodeledError.name = message.headers[":error-code"].value;
      throw unmodeledError;
    } else if (messageType === "exception") {
      const code = message.headers[":exception-type"].value;
      const exception = { [code]: message };
      const deserializedException = await deserializer(exception);
      if (deserializedException.$unknown) {
        const error = new Error(toUtf82(message.body));
        error.name = code;
        throw error;
      }
      throw deserializedException[code];
    } else if (messageType === "event") {
      const event = {
        [message.headers[":event-type"].value]: message
      };
      const deserialized = await deserializer(event);
      if (deserialized.$unknown)
        return;
      return deserialized;
    } else {
      throw Error(`Unrecognizable event type: ${message.headers[":event-type"].value}`);
    }
  };
}
__name(getMessageUnmarshaller, "getMessageUnmarshaller");

// node_modules/@smithy/eventstream-serde-universal/dist-es/EventStreamMarshaller.js
var EventStreamMarshaller = class {
  eventStreamCodec;
  utfEncoder;
  constructor({ utf8Encoder, utf8Decoder }) {
    this.eventStreamCodec = new EventStreamCodec(utf8Encoder, utf8Decoder);
    this.utfEncoder = utf8Encoder;
  }
  deserialize(body, deserializer) {
    const inputStream = getChunkedStream(body);
    return new SmithyMessageDecoderStream({
      messageStream: new MessageDecoderStream({ inputStream, decoder: this.eventStreamCodec }),
      deserializer: getMessageUnmarshaller(deserializer, this.utfEncoder)
    });
  }
  serialize(inputStream, serializer) {
    return new MessageEncoderStream({
      messageStream: new SmithyMessageEncoderStream({ inputStream, serializer }),
      encoder: this.eventStreamCodec,
      includeEndFrame: true
    });
  }
};
__name(EventStreamMarshaller, "EventStreamMarshaller");

// node_modules/@smithy/eventstream-serde-browser/dist-es/utils.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var readableStreamtoIterable = /* @__PURE__ */ __name((readableStream) => ({
  [Symbol.asyncIterator]: async function* () {
    const reader = readableStream.getReader();
    try {
      while (true) {
        const { done, value } = await reader.read();
        if (done)
          return;
        yield value;
      }
    } finally {
      reader.releaseLock();
    }
  }
}), "readableStreamtoIterable");
var iterableToReadableStream = /* @__PURE__ */ __name((asyncIterable) => {
  const iterator = asyncIterable[Symbol.asyncIterator]();
  return new ReadableStream({
    async pull(controller) {
      const { done, value } = await iterator.next();
      if (done) {
        return controller.close();
      }
      controller.enqueue(value);
    }
  });
}, "iterableToReadableStream");

// node_modules/@smithy/eventstream-serde-browser/dist-es/EventStreamMarshaller.js
var EventStreamMarshaller2 = class {
  universalMarshaller;
  constructor({ utf8Encoder, utf8Decoder }) {
    this.universalMarshaller = new EventStreamMarshaller({
      utf8Decoder,
      utf8Encoder
    });
  }
  deserialize(body, deserializer) {
    const bodyIterable = isReadableStream2(body) ? readableStreamtoIterable(body) : body;
    return this.universalMarshaller.deserialize(bodyIterable, deserializer);
  }
  serialize(input, serializer) {
    const serialziedIterable = this.universalMarshaller.serialize(input, serializer);
    return typeof ReadableStream === "function" ? iterableToReadableStream(serialziedIterable) : serialziedIterable;
  }
};
__name(EventStreamMarshaller2, "EventStreamMarshaller");
var isReadableStream2 = /* @__PURE__ */ __name((body) => typeof ReadableStream === "function" && body instanceof ReadableStream, "isReadableStream");

// node_modules/@smithy/eventstream-serde-browser/dist-es/provider.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var eventStreamSerdeProvider = /* @__PURE__ */ __name((options) => new EventStreamMarshaller2(options), "eventStreamSerdeProvider");

// node_modules/@smithy/hash-blob-browser/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/chunked-blob-reader/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
async function blobReader(blob, onChunk, chunkSize = 1024 * 1024) {
  const size = blob.size;
  let totalBytesRead = 0;
  while (totalBytesRead < size) {
    const slice = blob.slice(totalBytesRead, Math.min(size, totalBytesRead + chunkSize));
    onChunk(new Uint8Array(await slice.arrayBuffer()));
    totalBytesRead += slice.size;
  }
}
__name(blobReader, "blobReader");

// node_modules/@smithy/hash-blob-browser/dist-es/index.js
var blobHasher = /* @__PURE__ */ __name(async function blobHasher2(hashCtor, blob) {
  const hash = new hashCtor();
  await blobReader(blob, (chunk) => {
    hash.update(chunk);
  });
  return hash.digest();
}, "blobHasher");

// node_modules/@smithy/invalid-dependency/dist-es/invalidProvider.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var invalidProvider = /* @__PURE__ */ __name((message) => () => Promise.reject(message), "invalidProvider");

// node_modules/@smithy/md5-js/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();

// node_modules/@smithy/md5-js/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var BLOCK_SIZE2 = 64;
var DIGEST_LENGTH2 = 16;
var INIT2 = [1732584193, 4023233417, 2562383102, 271733878];

// node_modules/@smithy/md5-js/dist-es/index.js
var Md5 = class {
  state;
  buffer;
  bufferLength;
  bytesHashed;
  finished;
  constructor() {
    this.reset();
  }
  update(sourceData) {
    if (isEmptyData3(sourceData)) {
      return;
    } else if (this.finished) {
      throw new Error("Attempted to update an already finished hash.");
    }
    const data = convertToBuffer3(sourceData);
    let position = 0;
    let { byteLength } = data;
    this.bytesHashed += byteLength;
    while (byteLength > 0) {
      this.buffer.setUint8(this.bufferLength++, data[position++]);
      byteLength--;
      if (this.bufferLength === BLOCK_SIZE2) {
        this.hashBuffer();
        this.bufferLength = 0;
      }
    }
  }
  async digest() {
    if (!this.finished) {
      const { buffer, bufferLength: undecoratedLength, bytesHashed } = this;
      const bitsHashed = bytesHashed * 8;
      buffer.setUint8(this.bufferLength++, 128);
      if (undecoratedLength % BLOCK_SIZE2 >= BLOCK_SIZE2 - 8) {
        for (let i2 = this.bufferLength; i2 < BLOCK_SIZE2; i2++) {
          buffer.setUint8(i2, 0);
        }
        this.hashBuffer();
        this.bufferLength = 0;
      }
      for (let i2 = this.bufferLength; i2 < BLOCK_SIZE2 - 8; i2++) {
        buffer.setUint8(i2, 0);
      }
      buffer.setUint32(BLOCK_SIZE2 - 8, bitsHashed >>> 0, true);
      buffer.setUint32(BLOCK_SIZE2 - 4, Math.floor(bitsHashed / 4294967296), true);
      this.hashBuffer();
      this.finished = true;
    }
    const out = new DataView(new ArrayBuffer(DIGEST_LENGTH2));
    for (let i2 = 0; i2 < 4; i2++) {
      out.setUint32(i2 * 4, this.state[i2], true);
    }
    return new Uint8Array(out.buffer, out.byteOffset, out.byteLength);
  }
  hashBuffer() {
    const { buffer, state } = this;
    let a2 = state[0], b2 = state[1], c2 = state[2], d2 = state[3];
    a2 = ff(a2, b2, c2, d2, buffer.getUint32(0, true), 7, 3614090360);
    d2 = ff(d2, a2, b2, c2, buffer.getUint32(4, true), 12, 3905402710);
    c2 = ff(c2, d2, a2, b2, buffer.getUint32(8, true), 17, 606105819);
    b2 = ff(b2, c2, d2, a2, buffer.getUint32(12, true), 22, 3250441966);
    a2 = ff(a2, b2, c2, d2, buffer.getUint32(16, true), 7, 4118548399);
    d2 = ff(d2, a2, b2, c2, buffer.getUint32(20, true), 12, 1200080426);
    c2 = ff(c2, d2, a2, b2, buffer.getUint32(24, true), 17, 2821735955);
    b2 = ff(b2, c2, d2, a2, buffer.getUint32(28, true), 22, 4249261313);
    a2 = ff(a2, b2, c2, d2, buffer.getUint32(32, true), 7, 1770035416);
    d2 = ff(d2, a2, b2, c2, buffer.getUint32(36, true), 12, 2336552879);
    c2 = ff(c2, d2, a2, b2, buffer.getUint32(40, true), 17, 4294925233);
    b2 = ff(b2, c2, d2, a2, buffer.getUint32(44, true), 22, 2304563134);
    a2 = ff(a2, b2, c2, d2, buffer.getUint32(48, true), 7, 1804603682);
    d2 = ff(d2, a2, b2, c2, buffer.getUint32(52, true), 12, 4254626195);
    c2 = ff(c2, d2, a2, b2, buffer.getUint32(56, true), 17, 2792965006);
    b2 = ff(b2, c2, d2, a2, buffer.getUint32(60, true), 22, 1236535329);
    a2 = gg(a2, b2, c2, d2, buffer.getUint32(4, true), 5, 4129170786);
    d2 = gg(d2, a2, b2, c2, buffer.getUint32(24, true), 9, 3225465664);
    c2 = gg(c2, d2, a2, b2, buffer.getUint32(44, true), 14, 643717713);
    b2 = gg(b2, c2, d2, a2, buffer.getUint32(0, true), 20, 3921069994);
    a2 = gg(a2, b2, c2, d2, buffer.getUint32(20, true), 5, 3593408605);
    d2 = gg(d2, a2, b2, c2, buffer.getUint32(40, true), 9, 38016083);
    c2 = gg(c2, d2, a2, b2, buffer.getUint32(60, true), 14, 3634488961);
    b2 = gg(b2, c2, d2, a2, buffer.getUint32(16, true), 20, 3889429448);
    a2 = gg(a2, b2, c2, d2, buffer.getUint32(36, true), 5, 568446438);
    d2 = gg(d2, a2, b2, c2, buffer.getUint32(56, true), 9, 3275163606);
    c2 = gg(c2, d2, a2, b2, buffer.getUint32(12, true), 14, 4107603335);
    b2 = gg(b2, c2, d2, a2, buffer.getUint32(32, true), 20, 1163531501);
    a2 = gg(a2, b2, c2, d2, buffer.getUint32(52, true), 5, 2850285829);
    d2 = gg(d2, a2, b2, c2, buffer.getUint32(8, true), 9, 4243563512);
    c2 = gg(c2, d2, a2, b2, buffer.getUint32(28, true), 14, 1735328473);
    b2 = gg(b2, c2, d2, a2, buffer.getUint32(48, true), 20, 2368359562);
    a2 = hh(a2, b2, c2, d2, buffer.getUint32(20, true), 4, 4294588738);
    d2 = hh(d2, a2, b2, c2, buffer.getUint32(32, true), 11, 2272392833);
    c2 = hh(c2, d2, a2, b2, buffer.getUint32(44, true), 16, 1839030562);
    b2 = hh(b2, c2, d2, a2, buffer.getUint32(56, true), 23, 4259657740);
    a2 = hh(a2, b2, c2, d2, buffer.getUint32(4, true), 4, 2763975236);
    d2 = hh(d2, a2, b2, c2, buffer.getUint32(16, true), 11, 1272893353);
    c2 = hh(c2, d2, a2, b2, buffer.getUint32(28, true), 16, 4139469664);
    b2 = hh(b2, c2, d2, a2, buffer.getUint32(40, true), 23, 3200236656);
    a2 = hh(a2, b2, c2, d2, buffer.getUint32(52, true), 4, 681279174);
    d2 = hh(d2, a2, b2, c2, buffer.getUint32(0, true), 11, 3936430074);
    c2 = hh(c2, d2, a2, b2, buffer.getUint32(12, true), 16, 3572445317);
    b2 = hh(b2, c2, d2, a2, buffer.getUint32(24, true), 23, 76029189);
    a2 = hh(a2, b2, c2, d2, buffer.getUint32(36, true), 4, 3654602809);
    d2 = hh(d2, a2, b2, c2, buffer.getUint32(48, true), 11, 3873151461);
    c2 = hh(c2, d2, a2, b2, buffer.getUint32(60, true), 16, 530742520);
    b2 = hh(b2, c2, d2, a2, buffer.getUint32(8, true), 23, 3299628645);
    a2 = ii(a2, b2, c2, d2, buffer.getUint32(0, true), 6, 4096336452);
    d2 = ii(d2, a2, b2, c2, buffer.getUint32(28, true), 10, 1126891415);
    c2 = ii(c2, d2, a2, b2, buffer.getUint32(56, true), 15, 2878612391);
    b2 = ii(b2, c2, d2, a2, buffer.getUint32(20, true), 21, 4237533241);
    a2 = ii(a2, b2, c2, d2, buffer.getUint32(48, true), 6, 1700485571);
    d2 = ii(d2, a2, b2, c2, buffer.getUint32(12, true), 10, 2399980690);
    c2 = ii(c2, d2, a2, b2, buffer.getUint32(40, true), 15, 4293915773);
    b2 = ii(b2, c2, d2, a2, buffer.getUint32(4, true), 21, 2240044497);
    a2 = ii(a2, b2, c2, d2, buffer.getUint32(32, true), 6, 1873313359);
    d2 = ii(d2, a2, b2, c2, buffer.getUint32(60, true), 10, 4264355552);
    c2 = ii(c2, d2, a2, b2, buffer.getUint32(24, true), 15, 2734768916);
    b2 = ii(b2, c2, d2, a2, buffer.getUint32(52, true), 21, 1309151649);
    a2 = ii(a2, b2, c2, d2, buffer.getUint32(16, true), 6, 4149444226);
    d2 = ii(d2, a2, b2, c2, buffer.getUint32(44, true), 10, 3174756917);
    c2 = ii(c2, d2, a2, b2, buffer.getUint32(8, true), 15, 718787259);
    b2 = ii(b2, c2, d2, a2, buffer.getUint32(36, true), 21, 3951481745);
    state[0] = a2 + state[0] & 4294967295;
    state[1] = b2 + state[1] & 4294967295;
    state[2] = c2 + state[2] & 4294967295;
    state[3] = d2 + state[3] & 4294967295;
  }
  reset() {
    this.state = Uint32Array.from(INIT2);
    this.buffer = new DataView(new ArrayBuffer(BLOCK_SIZE2));
    this.bufferLength = 0;
    this.bytesHashed = 0;
    this.finished = false;
  }
};
__name(Md5, "Md5");
function cmn(q2, a2, b2, x2, s2, t2) {
  a2 = (a2 + q2 & 4294967295) + (x2 + t2 & 4294967295) & 4294967295;
  return (a2 << s2 | a2 >>> 32 - s2) + b2 & 4294967295;
}
__name(cmn, "cmn");
function ff(a2, b2, c2, d2, x2, s2, t2) {
  return cmn(b2 & c2 | ~b2 & d2, a2, b2, x2, s2, t2);
}
__name(ff, "ff");
function gg(a2, b2, c2, d2, x2, s2, t2) {
  return cmn(b2 & d2 | c2 & ~d2, a2, b2, x2, s2, t2);
}
__name(gg, "gg");
function hh(a2, b2, c2, d2, x2, s2, t2) {
  return cmn(b2 ^ c2 ^ d2, a2, b2, x2, s2, t2);
}
__name(hh, "hh");
function ii(a2, b2, c2, d2, x2, s2, t2) {
  return cmn(c2 ^ (b2 | ~d2), a2, b2, x2, s2, t2);
}
__name(ii, "ii");
function isEmptyData3(data) {
  if (typeof data === "string") {
    return data.length === 0;
  }
  return data.byteLength === 0;
}
__name(isEmptyData3, "isEmptyData");
function convertToBuffer3(data) {
  if (typeof data === "string") {
    return fromUtf8(data);
  }
  if (ArrayBuffer.isView(data)) {
    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);
  }
  return new Uint8Array(data);
}
__name(convertToBuffer3, "convertToBuffer");

// node_modules/@smithy/util-defaults-mode-browser/dist-es/resolveDefaultsModeConfig.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@smithy/util-defaults-mode-browser/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var DEFAULTS_MODE_OPTIONS = ["in-region", "cross-region", "mobile", "standard", "legacy"];

// node_modules/@smithy/util-defaults-mode-browser/dist-es/resolveDefaultsModeConfig.js
var resolveDefaultsModeConfig = /* @__PURE__ */ __name(({ defaultsMode } = {}) => memoize(async () => {
  const mode = typeof defaultsMode === "function" ? await defaultsMode() : defaultsMode;
  switch (mode?.toLowerCase()) {
    case "auto":
      return Promise.resolve(useMobileConfiguration() ? "mobile" : "standard");
    case "mobile":
    case "in-region":
    case "cross-region":
    case "standard":
    case "legacy":
      return Promise.resolve(mode?.toLocaleLowerCase());
    case void 0:
      return Promise.resolve("legacy");
    default:
      throw new Error(`Invalid parameter for "defaultsMode", expect ${DEFAULTS_MODE_OPTIONS.join(", ")}, got ${mode}`);
  }
}), "resolveDefaultsModeConfig");
var useMobileConfiguration = /* @__PURE__ */ __name(() => {
  const navigator = window?.navigator;
  if (navigator?.connection) {
    const { effectiveType, rtt, downlink } = navigator?.connection;
    const slow = typeof effectiveType === "string" && effectiveType !== "4g" || Number(rtt) > 100 || Number(downlink) < 10;
    if (slow) {
      return true;
    }
  }
  return navigator?.userAgentData?.mobile || typeof navigator?.maxTouchPoints === "number" && navigator?.maxTouchPoints > 1;
}, "useMobileConfiguration");

// node_modules/@aws-sdk/client-s3/dist-es/runtimeConfig.shared.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
init_dist_es();
var getRuntimeConfig = /* @__PURE__ */ __name((config) => {
  return {
    apiVersion: "2006-03-01",
    base64Decoder: config?.base64Decoder ?? fromBase64,
    base64Encoder: config?.base64Encoder ?? toBase64,
    disableHostPrefix: config?.disableHostPrefix ?? false,
    endpointProvider: config?.endpointProvider ?? defaultEndpointResolver,
    extensions: config?.extensions ?? [],
    getAwsChunkedEncodingStream: config?.getAwsChunkedEncodingStream ?? getAwsChunkedEncodingStream,
    httpAuthSchemeProvider: config?.httpAuthSchemeProvider ?? defaultS3HttpAuthSchemeProvider,
    httpAuthSchemes: config?.httpAuthSchemes ?? [
      {
        schemeId: "aws.auth#sigv4",
        identityProvider: (ipc) => ipc.getIdentityProvider("aws.auth#sigv4"),
        signer: new AwsSdkSigV4Signer()
      },
      {
        schemeId: "aws.auth#sigv4a",
        identityProvider: (ipc) => ipc.getIdentityProvider("aws.auth#sigv4a"),
        signer: new AwsSdkSigV4ASigner()
      }
    ],
    logger: config?.logger ?? new NoOpLogger(),
    protocol: config?.protocol ?? AwsRestXmlProtocol,
    protocolSettings: config?.protocolSettings ?? {
      defaultNamespace: "com.amazonaws.s3",
      xmlNamespace: "http://s3.amazonaws.com/doc/2006-03-01/",
      version: "2006-03-01",
      serviceTarget: "AmazonS3"
    },
    sdkStreamMixin: config?.sdkStreamMixin ?? sdkStreamMixin,
    serviceId: config?.serviceId ?? "S3",
    signerConstructor: config?.signerConstructor ?? SignatureV4MultiRegion,
    signingEscapePath: config?.signingEscapePath ?? false,
    urlParser: config?.urlParser ?? parseUrl,
    useArnRegion: config?.useArnRegion ?? void 0,
    utf8Decoder: config?.utf8Decoder ?? fromUtf8,
    utf8Encoder: config?.utf8Encoder ?? toUtf8
  };
}, "getRuntimeConfig");

// node_modules/@aws-sdk/client-s3/dist-es/runtimeConfig.browser.js
var getRuntimeConfig2 = /* @__PURE__ */ __name((config) => {
  const defaultsMode = resolveDefaultsModeConfig(config);
  const defaultConfigProvider = /* @__PURE__ */ __name(() => defaultsMode().then(loadConfigsForDefaultMode), "defaultConfigProvider");
  const clientSharedValues = getRuntimeConfig(config);
  return {
    ...clientSharedValues,
    ...config,
    runtime: "browser",
    defaultsMode,
    bodyLengthChecker: config?.bodyLengthChecker ?? calculateBodyLength,
    credentialDefaultProvider: config?.credentialDefaultProvider ?? ((_) => () => Promise.reject(new Error("Credential is missing"))),
    defaultUserAgentProvider: config?.defaultUserAgentProvider ?? createDefaultUserAgentProvider({ serviceId: clientSharedValues.serviceId, clientVersion: package_default.version }),
    eventStreamSerdeProvider: config?.eventStreamSerdeProvider ?? eventStreamSerdeProvider,
    maxAttempts: config?.maxAttempts ?? DEFAULT_MAX_ATTEMPTS,
    md5: config?.md5 ?? Md5,
    region: config?.region ?? invalidProvider("Region is missing"),
    requestHandler: FetchHttpHandler.create(config?.requestHandler ?? defaultConfigProvider),
    retryMode: config?.retryMode ?? (async () => (await defaultConfigProvider()).retryMode || DEFAULT_RETRY_MODE),
    sha1: config?.sha1 ?? Sha12,
    sha256: config?.sha256 ?? Sha2563,
    streamCollector: config?.streamCollector ?? streamCollector,
    streamHasher: config?.streamHasher ?? blobHasher,
    useDualstackEndpoint: config?.useDualstackEndpoint ?? (() => Promise.resolve(DEFAULT_USE_DUALSTACK_ENDPOINT)),
    useFipsEndpoint: config?.useFipsEndpoint ?? (() => Promise.resolve(DEFAULT_USE_FIPS_ENDPOINT))
  };
}, "getRuntimeConfig");

// node_modules/@aws-sdk/client-s3/dist-es/runtimeExtensions.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/region-config-resolver/dist-es/extensions/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getAwsRegionExtensionConfiguration = /* @__PURE__ */ __name((runtimeConfig) => {
  return {
    setRegion(region) {
      runtimeConfig.region = region;
    },
    region() {
      return runtimeConfig.region;
    }
  };
}, "getAwsRegionExtensionConfiguration");
var resolveAwsRegionExtensionConfiguration = /* @__PURE__ */ __name((awsRegionExtensionConfiguration) => {
  return {
    region: awsRegionExtensionConfiguration.region()
  };
}, "resolveAwsRegionExtensionConfiguration");

// node_modules/@aws-sdk/client-s3/dist-es/auth/httpAuthExtensionConfiguration.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var getHttpAuthExtensionConfiguration = /* @__PURE__ */ __name((runtimeConfig) => {
  const _httpAuthSchemes = runtimeConfig.httpAuthSchemes;
  let _httpAuthSchemeProvider = runtimeConfig.httpAuthSchemeProvider;
  let _credentials = runtimeConfig.credentials;
  return {
    setHttpAuthScheme(httpAuthScheme) {
      const index = _httpAuthSchemes.findIndex((scheme) => scheme.schemeId === httpAuthScheme.schemeId);
      if (index === -1) {
        _httpAuthSchemes.push(httpAuthScheme);
      } else {
        _httpAuthSchemes.splice(index, 1, httpAuthScheme);
      }
    },
    httpAuthSchemes() {
      return _httpAuthSchemes;
    },
    setHttpAuthSchemeProvider(httpAuthSchemeProvider) {
      _httpAuthSchemeProvider = httpAuthSchemeProvider;
    },
    httpAuthSchemeProvider() {
      return _httpAuthSchemeProvider;
    },
    setCredentials(credentials) {
      _credentials = credentials;
    },
    credentials() {
      return _credentials;
    }
  };
}, "getHttpAuthExtensionConfiguration");
var resolveHttpAuthRuntimeConfig = /* @__PURE__ */ __name((config) => {
  return {
    httpAuthSchemes: config.httpAuthSchemes(),
    httpAuthSchemeProvider: config.httpAuthSchemeProvider(),
    credentials: config.credentials()
  };
}, "resolveHttpAuthRuntimeConfig");

// node_modules/@aws-sdk/client-s3/dist-es/runtimeExtensions.js
var resolveRuntimeExtensions = /* @__PURE__ */ __name((runtimeConfig, extensions) => {
  const extensionConfiguration = Object.assign(getAwsRegionExtensionConfiguration(runtimeConfig), getDefaultExtensionConfiguration(runtimeConfig), getHttpHandlerExtensionConfiguration(runtimeConfig), getHttpAuthExtensionConfiguration(runtimeConfig));
  extensions.forEach((extension) => extension.configure(extensionConfiguration));
  return Object.assign(runtimeConfig, resolveAwsRegionExtensionConfiguration(extensionConfiguration), resolveDefaultRuntimeConfig(extensionConfiguration), resolveHttpHandlerRuntimeConfig(extensionConfiguration), resolveHttpAuthRuntimeConfig(extensionConfiguration));
}, "resolveRuntimeExtensions");

// node_modules/@aws-sdk/client-s3/dist-es/S3Client.js
var S3Client = class extends Client {
  config;
  constructor(...[configuration]) {
    const _config_0 = getRuntimeConfig2(configuration || {});
    super(_config_0);
    this.initConfig = _config_0;
    const _config_1 = resolveClientEndpointParameters(_config_0);
    const _config_2 = resolveUserAgentConfig(_config_1);
    const _config_3 = resolveFlexibleChecksumsConfig(_config_2);
    const _config_4 = resolveRetryConfig(_config_3);
    const _config_5 = resolveRegionConfig(_config_4);
    const _config_6 = resolveHostHeaderConfig(_config_5);
    const _config_7 = resolveEndpointConfig(_config_6);
    const _config_8 = resolveEventStreamSerdeConfig(_config_7);
    const _config_9 = resolveHttpAuthSchemeConfig(_config_8);
    const _config_10 = resolveS3Config(_config_9, { session: [() => this, CreateSessionCommand] });
    const _config_11 = resolveRuntimeExtensions(_config_10, configuration?.extensions || []);
    this.config = _config_11;
    this.middlewareStack.use(getSchemaSerdePlugin(this.config));
    this.middlewareStack.use(getUserAgentPlugin(this.config));
    this.middlewareStack.use(getRetryPlugin(this.config));
    this.middlewareStack.use(getContentLengthPlugin(this.config));
    this.middlewareStack.use(getHostHeaderPlugin(this.config));
    this.middlewareStack.use(getLoggerPlugin(this.config));
    this.middlewareStack.use(getRecursionDetectionPlugin(this.config));
    this.middlewareStack.use(getHttpAuthSchemeEndpointRuleSetPlugin(this.config, {
      httpAuthSchemeParametersProvider: defaultS3HttpAuthSchemeParametersProvider,
      identityProviderConfigProvider: async (config) => new DefaultIdentityProviderConfig({
        "aws.auth#sigv4": config.credentials,
        "aws.auth#sigv4a": config.credentials
      })
    }));
    this.middlewareStack.use(getHttpSigningPlugin(this.config));
    this.middlewareStack.use(getValidateBucketNamePlugin(this.config));
    this.middlewareStack.use(getAddExpectContinuePlugin(this.config));
    this.middlewareStack.use(getRegionRedirectMiddlewarePlugin(this.config));
    this.middlewareStack.use(getS3ExpressPlugin(this.config));
    this.middlewareStack.use(getS3ExpressHttpSigningPlugin(this.config));
  }
  destroy() {
    super.destroy();
  }
};
__name(S3Client, "S3Client");

// node_modules/@aws-sdk/middleware-ssec/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function ssecMiddleware(options) {
  return (next) => async (args) => {
    const input = { ...args.input };
    const properties = [
      {
        target: "SSECustomerKey",
        hash: "SSECustomerKeyMD5"
      },
      {
        target: "CopySourceSSECustomerKey",
        hash: "CopySourceSSECustomerKeyMD5"
      }
    ];
    for (const prop of properties) {
      const value = input[prop.target];
      if (value) {
        let valueForHash;
        if (typeof value === "string") {
          if (isValidBase64EncodedSSECustomerKey(value, options)) {
            valueForHash = options.base64Decoder(value);
          } else {
            valueForHash = options.utf8Decoder(value);
            input[prop.target] = options.base64Encoder(valueForHash);
          }
        } else {
          valueForHash = ArrayBuffer.isView(value) ? new Uint8Array(value.buffer, value.byteOffset, value.byteLength) : new Uint8Array(value);
          input[prop.target] = options.base64Encoder(valueForHash);
        }
        const hash = new options.md5();
        hash.update(valueForHash);
        input[prop.hash] = options.base64Encoder(await hash.digest());
      }
    }
    return next({
      ...args,
      input
    });
  };
}
__name(ssecMiddleware, "ssecMiddleware");
var ssecMiddlewareOptions = {
  name: "ssecMiddleware",
  step: "initialize",
  tags: ["SSE"],
  override: true
};
var getSsecPlugin = /* @__PURE__ */ __name((config) => ({
  applyToStack: (clientStack) => {
    clientStack.add(ssecMiddleware(config), ssecMiddlewareOptions);
  }
}), "getSsecPlugin");
function isValidBase64EncodedSSECustomerKey(str, options) {
  const base64Regex = /^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;
  if (!base64Regex.test(str))
    return false;
  try {
    const decodedBytes = options.base64Decoder(str);
    return decodedBytes.length === 32;
  } catch {
    return false;
  }
}
__name(isValidBase64EncodedSSECustomerKey, "isValidBase64EncodedSSECustomerKey");

// node_modules/@aws-sdk/client-s3/dist-es/commands/PutObjectCommand.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var PutObjectCommand = class extends Command.classBuilder().ep({
  ...commonParams,
  Bucket: { type: "contextParams", name: "Bucket" },
  Key: { type: "contextParams", name: "Key" }
}).m(function(Command2, cs2, config, o2) {
  return [
    getEndpointPlugin(config, Command2.getEndpointParameterInstructions()),
    getFlexibleChecksumsPlugin(config, {
      requestAlgorithmMember: { httpHeader: "x-amz-sdk-checksum-algorithm", name: "ChecksumAlgorithm" },
      requestChecksumRequired: false
    }),
    getCheckContentLengthHeaderPlugin(config),
    getThrow200ExceptionsPlugin(config),
    getSsecPlugin(config)
  ];
}).s("AmazonS3", "PutObject", {}).n("S3Client", "PutObjectCommand").sc(PutObject$).build() {
};
__name(PutObjectCommand, "PutObjectCommand");

// node_modules/@aws-sdk/s3-request-presigner/dist-es/getSignedUrl.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/util-format-url/dist-es/index.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function formatUrl(request) {
  const { port, query } = request;
  let { protocol, path, hostname } = request;
  if (protocol && protocol.slice(-1) !== ":") {
    protocol += ":";
  }
  if (port) {
    hostname += `:${port}`;
  }
  if (path && path.charAt(0) !== "/") {
    path = `/${path}`;
  }
  let queryString = query ? buildQueryString(query) : "";
  if (queryString && queryString[0] !== "?") {
    queryString = `?${queryString}`;
  }
  let auth = "";
  if (request.username != null || request.password != null) {
    const username = request.username ?? "";
    const password = request.password ?? "";
    auth = `${username}:${password}@`;
  }
  let fragment = "";
  if (request.fragment) {
    fragment = `#${request.fragment}`;
  }
  return `${protocol}//${auth}${hostname}${path}${queryString}${fragment}`;
}
__name(formatUrl, "formatUrl");

// node_modules/@aws-sdk/s3-request-presigner/dist-es/presigner.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();

// node_modules/@aws-sdk/s3-request-presigner/dist-es/constants.js
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var UNSIGNED_PAYLOAD2 = "UNSIGNED-PAYLOAD";
var SHA256_HEADER2 = "X-Amz-Content-Sha256";

// node_modules/@aws-sdk/s3-request-presigner/dist-es/presigner.js
var S3RequestPresigner = class {
  signer;
  constructor(options) {
    const resolvedOptions = {
      service: options.signingName || options.service || "s3",
      uriEscapePath: options.uriEscapePath || false,
      applyChecksum: options.applyChecksum || false,
      ...options
    };
    this.signer = new SignatureV4MultiRegion(resolvedOptions);
  }
  presign(requestToSign, { unsignableHeaders = /* @__PURE__ */ new Set(), hoistableHeaders = /* @__PURE__ */ new Set(), unhoistableHeaders = /* @__PURE__ */ new Set(), ...options } = {}) {
    this.prepareRequest(requestToSign, {
      unsignableHeaders,
      unhoistableHeaders,
      hoistableHeaders
    });
    return this.signer.presign(requestToSign, {
      expiresIn: 900,
      unsignableHeaders,
      unhoistableHeaders,
      ...options
    });
  }
  presignWithCredentials(requestToSign, credentials, { unsignableHeaders = /* @__PURE__ */ new Set(), hoistableHeaders = /* @__PURE__ */ new Set(), unhoistableHeaders = /* @__PURE__ */ new Set(), ...options } = {}) {
    this.prepareRequest(requestToSign, {
      unsignableHeaders,
      unhoistableHeaders,
      hoistableHeaders
    });
    return this.signer.presignWithCredentials(requestToSign, credentials, {
      expiresIn: 900,
      unsignableHeaders,
      unhoistableHeaders,
      ...options
    });
  }
  prepareRequest(requestToSign, { unsignableHeaders = /* @__PURE__ */ new Set(), unhoistableHeaders = /* @__PURE__ */ new Set(), hoistableHeaders = /* @__PURE__ */ new Set() } = {}) {
    unsignableHeaders.add("content-type");
    Object.keys(requestToSign.headers).map((header) => header.toLowerCase()).filter((header) => header.startsWith("x-amz-server-side-encryption")).forEach((header) => {
      if (!hoistableHeaders.has(header)) {
        unhoistableHeaders.add(header);
      }
    });
    requestToSign.headers[SHA256_HEADER2] = UNSIGNED_PAYLOAD2;
    const currentHostHeader = requestToSign.headers.host;
    const port = requestToSign.port;
    const expectedHostHeader = `${requestToSign.hostname}${requestToSign.port != null ? ":" + port : ""}`;
    if (!currentHostHeader || currentHostHeader === requestToSign.hostname && requestToSign.port != null) {
      requestToSign.headers.host = expectedHostHeader;
    }
  }
};
__name(S3RequestPresigner, "S3RequestPresigner");

// node_modules/@aws-sdk/s3-request-presigner/dist-es/getSignedUrl.js
var getSignedUrl = /* @__PURE__ */ __name(async (client, command, options = {}) => {
  let s3Presigner;
  let region;
  if (typeof client.config.endpointProvider === "function") {
    const endpointV2 = await getEndpointFromInstructions(command.input, command.constructor, client.config);
    const authScheme = endpointV2.properties?.authSchemes?.[0];
    if (authScheme?.name === "sigv4a") {
      region = authScheme?.signingRegionSet?.join(",");
    } else {
      region = authScheme?.signingRegion;
    }
    s3Presigner = new S3RequestPresigner({
      ...client.config,
      signingName: authScheme?.signingName,
      region: async () => region
    });
  } else {
    s3Presigner = new S3RequestPresigner(client.config);
  }
  const presignInterceptMiddleware = /* @__PURE__ */ __name((next, context) => async (args) => {
    const { request } = args;
    if (!HttpRequest.isInstance(request)) {
      throw new Error("Request to be presigned is not an valid HTTP request.");
    }
    delete request.headers["amz-sdk-invocation-id"];
    delete request.headers["amz-sdk-request"];
    delete request.headers["x-amz-user-agent"];
    let presigned2;
    const presignerOptions = {
      ...options,
      signingRegion: options.signingRegion ?? context["signing_region"] ?? region,
      signingService: options.signingService ?? context["signing_service"]
    };
    if (context.s3ExpressIdentity) {
      presigned2 = await s3Presigner.presignWithCredentials(request, context.s3ExpressIdentity, presignerOptions);
    } else {
      presigned2 = await s3Presigner.presign(request, presignerOptions);
    }
    return {
      response: {},
      output: {
        $metadata: { httpStatusCode: 200 },
        presigned: presigned2
      }
    };
  }, "presignInterceptMiddleware");
  const middlewareName = "presignInterceptMiddleware";
  const clientStack = client.middlewareStack.clone();
  clientStack.addRelativeTo(presignInterceptMiddleware, {
    name: middlewareName,
    relation: "before",
    toMiddleware: "awsAuthMiddleware",
    override: true
  });
  const handler = command.resolveMiddleware(clientStack, client.config, {});
  const { output } = await handler({ input: command.input });
  const { presigned } = output;
  return formatUrl(presigned);
}, "getSignedUrl");

// src/index.ts
var app = new Hono2();
app.use("/*", cors());
app.get("/", (c2) => {
  return c2.text("FacePic Worker");
});
app.post("/images/upload-url", async (c2) => {
  try {
    const body = await c2.req.json();
    const { filename, contentType } = body;
    if (!filename || !contentType) {
      return c2.json({ error: "Missing filename or contentType" }, 400);
    }
    if (!c2.env.R2_ACCESS_KEY_ID || !c2.env.R2_SECRET_ACCESS_KEY || !c2.env.R2_ACCOUNT_ID) {
      return c2.json({ error: "R2 credentials not configured" }, 500);
    }
    const S3 = new S3Client({
      region: "auto",
      endpoint: `https://${c2.env.R2_ACCOUNT_ID}.r2.cloudflarestorage.com`,
      credentials: {
        accessKeyId: c2.env.R2_ACCESS_KEY_ID,
        secretAccessKey: c2.env.R2_SECRET_ACCESS_KEY
      }
    });
    const command = new PutObjectCommand({
      Bucket: c2.env.R2_BUCKET_NAME || "facepic",
      Key: filename,
      ContentType: contentType
    });
    const url = await getSignedUrl(S3, command, { expiresIn: 3600 });
    return c2.json({ url });
  } catch (error) {
    return c2.json({ error: error.message }, 500);
  }
});
var ImageSchema = new import_mongoose.default.Schema({
  filename: String,
  metadata: Object,
  encodings: [Number],
  // Face encodings
  createdAt: { type: Date, default: Date.now }
});
var getImageModel = /* @__PURE__ */ __name(() => {
  if (import_mongoose.default.models.Image)
    return import_mongoose.default.model("Image");
  return import_mongoose.default.model("Image", ImageSchema);
}, "getImageModel");
app.post("/images/meta", async (c2) => {
  try {
    const body = await c2.req.json();
    if (import_mongoose.default.connection.readyState === 0) {
      await import_mongoose.default.connect(c2.env.MONGODB_URI);
    }
    const Image = getImageModel();
    const newImage = new Image(body);
    await newImage.save();
    return c2.json({ success: true, id: newImage._id });
  } catch (error) {
    return c2.json({ error: error.message }, 500);
  }
});
var src_default = app;

// node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var drainBody = /* @__PURE__ */ __name(async (request, env, _ctx, middlewareCtx) => {
  try {
    return await middlewareCtx.next(request, env);
  } finally {
    try {
      if (request.body !== null && !request.bodyUsed) {
        const reader = request.body.getReader();
        while (!(await reader.read()).done) {
        }
      }
    } catch (e2) {
      console.error("Failed to drain the unused request body.", e2);
    }
  }
}, "drainBody");
var middleware_ensure_req_body_drained_default = drainBody;

// node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
function reduceError(e2) {
  return {
    name: e2?.name,
    message: e2?.message ?? String(e2),
    stack: e2?.stack,
    cause: e2?.cause === void 0 ? void 0 : reduceError(e2.cause)
  };
}
__name(reduceError, "reduceError");
var jsonError = /* @__PURE__ */ __name(async (request, env, _ctx, middlewareCtx) => {
  try {
    return await middlewareCtx.next(request, env);
  } catch (e2) {
    const error = reduceError(e2);
    return Response.json(error, {
      status: 500,
      headers: { "MF-Experimental-Error-Stack": "true" }
    });
  }
}, "jsonError");
var middleware_miniflare3_json_error_default = jsonError;

// .wrangler/tmp/bundle-KuYVt0/middleware-insertion-facade.js
var __INTERNAL_WRANGLER_MIDDLEWARE__ = [
  middleware_ensure_req_body_drained_default,
  middleware_miniflare3_json_error_default
];
var middleware_insertion_facade_default = src_default;

// node_modules/wrangler/templates/middleware/common.ts
init_checked_fetch();
init_strip_cf_connecting_ip_header();
init_modules_watch_stub();
var __facade_middleware__ = [];
function __facade_register__(...args) {
  __facade_middleware__.push(...args.flat());
}
__name(__facade_register__, "__facade_register__");
function __facade_invokeChain__(request, env, ctx, dispatch, middlewareChain) {
  const [head, ...tail] = middlewareChain;
  const middlewareCtx = {
    dispatch,
    next(newRequest, newEnv) {
      return __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);
    }
  };
  return head(request, env, ctx, middlewareCtx);
}
__name(__facade_invokeChain__, "__facade_invokeChain__");
function __facade_invoke__(request, env, ctx, dispatch, finalMiddleware) {
  return __facade_invokeChain__(request, env, ctx, dispatch, [
    ...__facade_middleware__,
    finalMiddleware
  ]);
}
__name(__facade_invoke__, "__facade_invoke__");

// .wrangler/tmp/bundle-KuYVt0/middleware-loader.entry.ts
var __Facade_ScheduledController__ = class {
  constructor(scheduledTime, cron, noRetry) {
    this.scheduledTime = scheduledTime;
    this.cron = cron;
    this.#noRetry = noRetry;
  }
  #noRetry;
  noRetry() {
    if (!(this instanceof __Facade_ScheduledController__)) {
      throw new TypeError("Illegal invocation");
    }
    this.#noRetry();
  }
};
__name(__Facade_ScheduledController__, "__Facade_ScheduledController__");
function wrapExportedHandler(worker) {
  if (__INTERNAL_WRANGLER_MIDDLEWARE__ === void 0 || __INTERNAL_WRANGLER_MIDDLEWARE__.length === 0) {
    return worker;
  }
  for (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {
    __facade_register__(middleware);
  }
  const fetchDispatcher = /* @__PURE__ */ __name(function(request, env, ctx) {
    if (worker.fetch === void 0) {
      throw new Error("Handler does not export a fetch() function.");
    }
    return worker.fetch(request, env, ctx);
  }, "fetchDispatcher");
  return {
    ...worker,
    fetch(request, env, ctx) {
      const dispatcher = /* @__PURE__ */ __name(function(type, init) {
        if (type === "scheduled" && worker.scheduled !== void 0) {
          const controller = new __Facade_ScheduledController__(
            Date.now(),
            init.cron ?? "",
            () => {
            }
          );
          return worker.scheduled(controller, env, ctx);
        }
      }, "dispatcher");
      return __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);
    }
  };
}
__name(wrapExportedHandler, "wrapExportedHandler");
function wrapWorkerEntrypoint(klass) {
  if (__INTERNAL_WRANGLER_MIDDLEWARE__ === void 0 || __INTERNAL_WRANGLER_MIDDLEWARE__.length === 0) {
    return klass;
  }
  for (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {
    __facade_register__(middleware);
  }
  return class extends klass {
    #fetchDispatcher = (request, env, ctx) => {
      this.env = env;
      this.ctx = ctx;
      if (super.fetch === void 0) {
        throw new Error("Entrypoint class does not define a fetch() function.");
      }
      return super.fetch(request);
    };
    #dispatcher = (type, init) => {
      if (type === "scheduled" && super.scheduled !== void 0) {
        const controller = new __Facade_ScheduledController__(
          Date.now(),
          init.cron ?? "",
          () => {
          }
        );
        return super.scheduled(controller);
      }
    };
    fetch(request) {
      return __facade_invoke__(
        request,
        this.env,
        this.ctx,
        this.#dispatcher,
        this.#fetchDispatcher
      );
    }
  };
}
__name(wrapWorkerEntrypoint, "wrapWorkerEntrypoint");
var WRAPPED_ENTRY;
if (typeof middleware_insertion_facade_default === "object") {
  WRAPPED_ENTRY = wrapExportedHandler(middleware_insertion_facade_default);
} else if (typeof middleware_insertion_facade_default === "function") {
  WRAPPED_ENTRY = wrapWorkerEntrypoint(middleware_insertion_facade_default);
}
var middleware_loader_entry_default = WRAPPED_ENTRY;
export {
  __INTERNAL_WRANGLER_MIDDLEWARE__,
  middleware_loader_entry_default as default
};
/*! Bundled license information:

mongoose/dist/browser.umd.js:
  (*! For license information please see browser.umd.js.LICENSE.txt *)
*/
//# sourceMappingURL=index.js.map
